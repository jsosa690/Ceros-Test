!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=466)}([function(t,e,n){"use strict";(function(t,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",w="[object Symbol]",T="[object WeakMap]",S="[object ArrayBuffer]",O="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",x="[object Int32Array]",I="[object Uint8Array]",k="[object Uint16Array]",M="[object Uint32Array]",R=/&(?:amp|lt|gt|quot|#39);/g,N=/[&<>"']/g,D=RegExp(R.source),L=RegExp(N.source),j=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/[\\^$.*+?()[\]{}|]/g,U=RegExp(B.source),H=/^\s+/,G=/\s/,W=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,z=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Y=/\\(\\)?/g,K=/\w*$/,X=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Z=/^\[object .+?Constructor\]$/,Q=/^0o[0-7]+$/i,tt=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",it="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rt="[\\ud800-\\udfff]",ot="["+it+"]",at="["+nt+"]",st="\\d+",ut="[\\u2700-\\u27bf]",lt="[a-z\\xdf-\\xf6\\xf8-\\xff]",ct="[^\\ud800-\\udfff"+it+st+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",dt="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",gt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",mt="(?:"+lt+"|"+ct+")",vt="(?:"+gt+"|"+ct+")",yt="(?:"+at+"|"+dt+")"+"?",_t="[\\ufe0e\\ufe0f]?"+yt+("(?:\\u200d(?:"+[ft,ht,pt].join("|")+")[\\ufe0e\\ufe0f]?"+yt+")*"),bt="(?:"+[ut,ht,pt].join("|")+")"+_t,wt="(?:"+[ft+at+"?",at,ht,pt,rt].join("|")+")",Tt=RegExp("['’]","g"),St=RegExp(at,"g"),Ot=RegExp(dt+"(?="+dt+")|"+wt+_t,"g"),Et=RegExp([gt+"?"+lt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ot,gt,"$"].join("|")+")",vt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ot,gt+mt,"$"].join("|")+")",gt+"?"+mt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",gt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",st,bt].join("|"),"g"),Pt=RegExp("[\\u200d\\ud800-\\udfff"+nt+"\\ufe0e\\ufe0f]"),Ct=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,At=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt={};xt[E]=xt[P]=xt[C]=xt[A]=xt[x]=xt[I]=xt["[object Uint8ClampedArray]"]=xt[k]=xt[M]=!0,xt[u]=xt[l]=xt[S]=xt[c]=xt[O]=xt[d]=xt[f]=xt[h]=xt[g]=xt[m]=xt[v]=xt[y]=xt[_]=xt[b]=xt[T]=!1;var It={};It[u]=It[l]=It[S]=It[O]=It[c]=It[d]=It[E]=It[P]=It[C]=It[A]=It[x]=It[g]=It[m]=It[v]=It[y]=It[_]=It[b]=It[w]=It[I]=It["[object Uint8ClampedArray]"]=It[k]=It[M]=!0,It[f]=It[h]=It[T]=!1;var kt=parseFloat,Mt=parseInt,Rt="object"==typeof t&&t&&t.Object===Object&&t,Nt="object"==typeof self&&self&&self.Object===Object&&self,Dt=Rt||Nt||Function("return this")(),Lt=e&&!e.nodeType&&e,jt=Lt&&"object"==typeof i&&i&&!i.nodeType&&i,Ft=jt&&jt.exports===Lt,Vt=Ft&&Rt.process,Bt=function(){try{var t=jt&&jt.require&&jt.require("util").types;return t||Vt&&Vt.binding&&Vt.binding("util")}catch(t){}}(),Ut=Bt&&Bt.isArrayBuffer,Ht=Bt&&Bt.isDate,Gt=Bt&&Bt.isMap,Wt=Bt&&Bt.isRegExp,zt=Bt&&Bt.isSet,$t=Bt&&Bt.isTypedArray;function qt(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Yt(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Kt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Xt(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Jt(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Zt(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Qt(t,e){return!!(null==t?0:t.length)&&le(t,e,0)>-1}function te(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ee(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function ne(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ie(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function re(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var ae=he("length");function se(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function ue(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function le(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ue(t,de,n)}function ce(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function de(t){return t!=t}function fe(t,e){var n=null==t?0:t.length;return n?me(t,e)/n:NaN}function he(t){return function(e){return null==e?void 0:e[t]}}function pe(t){return function(e){return null==t?void 0:t[e]}}function ge(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function me(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function ve(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function ye(t){return t?t.slice(0,De(t)+1).replace(H,""):t}function _e(t){return function(e){return t(e)}}function be(t,e){return ee(e,(function(e){return t[e]}))}function we(t,e){return t.has(e)}function Te(t,e){for(var n=-1,i=t.length;++n<i&&le(e,t[n],0)>-1;);return n}function Se(t,e){for(var n=t.length;n--&&le(e,t[n],0)>-1;);return n}function Oe(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ee=pe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Pe=pe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ce(t){return Pt.test(t)}function Ae(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function xe(t,e){return function(n){return t(e(n))}}function Ie(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Me(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Re(t){return Ce(t)?function(t){var e=Ot.lastIndex=0;for(;Ot.test(t);)++e;return e}(t):ae(t)}function Ne(t){return Ce(t)?function(t){return t.match(Ot)||[]}(t):function(t){return t.split("")}(t)}function De(t){for(var e=t.length;e--&&G.test(t.charAt(e)););return e}var Le=pe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var je=function t(e){var n,i=(e=null==e?Dt:je.defaults(Dt.Object(),e,je.pick(Dt,At))).Array,r=e.Date,G=e.Error,nt=e.Function,it=e.Math,rt=e.Object,ot=e.RegExp,at=e.String,st=e.TypeError,ut=i.prototype,lt=nt.prototype,ct=rt.prototype,dt=e["__core-js_shared__"],ft=lt.toString,ht=ct.hasOwnProperty,pt=0,gt=(n=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",mt=ct.toString,vt=ft.call(rt),yt=Dt._,_t=ot("^"+ft.call(ht).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bt=Ft?e.Buffer:void 0,wt=e.Symbol,Ot=e.Uint8Array,Pt=bt?bt.allocUnsafe:void 0,Rt=xe(rt.getPrototypeOf,rt),Nt=rt.create,Lt=ct.propertyIsEnumerable,jt=ut.splice,Vt=wt?wt.isConcatSpreadable:void 0,Bt=wt?wt.iterator:void 0,ae=wt?wt.toStringTag:void 0,pe=function(){try{var t=Ur(rt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Fe=e.clearTimeout!==Dt.clearTimeout&&e.clearTimeout,Ve=r&&r.now!==Dt.Date.now&&r.now,Be=e.setTimeout!==Dt.setTimeout&&e.setTimeout,Ue=it.ceil,He=it.floor,Ge=rt.getOwnPropertySymbols,We=bt?bt.isBuffer:void 0,ze=e.isFinite,$e=ut.join,qe=xe(rt.keys,rt),Ye=it.max,Ke=it.min,Xe=r.now,Je=e.parseInt,Ze=it.random,Qe=ut.reverse,tn=Ur(e,"DataView"),en=Ur(e,"Map"),nn=Ur(e,"Promise"),rn=Ur(e,"Set"),on=Ur(e,"WeakMap"),an=Ur(rt,"create"),sn=on&&new on,un={},ln=go(tn),cn=go(en),dn=go(nn),fn=go(rn),hn=go(on),pn=wt?wt.prototype:void 0,gn=pn?pn.valueOf:void 0,mn=pn?pn.toString:void 0;function vn(t){if(Ma(t)&&!wa(t)&&!(t instanceof wn)){if(t instanceof bn)return t;if(ht.call(t,"__wrapped__"))return mo(t)}return new bn(t)}var yn=function(){function t(){}return function(e){if(!ka(e))return{};if(Nt)return Nt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function _n(){}function bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Tn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function On(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function En(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new On;++e<n;)this.add(t[e])}function Pn(t){var e=this.__data__=new Sn(t);this.size=e.size}function Cn(t,e){var n=wa(t),i=!n&&ba(t),r=!n&&!i&&Ea(t),o=!n&&!i&&!r&&Ba(t),a=n||i||r||o,s=a?ve(t.length,at):[],u=s.length;for(var l in t)!e&&!ht.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yr(l,u))||s.push(l);return s}function An(t){var e=t.length;return e?t[Ei(0,e-1)]:void 0}function xn(t,e){return fo(ar(t),Fn(e,0,t.length))}function In(t){return fo(ar(t))}function kn(t,e,n){(void 0!==n&&!va(t[e],n)||void 0===n&&!(e in t))&&Ln(t,e,n)}function Mn(t,e,n){var i=t[e];ht.call(t,e)&&va(i,n)&&(void 0!==n||e in t)||Ln(t,e,n)}function Rn(t,e){for(var n=t.length;n--;)if(va(t[n][0],e))return n;return-1}function Nn(t,e,n,i){return Gn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function Dn(t,e){return t&&sr(e,us(e),t)}function Ln(t,e,n){"__proto__"==e&&pe?pe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:is(t,e[n]);return o}function Fn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Vn(t,e,n,i,r,o){var a,s=1&e,l=2&e,f=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!ka(t))return t;var T=wa(t);if(T){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&ht.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return ar(t,a)}else{var R=Wr(t),N=R==h||R==p;if(Ea(t))return tr(t,s);if(R==v||R==u||N&&!r){if(a=l||N?{}:$r(t),!s)return l?function(t,e){return sr(t,Gr(t),e)}(t,function(t,e){return t&&sr(e,ls(e),t)}(a,t)):function(t,e){return sr(t,Hr(t),e)}(t,Dn(a,t))}else{if(!It[R])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case S:return er(t);case c:case d:return new i(+t);case O:return function(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case E:case P:case C:case A:case x:case I:case"[object Uint8ClampedArray]":case k:case M:return nr(t,n);case g:return new i;case m:case b:return new i(t);case y:return function(t){var e=new t.constructor(t.source,K.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new i;case w:return r=t,gn?rt(gn.call(r)):{}}var r}(t,R,s)}}o||(o=new Pn);var D=o.get(t);if(D)return D;o.set(t,a),ja(t)?t.forEach((function(i){a.add(Vn(i,e,n,i,t,o))})):Ra(t)&&t.forEach((function(i,r){a.set(r,Vn(i,e,n,r,t,o))}));var L=T?void 0:(f?l?Nr:Rr:l?ls:us)(t);return Kt(L||t,(function(i,r){L&&(i=t[r=i]),Mn(a,r,Vn(i,e,n,r,t,o))})),a}function Bn(t,e,n){var i=n.length;if(null==t)return!i;for(t=rt(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function Un(t,e,n){if("function"!=typeof t)throw new st(o);return so((function(){t.apply(void 0,n)}),e)}function Hn(t,e,n,i){var r=-1,o=Qt,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ee(e,_e(n))),i?(o=te,a=!1):e.length>=200&&(o=we,a=!1,e=new En(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var f=l;f--;)if(e[f]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u}vn.prototype=_n.prototype,vn.prototype.constructor=vn,bn.prototype=yn(_n.prototype),bn.prototype.constructor=bn,wn.prototype=yn(_n.prototype),wn.prototype.constructor=wn,Tn.prototype.clear=function(){this.__data__=an?an(null):{},this.size=0},Tn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tn.prototype.get=function(t){var e=this.__data__;if(an){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ht.call(e,t)?e[t]:void 0},Tn.prototype.has=function(t){var e=this.__data__;return an?void 0!==e[t]:ht.call(e,t)},Tn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&void 0===e?"__lodash_hash_undefined__":e,this},Sn.prototype.clear=function(){this.__data__=[],this.size=0},Sn.prototype.delete=function(t){var e=this.__data__,n=Rn(e,t);return!(n<0)&&(n==e.length-1?e.pop():jt.call(e,n,1),--this.size,!0)},Sn.prototype.get=function(t){var e=this.__data__,n=Rn(e,t);return n<0?void 0:e[n][1]},Sn.prototype.has=function(t){return Rn(this.__data__,t)>-1},Sn.prototype.set=function(t,e){var n=this.__data__,i=Rn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},On.prototype.clear=function(){this.size=0,this.__data__={hash:new Tn,map:new(en||Sn),string:new Tn}},On.prototype.delete=function(t){var e=Vr(this,t).delete(t);return this.size-=e?1:0,e},On.prototype.get=function(t){return Vr(this,t).get(t)},On.prototype.has=function(t){return Vr(this,t).has(t)},On.prototype.set=function(t,e){var n=Vr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},En.prototype.add=En.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},En.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.clear=function(){this.__data__=new Sn,this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pn.prototype.get=function(t){return this.__data__.get(t)},Pn.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Sn){var i=n.__data__;if(!en||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new On(i)}return n.set(t,e),this.size=n.size,this};var Gn=cr(Jn),Wn=cr(Zn,!0);function zn(t,e){var n=!0;return Gn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function $n(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!Va(a):n(a,s)))var s=a,u=o}return u}function qn(t,e){var n=[];return Gn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Yn(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=qr),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?Yn(s,e-1,n,i,r):ne(r,s):i||(r[r.length]=s)}return r}var Kn=dr(),Xn=dr(!0);function Jn(t,e){return t&&Kn(t,e,us)}function Zn(t,e){return t&&Xn(t,e,us)}function Qn(t,e){return Zt(e,(function(e){return Aa(t[e])}))}function ti(t,e){for(var n=0,i=(e=Xi(e,t)).length;null!=t&&n<i;)t=t[po(e[n++])];return n&&n==i?t:void 0}function ei(t,e,n){var i=e(t);return wa(t)?i:ne(i,n(t))}function ni(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ae&&ae in rt(t)?function(t){var e=ht.call(t,ae),n=t[ae];try{t[ae]=void 0;var i=!0}catch(t){}var r=mt.call(t);i&&(e?t[ae]=n:delete t[ae]);return r}(t):function(t){return mt.call(t)}(t)}function ii(t,e){return t>e}function ri(t,e){return null!=t&&ht.call(t,e)}function oi(t,e){return null!=t&&e in rt(t)}function ai(t,e,n){for(var r=n?te:Qt,o=t[0].length,a=t.length,s=a,u=i(a),l=1/0,c=[];s--;){var d=t[s];s&&e&&(d=ee(d,_e(e))),l=Ke(d.length,l),u[s]=!n&&(e||o>=120&&d.length>=120)?new En(s&&d):void 0}d=t[0];var f=-1,h=u[0];t:for(;++f<o&&c.length<l;){var p=d[f],g=e?e(p):p;if(p=n||0!==p?p:0,!(h?we(h,g):r(c,g,n))){for(s=a;--s;){var m=u[s];if(!(m?we(m,g):r(t[s],g,n)))continue t}h&&h.push(g),c.push(p)}}return c}function si(t,e,n){var i=null==(t=io(t,e=Xi(e,t)))?t:t[po(Co(e))];return null==i?void 0:qt(i,t,n)}function ui(t){return Ma(t)&&ni(t)==u}function li(t,e,n,i,r){return t===e||(null==t||null==e||!Ma(t)&&!Ma(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=wa(t),s=wa(e),h=a?l:Wr(t),p=s?l:Wr(e),T=(h=h==u?v:h)==v,E=(p=p==u?v:p)==v,P=h==p;if(P&&Ea(t)){if(!Ea(e))return!1;a=!0,T=!1}if(P&&!T)return o||(o=new Pn),a||Ba(t)?kr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new Ot(t),new Ot(e)));case c:case d:case m:return va(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var s=Ae;case _:var u=1&i;if(s||(s=ke),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var h=kr(s(t),s(e),i,r,o,a);return a.delete(t),h;case w:if(gn)return gn.call(t)==gn.call(e)}return!1}(t,e,h,n,i,r,o);if(!(1&n)){var C=T&&ht.call(t,"__wrapped__"),A=E&&ht.call(e,"__wrapped__");if(C||A){var x=C?t.value():t,I=A?e.value():e;return o||(o=new Pn),r(x,I,n,i,o)}}if(!P)return!1;return o||(o=new Pn),function(t,e,n,i,r,o){var a=1&n,s=Rr(t),u=s.length,l=Rr(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var d=s[c];if(!(a?d in e:ht.call(e,d)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var p=!0;o.set(t,e),o.set(e,t);var g=a;for(;++c<u;){d=s[c];var m=t[d],v=e[d];if(i)var y=a?i(v,m,d,e,t,o):i(m,v,d,t,e,o);if(!(void 0===y?m===v||r(m,v,n,i,o):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,i,r,o)}(t,e,n,i,li,r))}function ci(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=rt(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new Pn;if(i)var f=i(l,c,u,t,e,d);if(!(void 0===f?li(c,l,3,i,d):f))return!1}}return!0}function di(t){return!(!ka(t)||(e=t,gt&&gt in e))&&(Aa(t)?_t:Z).test(go(t));var e}function fi(t){return"function"==typeof t?t:null==t?Ns:"object"==typeof t?wa(t)?yi(t[0],t[1]):vi(t):Gs(t)}function hi(t){if(!Qr(t))return qe(t);var e=[];for(var n in rt(t))ht.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pi(t){if(!ka(t))return function(t){var e=[];if(null!=t)for(var n in rt(t))e.push(n);return e}(t);var e=Qr(t),n=[];for(var i in t)("constructor"!=i||!e&&ht.call(t,i))&&n.push(i);return n}function gi(t,e){return t<e}function mi(t,e){var n=-1,r=Sa(t)?i(t.length):[];return Gn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function vi(t){var e=Br(t);return 1==e.length&&e[0][2]?eo(e[0][0],e[0][1]):function(n){return n===t||ci(n,t,e)}}function yi(t,e){return Xr(t)&&to(e)?eo(po(t),e):function(n){var i=is(n,t);return void 0===i&&i===e?rs(n,t):li(e,i,3)}}function _i(t,e,n,i,r){t!==e&&Kn(e,(function(o,a){if(r||(r=new Pn),ka(o))!function(t,e,n,i,r,o,a){var s=oo(t,n),u=oo(e,n),l=a.get(u);if(l)return void kn(t,n,l);var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var f=wa(u),h=!f&&Ea(u),p=!f&&!h&&Ba(u);c=u,f||h||p?wa(s)?c=s:Oa(s)?c=ar(s):h?(d=!1,c=tr(u,!0)):p?(d=!1,c=nr(u,!0)):c=[]:Da(u)||ba(u)?(c=s,ba(s)?c=Ya(s):ka(s)&&!Aa(s)||(c=$r(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u));kn(t,n,c)}(t,e,a,n,_i,i,r);else{var s=i?i(oo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),kn(t,a,s)}}),ls)}function bi(t,e){var n=t.length;if(n)return Yr(e+=e<0?n:0,n)?t[e]:void 0}function wi(t,e,n){e=e.length?ee(e,(function(t){return wa(t)?function(e){return ti(e,1===t.length?t[0]:t)}:t})):[Ns];var i=-1;return e=ee(e,_e(Fr())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(mi(t,(function(t,n,r){return{criteria:ee(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var u=ir(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,n)}))}function Ti(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ti(t,a);n(s,a)&&Ii(o,Xi(a,t),s)}return o}function Si(t,e,n,i){var r=i?ce:le,o=-1,a=e.length,s=t;for(t===e&&(e=ar(e)),n&&(s=ee(t,_e(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&jt.call(s,u,1),jt.call(t,u,1);return t}function Oi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Yr(r)?jt.call(t,r,1):Hi(t,r)}}return t}function Ei(t,e){return t+He(Ze()*(e-t+1))}function Pi(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=He(e/2))&&(t+=t)}while(e);return n}function Ci(t,e){return uo(no(t,e,Ns),t+"")}function Ai(t){return An(vs(t))}function xi(t,e){var n=vs(t);return fo(n,Fn(e,0,n.length))}function Ii(t,e,n,i){if(!ka(t))return t;for(var r=-1,o=(e=Xi(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=po(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=ka(c)?c:Yr(e[r+1])?[]:{})}Mn(s,u,l),s=s[u]}return t}var ki=sn?function(t,e){return sn.set(t,e),t}:Ns,Mi=pe?function(t,e){return pe(t,"toString",{configurable:!0,enumerable:!1,value:ks(e),writable:!0})}:Ns;function Ri(t){return fo(vs(t))}function Ni(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Di(t,e){var n;return Gn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Li(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Va(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return ji(t,e,Ns,n)}function ji(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,u=Va(e),l=void 0===e;r<o;){var c=He((r+o)/2),d=n(t[c]),f=void 0!==d,h=null===d,p=d==d,g=Va(d);if(a)var m=i||p;else m=l?p&&(i||f):s?p&&f&&(i||!h):u?p&&f&&!h&&(i||!g):!h&&!g&&(i?d<=e:d<e);m?r=c+1:o=c}return Ke(o,4294967294)}function Fi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function Vi(t){return"number"==typeof t?t:Va(t)?NaN:+t}function Bi(t){if("string"==typeof t)return t;if(wa(t))return ee(t,Bi)+"";if(Va(t))return mn?mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ui(t,e,n){var i=-1,r=Qt,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=te;else if(o>=200){var l=e?null:Pr(t);if(l)return ke(l);a=!1,r=we,u=new En}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Hi(t,e){return null==(t=io(t,e=Xi(e,t)))||delete t[po(Co(e))]}function Gi(t,e,n,i){return Ii(t,e,n(ti(t,e)),i)}function Wi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ni(t,i?0:o,i?o+1:r):Ni(t,i?o+1:0,i?r:o)}function zi(t,e){var n=t;return n instanceof wn&&(n=n.value()),ie(e,(function(t,e){return e.func.apply(e.thisArg,ne([t],e.args))}),n)}function $i(t,e,n){var r=t.length;if(r<2)return r?Ui(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=Hn(a[o]||s,t[u],e,n));return Ui(Yn(a,1),e,n)}function qi(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a}function Yi(t){return Oa(t)?t:[]}function Ki(t){return"function"==typeof t?t:Ns}function Xi(t,e){return wa(t)?t:Xr(t,e)?[t]:ho(Ka(t))}var Ji=Ci;function Zi(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Ni(t,e,n)}var Qi=Fe||function(t){return Dt.clearTimeout(t)};function tr(t,e){if(e)return t.slice();var n=t.length,i=Pt?Pt(n):new t.constructor(n);return t.copy(i),i}function er(t){var e=new t.constructor(t.byteLength);return new Ot(e).set(new Ot(t)),e}function nr(t,e){var n=e?er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ir(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Va(t),a=void 0!==e,s=null===e,u=e==e,l=Va(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||i&&a&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!u)return-1}return 0}function rr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=Ye(a-s,0),d=i(l+c),f=!r;++u<l;)d[u]=e[u];for(;++o<s;)(f||o<a)&&(d[n[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function or(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,d=Ye(a-u,0),f=i(d+c),h=!r;++o<d;)f[o]=t[o];for(var p=o;++l<c;)f[p+l]=e[l];for(;++s<u;)(h||o<a)&&(f[p+n[s]]=t[o++]);return f}function ar(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function sr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=i?i(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),r?Ln(n,s,u):Mn(n,s,u)}return n}function ur(t,e){return function(n,i){var r=wa(n)?Yt:Nn,o=e?e():{};return r(n,t,Fr(i,2),o)}}function lr(t){return Ci((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&Kr(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=rt(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function cr(t,e){return function(n,i){if(null==n)return n;if(!Sa(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=rt(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function dr(t){return function(e,n,i){for(var r=-1,o=rt(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}}function fr(t){return function(e){var n=Ce(e=Ka(e))?Ne(e):void 0,i=n?n[0]:e.charAt(0),r=n?Zi(n,1).join(""):e.slice(1);return i[t]()+r}}function hr(t){return function(e){return ie(As(bs(e).replace(Tt,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=yn(t.prototype),i=t.apply(n,e);return ka(i)?i:n}}function gr(t){return function(e,n,i){var r=rt(e);if(!Sa(e)){var o=Fr(n,3);e=us(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function mr(t){return Mr((function(e){var n=e.length,i=n,r=bn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new st(o);if(r&&!s&&"wrapper"==Lr(a))var s=new bn([],!0)}for(i=s?i:n;++i<n;){var u=Lr(a=e[i]),l="wrapper"==u?Dr(a):void 0;s=l&&Jr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Lr(l[0])].apply(s,l[3]):1==a.length&&Jr(a)?s[u]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&wa(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function vr(t,e,n,r,o,a,s,u,l,c){var d=128&e,f=1&e,h=2&e,p=24&e,g=512&e,m=h?void 0:pr(t);return function v(){for(var y=arguments.length,_=i(y),b=y;b--;)_[b]=arguments[b];if(p)var w=jr(v),T=Oe(_,w);if(r&&(_=rr(_,r,o,p)),a&&(_=or(_,a,s,p)),y-=T,p&&y<c){var S=Ie(_,w);return Or(t,e,vr,v.placeholder,n,_,S,u,l,c-y)}var O=f?n:this,E=h?O[t]:t;return y=_.length,u?_=ro(_,u):g&&y>1&&_.reverse(),d&&l<y&&(_.length=l),this&&this!==Dt&&this instanceof v&&(E=m||pr(E)),E.apply(O,_)}}function yr(t,e){return function(n,i){return function(t,e,n,i){return Jn(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function _r(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Bi(n),i=Bi(i)):(n=Vi(n),i=Vi(i)),r=t(n,i)}return r}}function br(t){return Mr((function(e){return e=ee(e,_e(Fr())),Ci((function(n){var i=this;return t(e,(function(t){return qt(t,i,n)}))}))}))}function wr(t,e){var n=(e=void 0===e?" ":Bi(e)).length;if(n<2)return n?Pi(e,t):e;var i=Pi(e,Ue(t/Re(e)));return Ce(e)?Zi(Ne(i),0,t).join(""):i.slice(0,t)}function Tr(t){return function(e,n,r){return r&&"number"!=typeof r&&Kr(e,n,r)&&(n=r=void 0),e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n,r){for(var o=-1,a=Ye(Ue((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:Wa(r),t)}}function Sr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=qa(e),n=qa(n)),t(e,n)}}function Or(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],f=n.apply(void 0,d);return Jr(t)&&ao(f,d),f.placeholder=i,lo(f,t,e)}function Er(t){var e=it[t];return function(t,n){if(t=qa(t),(n=null==n?0:Ke(za(n),292))&&ze(t)){var i=(Ka(t)+"e").split("e");return+((i=(Ka(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Pr=rn&&1/ke(new rn([,-0]))[1]==1/0?function(t){return new rn(t)}:Vs;function Cr(t){return function(e){var n=Wr(e);return n==g?Ae(e):n==_?Me(e):function(t,e){return ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ar(t,e,n,r,s,u,l,c){var d=2&e;if(!d&&"function"!=typeof t)throw new st(o);var f=r?r.length:0;if(f||(e&=-97,r=s=void 0),l=void 0===l?l:Ye(za(l),0),c=void 0===c?c:za(c),f-=s?s.length:0,64&e){var h=r,p=s;r=s=void 0}var g=d?void 0:Dr(t),m=[t,e,n,r,s,h,p,u,l,c];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rr(l,u,e[4]):u,t[4]=l?Ie(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?or(l,u,e[6]):u,t[6]=l?Ie(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&i&&(t[8]=null==t[8]?e[8]:Ke(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],n=m[2],r=m[3],s=m[4],!(c=m[9]=void 0===m[9]?d?0:t.length:Ye(m[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=pr(t);return function o(){for(var a=arguments.length,s=i(a),u=a,l=jr(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:Ie(s,l);if((a-=c.length)<n)return Or(t,e,vr,o.placeholder,void 0,s,c,void 0,void 0,n-a);var d=this&&this!==Dt&&this instanceof o?r:t;return qt(d,this,s)}}(t,e,c):32!=e&&33!=e||s.length?vr.apply(void 0,m):function(t,e,n,r){var o=1&e,a=pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=i(c+u),f=this&&this!==Dt&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return qt(f,o?n:this,d)}}(t,e,n,r);else var v=function(t,e,n){var i=1&e,r=pr(t);return function e(){var o=this&&this!==Dt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return lo((g?ki:ao)(v,m),t,e)}function xr(t,e,n,i,r,o){return ka(t)&&ka(e)&&(o.set(e,t),_i(t,e,void 0,xr,o),o.delete(e)),t}function Ir(t){return Da(t)?void 0:t}function kr(t,e,n,i,r,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,f=!0,h=2&n?new En:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],g=e[d];if(i)var m=a?i(g,p,d,e,t,o):i(p,g,d,t,e,o);if(void 0!==m){if(m)continue;f=!1;break}if(h){if(!oe(e,(function(t,e){if(!we(h,e)&&(p===t||r(p,t,n,i,o)))return h.push(e)}))){f=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function Mr(t){return uo(no(t,void 0,To),t+"")}function Rr(t){return ei(t,us,Hr)}function Nr(t){return ei(t,ls,Gr)}var Dr=sn?function(t){return sn.get(t)}:Vs;function Lr(t){for(var e=t.name+"",n=un[e],i=ht.call(un,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function jr(t){return(ht.call(vn,"placeholder")?vn:t).placeholder}function Fr(){var t=vn.iteratee||Ds;return t=t===Ds?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function Vr(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Br(t){for(var e=us(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,to(r)]}return e}function Ur(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return di(n)?n:void 0}var Hr=Ge?function(t){return null==t?[]:(t=rt(t),Zt(Ge(t),(function(e){return Lt.call(t,e)})))}:$s,Gr=Ge?function(t){for(var e=[];t;)ne(e,Hr(t)),t=Rt(t);return e}:$s,Wr=ni;function zr(t,e,n){for(var i=-1,r=(e=Xi(e,t)).length,o=!1;++i<r;){var a=po(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Ia(r)&&Yr(a,r)&&(wa(t)||ba(t))}function $r(t){return"function"!=typeof t.constructor||Qr(t)?{}:yn(Rt(t))}function qr(t){return wa(t)||ba(t)||!!(Vt&&t&&t[Vt])}function Yr(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&tt.test(t))&&t>-1&&t%1==0&&t<e}function Kr(t,e,n){if(!ka(n))return!1;var i=typeof e;return!!("number"==i?Sa(n)&&Yr(e,n.length):"string"==i&&e in n)&&va(n[e],t)}function Xr(t,e){if(wa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Va(t))||(F.test(t)||!j.test(t)||null!=e&&t in rt(e))}function Jr(t){var e=Lr(t),n=vn[e];if("function"!=typeof n||!(e in wn.prototype))return!1;if(t===n)return!0;var i=Dr(n);return!!i&&t===i[0]}(tn&&Wr(new tn(new ArrayBuffer(1)))!=O||en&&Wr(new en)!=g||nn&&"[object Promise]"!=Wr(nn.resolve())||rn&&Wr(new rn)!=_||on&&Wr(new on)!=T)&&(Wr=function(t){var e=ni(t),n=e==v?t.constructor:void 0,i=n?go(n):"";if(i)switch(i){case ln:return O;case cn:return g;case dn:return"[object Promise]";case fn:return _;case hn:return T}return e});var Zr=dt?Aa:qs;function Qr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ct)}function to(t){return t==t&&!ka(t)}function eo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in rt(n)))}}function no(t,e,n){return e=Ye(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Ye(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=i(e+1);++o<e;)u[o]=r[o];return u[e]=n(s),qt(t,this,u)}}function io(t,e){return e.length<2?t:ti(t,Ni(e,0,-1))}function ro(t,e){for(var n=t.length,i=Ke(e.length,n),r=ar(t);i--;){var o=e[i];t[i]=Yr(o,n)?r[o]:void 0}return t}function oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ao=co(ki),so=Be||function(t,e){return Dt.setTimeout(t,e)},uo=co(Mi);function lo(t,e,n){var i=e+"";return uo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(W,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Kt(s,(function(n){var i="_."+n[0];e&n[1]&&!Qt(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(z);return e?e[1].split($):[]}(i),n)))}function co(t){var e=0,n=0;return function(){var i=Xe(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function fo(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ei(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var ho=function(t){var e=da(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,(function(t,n,i,r){e.push(i?r.replace(Y,"$1"):n||t)})),e}));function po(t){if("string"==typeof t||Va(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function go(t){if(null!=t){try{return ft.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mo(t){if(t instanceof wn)return t.clone();var e=new bn(t.__wrapped__,t.__chain__);return e.__actions__=ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vo=Ci((function(t,e){return Oa(t)?Hn(t,Yn(e,1,Oa,!0)):[]})),yo=Ci((function(t,e){var n=Co(e);return Oa(n)&&(n=void 0),Oa(t)?Hn(t,Yn(e,1,Oa,!0),Fr(n,2)):[]})),_o=Ci((function(t,e){var n=Co(e);return Oa(n)&&(n=void 0),Oa(t)?Hn(t,Yn(e,1,Oa,!0),void 0,n):[]}));function bo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=Ye(i+r,0)),ue(t,Fr(e,3),r)}function wo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=za(n),r=n<0?Ye(i+r,0):Ke(r,i-1)),ue(t,Fr(e,3),r,!0)}function To(t){return(null==t?0:t.length)?Yn(t,1):[]}function So(t){return t&&t.length?t[0]:void 0}var Oo=Ci((function(t){var e=ee(t,Yi);return e.length&&e[0]===t[0]?ai(e):[]})),Eo=Ci((function(t){var e=Co(t),n=ee(t,Yi);return e===Co(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?ai(n,Fr(e,2)):[]})),Po=Ci((function(t){var e=Co(t),n=ee(t,Yi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?ai(n,void 0,e):[]}));function Co(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Ao=Ci(xo);function xo(t,e){return t&&t.length&&e&&e.length?Si(t,e):t}var Io=Mr((function(t,e){var n=null==t?0:t.length,i=jn(t,e);return Oi(t,ee(e,(function(t){return Yr(t,n)?+t:t})).sort(ir)),i}));function ko(t){return null==t?t:Qe.call(t)}var Mo=Ci((function(t){return Ui(Yn(t,1,Oa,!0))})),Ro=Ci((function(t){var e=Co(t);return Oa(e)&&(e=void 0),Ui(Yn(t,1,Oa,!0),Fr(e,2))})),No=Ci((function(t){var e=Co(t);return e="function"==typeof e?e:void 0,Ui(Yn(t,1,Oa,!0),void 0,e)}));function Do(t){if(!t||!t.length)return[];var e=0;return t=Zt(t,(function(t){if(Oa(t))return e=Ye(t.length,e),!0})),ve(e,(function(e){return ee(t,he(e))}))}function Lo(t,e){if(!t||!t.length)return[];var n=Do(t);return null==e?n:ee(n,(function(t){return qt(e,void 0,t)}))}var jo=Ci((function(t,e){return Oa(t)?Hn(t,e):[]})),Fo=Ci((function(t){return $i(Zt(t,Oa))})),Vo=Ci((function(t){var e=Co(t);return Oa(e)&&(e=void 0),$i(Zt(t,Oa),Fr(e,2))})),Bo=Ci((function(t){var e=Co(t);return e="function"==typeof e?e:void 0,$i(Zt(t,Oa),void 0,e)})),Uo=Ci(Do);var Ho=Ci((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Lo(t,n)}));function Go(t){var e=vn(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var zo=Mr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof wn&&Yr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:Wo,args:[r],thisArg:void 0}),new bn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var $o=ur((function(t,e,n){ht.call(t,n)?++t[n]:Ln(t,n,1)}));var qo=gr(bo),Yo=gr(wo);function Ko(t,e){return(wa(t)?Kt:Gn)(t,Fr(e,3))}function Xo(t,e){return(wa(t)?Xt:Wn)(t,Fr(e,3))}var Jo=ur((function(t,e,n){ht.call(t,n)?t[n].push(e):Ln(t,n,[e])}));var Zo=Ci((function(t,e,n){var r=-1,o="function"==typeof e,a=Sa(t)?i(t.length):[];return Gn(t,(function(t){a[++r]=o?qt(e,t,n):si(t,e,n)})),a})),Qo=ur((function(t,e,n){Ln(t,n,e)}));function ta(t,e){return(wa(t)?ee:mi)(t,Fr(e,3))}var ea=ur((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var na=Ci((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Kr(t,e[0],e[1])?e=[]:n>2&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),wi(t,Yn(e,1),[])})),ia=Ve||function(){return Dt.Date.now()};function ra(t,e,n){return e=n?void 0:e,Ar(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oa(t,e){var n;if("function"!=typeof e)throw new st(o);return t=za(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var aa=Ci((function(t,e,n){var i=1;if(n.length){var r=Ie(n,jr(aa));i|=32}return Ar(t,i,e,n,r)})),sa=Ci((function(t,e,n){var i=3;if(n.length){var r=Ie(n,jr(sa));i|=32}return Ar(e,i,t,n,r)}));function ua(t,e,n){var i,r,a,s,u,l,c=0,d=!1,f=!1,h=!0;if("function"!=typeof t)throw new st(o);function p(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,u=so(v,e),d?p(t):s}function m(t){var n=t-l;return void 0===l||n>=e||n<0||f&&t-c>=a}function v(){var t=ia();if(m(t))return y(t);u=so(v,function(t){var n=e-(t-l);return f?Ke(n,a-(t-c)):n}(t))}function y(t){return u=void 0,h&&i?p(t):(i=r=void 0,s)}function _(){var t=ia(),n=m(t);if(i=arguments,r=this,l=t,n){if(void 0===u)return g(l);if(f)return Qi(u),u=so(v,e),p(l)}return void 0===u&&(u=so(v,e)),s}return e=qa(e)||0,ka(n)&&(d=!!n.leading,a=(f="maxWait"in n)?Ye(qa(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==u&&Qi(u),c=0,i=l=r=u=void 0},_.flush=function(){return void 0===u?s:y(ia())},_}var la=Ci((function(t,e){return Un(t,1,e)})),ca=Ci((function(t,e,n){return Un(t,qa(e)||0,n)}));function da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new st(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(da.Cache||On),n}function fa(t){if("function"!=typeof t)throw new st(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}da.Cache=On;var ha=Ji((function(t,e){var n=(e=1==e.length&&wa(e[0])?ee(e[0],_e(Fr())):ee(Yn(e,1),_e(Fr()))).length;return Ci((function(i){for(var r=-1,o=Ke(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return qt(t,this,i)}))})),pa=Ci((function(t,e){return Ar(t,32,void 0,e,Ie(e,jr(pa)))})),ga=Ci((function(t,e){return Ar(t,64,void 0,e,Ie(e,jr(ga)))})),ma=Mr((function(t,e){return Ar(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var ya=Sr(ii),_a=Sr((function(t,e){return t>=e})),ba=ui(function(){return arguments}())?ui:function(t){return Ma(t)&&ht.call(t,"callee")&&!Lt.call(t,"callee")},wa=i.isArray,Ta=Ut?_e(Ut):function(t){return Ma(t)&&ni(t)==S};function Sa(t){return null!=t&&Ia(t.length)&&!Aa(t)}function Oa(t){return Ma(t)&&Sa(t)}var Ea=We||qs,Pa=Ht?_e(Ht):function(t){return Ma(t)&&ni(t)==d};function Ca(t){if(!Ma(t))return!1;var e=ni(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Da(t)}function Aa(t){if(!ka(t))return!1;var e=ni(t);return e==h||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function xa(t){return"number"==typeof t&&t==za(t)}function Ia(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ma(t){return null!=t&&"object"==typeof t}var Ra=Gt?_e(Gt):function(t){return Ma(t)&&Wr(t)==g};function Na(t){return"number"==typeof t||Ma(t)&&ni(t)==m}function Da(t){if(!Ma(t)||ni(t)!=v)return!1;var e=Rt(t);if(null===e)return!0;var n=ht.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ft.call(n)==vt}var La=Wt?_e(Wt):function(t){return Ma(t)&&ni(t)==y};var ja=zt?_e(zt):function(t){return Ma(t)&&Wr(t)==_};function Fa(t){return"string"==typeof t||!wa(t)&&Ma(t)&&ni(t)==b}function Va(t){return"symbol"==typeof t||Ma(t)&&ni(t)==w}var Ba=$t?_e($t):function(t){return Ma(t)&&Ia(t.length)&&!!xt[ni(t)]};var Ua=Sr(gi),Ha=Sr((function(t,e){return t<=e}));function Ga(t){if(!t)return[];if(Sa(t))return Fa(t)?Ne(t):ar(t);if(Bt&&t[Bt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Bt]());var e=Wr(t);return(e==g?Ae:e==_?ke:vs)(t)}function Wa(t){return t?(t=qa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function za(t){var e=Wa(t),n=e%1;return e==e?n?e-n:e:0}function $a(t){return t?Fn(za(t),0,4294967295):0}function qa(t){if("number"==typeof t)return t;if(Va(t))return NaN;if(ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ye(t);var n=J.test(t);return n||Q.test(t)?Mt(t.slice(2),n?2:8):X.test(t)?NaN:+t}function Ya(t){return sr(t,ls(t))}function Ka(t){return null==t?"":Bi(t)}var Xa=lr((function(t,e){if(Qr(e)||Sa(e))sr(e,us(e),t);else for(var n in e)ht.call(e,n)&&Mn(t,n,e[n])})),Ja=lr((function(t,e){sr(e,ls(e),t)})),Za=lr((function(t,e,n,i){sr(e,ls(e),t,i)})),Qa=lr((function(t,e,n,i){sr(e,us(e),t,i)})),ts=Mr(jn);var es=Ci((function(t,e){t=rt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Kr(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ls(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||va(c,ct[l])&&!ht.call(t,l))&&(t[l]=o[l])}return t})),ns=Ci((function(t){return t.push(void 0,xr),qt(ds,void 0,t)}));function is(t,e,n){var i=null==t?void 0:ti(t,e);return void 0===i?n:i}function rs(t,e){return null!=t&&zr(t,e,oi)}var os=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mt.call(e)),t[e]=n}),ks(Ns)),as=yr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mt.call(e)),ht.call(t,e)?t[e].push(n):t[e]=[n]}),Fr),ss=Ci(si);function us(t){return Sa(t)?Cn(t):hi(t)}function ls(t){return Sa(t)?Cn(t,!0):pi(t)}var cs=lr((function(t,e,n){_i(t,e,n)})),ds=lr((function(t,e,n,i){_i(t,e,n,i)})),fs=Mr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ee(e,(function(e){return e=Xi(e,t),i||(i=e.length>1),e})),sr(t,Nr(t),n),i&&(n=Vn(n,7,Ir));for(var r=e.length;r--;)Hi(n,e[r]);return n}));var hs=Mr((function(t,e){return null==t?{}:function(t,e){return Ti(t,e,(function(e,n){return rs(t,n)}))}(t,e)}));function ps(t,e){if(null==t)return{};var n=ee(Nr(t),(function(t){return[t]}));return e=Fr(e),Ti(t,n,(function(t,n){return e(t,n[0])}))}var gs=Cr(us),ms=Cr(ls);function vs(t){return null==t?[]:be(t,us(t))}var ys=hr((function(t,e,n){return e=e.toLowerCase(),t+(n?_s(e):e)}));function _s(t){return Cs(Ka(t).toLowerCase())}function bs(t){return(t=Ka(t))&&t.replace(et,Ee).replace(St,"")}var ws=hr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ts=hr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ss=fr("toLowerCase");var Os=hr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Es=hr((function(t,e,n){return t+(n?" ":"")+Cs(e)}));var Ps=hr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Cs=fr("toUpperCase");function As(t,e,n){return t=Ka(t),void 0===(e=n?void 0:e)?function(t){return Ct.test(t)}(t)?function(t){return t.match(Et)||[]}(t):function(t){return t.match(q)||[]}(t):t.match(e)||[]}var xs=Ci((function(t,e){try{return qt(t,void 0,e)}catch(t){return Ca(t)?t:new G(t)}})),Is=Mr((function(t,e){return Kt(e,(function(e){e=po(e),Ln(t,e,aa(t[e],t))})),t}));function ks(t){return function(){return t}}var Ms=mr(),Rs=mr(!0);function Ns(t){return t}function Ds(t){return fi("function"==typeof t?t:Vn(t,1))}var Ls=Ci((function(t,e){return function(n){return si(n,t,e)}})),js=Ci((function(t,e){return function(n){return si(t,n,e)}}));function Fs(t,e,n){var i=us(e),r=Qn(e,i);null!=n||ka(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Qn(e,us(e)));var o=!(ka(n)&&"chain"in n&&!n.chain),a=Aa(t);return Kt(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=ar(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,ne([this.value()],arguments))})})),t}function Vs(){}var Bs=br(ee),Us=br(Jt),Hs=br(oe);function Gs(t){return Xr(t)?he(po(t)):function(t){return function(e){return ti(e,t)}}(t)}var Ws=Tr(),zs=Tr(!0);function $s(){return[]}function qs(){return!1}var Ys=_r((function(t,e){return t+e}),0),Ks=Er("ceil"),Xs=_r((function(t,e){return t/e}),1),Js=Er("floor");var Zs,Qs=_r((function(t,e){return t*e}),1),tu=Er("round"),eu=_r((function(t,e){return t-e}),0);return vn.after=function(t,e){if("function"!=typeof e)throw new st(o);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},vn.ary=ra,vn.assign=Xa,vn.assignIn=Ja,vn.assignInWith=Za,vn.assignWith=Qa,vn.at=ts,vn.before=oa,vn.bind=aa,vn.bindAll=Is,vn.bindKey=sa,vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return wa(t)?t:[t]},vn.chain=Go,vn.chunk=function(t,e,n){e=(n?Kr(t,e,n):void 0===e)?1:Ye(za(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Ue(r/e));o<r;)s[a++]=Ni(t,o,o+=e);return s},vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ne(wa(n)?ar(n):[n],Yn(e,1))},vn.cond=function(t){var e=null==t?0:t.length,n=Fr();return t=e?ee(t,(function(t){if("function"!=typeof t[1])throw new st(o);return[n(t[0]),t[1]]})):[],Ci((function(n){for(var i=-1;++i<e;){var r=t[i];if(qt(r[0],this,n))return qt(r[1],this,n)}}))},vn.conforms=function(t){return function(t){var e=us(t);return function(n){return Bn(n,t,e)}}(Vn(t,1))},vn.constant=ks,vn.countBy=$o,vn.create=function(t,e){var n=yn(t);return null==e?n:Dn(n,e)},vn.curry=function t(e,n,i){var r=Ar(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.curryRight=function t(e,n,i){var r=Ar(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},vn.debounce=ua,vn.defaults=es,vn.defaultsDeep=ns,vn.defer=la,vn.delay=ca,vn.difference=vo,vn.differenceBy=yo,vn.differenceWith=_o,vn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,(e=n||void 0===e?1:za(e))<0?0:e,i):[]},vn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,0,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e):[]},vn.dropRightWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!0,!0):[]},vn.dropWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!0):[]},vn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Kr(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=za(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:za(i))<0&&(i+=r),i=n>i?0:$a(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},vn.filter=function(t,e){return(wa(t)?Zt:qn)(t,Fr(e,3))},vn.flatMap=function(t,e){return Yn(ta(t,e),1)},vn.flatMapDeep=function(t,e){return Yn(ta(t,e),1/0)},vn.flatMapDepth=function(t,e,n){return n=void 0===n?1:za(n),Yn(ta(t,e),n)},vn.flatten=To,vn.flattenDeep=function(t){return(null==t?0:t.length)?Yn(t,1/0):[]},vn.flattenDepth=function(t,e){return(null==t?0:t.length)?Yn(t,e=void 0===e?1:za(e)):[]},vn.flip=function(t){return Ar(t,512)},vn.flow=Ms,vn.flowRight=Rs,vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},vn.functions=function(t){return null==t?[]:Qn(t,us(t))},vn.functionsIn=function(t){return null==t?[]:Qn(t,ls(t))},vn.groupBy=Jo,vn.initial=function(t){return(null==t?0:t.length)?Ni(t,0,-1):[]},vn.intersection=Oo,vn.intersectionBy=Eo,vn.intersectionWith=Po,vn.invert=os,vn.invertBy=as,vn.invokeMap=Zo,vn.iteratee=Ds,vn.keyBy=Qo,vn.keys=us,vn.keysIn=ls,vn.map=ta,vn.mapKeys=function(t,e){var n={};return e=Fr(e,3),Jn(t,(function(t,i,r){Ln(n,e(t,i,r),t)})),n},vn.mapValues=function(t,e){var n={};return e=Fr(e,3),Jn(t,(function(t,i,r){Ln(n,i,e(t,i,r))})),n},vn.matches=function(t){return vi(Vn(t,1))},vn.matchesProperty=function(t,e){return yi(t,Vn(e,1))},vn.memoize=da,vn.merge=cs,vn.mergeWith=ds,vn.method=Ls,vn.methodOf=js,vn.mixin=Fs,vn.negate=fa,vn.nthArg=function(t){return t=za(t),Ci((function(e){return bi(e,t)}))},vn.omit=fs,vn.omitBy=function(t,e){return ps(t,fa(Fr(e)))},vn.once=function(t){return oa(2,t)},vn.orderBy=function(t,e,n,i){return null==t?[]:(wa(e)||(e=null==e?[]:[e]),wa(n=i?void 0:n)||(n=null==n?[]:[n]),wi(t,e,n))},vn.over=Bs,vn.overArgs=ha,vn.overEvery=Us,vn.overSome=Hs,vn.partial=pa,vn.partialRight=ga,vn.partition=ea,vn.pick=hs,vn.pickBy=ps,vn.property=Gs,vn.propertyOf=function(t){return function(e){return null==t?void 0:ti(t,e)}},vn.pull=Ao,vn.pullAll=xo,vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,Fr(n,2)):t},vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,void 0,n):t},vn.pullAt=Io,vn.range=Ws,vn.rangeRight=zs,vn.rearg=ma,vn.reject=function(t,e){return(wa(t)?Zt:qn)(t,fa(Fr(e,3)))},vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Fr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Oi(t,r),n},vn.rest=function(t,e){if("function"!=typeof t)throw new st(o);return Ci(t,e=void 0===e?e:za(e))},vn.reverse=ko,vn.sampleSize=function(t,e,n){return e=(n?Kr(t,e,n):void 0===e)?1:za(e),(wa(t)?xn:xi)(t,e)},vn.set=function(t,e,n){return null==t?t:Ii(t,e,n)},vn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ii(t,e,n,i)},vn.shuffle=function(t){return(wa(t)?In:Ri)(t)},vn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Kr(t,e,n)?(e=0,n=i):(e=null==e?0:za(e),n=void 0===n?i:za(n)),Ni(t,e,n)):[]},vn.sortBy=na,vn.sortedUniq=function(t){return t&&t.length?Fi(t):[]},vn.sortedUniqBy=function(t,e){return t&&t.length?Fi(t,Fr(e,2)):[]},vn.split=function(t,e,n){return n&&"number"!=typeof n&&Kr(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Ka(t))&&("string"==typeof e||null!=e&&!La(e))&&!(e=Bi(e))&&Ce(t)?Zi(Ne(t),0,n):t.split(e,n):[]},vn.spread=function(t,e){if("function"!=typeof t)throw new st(o);return e=null==e?0:Ye(za(e),0),Ci((function(n){var i=n[e],r=Zi(n,0,e);return i&&ne(r,i),qt(t,this,r)}))},vn.tail=function(t){var e=null==t?0:t.length;return e?Ni(t,1,e):[]},vn.take=function(t,e,n){return t&&t.length?Ni(t,0,(e=n||void 0===e?1:za(e))<0?0:e):[]},vn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,(e=i-(e=n||void 0===e?1:za(e)))<0?0:e,i):[]},vn.takeRightWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3),!1,!0):[]},vn.takeWhile=function(t,e){return t&&t.length?Wi(t,Fr(e,3)):[]},vn.tap=function(t,e){return e(t),t},vn.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new st(o);return ka(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ua(t,e,{leading:i,maxWait:e,trailing:r})},vn.thru=Wo,vn.toArray=Ga,vn.toPairs=gs,vn.toPairsIn=ms,vn.toPath=function(t){return wa(t)?ee(t,po):Va(t)?[t]:ar(ho(Ka(t)))},vn.toPlainObject=Ya,vn.transform=function(t,e,n){var i=wa(t),r=i||Ea(t)||Ba(t);if(e=Fr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ka(t)&&Aa(o)?yn(Rt(t)):{}}return(r?Kt:Jn)(t,(function(t,i,r){return e(n,t,i,r)})),n},vn.unary=function(t){return ra(t,1)},vn.union=Mo,vn.unionBy=Ro,vn.unionWith=No,vn.uniq=function(t){return t&&t.length?Ui(t):[]},vn.uniqBy=function(t,e){return t&&t.length?Ui(t,Fr(e,2)):[]},vn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Ui(t,void 0,e):[]},vn.unset=function(t,e){return null==t||Hi(t,e)},vn.unzip=Do,vn.unzipWith=Lo,vn.update=function(t,e,n){return null==t?t:Gi(t,e,Ki(n))},vn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Gi(t,e,Ki(n),i)},vn.values=vs,vn.valuesIn=function(t){return null==t?[]:be(t,ls(t))},vn.without=jo,vn.words=As,vn.wrap=function(t,e){return pa(Ki(e),t)},vn.xor=Fo,vn.xorBy=Vo,vn.xorWith=Bo,vn.zip=Uo,vn.zipObject=function(t,e){return qi(t||[],e||[],Mn)},vn.zipObjectDeep=function(t,e){return qi(t||[],e||[],Ii)},vn.zipWith=Ho,vn.entries=gs,vn.entriesIn=ms,vn.extend=Ja,vn.extendWith=Za,Fs(vn,vn),vn.add=Ys,vn.attempt=xs,vn.camelCase=ys,vn.capitalize=_s,vn.ceil=Ks,vn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=qa(n))==n?n:0),void 0!==e&&(e=(e=qa(e))==e?e:0),Fn(qa(t),e,n)},vn.clone=function(t){return Vn(t,4)},vn.cloneDeep=function(t){return Vn(t,5)},vn.cloneDeepWith=function(t,e){return Vn(t,5,e="function"==typeof e?e:void 0)},vn.cloneWith=function(t,e){return Vn(t,4,e="function"==typeof e?e:void 0)},vn.conformsTo=function(t,e){return null==e||Bn(t,e,us(e))},vn.deburr=bs,vn.defaultTo=function(t,e){return null==t||t!=t?e:t},vn.divide=Xs,vn.endsWith=function(t,e,n){t=Ka(t),e=Bi(e);var i=t.length,r=n=void 0===n?i:Fn(za(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},vn.eq=va,vn.escape=function(t){return(t=Ka(t))&&L.test(t)?t.replace(N,Pe):t},vn.escapeRegExp=function(t){return(t=Ka(t))&&U.test(t)?t.replace(B,"\\$&"):t},vn.every=function(t,e,n){var i=wa(t)?Jt:zn;return n&&Kr(t,e,n)&&(e=void 0),i(t,Fr(e,3))},vn.find=qo,vn.findIndex=bo,vn.findKey=function(t,e){return se(t,Fr(e,3),Jn)},vn.findLast=Yo,vn.findLastIndex=wo,vn.findLastKey=function(t,e){return se(t,Fr(e,3),Zn)},vn.floor=Js,vn.forEach=Ko,vn.forEachRight=Xo,vn.forIn=function(t,e){return null==t?t:Kn(t,Fr(e,3),ls)},vn.forInRight=function(t,e){return null==t?t:Xn(t,Fr(e,3),ls)},vn.forOwn=function(t,e){return t&&Jn(t,Fr(e,3))},vn.forOwnRight=function(t,e){return t&&Zn(t,Fr(e,3))},vn.get=is,vn.gt=ya,vn.gte=_a,vn.has=function(t,e){return null!=t&&zr(t,e,ri)},vn.hasIn=rs,vn.head=So,vn.identity=Ns,vn.includes=function(t,e,n,i){t=Sa(t)?t:vs(t),n=n&&!i?za(n):0;var r=t.length;return n<0&&(n=Ye(r+n,0)),Fa(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&le(t,e,n)>-1},vn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:za(n);return r<0&&(r=Ye(i+r,0)),le(t,e,r)},vn.inRange=function(t,e,n){return e=Wa(e),void 0===n?(n=e,e=0):n=Wa(n),function(t,e,n){return t>=Ke(e,n)&&t<Ye(e,n)}(t=qa(t),e,n)},vn.invoke=ss,vn.isArguments=ba,vn.isArray=wa,vn.isArrayBuffer=Ta,vn.isArrayLike=Sa,vn.isArrayLikeObject=Oa,vn.isBoolean=function(t){return!0===t||!1===t||Ma(t)&&ni(t)==c},vn.isBuffer=Ea,vn.isDate=Pa,vn.isElement=function(t){return Ma(t)&&1===t.nodeType&&!Da(t)},vn.isEmpty=function(t){if(null==t)return!0;if(Sa(t)&&(wa(t)||"string"==typeof t||"function"==typeof t.splice||Ea(t)||Ba(t)||ba(t)))return!t.length;var e=Wr(t);if(e==g||e==_)return!t.size;if(Qr(t))return!hi(t).length;for(var n in t)if(ht.call(t,n))return!1;return!0},vn.isEqual=function(t,e){return li(t,e)},vn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?li(t,e,void 0,n):!!i},vn.isError=Ca,vn.isFinite=function(t){return"number"==typeof t&&ze(t)},vn.isFunction=Aa,vn.isInteger=xa,vn.isLength=Ia,vn.isMap=Ra,vn.isMatch=function(t,e){return t===e||ci(t,e,Br(e))},vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,ci(t,e,Br(e),n)},vn.isNaN=function(t){return Na(t)&&t!=+t},vn.isNative=function(t){if(Zr(t))throw new G("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return di(t)},vn.isNil=function(t){return null==t},vn.isNull=function(t){return null===t},vn.isNumber=Na,vn.isObject=ka,vn.isObjectLike=Ma,vn.isPlainObject=Da,vn.isRegExp=La,vn.isSafeInteger=function(t){return xa(t)&&t>=-9007199254740991&&t<=9007199254740991},vn.isSet=ja,vn.isString=Fa,vn.isSymbol=Va,vn.isTypedArray=Ba,vn.isUndefined=function(t){return void 0===t},vn.isWeakMap=function(t){return Ma(t)&&Wr(t)==T},vn.isWeakSet=function(t){return Ma(t)&&"[object WeakSet]"==ni(t)},vn.join=function(t,e){return null==t?"":$e.call(t,e)},vn.kebabCase=ws,vn.last=Co,vn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=za(n))<0?Ye(i+r,0):Ke(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):ue(t,de,r,!0)},vn.lowerCase=Ts,vn.lowerFirst=Ss,vn.lt=Ua,vn.lte=Ha,vn.max=function(t){return t&&t.length?$n(t,Ns,ii):void 0},vn.maxBy=function(t,e){return t&&t.length?$n(t,Fr(e,2),ii):void 0},vn.mean=function(t){return fe(t,Ns)},vn.meanBy=function(t,e){return fe(t,Fr(e,2))},vn.min=function(t){return t&&t.length?$n(t,Ns,gi):void 0},vn.minBy=function(t,e){return t&&t.length?$n(t,Fr(e,2),gi):void 0},vn.stubArray=$s,vn.stubFalse=qs,vn.stubObject=function(){return{}},vn.stubString=function(){return""},vn.stubTrue=function(){return!0},vn.multiply=Qs,vn.nth=function(t,e){return t&&t.length?bi(t,za(e)):void 0},vn.noConflict=function(){return Dt._===this&&(Dt._=yt),this},vn.noop=Vs,vn.now=ia,vn.pad=function(t,e,n){t=Ka(t);var i=(e=za(e))?Re(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return wr(He(r),n)+t+wr(Ue(r),n)},vn.padEnd=function(t,e,n){t=Ka(t);var i=(e=za(e))?Re(t):0;return e&&i<e?t+wr(e-i,n):t},vn.padStart=function(t,e,n){t=Ka(t);var i=(e=za(e))?Re(t):0;return e&&i<e?wr(e-i,n)+t:t},vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Je(Ka(t).replace(H,""),e||0)},vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Kr(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Wa(t),void 0===e?(e=t,t=0):e=Wa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Ze();return Ke(t+r*(e-t+kt("1e-"+((r+"").length-1))),e)}return Ei(t,e)},vn.reduce=function(t,e,n){var i=wa(t)?ie:ge,r=arguments.length<3;return i(t,Fr(e,4),n,r,Gn)},vn.reduceRight=function(t,e,n){var i=wa(t)?re:ge,r=arguments.length<3;return i(t,Fr(e,4),n,r,Wn)},vn.repeat=function(t,e,n){return e=(n?Kr(t,e,n):void 0===e)?1:za(e),Pi(Ka(t),e)},vn.replace=function(){var t=arguments,e=Ka(t[0]);return t.length<3?e:e.replace(t[1],t[2])},vn.result=function(t,e,n){var i=-1,r=(e=Xi(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[po(e[i])];void 0===o&&(i=r,o=n),t=Aa(o)?o.call(t):o}return t},vn.round=tu,vn.runInContext=t,vn.sample=function(t){return(wa(t)?An:Ai)(t)},vn.size=function(t){if(null==t)return 0;if(Sa(t))return Fa(t)?Re(t):t.length;var e=Wr(t);return e==g||e==_?t.size:hi(t).length},vn.snakeCase=Os,vn.some=function(t,e,n){var i=wa(t)?oe:Di;return n&&Kr(t,e,n)&&(e=void 0),i(t,Fr(e,3))},vn.sortedIndex=function(t,e){return Li(t,e)},vn.sortedIndexBy=function(t,e,n){return ji(t,e,Fr(n,2))},vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Li(t,e);if(i<n&&va(t[i],e))return i}return-1},vn.sortedLastIndex=function(t,e){return Li(t,e,!0)},vn.sortedLastIndexBy=function(t,e,n){return ji(t,e,Fr(n,2),!0)},vn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Li(t,e,!0)-1;if(va(t[n],e))return n}return-1},vn.startCase=Es,vn.startsWith=function(t,e,n){return t=Ka(t),n=null==n?0:Fn(za(n),0,t.length),e=Bi(e),t.slice(n,n+e.length)==e},vn.subtract=eu,vn.sum=function(t){return t&&t.length?me(t,Ns):0},vn.sumBy=function(t,e){return t&&t.length?me(t,Fr(e,2)):0},vn.times=function(t,e){if((t=za(t))<1||t>9007199254740991)return[];var n=4294967295,i=Ke(t,4294967295);t-=4294967295;for(var r=ve(i,e=Fr(e));++n<t;)e(n);return r},vn.toFinite=Wa,vn.toInteger=za,vn.toLength=$a,vn.toLower=function(t){return Ka(t).toLowerCase()},vn.toNumber=qa,vn.toSafeInteger=function(t){return t?Fn(za(t),-9007199254740991,9007199254740991):0===t?t:0},vn.toString=Ka,vn.toUpper=function(t){return Ka(t).toUpperCase()},vn.trim=function(t,e,n){if((t=Ka(t))&&(n||void 0===e))return ye(t);if(!t||!(e=Bi(e)))return t;var i=Ne(t),r=Ne(e);return Zi(i,Te(i,r),Se(i,r)+1).join("")},vn.trimEnd=function(t,e,n){if((t=Ka(t))&&(n||void 0===e))return t.slice(0,De(t)+1);if(!t||!(e=Bi(e)))return t;var i=Ne(t);return Zi(i,0,Se(i,Ne(e))+1).join("")},vn.trimStart=function(t,e,n){if((t=Ka(t))&&(n||void 0===e))return t.replace(H,"");if(!t||!(e=Bi(e)))return t;var i=Ne(t);return Zi(i,Te(i,Ne(e))).join("")},vn.truncate=function(t,e){var n=30,i="...";if(ka(e)){var r="separator"in e?e.separator:r;n="length"in e?za(e.length):n,i="omission"in e?Bi(e.omission):i}var o=(t=Ka(t)).length;if(Ce(t)){var a=Ne(t);o=a.length}if(n>=o)return t;var s=n-Re(i);if(s<1)return i;var u=a?Zi(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+i;if(a&&(s+=u.length-s),La(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=ot(r.source,Ka(K.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var d=l.index;u=u.slice(0,void 0===d?s:d)}}else if(t.indexOf(Bi(r),s)!=s){var f=u.lastIndexOf(r);f>-1&&(u=u.slice(0,f))}return u+i},vn.unescape=function(t){return(t=Ka(t))&&D.test(t)?t.replace(R,Le):t},vn.uniqueId=function(t){var e=++pt;return Ka(t)+e},vn.upperCase=Ps,vn.upperFirst=Cs,vn.each=Ko,vn.eachRight=Xo,vn.first=So,Fs(vn,(Zs={},Jn(vn,(function(t,e){ht.call(vn.prototype,e)||(Zs[e]=t)})),Zs),{chain:!1}),vn.VERSION="4.17.21",Kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){vn[t].placeholder=vn})),Kt(["drop","take"],(function(t,e){wn.prototype[t]=function(n){n=void 0===n?1:Ye(za(n),0);var i=this.__filtered__&&!e?new wn(this):this.clone();return i.__filtered__?i.__takeCount__=Ke(n,i.__takeCount__):i.__views__.push({size:Ke(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Kt(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Kt(["head","last"],(function(t,e){var n="take"+(e?"Right":"");wn.prototype[t]=function(){return this[n](1).value()[0]}})),Kt(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");wn.prototype[t]=function(){return this.__filtered__?new wn(this):this[n](1)}})),wn.prototype.compact=function(){return this.filter(Ns)},wn.prototype.find=function(t){return this.filter(t).head()},wn.prototype.findLast=function(t){return this.reverse().find(t)},wn.prototype.invokeMap=Ci((function(t,e){return"function"==typeof t?new wn(this):this.map((function(n){return si(n,t,e)}))})),wn.prototype.reject=function(t){return this.filter(fa(Fr(t)))},wn.prototype.slice=function(t,e){t=za(t);var n=this;return n.__filtered__&&(t>0||e<0)?new wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=za(e))<0?n.dropRight(-e):n.take(e-t)),n)},wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wn.prototype.toArray=function(){return this.take(4294967295)},Jn(wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=vn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(vn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof wn,u=a[0],l=s||wa(e),c=function(t){var e=r.apply(vn,ne([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,f=!!this.__actions__.length,h=o&&!d,p=s&&!f;if(!o&&l){e=p?e:new wn(this);var g=t.apply(e,a);return g.__actions__.push({func:Wo,args:[c],thisArg:void 0}),new bn(g,d)}return h&&p?t.apply(this,a):(g=this.thru(c),h?i?g.value()[0]:g.value():g)})})),Kt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ut[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);vn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(wa(r)?r:[],t)}return this[n]((function(n){return e.apply(wa(n)?n:[],t)}))}})),Jn(wn.prototype,(function(t,e){var n=vn[e];if(n){var i=n.name+"";ht.call(un,i)||(un[i]=[]),un[i].push({name:e,func:n})}})),un[vr(void 0,2).name]=[{name:"wrapper",func:void 0}],wn.prototype.clone=function(){var t=new wn(this.__wrapped__);return t.__actions__=ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ar(this.__views__),t},wn.prototype.reverse=function(){if(this.__filtered__){var t=new wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=wa(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ke(e,t+a);break;case"takeRight":t=Ye(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=Ke(u,this.__takeCount__);if(!n||!i&&r==u&&h==u)return zi(t,this.__actions__);var p=[];t:for(;u--&&f<h;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[f++]=m}return p},vn.prototype.at=zo,vn.prototype.chain=function(){return Go(this)},vn.prototype.commit=function(){return new bn(this.value(),this.__chain__)},vn.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},vn.prototype.plant=function(t){for(var e,n=this;n instanceof _n;){var i=mo(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wn){var e=t;return this.__actions__.length&&(e=new wn(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[ko],thisArg:void 0}),new bn(e,this.__chain__)}return this.thru(ko)},vn.prototype.toJSON=vn.prototype.valueOf=vn.prototype.value=function(){return zi(this.__wrapped__,this.__actions__)},vn.prototype.first=vn.prototype.head,Bt&&(vn.prototype[Bt]=function(){return this}),vn}();Dt._=je,void 0===(r=function(){return je}.call(e,n,e,i))||(i.exports=r)}).call(this)}).call(this,n(129),n(469)(t))},function(t,e,n){"use strict";n.r(e),n.d(e,"DOCUMENTATION_URL",(function(){return i})),n.d(e,"default",(function(){return r})),n.d(e,"logWarning",(function(){return o})),n.d(e,"logError",(function(){return a}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const i="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class r extends Error{constructor(t,e,n){super(`${t}${n?" "+JSON.stringify(n):""}${s(t)}`),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new r(t.message,e);throw n.stack=t.stack,n}}function o(t,e){console.warn(...u(t,e))}function a(t,e){console.error(...u(t,e))}function s(t){return`\nRead more: ${i}#error-${t}`}function u(t,e){const n=s(t);return e?[t,e,n]:[t,n]}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function p(){}function g(){}function m(){}var v={};c(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==e&&n.call(_,a)&&(v=_);var b=m.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,u)}))}u(l.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function S(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=f(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return g.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new T(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,u,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=i(n(4)),h=i(n(117)),p=i(n(1)),g=i(n(60)),m=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c(this,e),this.start=f.default._createAt(t),this.end=n?f.default._createAt(n):f.default._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}var n,i,r;return n=e,r=[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(t){return new this(f.default._createAt(t,0),f.default._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(f.default._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new p.default("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort((function(t,e){return t.start.isAfter(e.start)?1:-1}));var n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(var r=n-1;t[r].end.isEqual(i.start);r++)i.start=f.default._createAt(t[r].start);for(var o=n+1;o<t.length&&t[o].start.isEqual(i.end);o++)i.end=f.default._createAt(t[o].end);return i}},{key:"fromJSON",value:function(t,e){return new this(f.default.fromJSON(t.start,e),f.default.fromJSON(t.end,e))}}],(i=[{key:t,value:l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new h.default({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){var t=this.start.getParentPath(),e=this.end.getParentPath();return"same"==g.default(t,e)}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}},{key:"containsItem",value:function(t){var e=f.default._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getJoined",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.isIntersecting(t);if(i||(i=this.start.isBefore(t.start)?n?this.end.isTouching(t.start):this.end.isEqual(t.start):n?t.end.isTouching(this.start):t.end.isEqual(this.start)),!i)return null;var r=this.start,o=this.end;return t.start.isBefore(r)&&(r=t.start),t.end.isAfter(o)&&(o=t.end),new e(r,o)}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,i=f.default._createAt(this.start),r=i.parent;i.path.length>n+1;){var o=r.maxOffset-i.offset;0!==o&&t.push(new e(i,i.getShiftedBy(o))),i.path=i.path.slice(0,-1),i.offset++,r=r.parent}for(;i.path.length<=this.end.path.length;){var a=this.end.path[i.path.length-1],s=a-i.offset;0!==s&&t.push(new e(i,i.getShiftedBy(s))),i.offset=a,i.path.push(0)}return t}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new h.default(t)}},{key:"getItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().mark((function n(){var i,r,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.boundaries=t,e.ignoreElementEnd=!0,i=new h.default(e),r=a(i),n.prev=4,r.s();case 6:if((o=r.n()).done){n.next=12;break}return s=o.value,n.next=10,s.item;case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),r.e(n.t0);case 17:return n.prev=17,r.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])}))()}},{key:"getPositions",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l().mark((function n(){var i,r,o,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.boundaries=t,i=new h.default(e),n.next=4,i.position;case 4:r=a(i),n.prev=5,r.s();case 7:if((o=r.n()).done){n.next=13;break}return s=o.value,n.next=11,s.nextPosition;case 11:n.next=7;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),r.e(n.t0);case 18:return n.prev=18,r.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,15,18,21]])}))()}},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n,i=[new e(this.start,this.end)],r=a(t);try{for(r.s();!(n=r.n()).done;)for(var s=n.value,u=0;u<i.length;u++){var l=i[u].getTransformedByOperation(s);i.splice.apply(i,[u,1].concat(o(l))),u+=l.length-1}}catch(t){r.e(t)}finally{r.f()}for(var c=0;c<i.length;c++)for(var d=i[c],f=c+1;f<i.length;f++){var h=i[f];(d.containsRange(h)||h.containsRange(d)||d.isEqual(h))&&i.splice(f,1)}return i}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,i=t.howMany,r=t.targetPosition;return this._getTransformedByMove(n,r,i,e)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),i=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new e(n,i)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),i=this.end._getTransformedByMergeOperation(t);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(t.sourcePosition.isBefore(t.targetPosition)?(n=f.default._createAt(i)).offset=0:(t.deletionPosition.isEqual(n)||(i=t.deletionPosition),n=t.targetPosition),new e(n,i)):new e(n,i)}},{key:"_getTransformedByInsertion",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var r=new e(this.start,this.end);return r.start=r.start._getTransformedByInsertion(t,n),r.end=r.end._getTransformedByInsertion(t,n),[r]}},{key:"_getTransformedByMove",value:function(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var o=this.start._getTransformedByMove(t,n,i);return[new e(o)]}var a,s=e._createFromPositionAndShift(t,i),u=n._getTransformedByDeletion(t,i);if(this.containsPosition(n)&&!r&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var l=this.start._getTransformedByMove(t,n,i),c=this.end._getTransformedByMove(t,n,i);return[new e(l,c)]}var d=this.getDifference(s),f=null,h=this.getIntersection(s);if(1==d.length?f=new e(d[0].start._getTransformedByDeletion(t,i),d[0].end._getTransformedByDeletion(t,i)):2==d.length&&(f=new e(this.start,this.end._getTransformedByDeletion(t,i))),a=f?f._getTransformedByInsertion(u,i,null!==h||r):[],h){var p=new e(h.start._getCombined(s.start,u),h.end._getCombined(s.start,u));2==a.length?a.splice(1,0,p):a.push(p)}return a}},{key:"_getTransformedByDeletion",value:function(t,n){var i=this.start._getTransformedByDeletion(t,n),r=this.end._getTransformedByDeletion(t,n);return null==i&&null==r?null:(null==i&&(i=t),null==r&&(r=t),new e(i,r))}}])&&d(n.prototype,i),r&&d(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(Symbol.iterator);e.default=m},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a})),n.d(e,"getTextNodeAtPosition",(function(){return s})),n.d(e,"getNodeAfterPosition",(function(){return u})),n.d(e,"getNodeBeforePosition",(function(){return l}));var i=n(117),r=n(60),o=n(1);n(186);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new o.default("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new o.default("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new o.default("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new o.default("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return s(this,this.parent)}get nodeAfter(){const t=this.parent;return u(this,t,s(this,t))}get nodeBefore(){const t=this.parent;return l(this,t,s(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Object(r.default)(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i.default(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=Object(r.default)(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=a._createAt(this),n=a._createAt(t);break;case"after":e=a._createAt(t),n=a._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"===t||"model:position"===t}hasSameParentAs(t){if(this.root!==t.root)return!1;const e=this.getParentPath(),n=t.getParentPath();return"same"==Object(r.default)(e,n)}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=a._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?a._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=a._createAt(this);if(this.root!=t.root)return n;if("same"==Object(r.default)(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Object(r.default)(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=a._createAt(this);if(this.root!=t.root)return n;if("same"==Object(r.default)(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Object(r.default)(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return a._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=a._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof a)return new a(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new o.default("model-createpositionat-offset-required",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new o.default("model-position-parent-incorrect",[this,t]);const r=i.getPath();return r.push(e),new this(i.root,r,n)}}static _createAfter(t,e){if(!t.parent)throw new o.default("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new o.default("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new a(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new o.default("model-position-fromjson-no-root",e,{rootName:t.root});return new a(e.getRoot(t.root),t.path,t.stickiness)}}function s(t,e){const n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function u(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function l(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}},function(t,e,n){"use strict";var i=Array.isArray;e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(139),r=n(60),o=n(1),a=n(203);n(186);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof a.a);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=s._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new i.a(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}is(t){return"position"===t||"view:position"===t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=Object(r.default)(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new i.a(t)}clone(){return new s(this.parent,this.offset)}static _createAt(t,e){if(t instanceof s)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new o.default("view-createpositionat-offset-required",n)}return new s(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new s(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new o.default("view-position-after-root",t,{root:t});return new s(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new s(t.textNode,t.offsetInText);if(!t.parent)throw new o.default("view-position-before-root",t,{root:t});return new s(t.parent,t.index)}}},function(t,e,n){"use strict";var i=n(31),r=n(259),o=n(208);e.a=function(t,e){return Object(o.a)(Object(r.a)(t,e,i.a),t+"")}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(249),e)},function(t,e,n){"use strict";var i=n(57);e.a=function(t){return null==t?"":Object(i.a)(t)}},function(t,e,n){"use strict";n.r(e),e.default='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"/>'},function(t,e,n){"use strict";(function(i){var r,o,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(0),n(3),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,(function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&c.test(i))for(a=i.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};l.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,i,r){return t._events=d(h,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return f(t,e,i,this,a),this};var h=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||i||s){for(var l=e?[e]:n.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],f=0;f<c.length;f++){var h=c[f];i&&i!==h.callback&&i!==h.callback._callback||s&&s!==h.context?d.push(h):(o=h.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return this.on(r,void 0,i)},l.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};l.bind=l.on,l.unbind=l.off,n.extend(e,l);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(l[f],e)||s.push(f),n.isEqual(d[f],e)?delete c[f]:c[f]=e,o?delete l[f]:l[f]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=i);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,l[s[h]],i)}if(u)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},j(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,u=this.attributes;i.success=function(t){a.attributes=u;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},j(this,i),r&&o&&(this.attributes=n.extend({},u,r));var l=this.isNew()?"create":i.patch?"patch":"update";"patch"!==l||i.attrs||(i.attrs=r);var c=this.sync(l,this,i);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(j(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},T=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]};n.extend(_.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:n.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,f=e.remove,h=!1,p=this.comparator&&null==r&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!h&&(h=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,a.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(f){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var _=!1,w=!p&&c&&f;if(a.length&&w?(_=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,T(this.models,a,0),this.length=this.models.length):s.length&&(p&&(h=!0),T(this.models,s,null==r?this.length:r),this.length=this.models.length),h&&this.sort({silent:!0}),!e.silent){for(m=0;m<s.length;m++)null!=r&&(e.index=r+m),(o=s[m]).trigger("add",o,this,e);(h||_)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,E)),this._ensureElement(),this.initialize.apply(this,arguments)},O=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(O);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=P[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,u&&u.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,l,r),l};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,I=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,l,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(k,"\\$&").replace(A,"(?:$1)?").replace(x,(function(t,e){return e?t:"([^/?]+)"})).replace(I,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var M=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,D=/#.*$/;M.started=!1,n.extend(M.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!M.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new M,y.extend=_.extend=C.extend=S.extend=M.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(a,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(129))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,f,h,p,g,m,v,y,_,b,w,T,S,O,E,P,C,A,x,I,k,M,R,N=i(n(0)),D=i(n(330)),L=i(n(474)),j=i(n(232)),F=i(n(475)),V=i(n(233)),B=(r=function(){var t=V.default.getDimensions();return t.width*t.height<5e5},o=function(){return window.innerWidth*window.innerHeight<5e5},a=function(){return L.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return f(navigator.userAgent)||a()&&!r()},c=function(){return D.default.canvas&&D.default.video},d=N.default.once((function(){return F.default.browser(navigator.userAgent)})),f=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/([\d.]+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(h=function(t){var e,n,i;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(n="Windows Mobile",i=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(n="Windows",i=e[1]):n="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(n="iOS",e[3]&&(i=e[3].replace(/_/g,"."))):(e=f(t))?(n="iOS",i=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(n="Android",i=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(n="BlackBerry",i=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(n="Mac OS X",e[2]&&(i=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(n="Linux",i=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(n="Chrome OS",i=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(n="jsdom",i=e[1]);var r={};return n&&(r.name=n),i&&(r.version=i),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},m=o()?50:200,v=N.default.once((function(){j.default.set("testcookie",1);var t=j.default.get("testcookie");return t&&j.default.remove("testcookie"),t})),y=function(){return d().msieVersion()},_=d().isEdge(),b=d().isWebkit(),w=d().isMozilla(),S=function(){return T()&&d().version.match(/^7\..*/)},O=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i<e},E=function(t,e){if(!t)return!1;var n=t.split("."),i=Number(n[0]);return!isNaN(i)&&i>=e},P=function(){return a()&&"Mobile Safari"===d().name},C=function(){return!a()&&"Safari"===d().name},I=function(){return A()&&!window.navigator.standalone&&P()},k=function(){return"Chrome"===d().name},M=function(){return d().isMozilla()},{touch:function(){return D.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},edge:_,webkit:b,mozilla:w,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:h,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?"smartphone":l()?"tablet":s()?"desktop":"other"},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=V.default.getDimensions();if(!R()&&t<e.width){if(x()&&!window.navigator.standalone&&S())return-20;if(I()&&S())return-65;if(I())return 60}return 0},getRubberBandLimit:function(){return m},cookies:v,pixelRatio:function(){return N.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var n=V.default.getDimensions();return I()&&t===n.height&&e>=n.width},isIframe:R=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:function(){return"Windows"===p.name},isIos:T=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!T()&&O(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!T()&&E(p.version,t)},isBrowserChromeLessThan:function(t){return!!k()&&O(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!k()&&E(d().version,t)},isStudioDesktopApp:function(){return N.default.includes(navigator.userAgent,"CerosDesktop")},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!M()&&E(d().version,t)},isDesktopSafariLessThan:function(t){return!!C()&&O(d().version,t)},isAndroid:function(){return"Android"===p.name},isIphone:A=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:x=function(){return/iPad/i.test(navigator.userAgent)||!!f(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return N.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==y()&&y()<=9},isBrowserChrome:k,isBrowserFirefox:M,isDesktopSafari:C,isMobileSafari:P,isIpadPretendingToBeDesktop:f,isIosSafari:function(){return T()&&d().name.includes("Safari")},reload:function(){d=N.default.once((function(){return F.default.browser(navigator.userAgent)})),p=h(navigator.userAgent)},DEVICE_TYPE_SMARTPHONE:"smartphone",DEVICE_TYPE_TABLET:"tablet",DEVICE_TYPE_DESKTOP:"desktop",DEVICE_TYPE_OTHER:"other"});e.default=B},function(t,e,n){"use strict";n.r(e),n.d(e,"_getEmitterListenedTo",(function(){return c})),n.d(e,"_setEmitterId",(function(){return d})),n.d(e,"_getEmitterId",(function(){return f}));var i=n(151),r=n(80),o=n(164),a=(n(186),n(1));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const s=Symbol("listeningTo"),u=Symbol("emitterId"),l={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,(function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))}),n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let r,o;this[s]||(this[s]={});const a=this[s];f(t)||d(t);const u=f(t);(r=a[u])||(r=a[u]={emitter:t,callbacks:{}}),(o=r.callbacks[e])||(o=r.callbacks[e]=[]),o.push(n),function(t,e,n,i,r){e._addEventListener?e._addEventListener(n,i,r):t._addEventListener.call(e,n,i,r)}(this,t,e,n,i)},stopListening(t,e,n){const i=this[s];let r=t&&f(t);const o=i&&r&&i[r],a=o&&e&&o.callbacks[e];if(!(!i||t&&!o||e&&!a))if(n){m(this,t,e,n);-1!==a.indexOf(n)&&(1===a.length?delete o.callbacks[e]:m(this,t,e,n))}else if(a){for(;n=a.pop();)m(this,t,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(t,e);delete i[r]}else{for(r in i)this.stopListening(i[r].emitter);delete this[s]}},fire(t,...e){try{const n=t instanceof i.a?t:new i.a(this,t),r=n.name;let o=function t(e,n){let i;if(!e._events||!(i=e._events[n])||!i.callbacks.length)return n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null;return i.callbacks}(this,r);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,this._removeEventListener(r,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(r),i=this._delegations.get("*");t&&g(t,n,e),i&&g(i,n,e)}return n.return}catch(t){a.default.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()},_addEventListener(t,e,n){!function(t,e){const n=h(t);if(n[e])return;let i=e,r=null;const o=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},o.push(n[i]),r&&n[i].childEvents.push(r),r=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of o)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(r)}}(this,t);const i=p(this,t),r=o.a.get(n.priority),a={callback:e,priority:r};for(const t of i){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<r){t.splice(n,0,a),e=!0;break}e||t.push(a)}},_removeEventListener(t,e){const n=p(this,t);for(const t of n)for(let n=0;n<t.length;n++)t[n].callback==e&&(t.splice(n,1),n--)}};function c(t,e){return t[s]&&t[s][e]?t[s][e].emitter:null}function d(t,e){t[u]||(t[u]=e||Object(r.a)())}function f(t){return t[u]}function h(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function p(t,e){const n=h(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const r=p(t,n.childEvents[e]);i=i.concat(r)}return i}function g(t,e,n){for(let[r,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new i.a(e.source,o);t.path=[...e.path],r.fire(t,...n)}}function m(t,e,n,i){e._removeEventListener?e._removeEventListener(n,i):t._removeEventListener.call(e,n,i)}e.default=l},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(6),r=n(139);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new r.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(a,{direction:"backward"}),e=this.end.getLastMatchingPosition(a);return t.parent.is("$text")&&t.isAtStart&&(t=i.a._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=i.a._createAfter(e.parent)),new o(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(a);if(t.isAfter(this.end)||t.isEqual(this.end))return new o(t,t);let e=this.end.getLastMatchingPosition(a,{direction:"backward"});const n=t.nodeAfter,r=e.nodeBefore;return n&&n.is("$text")&&(t=new i.a(n,0)),r&&r.is("$text")&&(e=new i.a(r,r.data.length)),new o(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new o(this.start,t.start)),this.containsPosition(t.end)&&e.push(new o(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new o(e,n)}return null}getWalker(t={}){return t.boundaries=this,new r.a(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new o(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new r.a(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new r.a(t);yield e.position;for(const t of e)yield t.nextPosition}is(t){return"range"===t||"view:range"===t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,r){return new this(new i.a(t,e),new i.a(n,r))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(i.a._createBefore(t),e)}}function a(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}},function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,function(t){t.cycleNext="cycle-next",t.cyclePrevious="cycle-previous",t.hideCanvasTargets="hide-layers",t.showCanvasTargets="show-layers",t.showCanvasTargetsOnHover="show-layers-on-hover",t.toggleCanvasTargets="toggle-layers",t.enableDisablePage="page-enable-disable",t.gotoPage="page-goto",t.nextPage="page-next",t.prevPage="page-prev",t.scrollTo="scroll-to",t.scrollToObject="scroll-to-object",t.url="url",t.email="share-email",t.facebook="share-facebook",t.linkedin="share-linkedin",t.pinterest="share-pinterest",t.twitter="share-twitter",t.changeState="change-state",t.fullscreen="show-fullscreen",t.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",t.hideOnly="hide-only",t.lightbox="lightbox",t.product="product",t.shoppingCart="shopping-cart",t.showAndStayVisibleCanvasTargets="show-and-stay-visible",t.showOnly="show-only",t.toggleReducedMotion="toggle-reduced-motion",t.bringToFront="bring-to-front",t.resetPositions="reset-positions",t.invalid="invalid"}(e.ActionTypes||(e.ActionTypes={}))},function(t,e,n){"use strict";var i=n(260),r=n(207),o=n(32);e.a=function(t){return Object(o.a)(t)?Object(i.a)(t):Object(r.a)(t)}},function(t,e,n){"use strict";var i=n(258),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();e.a=o},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return h}));var i=n(26),r=n(59);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const o=t=>t.createTextNode(" "),a=t=>{const e=t.createElement("span");return e.dataset.ckeFiller=!0,e.innerHTML=" ",e},s=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},u=7,l="⁠".repeat(u);function c(t){return Object(r.a)(t)&&t.data.substr(0,u)===l}function d(t){return t.data.length==u&&c(t)}function f(t){return c(t)?t.data.slice(u):t.data}function h(t){t.document.on("arrowKey",p,{priority:"low"})}function p(t,e){if(e.keyCode==i.f.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;c(e)&&n<=u&&t.collapse(e,0)}}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={debug:!1,info:!1,warn:!1,error:!1},a=!1,s=!1,u={debug:function(){o.debug&&(window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),console.debug.apply(console,arguments))},info:function(){o.info&&(window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments))},forceInfo:function(){window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),console.info.apply(console,arguments)},devWarn:function(){return a?u.warn.apply(this,arguments):u.info.apply(this,arguments)},warn:function(){o.warn&&(window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),console.warn.apply(console,arguments))},error:function(){o.error&&(window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),console.error.apply(console,arguments))},init:function(t){o=r.default.defaults(t.modes||{},o),a=t.emitDevWarnings,s=r.default.reduce(o,(function(t,e,n){return t||e}),s)},isEnabled:function(t){return r.default.isUndefined(t)?s:o[t]}};u.d=u.debug,u.i=u.info,u.w=u.warn,u.e=u.error,u.fi=u.forceInfo,e.default=u},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var i=n(134),r=n(137),o=n(27),a=n(90),s=n(53);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u extends i.a{constructor(t,e,n){super(e),this.name=t,this._children=new r.a,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={includeSelf:!1}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new u(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new o.default(t)];Object(s.a)(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new o.default(t):t instanceof a.a?new o.default(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(u.fromJSON(n)):e.push(o.default.fromJSON(n))}return new u(t.name,t.attributes,e)}}},function(t,e,n){"use strict";n.d(e,"f",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return p}));var i=n(1),r=n(89);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const o={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},a={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},s=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}(),u=Object.fromEntries(Object.entries(s).map(([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)]));function l(t){let e;if("string"==typeof t){if(e=s[t.toLowerCase()],!e)throw new i.default("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?s.alt:0)+(t.ctrlKey?s.ctrl:0)+(t.shiftKey?s.shift:0)+(t.metaKey?s.cmd:0);return e}function c(t){return"string"==typeof t&&(t=function(t){return t.split("+").map(t=>t.trim())}(t)),t.map(t=>"string"==typeof t?function(t){if(t.endsWith("!"))return l(t.slice(0,-1));const e=l(t);return r.a.isMac&&e==s.ctrl?s.cmd:e}(t):t).reduce((t,e)=>e+t,0)}function d(t){let e=c(t);return Object.entries(r.a.isMac?o:a).reduce((t,[n,i])=>(0!=(e&s[n])&&(e&=~s[n],t+=i),t),"")+(e?u[e]:"")}function f(t){return t==s.arrowright||t==s.arrowleft||t==s.arrowup||t==s.arrowdown}function h(t,e){const n="ltr"===e;switch(t){case s.arrowleft:return n?"left":"right";case s.arrowright:return n?"right":"left";case s.arrowup:return"up";case s.arrowdown:return"down"}}function p(t,e){const n=h(t,e);return"down"===n||"right"===n}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));var i=n(134);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.a{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new r(this.data,this.getAttributes())}static fromJSON(t){return new r(t.data,t.attributes)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(54),r=n(4),o=n(2),a=n.n(o),s=n(1),u=n(60),l=n(91);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class c extends i.a{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new s.default("move-operation-nodes-do-not-exist",this);if(t===e&&n<i&&i<n+this.howMany)throw new s.default("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Object(u.default)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new s.default("move-operation-node-into-itself",this)}}_execute(){Object(l.b)(a.a._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=r.default.fromJSON(t.sourcePosition,e),i=r.default.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelOptions=void 0;var i=n(132);e.ActionModelOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(121);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.a{constructor(t,e){super(t),this._textData=e}is(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof r&&(this===t||this.data===t.data)}_clone(){return new r(this.document,this.data)}}},function(t,e,n){"use strict";e.a=function(t){return t}},function(t,e,n){"use strict";var i=n(62),r=n(133);e.a=function(t){return null!=t&&Object(r.a)(t.length)&&!Object(i.a)(t)}},function(t,e,n){"use strict";var i=n(260),r=n(16),o=n(136);var a=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},s=Object.prototype.hasOwnProperty;var u=function(t){if(!Object(r.a)(t))return a(t);var e=Object(o.a)(t),n=[];for(var i in t)("constructor"!=i||!e&&s.call(t,i))&&n.push(i);return n},l=n(32);e.a=function(t){return Object(l.a)(t)?Object(i.a)(t,!0):u(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(54),r=n(51),o=n(4),a=n(2),s=n.n(a),u=n(91),l=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class c extends i.a{constructor(t,e,n,i,r){super(r),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new o.default(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new s.a(this.splitPosition,t)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new o.default(t,[0]);return new r.a(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new l.default("split-operation-position-invalid",this);if(!t.parent)throw new l.default("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new l.default("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new l.default("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Object(u.b)(s.a._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Object(u.a)(this.insertionPosition,e)}const e=new s.a(o.default._createAt(t,this.splitPosition.offset),o.default._createAt(t,t.maxOffset));Object(u.b)(e,this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new o.default(t.root,e,"toPrevious")}static fromJSON(t,e){const n=o.default.fromJSON(t.splitPosition,e),i=o.default.fromJSON(t.insertionPosition,e),r=t.graveyardPosition?o.default.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,i,r,t.baseVersion)}}},function(t,e,n){"use strict";n.r(e);var i=n(15),r=n(1),o=n(16),a=n(174);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const s=Symbol("observableProperties"),u=Symbol("boundObservables"),l=Symbol("boundProperties"),c=Symbol("decoratedMethods"),d=Symbol("decoratedOriginal"),f={set(t,e){if(Object(o.a)(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);h(this);const n=this[s];if(t in this&&!n.has(t))throw new r.default("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let r=this.fire("set:"+t,t,e,i);void 0===r&&(r=e),i===r&&n.has(t)||(n.set(t,r),this.fire("change:"+t,t,r,i))}}),this[t]=e},bind(...t){if(!t.length||!m(t))throw new r.default("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new r.default("observable-bind-duplicate-properties",this);h(this);const e=this[l];t.forEach(t=>{if(e.has(t))throw new r.default("observable-bind-rebind",this)});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:p,toMany:g,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!this[s])return;const e=this[l],n=this[u];if(t.length){if(!m(t))throw new r.default("observable-unbind-wrong-properties",this);t.forEach(t=>{const i=e.get(t);if(!i)return;let r,o,a,s;i.to.forEach(t=>{r=t[0],o=t[1],a=n.get(r),s=a[o],s.delete(i),s.size||delete a[o],Object.keys(a).length||(n.delete(r),this.stopListening(r,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new r.default("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)},this[t][d]=e,this[c]||(this[c]=[]),this[c].push(t)}};function h(t){t[s]||(Object.defineProperty(t,s,{value:new Map}),Object.defineProperty(t,u,{value:new Map}),Object.defineProperty(t,l,{value:new Map}))}function p(...t){const e=function(...t){if(!t.length)throw new r.default("observable-bind-to-parse-error",null);const e={to:[]};let n;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new r.default("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new r.default("observable-bind-to-no-callback",this);if(i>1&&e.callback)throw new r.default("observable-bind-to-extra-callback",this);var o;e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new r.default("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach(t=>{const e=o[u];let n;e.get(t.observable)||o.listenTo(t.observable,"change",(i,r)=>{n=e.get(t.observable)[r],n&&n.forEach(t=>{v(o,t.property)})})}),function(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(r=>{e=r.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([r.observable,e]),function(t,e,n,i){const r=t[u],o=r.get(n),a=o||{};a[i]||(a[i]=new Set);a[i].add(e),o||r.set(n,a)}(t._observable,n,r.observable,e)})})}(this),this._bindProperties.forEach(t=>{v(this._observable,t)})}function g(t,e,n){if(this._bindings.size>1)throw new r.default("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function m(t){return t.every(t=>"string"==typeof t)}function v(t,e){const n=t[l].get(e);let i;n.callback?i=n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=i:t.set(e,i)}Object(a.a)(f,i.default),f.stopListening=function(t,e,n){if(!t&&this[c]){for(const t of this[c])this[t]=this[t][d];delete this[c]}i.default.stopListening.call(this,t,e,n)},e.default=f},function(t,e,n){"use strict";var i=n(49),r=n(32),o=n(72),a=n(16);e.a=function(t,e,n){if(!Object(a.a)(n))return!1;var s=typeof e;return!!("number"==s?Object(r.a)(n)&&Object(o.a)(e,n.length):"string"==s&&e in n)&&Object(i.a)(n[e],t)}},function(t,e,n){"use strict";var i=n(50),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i.a?i.a.toStringTag:void 0;var u=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r},l=Object.prototype.toString;var c=function(t){return l.call(t)},d=i.a?i.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?u(t):c(t)}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */e.a={window:window,document:document}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(190),r=n(212),o=n(272),a=n(59),s=n(188);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const u=["top","right","bottom","left","width","height"];class l{constructor(t){const e=Object(i.a)(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Object(s.a)(t)||e)if(e){const e=l.getDomRangeRects(t);c(this,l.getBoundingRect(e))}else c(this,t.getBoundingClientRect());else if(Object(r.a)(t)){const{innerWidth:e,innerHeight:n}=t;c(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else c(this,t)}clone(){return new l(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new l(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!d(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!d(n);){const t=new l(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of u)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(Object(r.a)(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const r=Object(o.a)(this._source);e=t.offsetWidth-t.clientWidth-r.left-r.right,n=t.offsetHeight-t.clientHeight-r.top-r.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=r.left,this.top+=r.top,this.right-=r.right,this.bottom-=r.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new l(t));else{let n=t.startContainer;Object(a.a)(n)&&(n=n.parentNode);const i=new l(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let n=0;for(const i of t)n++,e.left=Math.min(e.left,i.left),e.top=Math.min(e.top,i.top),e.right=Math.max(e.right,i.right),e.bottom=Math.max(e.bottom,i.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new l(e))}}function c(t,e){for(const n of u)t[n]=e[n]}function d(t){return!!Object(s.a)(t)&&t===t.ownerDocument.body}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(850),e)},function(t,e,n){"use strict";n.r(e),n.d(e,"add",(function(){return s})),n.d(e,"after",(function(){return d})),n.d(e,"ary",(function(){return wt})),n.d(e,"assign",(function(){return xt})),n.d(e,"assignIn",(function(){return It.a})),n.d(e,"assignInWith",(function(){return Mt})),n.d(e,"assignWith",(function(){return Rt})),n.d(e,"at",(function(){return re})),n.d(e,"attempt",(function(){return le})),n.d(e,"before",(function(){return ce})),n.d(e,"bind",(function(){return fe})),n.d(e,"bindAll",(function(){return pe})),n.d(e,"bindKey",(function(){return me})),n.d(e,"camelCase",(function(){return hn})),n.d(e,"capitalize",(function(){return Le})),n.d(e,"castArray",(function(){return pn})),n.d(e,"ceil",(function(){return yn})),n.d(e,"chain",(function(){return _n})),n.d(e,"chunk",(function(){return Sn})),n.d(e,"clamp",(function(){return En})),n.d(e,"clone",(function(){return Pn.a})),n.d(e,"cloneDeep",(function(){return Cn.a})),n.d(e,"cloneDeepWith",(function(){return An.a})),n.d(e,"cloneWith",(function(){return In})),n.d(e,"commit",(function(){return kn})),n.d(e,"compact",(function(){return Mn})),n.d(e,"concat",(function(){return Rn})),n.d(e,"cond",(function(){return Jn})),n.d(e,"conforms",(function(){return ti})),n.d(e,"conformsTo",(function(){return ei})),n.d(e,"constant",(function(){return ni.a})),n.d(e,"countBy",(function(){return fi})),n.d(e,"create",(function(){return pi})),n.d(e,"curry",(function(){return mi})),n.d(e,"curryRight",(function(){return yi})),n.d(e,"debounce",(function(){return _i.a})),n.d(e,"deburr",(function(){return He})),n.d(e,"defaultTo",(function(){return bi})),n.d(e,"defaults",(function(){return Oi})),n.d(e,"defaultsDeep",(function(){return Vi})),n.d(e,"defer",(function(){return Ui})),n.d(e,"delay",(function(){return Hi})),n.d(e,"difference",(function(){return Yi})),n.d(e,"differenceBy",(function(){return Xi})),n.d(e,"differenceWith",(function(){return Ji})),n.d(e,"divide",(function(){return Zi})),n.d(e,"drop",(function(){return Qi})),n.d(e,"dropRight",(function(){return tr})),n.d(e,"dropRightWhile",(function(){return nr})),n.d(e,"dropWhile",(function(){return ir})),n.d(e,"each",(function(){return or})),n.d(e,"eachRight",(function(){return cr})),n.d(e,"endsWith",(function(){return dr})),n.d(e,"entries",(function(){return vr})),n.d(e,"entriesIn",(function(){return yr})),n.d(e,"eq",(function(){return wi.a})),n.d(e,"escape",(function(){return Tr})),n.d(e,"escapeRegExp",(function(){return Sr.a})),n.d(e,"every",(function(){return Pr})),n.d(e,"extend",(function(){return It.a})),n.d(e,"extendWith",(function(){return Mt})),n.d(e,"fill",(function(){return xr})),n.d(e,"filter",(function(){return Mr})),n.d(e,"find",(function(){return Lr})),n.d(e,"findIndex",(function(){return Dr})),n.d(e,"findKey",(function(){return Fr})),n.d(e,"findLast",(function(){return Hr})),n.d(e,"findLastIndex",(function(){return Ur})),n.d(e,"findLastKey",(function(){return Gr})),n.d(e,"first",(function(){return Wr})),n.d(e,"flatMap",(function(){return qr})),n.d(e,"flatMapDeep",(function(){return Yr})),n.d(e,"flatMapDepth",(function(){return Kr})),n.d(e,"flatten",(function(){return ee})),n.d(e,"flattenDeep",(function(){return Xr})),n.d(e,"flattenDepth",(function(){return Jr})),n.d(e,"flip",(function(){return Zr})),n.d(e,"floor",(function(){return Qr})),n.d(e,"flow",(function(){return eo})),n.d(e,"flowRight",(function(){return no})),n.d(e,"forEach",(function(){return or})),n.d(e,"forEachRight",(function(){return cr})),n.d(e,"forIn",(function(){return io})),n.d(e,"forInRight",(function(){return ro})),n.d(e,"forOwn",(function(){return oo})),n.d(e,"forOwnRight",(function(){return ao})),n.d(e,"fromPairs",(function(){return so})),n.d(e,"functions",(function(){return lo})),n.d(e,"functionsIn",(function(){return co})),n.d(e,"get",(function(){return qt})),n.d(e,"groupBy",(function(){return ho})),n.d(e,"gt",(function(){return mo})),n.d(e,"gte",(function(){return vo})),n.d(e,"has",(function(){return bo})),n.d(e,"hasIn",(function(){return zn})),n.d(e,"head",(function(){return Wr})),n.d(e,"identity",(function(){return f.a})),n.d(e,"inRange",(function(){return Oo})),n.d(e,"includes",(function(){return xo})),n.d(e,"indexOf",(function(){return ko})),n.d(e,"initial",(function(){return Mo})),n.d(e,"intersection",(function(){return Lo})),n.d(e,"intersectionBy",(function(){return jo})),n.d(e,"intersectionWith",(function(){return Fo})),n.d(e,"invert",(function(){return Ho})),n.d(e,"invertBy",(function(){return $o})),n.d(e,"invoke",(function(){return Ko})),n.d(e,"invokeMap",(function(){return Xo})),n.d(e,"isArguments",(function(){return Jt.a})),n.d(e,"isArray",(function(){return j.a})),n.d(e,"isArrayBuffer",(function(){return ta})),n.d(e,"isArrayLike",(function(){return Et.a})),n.d(e,"isArrayLikeObject",(function(){return xi})),n.d(e,"isBoolean",(function(){return ea})),n.d(e,"isBuffer",(function(){return Ii.a})),n.d(e,"isDate",(function(){return ra})),n.d(e,"isElement",(function(){return oa.a})),n.d(e,"isEmpty",(function(){return ua})),n.d(e,"isEqual",(function(){return la.a})),n.d(e,"isEqualWith",(function(){return ca.a})),n.d(e,"isError",(function(){return ue})),n.d(e,"isFinite",(function(){return fa})),n.d(e,"isFunction",(function(){return ki.a})),n.d(e,"isInteger",(function(){return ha})),n.d(e,"isLength",(function(){return Gn.a})),n.d(e,"isMap",(function(){return pa.a})),n.d(e,"isMatch",(function(){return ga})),n.d(e,"isMatchWith",(function(){return ma})),n.d(e,"isNaN",(function(){return ya})),n.d(e,"isNative",(function(){return Sa})),n.d(e,"isNil",(function(){return Oa})),n.d(e,"isNull",(function(){return Ea})),n.d(e,"isNumber",(function(){return va})),n.d(e,"isObject",(function(){return v.a})),n.d(e,"isObjectLike",(function(){return F.a})),n.d(e,"isPlainObject",(function(){return se.a})),n.d(e,"isRegExp",(function(){return Aa})),n.d(e,"isSafeInteger",(function(){return xa})),n.d(e,"isSet",(function(){return Ia.a})),n.d(e,"isString",(function(){return Eo.a})),n.d(e,"isSymbol",(function(){return i.a})),n.d(e,"isTypedArray",(function(){return Mi.a})),n.d(e,"isUndefined",(function(){return ka})),n.d(e,"isWeakMap",(function(){return Ma})),n.d(e,"isWeakSet",(function(){return Ra})),n.d(e,"iteratee",(function(){return Na})),n.d(e,"join",(function(){return La})),n.d(e,"kebabCase",(function(){return ja})),n.d(e,"keyBy",(function(){return Fa})),n.d(e,"keys",(function(){return Ct.a})),n.d(e,"keysIn",(function(){return kt.a})),n.d(e,"last",(function(){return Ki})),n.d(e,"lastIndexOf",(function(){return Ha})),n.d(e,"lodash",(function(){return G})),n.d(e,"lowerCase",(function(){return Ga})),n.d(e,"lowerFirst",(function(){return Wa})),n.d(e,"lt",(function(){return $a})),n.d(e,"lte",(function(){return qa})),n.d(e,"map",(function(){return $r})),n.d(e,"mapKeys",(function(){return Ya})),n.d(e,"mapValues",(function(){return Ka})),n.d(e,"matches",(function(){return Xa})),n.d(e,"matchesProperty",(function(){return Ja})),n.d(e,"max",(function(){return Qa})),n.d(e,"maxBy",(function(){return ts})),n.d(e,"mean",(function(){return is})),n.d(e,"meanBy",(function(){return rs})),n.d(e,"memoize",(function(){return Vt})),n.d(e,"merge",(function(){return os})),n.d(e,"mergeWith",(function(){return Fi})),n.d(e,"method",(function(){return as})),n.d(e,"methodOf",(function(){return ss})),n.d(e,"min",(function(){return us})),n.d(e,"minBy",(function(){return ls})),n.d(e,"mixin",(function(){return cs})),n.d(e,"multiply",(function(){return ds})),n.d(e,"negate",(function(){return fs})),n.d(e,"next",(function(){return vs})),n.d(e,"noop",(function(){return I})),n.d(e,"now",(function(){return ys.a})),n.d(e,"nth",(function(){return bs})),n.d(e,"nthArg",(function(){return ws})),n.d(e,"omit",(function(){return Es})),n.d(e,"omitBy",(function(){return xs})),n.d(e,"once",(function(){return Is})),n.d(e,"orderBy",(function(){return Ds})),n.d(e,"over",(function(){return js})),n.d(e,"overArgs",(function(){return Bs})),n.d(e,"overEvery",(function(){return Us})),n.d(e,"overSome",(function(){return Gs})),n.d(e,"pad",(function(){return uu})),n.d(e,"padEnd",(function(){return lu})),n.d(e,"padStart",(function(){return cu})),n.d(e,"parseInt",(function(){return hu})),n.d(e,"partial",(function(){return gu})),n.d(e,"partialRight",(function(){return vu})),n.d(e,"partition",(function(){return yu})),n.d(e,"pick",(function(){return bu})),n.d(e,"pickBy",(function(){return As})),n.d(e,"plant",(function(){return wu})),n.d(e,"property",(function(){return Kn})),n.d(e,"propertyOf",(function(){return Tu})),n.d(e,"pull",(function(){return Cu})),n.d(e,"pullAll",(function(){return Pu})),n.d(e,"pullAllBy",(function(){return Au})),n.d(e,"pullAllWith",(function(){return xu})),n.d(e,"pullAt",(function(){return Mu})),n.d(e,"random",(function(){return Vu})),n.d(e,"range",(function(){return Wu})),n.d(e,"rangeRight",(function(){return zu})),n.d(e,"rearg",(function(){return $u})),n.d(e,"reduce",(function(){return Yu})),n.d(e,"reduceRight",(function(){return Xu})),n.d(e,"reject",(function(){return Ju})),n.d(e,"remove",(function(){return Zu})),n.d(e,"repeat",(function(){return Qu})),n.d(e,"replace",(function(){return tl})),n.d(e,"rest",(function(){return el})),n.d(e,"result",(function(){return nl})),n.d(e,"reverse",(function(){return rl})),n.d(e,"round",(function(){return ol})),n.d(e,"sample",(function(){return ul})),n.d(e,"sampleSize",(function(){return fl})),n.d(e,"set",(function(){return hl})),n.d(e,"setWith",(function(){return pl})),n.d(e,"shuffle",(function(){return vl})),n.d(e,"size",(function(){return yl})),n.d(e,"slice",(function(){return _l})),n.d(e,"snakeCase",(function(){return bl})),n.d(e,"some",(function(){return Tl})),n.d(e,"sortBy",(function(){return Sl})),n.d(e,"sortedIndex",(function(){return Al})),n.d(e,"sortedIndexBy",(function(){return xl})),n.d(e,"sortedIndexOf",(function(){return Il})),n.d(e,"sortedLastIndex",(function(){return kl})),n.d(e,"sortedLastIndexBy",(function(){return Ml})),n.d(e,"sortedLastIndexOf",(function(){return Rl})),n.d(e,"sortedUniq",(function(){return Dl})),n.d(e,"sortedUniqBy",(function(){return Ll})),n.d(e,"split",(function(){return jl})),n.d(e,"spread",(function(){return Vl})),n.d(e,"startCase",(function(){return Bl})),n.d(e,"startsWith",(function(){return Ul})),n.d(e,"stubArray",(function(){return Hl.a})),n.d(e,"stubFalse",(function(){return wa.a})),n.d(e,"stubObject",(function(){return Gl})),n.d(e,"stubString",(function(){return Wl})),n.d(e,"stubTrue",(function(){return zl})),n.d(e,"subtract",(function(){return $l})),n.d(e,"sum",(function(){return ql})),n.d(e,"sumBy",(function(){return Yl})),n.d(e,"tail",(function(){return Kl})),n.d(e,"take",(function(){return Xl})),n.d(e,"takeRight",(function(){return Jl})),n.d(e,"takeRightWhile",(function(){return Zl})),n.d(e,"takeWhile",(function(){return Ql})),n.d(e,"tap",(function(){return tc})),n.d(e,"template",(function(){return mc})),n.d(e,"templateSettings",(function(){return sc})),n.d(e,"throttle",(function(){return vc})),n.d(e,"thru",(function(){return yc})),n.d(e,"times",(function(){return wc})),n.d(e,"toArray",(function(){return ms})),n.d(e,"toFinite",(function(){return l})),n.d(e,"toInteger",(function(){return c})),n.d(e,"toIterator",(function(){return Tc})),n.d(e,"toJSON",(function(){return Oc})),n.d(e,"toLength",(function(){return Cr})),n.d(e,"toLower",(function(){return Ec})),n.d(e,"toNumber",(function(){return u.a})),n.d(e,"toPairs",(function(){return vr})),n.d(e,"toPairsIn",(function(){return yr})),n.d(e,"toPath",(function(){return Pc})),n.d(e,"toPlainObject",(function(){return Ni})),n.d(e,"toSafeInteger",(function(){return Cc})),n.d(e,"toString",(function(){return Gt.a})),n.d(e,"toUpper",(function(){return Ac})),n.d(e,"transform",(function(){return Ic})),n.d(e,"trim",(function(){return Nc})),n.d(e,"trimEnd",(function(){return Lc})),n.d(e,"trimStart",(function(){return Fc})),n.d(e,"truncate",(function(){return Bc})),n.d(e,"unary",(function(){return Uc})),n.d(e,"unescape",(function(){return zc})),n.d(e,"union",(function(){return Kc})),n.d(e,"unionBy",(function(){return Xc})),n.d(e,"unionWith",(function(){return Jc})),n.d(e,"uniq",(function(){return Zc})),n.d(e,"uniqBy",(function(){return Qc})),n.d(e,"uniqWith",(function(){return td})),n.d(e,"uniqueId",(function(){return nd})),n.d(e,"unset",(function(){return id})),n.d(e,"unzip",(function(){return od})),n.d(e,"unzipWith",(function(){return ad})),n.d(e,"update",(function(){return ud})),n.d(e,"updateWith",(function(){return ld})),n.d(e,"upperCase",(function(){return cd})),n.d(e,"upperFirst",(function(){return De})),n.d(e,"value",(function(){return Oc})),n.d(e,"valueOf",(function(){return Oc})),n.d(e,"values",(function(){return Co})),n.d(e,"valuesIn",(function(){return dd})),n.d(e,"without",(function(){return fd})),n.d(e,"words",(function(){return cn})),n.d(e,"wrap",(function(){return hd})),n.d(e,"wrapperAt",(function(){return pd})),n.d(e,"wrapperChain",(function(){return gd})),n.d(e,"wrapperCommit",(function(){return kn})),n.d(e,"wrapperLodash",(function(){return G})),n.d(e,"wrapperNext",(function(){return vs})),n.d(e,"wrapperPlant",(function(){return wu})),n.d(e,"wrapperReverse",(function(){return md})),n.d(e,"wrapperToIterator",(function(){return Tc})),n.d(e,"wrapperValue",(function(){return Oc})),n.d(e,"xor",(function(){return yd})),n.d(e,"xorBy",(function(){return _d})),n.d(e,"xorWith",(function(){return bd})),n.d(e,"zip",(function(){return wd})),n.d(e,"zipObject",(function(){return Sd})),n.d(e,"zipObjectDeep",(function(){return Od})),n.d(e,"zipWith",(function(){return Ed})),n.d(e,"default",(function(){return Zd}));var i=n(42);var r=function(t){return"number"==typeof t?t:Object(i.a)(t)?NaN:+t},o=n(57);var a=function(t,e){return function(n,i){var a;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(a=n),void 0!==i){if(void 0===a)return i;"string"==typeof n||"string"==typeof i?(n=Object(o.a)(n),i=Object(o.a)(i)):(n=r(n),i=r(i)),a=t(n,i)}return a}},s=a((function(t,e){return t+e}),0),u=n(58);var l=function(t){return t?(t=Object(u.a)(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var c=function(t){var e=l(t),n=e%1;return e==e?n?e-n:e:0};var d=function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=c(t),function(){if(--t<1)return e.apply(this,arguments)}},f=n(31),h=n(192),p=h.a&&new h.a,g=p?function(t,e){return p.set(t,e),t}:f.a,m=n(120),v=n(16);var y=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Object(m.a)(t.prototype),i=t.apply(n,e);return Object(v.a)(i)?i:n}},_=n(22);var b=function(t,e,n){var i=1&e,r=y(t);return function e(){var o=this&&this!==_.a&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}},w=n(46),T=Math.max;var S=function(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,u=e.length,l=T(o-a,0),c=Array(u+l),d=!i;++s<u;)c[s]=e[s];for(;++r<a;)(d||r<o)&&(c[n[r]]=t[r]);for(;l--;)c[s++]=t[r++];return c},O=Math.max;var E=function(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=O(o-s,0),d=Array(c+l),f=!i;++r<c;)d[r]=t[r];for(var h=r;++u<l;)d[h+u]=e[u];for(;++a<s;)(f||r<o)&&(d[h+n[a]]=t[r++]);return d};var P=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i};var C=function(){};function A(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}A.prototype=Object(m.a)(C.prototype),A.prototype.constructor=A;var x=A;var I=function(){},k=p?function(t){return p.get(t)}:I,M={},R=Object.prototype.hasOwnProperty;var N=function(t){for(var e=t.name+"",n=M[e],i=R.call(M,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e};function D(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}D.prototype=Object(m.a)(C.prototype),D.prototype.constructor=D;var L=D,j=n(5),F=n(18),V=n(43);var B=function(t){if(t instanceof x)return t.clone();var e=new L(t.__wrapped__,t.__chain__);return e.__actions__=Object(V.a)(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e},U=Object.prototype.hasOwnProperty;function H(t){if(Object(F.a)(t)&&!Object(j.a)(t)&&!(t instanceof x)){if(t instanceof L)return t;if(U.call(t,"__wrapped__"))return B(t)}return new L(t)}H.prototype=C.prototype,H.prototype.constructor=H;var G=H;var W=function(t){var e=N(t),n=G[e];if("function"!=typeof n||!(e in x.prototype))return!1;if(t===n)return!0;var i=k(n);return!!i&&t===i[0]},z=n(257),$=Object(z.a)(g),q=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /;var K=function(t){var e=t.match(q);return e?e[1].split(Y):[]},X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var J=function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(X,"{\n/* [wrapped with "+e+"] */\n")},Z=n(208),Q=n(69);var tt=function(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1};var et=function(t){return t!=t};var nt=function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1};var it=function(t,e,n){return e==e?nt(t,e,n):tt(t,et,n)};var rt=function(t,e){return!!(null==t?0:t.length)&&it(t,e,0)>-1},ot=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var at=function(t,e){return Object(Q.a)(ot,(function(n){var i="_."+n[0];e&n[1]&&!rt(t,i)&&t.push(i)})),t.sort()};var st=function(t,e,n){var i=e+"";return Object(Z.a)(t,J(i,at(K(i),n)))};var ut=function(t,e,n,i,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],f=n.apply(void 0,d);return W(t)&&$(f,d),f.placeholder=i,st(f,t,e)};var lt=function(t){return t.placeholder},ct=n(72),dt=Math.min;var ft=function(t,e){for(var n=t.length,i=dt(e.length,n),r=Object(V.a)(t);i--;){var o=e[i];t[i]=Object(ct.a)(o,n)?r[o]:void 0}return t};var ht=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",o[r++]=n)}return o};var pt=function t(e,n,i,r,o,a,s,u,l,c){var d=128&n,f=1&n,h=2&n,p=24&n,g=512&n,m=h?void 0:y(e);return function v(){for(var b=arguments.length,w=Array(b),T=b;T--;)w[T]=arguments[T];if(p)var O=lt(v),C=P(w,O);if(r&&(w=S(w,r,o,p)),a&&(w=E(w,a,s,p)),b-=C,p&&b<c){var A=ht(w,O);return ut(e,n,t,v.placeholder,i,w,A,u,l,c-b)}var x=f?i:this,I=h?x[e]:e;return b=w.length,u?w=ft(w,u):g&&b>1&&w.reverse(),d&&l<b&&(w.length=l),this&&this!==_.a&&this instanceof v&&(I=m||y(I)),I.apply(x,w)}};var gt=function(t,e,n){var i=y(t);return function r(){for(var o=arguments.length,a=Array(o),s=o,u=lt(r);s--;)a[s]=arguments[s];var l=o<3&&a[0]!==u&&a[o-1]!==u?[]:ht(a,u);if((o-=l.length)<n)return ut(t,e,pt,r.placeholder,void 0,a,l,void 0,void 0,n-o);var c=this&&this!==_.a&&this instanceof r?i:t;return Object(w.a)(c,this,a)}};var mt=function(t,e,n,i){var r=1&e,o=y(t);return function e(){for(var a=-1,s=arguments.length,u=-1,l=i.length,c=Array(l+s),d=this&&this!==_.a&&this instanceof e?o:t;++u<l;)c[u]=i[u];for(;s--;)c[u++]=arguments[++a];return Object(w.a)(d,r?n:this,c)}},vt=Math.min;var yt=function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var s=e[3];if(s){var u=t[3];t[3]=u?S(u,s,e[4]):s,t[4]=u?ht(t[3],"__lodash_placeholder__"):e[4]}return(s=e[5])&&(u=t[5],t[5]=u?E(u,s,e[6]):s,t[6]=u?ht(t[5],"__lodash_placeholder__"):e[6]),(s=e[7])&&(t[7]=s),128&i&&(t[8]=null==t[8]?e[8]:vt(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t},_t=Math.max;var bt=function(t,e,n,i,r,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new TypeError("Expected a function");var l=i?i.length:0;if(l||(e&=-97,i=r=void 0),a=void 0===a?a:_t(c(a),0),s=void 0===s?s:c(s),l-=r?r.length:0,64&e){var d=i,f=r;i=r=void 0}var h=u?void 0:k(t),p=[t,e,n,i,r,d,f,o,a,s];if(h&&yt(p,h),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],!(s=p[9]=void 0===p[9]?u?0:t.length:_t(p[9]-l,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?gt(t,e,s):32!=e&&33!=e||r.length?pt.apply(void 0,p):mt(t,e,n,i);else var m=b(t,e,n);return st((h?g:$)(m,p),t,e)};var wt=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,bt(t,128,void 0,void 0,void 0,void 0,e)},Tt=n(135),St=n(63),Ot=n(119),Et=n(32),Pt=n(136),Ct=n(21),At=Object.prototype.hasOwnProperty,xt=Object(Ot.a)((function(t,e){if(Object(Pt.a)(e)||Object(Et.a)(e))Object(St.a)(e,Object(Ct.a)(e),t);else for(var n in e)At.call(e,n)&&Object(Tt.a)(t,n,e[n])})),It=n(174),kt=n(33),Mt=Object(Ot.a)((function(t,e,n,i){Object(St.a)(e,Object(kt.a)(e),t,i)})),Rt=Object(Ot.a)((function(t,e,n,i){Object(St.a)(e,Object(Ct.a)(e),t,i)})),Nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dt=/^\w*$/;var Lt=function(t,e){if(Object(j.a)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(i.a)(t))||(Dt.test(t)||!Nt.test(t)||null!=e&&t in Object(e))},jt=n(191);function Ft(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ft.Cache||jt.a),n}Ft.Cache=jt.a;var Vt=Ft;var Bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ut=/\\(\\)?/g,Ht=function(t){var e=Vt(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Bt,(function(t,n,i,r){e.push(i?r.replace(Ut,"$1"):n||t)})),e})),Gt=n(11);var Wt=function(t,e){return Object(j.a)(t)?t:Lt(t,e)?[t]:Ht(Object(Gt.a)(t))};var zt=function(t){if("string"==typeof t||Object(i.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var $t=function(t,e){for(var n=0,i=(e=Wt(e,t)).length;null!=t&&n<i;)t=t[zt(e[n++])];return n&&n==i?t:void 0};var qt=function(t,e,n){var i=null==t?void 0:$t(t,e);return void 0===i?n:i};var Yt=function(t,e){for(var n=-1,i=e.length,r=Array(i),o=null==t;++n<i;)r[n]=o?void 0:qt(t,e[n]);return r},Kt=n(87),Xt=n(50),Jt=n(96),Zt=Xt.a?Xt.a.isConcatSpreadable:void 0;var Qt=function(t){return Object(j.a)(t)||Object(Jt.a)(t)||!!(Zt&&t&&t[Zt])};var te=function t(e,n,i,r,o){var a=-1,s=e.length;for(i||(i=Qt),o||(o=[]);++a<s;){var u=e[a];n>0&&i(u)?n>1?t(u,n-1,i,r,o):Object(Kt.a)(o,u):r||(o[o.length]=u)}return o};var ee=function(t){return(null==t?0:t.length)?te(t,1):[]},ne=n(259);var ie=function(t){return Object(Z.a)(Object(ne.a)(t,void 0,ee),t+"")},re=ie(Yt),oe=n(7),ae=n(37),se=n(64);var ue=function(t){if(!Object(F.a)(t))return!1;var e=Object(ae.a)(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Object(se.a)(t)},le=Object(oe.a)((function(t,e){try{return Object(w.a)(t,void 0,e)}catch(t){return ue(t)?t:new Error(t)}}));var ce=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=c(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}},de=Object(oe.a)((function(t,e,n){var i=1;if(n.length){var r=ht(n,lt(de));i|=32}return bt(t,i,e,n,r)}));de.placeholder={};var fe=de,he=n(73),pe=ie((function(t,e){return Object(Q.a)(e,(function(e){e=zt(e),Object(he.a)(t,e,fe(t[e],t))})),t})),ge=Object(oe.a)((function(t,e,n){var i=3;if(n.length){var r=ht(n,lt(ge));i|=32}return bt(e,i,t,n,r)}));ge.placeholder={};var me=ge;var ve=function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o};var ye=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:ve(t,e,n)},_e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var be=function(t){return _e.test(t)};var we=function(t){return t.split("")},Te="[\\ud800-\\udfff]",Se="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Oe="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ce="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="(?:"+Se+"|"+Oe+")"+"?",xe="[\\ufe0e\\ufe0f]?"+Ae+("(?:\\u200d(?:"+[Ee,Pe,Ce].join("|")+")[\\ufe0e\\ufe0f]?"+Ae+")*"),Ie="(?:"+[Ee+Se+"?",Se,Pe,Ce,Te].join("|")+")",ke=RegExp(Oe+"(?="+Oe+")|"+Ie+xe,"g");var Me=function(t){return t.match(ke)||[]};var Re=function(t){return be(t)?Me(t):we(t)};var Ne=function(t){return function(e){e=Object(Gt.a)(e);var n=be(e)?Re(e):void 0,i=n?n[0]:e.charAt(0),r=n?ye(n,1).join(""):e.slice(1);return i[t]()+r}},De=Ne("toUpperCase");var Le=function(t){return De(Object(Gt.a)(t).toLowerCase())};var je=function(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n};var Fe=function(t){return function(e){return null==t?void 0:t[e]}},Ve=Fe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ue=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var He=function(t){return(t=Object(Gt.a)(t))&&t.replace(Be,Ve).replace(Ue,"")},Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var We=function(t){return t.match(Ge)||[]},ze=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var $e=function(t){return ze.test(t)},qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ye="["+qe+"]",Ke="\\d+",Xe="[\\u2700-\\u27bf]",Je="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ze="[^\\ud800-\\udfff"+qe+Ke+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Qe="(?:\\ud83c[\\udde6-\\uddff]){2}",tn="[\\ud800-\\udbff][\\udc00-\\udfff]",en="[A-Z\\xc0-\\xd6\\xd8-\\xde]",nn="(?:"+Je+"|"+Ze+")",rn="(?:"+en+"|"+Ze+")",on="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",an="[\\ufe0e\\ufe0f]?"+on+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Qe,tn].join("|")+")[\\ufe0e\\ufe0f]?"+on+")*"),sn="(?:"+[Xe,Qe,tn].join("|")+")"+an,un=RegExp([en+"?"+Je+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Ye,en,"$"].join("|")+")",rn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Ye,en+nn,"$"].join("|")+")",en+"?"+nn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",en+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ke,sn].join("|"),"g");var ln=function(t){return t.match(un)||[]};var cn=function(t,e,n){return t=Object(Gt.a)(t),void 0===(e=n?void 0:e)?$e(t)?ln(t):We(t):t.match(e)||[]},dn=RegExp("['’]","g");var fn=function(t){return function(e){return je(cn(He(e).replace(dn,"")),t,"")}},hn=fn((function(t,e,n){return e=e.toLowerCase(),t+(n?Le(e):e)}));var pn=function(){if(!arguments.length)return[];var t=arguments[0];return Object(j.a)(t)?t:[t]},gn=_.a.isFinite,mn=Math.min;var vn=function(t){var e=Math[t];return function(t,n){if(t=Object(u.a)(t),(n=null==n?0:mn(c(n),292))&&gn(t)){var i=(Object(Gt.a)(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return+((i=(Object(Gt.a)(r)+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}},yn=vn("ceil");var _n=function(t){var e=G(t);return e.__chain__=!0,e},bn=n(36),wn=Math.ceil,Tn=Math.max;var Sn=function(t,e,n){e=(n?Object(bn.a)(t,e,n):void 0===e)?1:Tn(c(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=Array(wn(i/e));r<i;)a[o++]=ve(t,r,r+=e);return a};var On=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t};var En=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=Object(u.a)(n))==n?n:0),void 0!==e&&(e=(e=Object(u.a)(e))==e?e:0),On(Object(u.a)(t),e,n)},Pn=n(228),Cn=n(105),An=n(226),xn=n(74);var In=function(t,e){return e="function"==typeof e?e:void 0,Object(xn.a)(t,4,e)};var kn=function(){return new L(this.value(),this.__chain__)};var Mn=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r};var Rn=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Object(Kt.a)(Object(j.a)(n)?Object(V.a)(n):[n],te(e,1))},Nn=n(19),Dn=n(138),Ln=n(172);var jn=function(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=n[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new Dn.a;if(i)var f=i(l,c,u,t,e,d);if(!(void 0===f?Object(Ln.a)(c,l,3,i,d):f))return!1}}return!0};var Fn=function(t){return t==t&&!Object(v.a)(t)};var Vn=function(t){for(var e=Object(Ct.a)(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Fn(r)]}return e};var Bn=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var Un=function(t){var e=Vn(t);return 1==e.length&&e[0][2]?Bn(e[0][0],e[0][1]):function(n){return n===t||jn(n,t,e)}};var Hn=function(t,e){return null!=t&&e in Object(t)},Gn=n(133);var Wn=function(t,e,n){for(var i=-1,r=(e=Wt(e,t)).length,o=!1;++i<r;){var a=zt(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Object(Gn.a)(r)&&Object(ct.a)(a,r)&&(Object(j.a)(t)||Object(Jt.a)(t))};var zn=function(t,e){return null!=t&&Wn(t,e,Hn)};var $n=function(t,e){return Lt(t)&&Fn(e)?Bn(zt(t),e):function(n){var i=qt(n,t);return void 0===i&&i===e?zn(n,t):Object(Ln.a)(e,i,3)}};var qn=function(t){return function(e){return null==e?void 0:e[t]}};var Yn=function(t){return function(e){return $t(e,t)}};var Kn=function(t){return Lt(t)?qn(zt(t)):Yn(t)};var Xn=function(t){return"function"==typeof t?t:null==t?f.a:"object"==typeof t?Object(j.a)(t)?$n(t[0],t[1]):Un(t):Kn(t)};var Jn=function(t){var e=null==t?0:t.length,n=Xn;return t=e?Object(Nn.a)(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[n(t[0]),t[1]]})):[],Object(oe.a)((function(n){for(var i=-1;++i<e;){var r=t[i];if(Object(w.a)(r[0],this,n))return Object(w.a)(r[1],this,n)}}))};var Zn=function(t,e,n){var i=n.length;if(null==t)return!i;for(t=Object(t);i--;){var r=n[i],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0};var Qn=function(t){var e=Object(Ct.a)(t);return function(n){return Zn(n,t,e)}};var ti=function(t){return Qn(Object(xn.a)(t,1))};var ei=function(t,e){return null==e||Zn(t,e,Object(Ct.a)(e))},ni=n(158);var ii=function(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i};var ri=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===n(o[u],u,o))break}return e}},oi=ri();var ai=function(t,e){return t&&oi(t,e,Ct.a)};var si=function(t,e){return function(n,i){if(null==n)return n;if(!Object(Et.a)(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}},ui=si(ai);var li=function(t,e,n,i){return ui(t,(function(t,r,o){e(i,t,n(t),o)})),i};var ci=function(t,e){return function(n,i){var r=Object(j.a)(n)?ii:li,o=e?e():{};return r(n,t,Xn(i,2),o)}},di=Object.prototype.hasOwnProperty,fi=ci((function(t,e,n){di.call(t,n)?++t[n]:Object(he.a)(t,n,1)})),hi=n(265);var pi=function(t,e){var n=Object(m.a)(t);return null==e?n:Object(hi.a)(n,e)};function gi(t,e,n){var i=bt(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=gi.placeholder,i}gi.placeholder={};var mi=gi;function vi(t,e,n){var i=bt(t,16,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return i.placeholder=vi.placeholder,i}vi.placeholder={};var yi=vi,_i=n(196);var bi=function(t,e){return null==t||t!=t?e:t},wi=n(49),Ti=Object.prototype,Si=Ti.hasOwnProperty,Oi=Object(oe.a)((function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&Object(bn.a)(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=Object(kt.a)(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||Object(wi.a)(c,Ti[l])&&!Si.call(t,l))&&(t[l]=o[l])}return t}));var Ei=function(t,e,n){(void 0!==n&&!Object(wi.a)(t[e],n)||void 0===n&&!(e in t))&&Object(he.a)(t,e,n)},Pi=n(262),Ci=n(266),Ai=n(263);var xi=function(t){return Object(F.a)(t)&&Object(Et.a)(t)},Ii=n(81),ki=n(62),Mi=n(103);var Ri=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var Ni=function(t){return Object(St.a)(t,Object(kt.a)(t))};var Di=function(t,e,n,i,r,o,a){var s=Ri(t,n),u=Ri(e,n),l=a.get(u);if(l)Ei(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):void 0,d=void 0===c;if(d){var f=Object(j.a)(u),h=!f&&Object(Ii.a)(u),p=!f&&!h&&Object(Mi.a)(u);c=u,f||h||p?Object(j.a)(s)?c=s:xi(s)?c=Object(V.a)(s):h?(d=!1,c=Object(Pi.a)(u,!0)):p?(d=!1,c=Object(Ci.a)(u,!0)):c=[]:Object(se.a)(u)||Object(Jt.a)(u)?(c=s,Object(Jt.a)(s)?c=Ni(s):Object(v.a)(s)&&!Object(ki.a)(s)||(c=Object(Ai.a)(u))):d=!1}d&&(a.set(u,c),r(c,u,i,o,a),a.delete(u)),Ei(t,n,c)}};var Li=function t(e,n,i,r,o){e!==n&&oi(n,(function(a,s){if(o||(o=new Dn.a),Object(v.a)(a))Di(e,n,s,i,t,r,o);else{var u=r?r(Ri(e,s),a,s+"",e,n,o):void 0;void 0===u&&(u=a),Ei(e,s,u)}}),kt.a)};var ji=function t(e,n,i,r,o,a){return Object(v.a)(e)&&Object(v.a)(n)&&(a.set(n,e),Li(e,n,void 0,t,a),a.delete(n)),e},Fi=Object(Ot.a)((function(t,e,n,i){Li(t,e,n,i)})),Vi=Object(oe.a)((function(t){return t.push(void 0,ji),Object(w.a)(Fi,void 0,t)}));var Bi=function(t,e,n){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,n)}),e)},Ui=Object(oe.a)((function(t,e){return Bi(t,1,e)})),Hi=Object(oe.a)((function(t,e,n){return Bi(t,Object(u.a)(e)||0,n)})),Gi=n(173);var Wi=function(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1},zi=n(47),$i=n(148);var qi=function(t,e,n,i){var r=-1,o=rt,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=Object(Nn.a)(e,Object(zi.a)(n))),i?(o=Wi,a=!1):e.length>=200&&(o=$i.a,a=!1,e=new Gi.a(e));t:for(;++r<s;){var c=t[r],d=null==n?c:n(c);if(c=i||0!==c?c:0,a&&d==d){for(var f=l;f--;)if(e[f]===d)continue t;u.push(c)}else o(e,d,i)||u.push(c)}return u},Yi=Object(oe.a)((function(t,e){return xi(t)?qi(t,te(e,1,xi,!0)):[]}));var Ki=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},Xi=Object(oe.a)((function(t,e){var n=Ki(e);return xi(n)&&(n=void 0),xi(t)?qi(t,te(e,1,xi,!0),Xn(n,2)):[]})),Ji=Object(oe.a)((function(t,e){var n=Ki(e);return xi(n)&&(n=void 0),xi(t)?qi(t,te(e,1,xi,!0),void 0,n):[]})),Zi=a((function(t,e){return t/e}),1);var Qi=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ve(t,e<0?0:e,i)):[]};var tr=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ve(t,0,(e=i-e)<0?0:e)):[]};var er=function(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ve(t,i?0:o,i?o+1:r):ve(t,i?o+1:0,i?r:o)};var nr=function(t,e){return t&&t.length?er(t,Xn(e,3),!0,!0):[]};var ir=function(t,e){return t&&t.length?er(t,Xn(e,3),!0):[]};var rr=function(t){return"function"==typeof t?t:f.a};var or=function(t,e){return(Object(j.a)(t)?Q.a:ui)(t,rr(e))};var ar=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t},sr=ri(!0);var ur=function(t,e){return t&&sr(t,e,Ct.a)},lr=si(ur,!0);var cr=function(t,e){return(Object(j.a)(t)?ar:lr)(t,rr(e))};var dr=function(t,e,n){t=Object(Gt.a)(t),e=Object(o.a)(e);var i=t.length,r=n=void 0===n?i:On(c(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e};var fr=function(t,e){return Object(Nn.a)(e,(function(e){return[e,t[e]]}))},hr=n(68),pr=n(205);var gr=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n};var mr=function(t){return function(e){var n=Object(hr.a)(e);return"[object Map]"==n?Object(pr.a)(e):"[object Set]"==n?gr(e):fr(e,t(e))}},vr=mr(Ct.a),yr=mr(kt.a),_r=Fe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),br=/[&<>"']/g,wr=RegExp(br.source);var Tr=function(t){return(t=Object(Gt.a)(t))&&wr.test(t)?t.replace(br,_r):t},Sr=n(252);var Or=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0};var Er=function(t,e){var n=!0;return ui(t,(function(t,i,r){return n=!!e(t,i,r)})),n};var Pr=function(t,e,n){var i=Object(j.a)(t)?Or:Er;return n&&Object(bn.a)(t,e,n)&&(e=void 0),i(t,Xn(e,3))};var Cr=function(t){return t?On(c(t),0,4294967295):0};var Ar=function(t,e,n,i){var r=t.length;for((n=c(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:c(i))<0&&(i+=r),i=n>i?0:Cr(i);n<i;)t[n++]=e;return t};var xr=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Object(bn.a)(t,e,n)&&(n=0,i=r),Ar(t,e,n,i)):[]},Ir=n(88);var kr=function(t,e){var n=[];return ui(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n};var Mr=function(t,e){return(Object(j.a)(t)?Ir.a:kr)(t,Xn(e,3))};var Rr=function(t){return function(e,n,i){var r=Object(e);if(!Object(Et.a)(e)){var o=Xn(n,3);e=Object(Ct.a)(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}},Nr=Math.max;var Dr=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:c(n);return r<0&&(r=Nr(i+r,0)),tt(t,Xn(e,3),r)},Lr=Rr(Dr);var jr=function(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i};var Fr=function(t,e){return jr(t,Xn(e,3),ai)},Vr=Math.max,Br=Math.min;var Ur=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=c(n),r=n<0?Vr(i+r,0):Br(r,i-1)),tt(t,Xn(e,3),r,!0)},Hr=Rr(Ur);var Gr=function(t,e){return jr(t,Xn(e,3),ur)};var Wr=function(t){return t&&t.length?t[0]:void 0};var zr=function(t,e){var n=-1,i=Object(Et.a)(t)?Array(t.length):[];return ui(t,(function(t,r,o){i[++n]=e(t,r,o)})),i};var $r=function(t,e){return(Object(j.a)(t)?Nn.a:zr)(t,Xn(e,3))};var qr=function(t,e){return te($r(t,e),1)};var Yr=function(t,e){return te($r(t,e),1/0)};var Kr=function(t,e,n){return n=void 0===n?1:c(n),te($r(t,e),n)};var Xr=function(t){return(null==t?0:t.length)?te(t,1/0):[]};var Jr=function(t,e){return(null==t?0:t.length)?(e=void 0===e?1:c(e),te(t,e)):[]};var Zr=function(t){return bt(t,512)},Qr=vn("floor");var to=function(t){return ie((function(e){var n=e.length,i=n,r=L.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new TypeError("Expected a function");if(r&&!a&&"wrapper"==N(o))var a=new L([],!0)}for(i=a?i:n;++i<n;){o=e[i];var s=N(o),u="wrapper"==s?k(o):void 0;a=u&&W(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[N(u[0])].apply(a,u[3]):1==o.length&&W(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&Object(j.a)(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))},eo=to(),no=to(!0);var io=function(t,e){return null==t?t:oi(t,rr(e),kt.a)};var ro=function(t,e){return null==t?t:sr(t,rr(e),kt.a)};var oo=function(t,e){return t&&ai(t,rr(e))};var ao=function(t,e){return t&&ur(t,rr(e))};var so=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i};var uo=function(t,e){return Object(Ir.a)(e,(function(e){return Object(ki.a)(t[e])}))};var lo=function(t){return null==t?[]:uo(t,Object(Ct.a)(t))};var co=function(t){return null==t?[]:uo(t,Object(kt.a)(t))},fo=Object.prototype.hasOwnProperty,ho=ci((function(t,e,n){fo.call(t,n)?t[n].push(e):Object(he.a)(t,n,[e])}));var po=function(t,e){return t>e};var go=function(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Object(u.a)(e),n=Object(u.a)(n)),t(e,n)}},mo=go(po),vo=go((function(t,e){return t>=e})),yo=Object.prototype.hasOwnProperty;var _o=function(t,e){return null!=t&&yo.call(t,e)};var bo=function(t,e){return null!=t&&Wn(t,e,_o)},wo=Math.max,To=Math.min;var So=function(t,e,n){return t>=To(e,n)&&t<wo(e,n)};var Oo=function(t,e,n){return e=l(e),void 0===n?(n=e,e=0):n=l(n),t=Object(u.a)(t),So(t,e,n)},Eo=n(122);var Po=function(t,e){return Object(Nn.a)(e,(function(e){return t[e]}))};var Co=function(t){return null==t?[]:Po(t,Object(Ct.a)(t))},Ao=Math.max;var xo=function(t,e,n,i){t=Object(Et.a)(t)?t:Co(t),n=n&&!i?c(n):0;var r=t.length;return n<0&&(n=Ao(r+n,0)),Object(Eo.a)(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&it(t,e,n)>-1},Io=Math.max;var ko=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:c(n);return r<0&&(r=Io(i+r,0)),it(t,e,r)};var Mo=function(t){return(null==t?0:t.length)?ve(t,0,-1):[]},Ro=Math.min;var No=function(t,e,n){for(var i=n?Wi:rt,r=t[0].length,o=t.length,a=o,s=Array(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=Object(Nn.a)(c,Object(zi.a)(e))),u=Ro(c.length,u),s[a]=!n&&(e||r>=120&&c.length>=120)?new Gi.a(a&&c):void 0}c=t[0];var d=-1,f=s[0];t:for(;++d<r&&l.length<u;){var h=c[d],p=e?e(h):h;if(h=n||0!==h?h:0,!(f?Object($i.a)(f,p):i(l,p,n))){for(a=o;--a;){var g=s[a];if(!(g?Object($i.a)(g,p):i(t[a],p,n)))continue t}f&&f.push(p),l.push(h)}}return l};var Do=function(t){return xi(t)?t:[]},Lo=Object(oe.a)((function(t){var e=Object(Nn.a)(t,Do);return e.length&&e[0]===t[0]?No(e):[]})),jo=Object(oe.a)((function(t){var e=Ki(t),n=Object(Nn.a)(t,Do);return e===Ki(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?No(n,Xn(e,2)):[]})),Fo=Object(oe.a)((function(t){var e=Ki(t),n=Object(Nn.a)(t,Do);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?No(n,void 0,e):[]}));var Vo=function(t,e,n,i){return ai(t,(function(t,r,o){e(i,n(t),r,o)})),i};var Bo=function(t,e){return function(n,i){return Vo(n,t,e(i),{})}},Uo=Object.prototype.toString,Ho=Bo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Uo.call(e)),t[e]=n}),Object(ni.a)(f.a)),Go=Object.prototype,Wo=Go.hasOwnProperty,zo=Go.toString,$o=Bo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=zo.call(e)),Wo.call(t,e)?t[e].push(n):t[e]=[n]}),Xn);var qo=function(t,e){return e.length<2?t:$t(t,ve(e,0,-1))};var Yo=function(t,e,n){e=Wt(e,t);var i=null==(t=qo(t,e))?t:t[zt(Ki(e))];return null==i?void 0:Object(w.a)(i,t,n)},Ko=Object(oe.a)(Yo),Xo=Object(oe.a)((function(t,e,n){var i=-1,r="function"==typeof e,o=Object(Et.a)(t)?Array(t.length):[];return ui(t,(function(t){o[++i]=r?Object(w.a)(e,t,n):Yo(t,e,n)})),o}));var Jo=function(t){return Object(F.a)(t)&&"[object ArrayBuffer]"==Object(ae.a)(t)},Zo=n(78),Qo=Zo.a&&Zo.a.isArrayBuffer,ta=Qo?Object(zi.a)(Qo):Jo;var ea=function(t){return!0===t||!1===t||Object(F.a)(t)&&"[object Boolean]"==Object(ae.a)(t)};var na=function(t){return Object(F.a)(t)&&"[object Date]"==Object(ae.a)(t)},ia=Zo.a&&Zo.a.isDate,ra=ia?Object(zi.a)(ia):na,oa=n(188),aa=n(207),sa=Object.prototype.hasOwnProperty;var ua=function(t){if(null==t)return!0;if(Object(Et.a)(t)&&(Object(j.a)(t)||"string"==typeof t||"function"==typeof t.splice||Object(Ii.a)(t)||Object(Mi.a)(t)||Object(Jt.a)(t)))return!t.length;var e=Object(hr.a)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Object(Pt.a)(t))return!Object(aa.a)(t).length;for(var n in t)if(sa.call(t,n))return!1;return!0},la=n(206),ca=n(253),da=_.a.isFinite;var fa=function(t){return"number"==typeof t&&da(t)};var ha=function(t){return"number"==typeof t&&t==c(t)},pa=n(198);var ga=function(t,e){return t===e||jn(t,e,Vn(e))};var ma=function(t,e,n){return n="function"==typeof n?n:void 0,jn(t,e,Vn(e),n)};var va=function(t){return"number"==typeof t||Object(F.a)(t)&&"[object Number]"==Object(ae.a)(t)};var ya=function(t){return va(t)&&t!=+t},_a=n(276),ba=n(210),wa=n(159),Ta=ba.a?ki.a:wa.a;var Sa=function(t){if(Ta(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Object(_a.a)(t)};var Oa=function(t){return null==t};var Ea=function(t){return null===t};var Pa=function(t){return Object(F.a)(t)&&"[object RegExp]"==Object(ae.a)(t)},Ca=Zo.a&&Zo.a.isRegExp,Aa=Ca?Object(zi.a)(Ca):Pa;var xa=function(t){return ha(t)&&t>=-9007199254740991&&t<=9007199254740991},Ia=n(197);var ka=function(t){return void 0===t};var Ma=function(t){return Object(F.a)(t)&&"[object WeakMap]"==Object(hr.a)(t)};var Ra=function(t){return Object(F.a)(t)&&"[object WeakSet]"==Object(ae.a)(t)};var Na=function(t){return Xn("function"==typeof t?t:Object(xn.a)(t,1))},Da=Array.prototype.join;var La=function(t,e){return null==t?"":Da.call(t,e)},ja=fn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Fa=ci((function(t,e,n){Object(he.a)(t,n,e)}));var Va=function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i},Ba=Math.max,Ua=Math.min;var Ha=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=c(n))<0?Ba(i+r,0):Ua(r,i-1)),e==e?Va(t,e,r):tt(t,et,r,!0)},Ga=fn((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Wa=Ne("toLowerCase");var za=function(t,e){return t<e},$a=go(za),qa=go((function(t,e){return t<=e}));var Ya=function(t,e){var n={};return e=Xn(e,3),ai(t,(function(t,i,r){Object(he.a)(n,e(t,i,r),t)})),n};var Ka=function(t,e){var n={};return e=Xn(e,3),ai(t,(function(t,i,r){Object(he.a)(n,i,e(t,i,r))})),n};var Xa=function(t){return Un(Object(xn.a)(t,1))};var Ja=function(t,e){return $n(t,Object(xn.a)(e,1))};var Za=function(t,e,n){for(var r=-1,o=t.length;++r<o;){var a=t[r],s=e(a);if(null!=s&&(void 0===u?s==s&&!Object(i.a)(s):n(s,u)))var u=s,l=a}return l};var Qa=function(t){return t&&t.length?Za(t,f.a,po):void 0};var ts=function(t,e){return t&&t.length?Za(t,Xn(e,2),po):void 0};var es=function(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n};var ns=function(t,e){var n=null==t?0:t.length;return n?es(t,e)/n:NaN};var is=function(t){return ns(t,f.a)};var rs=function(t,e){return ns(t,Xn(e,2))},os=Object(Ot.a)((function(t,e,n){Li(t,e,n)})),as=Object(oe.a)((function(t,e){return function(n){return Yo(n,t,e)}})),ss=Object(oe.a)((function(t,e){return function(n){return Yo(t,n,e)}}));var us=function(t){return t&&t.length?Za(t,f.a,za):void 0};var ls=function(t,e){return t&&t.length?Za(t,Xn(e,2),za):void 0};var cs=function(t,e,n){var i=Object(Ct.a)(e),r=uo(e,i),o=!(Object(v.a)(n)&&"chain"in n&&!n.chain),a=Object(ki.a)(t);return Object(Q.a)(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Object(V.a)(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Object(Kt.a)([this.value()],arguments))})})),t},ds=a((function(t,e){return t*e}),1);var fs=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}};var hs=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n},ps=n(167),gs=Xt.a?Xt.a.iterator:void 0;var ms=function(t){if(!t)return[];if(Object(Et.a)(t))return Object(Eo.a)(t)?Re(t):Object(V.a)(t);if(gs&&t[gs])return hs(t[gs]());var e=Object(hr.a)(t);return("[object Map]"==e?pr.a:"[object Set]"==e?ps.a:Co)(t)};var vs=function(){void 0===this.__values__&&(this.__values__=ms(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},ys=n(168);var _s=function(t,e){var n=t.length;if(n)return e+=e<0?n:0,Object(ct.a)(e,n)?t[e]:void 0};var bs=function(t,e){return t&&t.length?_s(t,c(e)):void 0};var ws=function(t){return t=c(t),Object(oe.a)((function(e){return _s(e,t)}))};var Ts=function(t,e){return e=Wt(e,t),null==(t=qo(t,e))||delete t[zt(Ki(e))]};var Ss=function(t){return Object(se.a)(t)?void 0:t},Os=n(202),Es=ie((function(t,e){var n={};if(null==t)return n;var i=!1;e=Object(Nn.a)(e,(function(e){return e=Wt(e,t),i||(i=e.length>1),e})),Object(St.a)(t,Object(Os.a)(t),n),i&&(n=Object(xn.a)(n,7,Ss));for(var r=e.length;r--;)Ts(n,e[r]);return n}));var Ps=function(t,e,n,i){if(!Object(v.a)(t))return t;for(var r=-1,o=(e=Wt(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=zt(e[r]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=i?i(c,u,s):void 0)&&(l=Object(v.a)(c)?c:Object(ct.a)(e[r+1])?[]:{})}Object(Tt.a)(s,u,l),s=s[u]}return t};var Cs=function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=$t(t,a);n(s,a)&&Ps(o,Wt(a,t),s)}return o};var As=function(t,e){if(null==t)return{};var n=Object(Nn.a)(Object(Os.a)(t),(function(t){return[t]}));return e=Xn(e),Cs(t,n,(function(t,n){return e(t,n[0])}))};var xs=function(t,e){return As(t,fs(Xn(e)))};var Is=function(t){return ce(2,t)};var ks=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t};var Ms=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,o=t==t,a=Object(i.a)(t),s=void 0!==e,u=null===e,l=e==e,c=Object(i.a)(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!l)return-1}return 0};var Rs=function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=Ms(r[i],o[i]);if(u)return i>=s?u:u*("desc"==n[i]?-1:1)}return t.index-e.index};var Ns=function(t,e,n){e=e.length?Object(Nn.a)(e,(function(t){return Object(j.a)(t)?function(e){return $t(e,1===t.length?t[0]:t)}:t})):[f.a];var i=-1;e=Object(Nn.a)(e,Object(zi.a)(Xn));var r=zr(t,(function(t,n,r){return{criteria:Object(Nn.a)(e,(function(e){return e(t)})),index:++i,value:t}}));return ks(r,(function(t,e){return Rs(t,e,n)}))};var Ds=function(t,e,n,i){return null==t?[]:(Object(j.a)(e)||(e=null==e?[]:[e]),n=i?void 0:n,Object(j.a)(n)||(n=null==n?[]:[n]),Ns(t,e,n))};var Ls=function(t){return ie((function(e){return e=Object(Nn.a)(e,Object(zi.a)(Xn)),Object(oe.a)((function(n){var i=this;return t(e,(function(t){return Object(w.a)(t,i,n)}))}))}))},js=Ls(Nn.a),Fs=oe.a,Vs=Math.min,Bs=Fs((function(t,e){var n=(e=1==e.length&&Object(j.a)(e[0])?Object(Nn.a)(e[0],Object(zi.a)(Xn)):Object(Nn.a)(te(e,1),Object(zi.a)(Xn))).length;return Object(oe.a)((function(i){for(var r=-1,o=Vs(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Object(w.a)(t,this,i)}))})),Us=Ls(Or),Hs=n(204),Gs=Ls(Hs.a),Ws=Math.floor;var zs=function(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ws(e/2))&&(t+=t)}while(e);return n},$s=qn("length"),qs="[\\ud800-\\udfff]",Ys="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ks="[^\\ud800-\\udfff]",Xs="(?:\\ud83c[\\udde6-\\uddff]){2}",Js="[\\ud800-\\udbff][\\udc00-\\udfff]",Zs="(?:"+Ys+"|\\ud83c[\\udffb-\\udfff])"+"?",Qs="[\\ufe0e\\ufe0f]?"+Zs+("(?:\\u200d(?:"+[Ks,Xs,Js].join("|")+")[\\ufe0e\\ufe0f]?"+Zs+")*"),tu="(?:"+[Ks+Ys+"?",Ys,Xs,Js,qs].join("|")+")",eu=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+tu+Qs,"g");var nu=function(t){for(var e=eu.lastIndex=0;eu.test(t);)++e;return e};var iu=function(t){return be(t)?nu(t):$s(t)},ru=Math.ceil;var ou=function(t,e){var n=(e=void 0===e?" ":Object(o.a)(e)).length;if(n<2)return n?zs(e,t):e;var i=zs(e,ru(t/iu(e)));return be(e)?ye(Re(i),0,t).join(""):i.slice(0,t)},au=Math.ceil,su=Math.floor;var uu=function(t,e,n){t=Object(Gt.a)(t);var i=(e=c(e))?iu(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return ou(su(r),n)+t+ou(au(r),n)};var lu=function(t,e,n){t=Object(Gt.a)(t);var i=(e=c(e))?iu(t):0;return e&&i<e?t+ou(e-i,n):t};var cu=function(t,e,n){t=Object(Gt.a)(t);var i=(e=c(e))?iu(t):0;return e&&i<e?ou(e-i,n)+t:t},du=/^\s+/,fu=_.a.parseInt;var hu=function(t,e,n){return n||null==e?e=0:e&&(e=+e),fu(Object(Gt.a)(t).replace(du,""),e||0)},pu=Object(oe.a)((function(t,e){var n=ht(e,lt(pu));return bt(t,32,void 0,e,n)}));pu.placeholder={};var gu=pu,mu=Object(oe.a)((function(t,e){var n=ht(e,lt(mu));return bt(t,64,void 0,e,n)}));mu.placeholder={};var vu=mu,yu=ci((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var _u=function(t,e){return Cs(t,e,(function(e,n){return zn(t,n)}))},bu=ie((function(t,e){return null==t?{}:_u(t,e)}));var wu=function(t){for(var e,n=this;n instanceof C;){var i=B(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e};var Tu=function(t){return function(e){return null==t?void 0:$t(t,e)}};var Su=function(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1},Ou=Array.prototype.splice;var Eu=function(t,e,n,i){var r=i?Su:it,o=-1,a=e.length,s=t;for(t===e&&(e=Object(V.a)(e)),n&&(s=Object(Nn.a)(t,Object(zi.a)(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=r(s,c,u,i))>-1;)s!==t&&Ou.call(s,u,1),Ou.call(t,u,1);return t};var Pu=function(t,e){return t&&t.length&&e&&e.length?Eu(t,e):t},Cu=Object(oe.a)(Pu);var Au=function(t,e,n){return t&&t.length&&e&&e.length?Eu(t,e,Xn(n,2)):t};var xu=function(t,e,n){return t&&t.length&&e&&e.length?Eu(t,e,void 0,n):t},Iu=Array.prototype.splice;var ku=function(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Object(ct.a)(r)?Iu.call(t,r,1):Ts(t,r)}}return t},Mu=ie((function(t,e){var n=null==t?0:t.length,i=Yt(t,e);return ku(t,Object(Nn.a)(e,(function(t){return Object(ct.a)(t,n)?+t:t})).sort(Ms)),i})),Ru=Math.floor,Nu=Math.random;var Du=function(t,e){return t+Ru(Nu()*(e-t+1))},Lu=parseFloat,ju=Math.min,Fu=Math.random;var Vu=function(t,e,n){if(n&&"boolean"!=typeof n&&Object(bn.a)(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=l(t),void 0===e?(e=t,t=0):e=l(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Fu();return ju(t+r*(e-t+Lu("1e-"+((r+"").length-1))),e)}return Du(t,e)},Bu=Math.ceil,Uu=Math.max;var Hu=function(t,e,n,i){for(var r=-1,o=Uu(Bu((e-t)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=t,t+=n;return a};var Gu=function(t){return function(e,n,i){return i&&"number"!=typeof i&&Object(bn.a)(e,n,i)&&(n=i=void 0),e=l(e),void 0===n?(n=e,e=0):n=l(n),i=void 0===i?e<n?1:-1:l(i),Hu(e,n,i,t)}},Wu=Gu(),zu=Gu(!0),$u=ie((function(t,e){return bt(t,256,void 0,void 0,void 0,e)}));var qu=function(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n};var Yu=function(t,e,n){var i=Object(j.a)(t)?je:qu,r=arguments.length<3;return i(t,Xn(e,4),n,r,ui)};var Ku=function(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n};var Xu=function(t,e,n){var i=Object(j.a)(t)?Ku:qu,r=arguments.length<3;return i(t,Xn(e,4),n,r,lr)};var Ju=function(t,e){return(Object(j.a)(t)?Ir.a:kr)(t,fs(Xn(e,3)))};var Zu=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Xn(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return ku(t,r),n};var Qu=function(t,e,n){return e=(n?Object(bn.a)(t,e,n):void 0===e)?1:c(e),zs(Object(Gt.a)(t),e)};var tl=function(){var t=arguments,e=Object(Gt.a)(t[0]);return t.length<3?e:e.replace(t[1],t[2])};var el=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=void 0===e?e:c(e),Object(oe.a)(t,e)};var nl=function(t,e,n){var i=-1,r=(e=Wt(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[zt(e[i])];void 0===o&&(i=r,o=n),t=Object(ki.a)(o)?o.call(t):o}return t},il=Array.prototype.reverse;var rl=function(t){return null==t?t:il.call(t)},ol=vn("round");var al=function(t){var e=t.length;return e?t[Du(0,e-1)]:void 0};var sl=function(t){return al(Co(t))};var ul=function(t){return(Object(j.a)(t)?al:sl)(t)};var ll=function(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Du(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t};var cl=function(t,e){return ll(Object(V.a)(t),On(e,0,t.length))};var dl=function(t,e){var n=Co(t);return ll(n,On(e,0,n.length))};var fl=function(t,e,n){return e=(n?Object(bn.a)(t,e,n):void 0===e)?1:c(e),(Object(j.a)(t)?cl:dl)(t,e)};var hl=function(t,e,n){return null==t?t:Ps(t,e,n)};var pl=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ps(t,e,n,i)};var gl=function(t){return ll(Object(V.a)(t))};var ml=function(t){return ll(Co(t))};var vl=function(t){return(Object(j.a)(t)?gl:ml)(t)};var yl=function(t){if(null==t)return 0;if(Object(Et.a)(t))return Object(Eo.a)(t)?iu(t):t.length;var e=Object(hr.a)(t);return"[object Map]"==e||"[object Set]"==e?t.size:Object(aa.a)(t).length};var _l=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Object(bn.a)(t,e,n)?(e=0,n=i):(e=null==e?0:c(e),n=void 0===n?i:c(n)),ve(t,e,n)):[]},bl=fn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var wl=function(t,e){var n;return ui(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n};var Tl=function(t,e,n){var i=Object(j.a)(t)?Hs.a:wl;return n&&Object(bn.a)(t,e,n)&&(e=void 0),i(t,Xn(e,3))},Sl=Object(oe.a)((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Object(bn.a)(t,e[0],e[1])?e=[]:n>2&&Object(bn.a)(e[0],e[1],e[2])&&(e=[e[0]]),Ns(t,te(e,1),[])})),Ol=Math.floor,El=Math.min;var Pl=function(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!=e,u=null===e,l=Object(i.a)(e),c=void 0===e;o<a;){var d=Ol((o+a)/2),f=n(t[d]),h=void 0!==f,p=null===f,g=f==f,m=Object(i.a)(f);if(s)var v=r||g;else v=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!m):!p&&!m&&(r?f<=e:f<e);v?o=d+1:a=d}return El(a,4294967294)};var Cl=function(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var a=r+o>>>1,s=t[a];null!==s&&!Object(i.a)(s)&&(n?s<=e:s<e)?r=a+1:o=a}return o}return Pl(t,e,f.a,n)};var Al=function(t,e){return Cl(t,e)};var xl=function(t,e,n){return Pl(t,e,Xn(n,2))};var Il=function(t,e){var n=null==t?0:t.length;if(n){var i=Cl(t,e);if(i<n&&Object(wi.a)(t[i],e))return i}return-1};var kl=function(t,e){return Cl(t,e,!0)};var Ml=function(t,e,n){return Pl(t,e,Xn(n,2),!0)};var Rl=function(t,e){if(null==t?0:t.length){var n=Cl(t,e,!0)-1;if(Object(wi.a)(t[n],e))return n}return-1};var Nl=function(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Object(wi.a)(s,u)){var u=s;o[r++]=0===a?0:a}}return o};var Dl=function(t){return t&&t.length?Nl(t):[]};var Ll=function(t,e){return t&&t.length?Nl(t,Xn(e,2)):[]};var jl=function(t,e,n){return n&&"number"!=typeof n&&Object(bn.a)(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=Object(Gt.a)(t))&&("string"==typeof e||null!=e&&!Aa(e))&&!(e=Object(o.a)(e))&&be(t)?ye(Re(t),0,n):t.split(e,n):[]},Fl=Math.max;var Vl=function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:Fl(c(e),0),Object(oe.a)((function(n){var i=n[e],r=ye(n,0,e);return i&&Object(Kt.a)(r,i),Object(w.a)(t,this,r)}))},Bl=fn((function(t,e,n){return t+(n?" ":"")+De(e)}));var Ul=function(t,e,n){return t=Object(Gt.a)(t),n=null==n?0:On(c(n),0,t.length),e=Object(o.a)(e),t.slice(n,n+e.length)==e},Hl=n(160);var Gl=function(){return{}};var Wl=function(){return""};var zl=function(){return!0},$l=a((function(t,e){return t-e}),0);var ql=function(t){return t&&t.length?es(t,f.a):0};var Yl=function(t,e){return t&&t.length?es(t,Xn(e,2)):0};var Kl=function(t){var e=null==t?0:t.length;return e?ve(t,1,e):[]};var Xl=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:c(e),ve(t,0,e<0?0:e)):[]};var Jl=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:c(e),ve(t,(e=i-e)<0?0:e,i)):[]};var Zl=function(t,e){return t&&t.length?er(t,Xn(e,3),!1,!0):[]};var Ql=function(t,e){return t&&t.length?er(t,Xn(e,3)):[]};var tc=function(t,e){return e(t),t},ec=Object.prototype,nc=ec.hasOwnProperty;var ic=function(t,e,n,i){return void 0===t||Object(wi.a)(t,ec[n])&&!nc.call(i,n)?e:t},rc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var oc=function(t){return"\\"+rc[t]},ac=/<%=([\s\S]+?)%>/g,sc={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ac,variable:"",imports:{_:{escape:Tr}}},uc=/\b__p \+= '';/g,lc=/\b(__p \+=) '' \+/g,cc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dc=/[()=,{}\[\]\/\s]/,fc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hc=/($^)/,pc=/['\n\r\u2028\u2029\\]/g,gc=Object.prototype.hasOwnProperty;var mc=function(t,e,n){var i=sc.imports._.templateSettings||sc;n&&Object(bn.a)(t,e,n)&&(e=void 0),t=Object(Gt.a)(t),e=Mt({},e,i,ic);var r,o,a=Mt({},e.imports,i.imports,ic),s=Object(Ct.a)(a),u=Po(a,s),l=0,c=e.interpolate||hc,d="__p += '",f=RegExp((e.escape||hc).source+"|"+c.source+"|"+(c===ac?fc:hc).source+"|"+(e.evaluate||hc).source+"|$","g"),h=gc.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(f,(function(e,n,i,a,s,u){return i||(i=a),d+=t.slice(l,u).replace(pc,oc),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),d+="';\n";var p=gc.call(e,"variable")&&e.variable;if(p){if(dc.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(uc,""):d).replace(lc,"$1").replace(cc,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=le((function(){return Function(s,h+"return "+d).apply(void 0,u)}));if(g.source=d,ue(g))throw g;return g};var vc=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(v.a)(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Object(_i.a)(t,e,{leading:i,maxWait:e,trailing:r})};var yc=function(t,e){return e(t)},_c=n(199),bc=Math.min;var wc=function(t,e){if((t=c(t))<1||t>9007199254740991)return[];var n=4294967295,i=bc(t,4294967295);e=rr(e),t-=4294967295;for(var r=Object(_c.a)(i,e);++n<t;)e(n);return r};var Tc=function(){return this};var Sc=function(t,e){var n=t;return n instanceof x&&(n=n.value()),je(e,(function(t,e){return e.func.apply(e.thisArg,Object(Kt.a)([t],e.args))}),n)};var Oc=function(){return Sc(this.__wrapped__,this.__actions__)};var Ec=function(t){return Object(Gt.a)(t).toLowerCase()};var Pc=function(t){return Object(j.a)(t)?Object(Nn.a)(t,zt):Object(i.a)(t)?[t]:Object(V.a)(Ht(Object(Gt.a)(t)))};var Cc=function(t){return t?On(c(t),-9007199254740991,9007199254740991):0===t?t:0};var Ac=function(t){return Object(Gt.a)(t).toUpperCase()},xc=n(165);var Ic=function(t,e,n){var i=Object(j.a)(t),r=i||Object(Ii.a)(t)||Object(Mi.a)(t);if(e=Xn(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Object(v.a)(t)&&Object(ki.a)(o)?Object(m.a)(Object(xc.a)(t)):{}}return(r?Q.a:ai)(t,(function(t,i,r){return e(n,t,i,r)})),n},kc=n(268);var Mc=function(t,e){for(var n=t.length;n--&&it(e,t[n],0)>-1;);return n};var Rc=function(t,e){for(var n=-1,i=t.length;++n<i&&it(e,t[n],0)>-1;);return n};var Nc=function(t,e,n){if((t=Object(Gt.a)(t))&&(n||void 0===e))return Object(kc.a)(t);if(!t||!(e=Object(o.a)(e)))return t;var i=Re(t),r=Re(e),a=Rc(i,r),s=Mc(i,r)+1;return ye(i,a,s).join("")},Dc=n(269);var Lc=function(t,e,n){if((t=Object(Gt.a)(t))&&(n||void 0===e))return t.slice(0,Object(Dc.a)(t)+1);if(!t||!(e=Object(o.a)(e)))return t;var i=Re(t),r=Mc(i,Re(e))+1;return ye(i,0,r).join("")},jc=/^\s+/;var Fc=function(t,e,n){if((t=Object(Gt.a)(t))&&(n||void 0===e))return t.replace(jc,"");if(!t||!(e=Object(o.a)(e)))return t;var i=Re(t),r=Rc(i,Re(e));return ye(i,r).join("")},Vc=/\w*$/;var Bc=function(t,e){var n=30,i="...";if(Object(v.a)(e)){var r="separator"in e?e.separator:r;n="length"in e?c(e.length):n,i="omission"in e?Object(o.a)(e.omission):i}var a=(t=Object(Gt.a)(t)).length;if(be(t)){var s=Re(t);a=s.length}if(n>=a)return t;var u=n-iu(i);if(u<1)return i;var l=s?ye(s,0,u).join(""):t.slice(0,u);if(void 0===r)return l+i;if(s&&(u+=l.length-u),Aa(r)){if(t.slice(u).search(r)){var d,f=l;for(r.global||(r=RegExp(r.source,Object(Gt.a)(Vc.exec(r))+"g")),r.lastIndex=0;d=r.exec(f);)var h=d.index;l=l.slice(0,void 0===h?u:h)}}else if(t.indexOf(Object(o.a)(r),u)!=u){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+i};var Uc=function(t){return wt(t,1)},Hc=Fe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Gc=/&(?:amp|lt|gt|quot|#39);/g,Wc=RegExp(Gc.source);var zc=function(t){return(t=Object(Gt.a)(t))&&Wc.test(t)?t.replace(Gc,Hc):t},$c=n(179),qc=$c.a&&1/Object(ps.a)(new $c.a([,-0]))[1]==1/0?function(t){return new $c.a(t)}:I;var Yc=function(t,e,n){var i=-1,r=rt,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=Wi;else if(o>=200){var l=e?null:qc(t);if(l)return Object(ps.a)(l);a=!1,r=$i.a,u=new Gi.a}else u=e?[]:s;t:for(;++i<o;){var c=t[i],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s},Kc=Object(oe.a)((function(t){return Yc(te(t,1,xi,!0))})),Xc=Object(oe.a)((function(t){var e=Ki(t);return xi(e)&&(e=void 0),Yc(te(t,1,xi,!0),Xn(e,2))})),Jc=Object(oe.a)((function(t){var e=Ki(t);return e="function"==typeof e?e:void 0,Yc(te(t,1,xi,!0),void 0,e)}));var Zc=function(t){return t&&t.length?Yc(t):[]};var Qc=function(t,e){return t&&t.length?Yc(t,Xn(e,2)):[]};var td=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Yc(t,void 0,e):[]},ed=0;var nd=function(t){var e=++ed;return Object(Gt.a)(t)+e};var id=function(t,e){return null==t||Ts(t,e)},rd=Math.max;var od=function(t){if(!t||!t.length)return[];var e=0;return t=Object(Ir.a)(t,(function(t){if(xi(t))return e=rd(t.length,e),!0})),Object(_c.a)(e,(function(e){return Object(Nn.a)(t,qn(e))}))};var ad=function(t,e){if(!t||!t.length)return[];var n=od(t);return null==e?n:Object(Nn.a)(n,(function(t){return Object(w.a)(e,void 0,t)}))};var sd=function(t,e,n,i){return Ps(t,e,n($t(t,e)),i)};var ud=function(t,e,n){return null==t?t:sd(t,e,rr(n))};var ld=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:sd(t,e,rr(n),i)},cd=fn((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}));var dd=function(t){return null==t?[]:Po(t,Object(kt.a)(t))},fd=Object(oe.a)((function(t,e){return xi(t)?qi(t,e):[]}));var hd=function(t,e){return gu(rr(e),t)},pd=ie((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Yt(e,t)};return!(e>1||this.__actions__.length)&&i instanceof x&&Object(ct.a)(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:yc,args:[r],thisArg:void 0}),new L(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var gd=function(){return _n(this)};var md=function(){var t=this.__wrapped__;if(t instanceof x){var e=t;return this.__actions__.length&&(e=new x(this)),(e=e.reverse()).__actions__.push({func:yc,args:[rl],thisArg:void 0}),new L(e,this.__chain__)}return this.thru(rl)};var vd=function(t,e,n){var i=t.length;if(i<2)return i?Yc(t[0]):[];for(var r=-1,o=Array(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=qi(o[r]||a,t[s],e,n));return Yc(te(o,1),e,n)},yd=Object(oe.a)((function(t){return vd(Object(Ir.a)(t,xi))})),_d=Object(oe.a)((function(t){var e=Ki(t);return xi(e)&&(e=void 0),vd(Object(Ir.a)(t,xi),Xn(e,2))})),bd=Object(oe.a)((function(t){var e=Ki(t);return e="function"==typeof e?e:void 0,vd(Object(Ir.a)(t,xi),void 0,e)})),wd=Object(oe.a)(od);var Td=function(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:void 0;n(a,t[i],s)}return a};var Sd=function(t,e){return Td(t||[],e||[],Tt.a)};var Od=function(t,e){return Td(t||[],e||[],Ps)},Ed=Object(oe.a)((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,ad(t,n)})),Pd={chunk:Sn,compact:Mn,concat:Rn,difference:Yi,differenceBy:Xi,differenceWith:Ji,drop:Qi,dropRight:tr,dropRightWhile:nr,dropWhile:ir,fill:xr,findIndex:Dr,findLastIndex:Ur,first:Wr,flatten:ee,flattenDeep:Xr,flattenDepth:Jr,fromPairs:so,head:Wr,indexOf:ko,initial:Mo,intersection:Lo,intersectionBy:jo,intersectionWith:Fo,join:La,last:Ki,lastIndexOf:Ha,nth:bs,pull:Cu,pullAll:Pu,pullAllBy:Au,pullAllWith:xu,pullAt:Mu,remove:Zu,reverse:rl,slice:_l,sortedIndex:Al,sortedIndexBy:xl,sortedIndexOf:Il,sortedLastIndex:kl,sortedLastIndexBy:Ml,sortedLastIndexOf:Rl,sortedUniq:Dl,sortedUniqBy:Ll,tail:Kl,take:Xl,takeRight:Jl,takeRightWhile:Zl,takeWhile:Ql,union:Kc,unionBy:Xc,unionWith:Jc,uniq:Zc,uniqBy:Qc,uniqWith:td,unzip:od,unzipWith:ad,without:fd,xor:yd,xorBy:_d,xorWith:bd,zip:wd,zipObject:Sd,zipObjectDeep:Od,zipWith:Ed},Cd={countBy:fi,each:or,eachRight:cr,every:Pr,filter:Mr,find:Lr,findLast:Hr,flatMap:qr,flatMapDeep:Yr,flatMapDepth:Kr,forEach:or,forEachRight:cr,groupBy:ho,includes:xo,invokeMap:Xo,keyBy:Fa,map:$r,orderBy:Ds,partition:yu,reduce:Yu,reduceRight:Xu,reject:Ju,sample:ul,sampleSize:fl,shuffle:vl,size:yl,some:Tl,sortBy:Sl},Ad={now:ys.a},xd={after:d,ary:wt,before:ce,bind:fe,bindKey:me,curry:mi,curryRight:yi,debounce:_i.a,defer:Ui,delay:Hi,flip:Zr,memoize:Vt,negate:fs,once:Is,overArgs:Bs,partial:gu,partialRight:vu,rearg:$u,rest:el,spread:Vl,throttle:vc,unary:Uc,wrap:hd},Id={castArray:pn,clone:Pn.a,cloneDeep:Cn.a,cloneDeepWith:An.a,cloneWith:In,conformsTo:ei,eq:wi.a,gt:mo,gte:vo,isArguments:Jt.a,isArray:j.a,isArrayBuffer:ta,isArrayLike:Et.a,isArrayLikeObject:xi,isBoolean:ea,isBuffer:Ii.a,isDate:ra,isElement:oa.a,isEmpty:ua,isEqual:la.a,isEqualWith:ca.a,isError:ue,isFinite:fa,isFunction:ki.a,isInteger:ha,isLength:Gn.a,isMap:pa.a,isMatch:ga,isMatchWith:ma,isNaN:ya,isNative:Sa,isNil:Oa,isNull:Ea,isNumber:va,isObject:v.a,isObjectLike:F.a,isPlainObject:se.a,isRegExp:Aa,isSafeInteger:xa,isSet:Ia.a,isString:Eo.a,isSymbol:i.a,isTypedArray:Mi.a,isUndefined:ka,isWeakMap:Ma,isWeakSet:Ra,lt:$a,lte:qa,toArray:ms,toFinite:l,toInteger:c,toLength:Cr,toNumber:u.a,toPlainObject:Ni,toSafeInteger:Cc,toString:Gt.a},kd={add:s,ceil:yn,divide:Zi,floor:Qr,max:Qa,maxBy:ts,mean:is,meanBy:rs,min:us,minBy:ls,multiply:ds,round:ol,subtract:$l,sum:ql,sumBy:Yl},Md={clamp:En,inRange:Oo,random:Vu},Rd={assign:xt,assignIn:It.a,assignInWith:Mt,assignWith:Rt,at:re,create:pi,defaults:Oi,defaultsDeep:Vi,entries:vr,entriesIn:yr,extend:It.a,extendWith:Mt,findKey:Fr,findLastKey:Gr,forIn:io,forInRight:ro,forOwn:oo,forOwnRight:ao,functions:lo,functionsIn:co,get:qt,has:bo,hasIn:zn,invert:Ho,invertBy:$o,invoke:Ko,keys:Ct.a,keysIn:kt.a,mapKeys:Ya,mapValues:Ka,merge:os,mergeWith:Fi,omit:Es,omitBy:xs,pick:bu,pickBy:As,result:nl,set:hl,setWith:pl,toPairs:vr,toPairsIn:yr,transform:Ic,unset:id,update:ud,updateWith:ld,values:Co,valuesIn:dd},Nd={at:pd,chain:_n,commit:kn,lodash:G,next:vs,plant:wu,reverse:md,tap:tc,thru:yc,toIterator:Tc,toJSON:Oc,value:Oc,valueOf:Oc,wrapperChain:gd},Dd={camelCase:hn,capitalize:Le,deburr:He,endsWith:dr,escape:Tr,escapeRegExp:Sr.a,kebabCase:ja,lowerCase:Ga,lowerFirst:Wa,pad:uu,padEnd:lu,padStart:cu,parseInt:hu,repeat:Qu,replace:tl,snakeCase:bl,split:jl,startCase:Bl,startsWith:Ul,template:mc,templateSettings:sc,toLower:Ec,toUpper:Ac,trim:Nc,trimEnd:Lc,trimStart:Fc,truncate:Bc,unescape:zc,upperCase:cd,upperFirst:De,words:cn},Ld={attempt:le,bindAll:pe,cond:Jn,conforms:ti,constant:ni.a,defaultTo:bi,flow:eo,flowRight:no,identity:f.a,iteratee:Na,matches:Xa,matchesProperty:Ja,method:as,methodOf:ss,mixin:cs,noop:I,nthArg:ws,over:js,overEvery:Us,overSome:Gs,property:Kn,propertyOf:Tu,range:Wu,rangeRight:zu,stubArray:Hl.a,stubFalse:wa.a,stubObject:Gl,stubString:Wl,stubTrue:zl,times:wc,toPath:Pc,uniqueId:nd};var jd=function(){var t=new x(this.__wrapped__);return t.__actions__=Object(V.a)(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Object(V.a)(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Object(V.a)(this.__views__),t};var Fd=function(){if(this.__filtered__){var t=new x(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vd=Math.max,Bd=Math.min;var Ud=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Bd(e,t+a);break;case"takeRight":t=Vd(t,e-a)}}return{start:t,end:e}},Hd=Math.min;var Gd,Wd,zd=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Object(j.a)(t),i=e<0,r=n?t.length:0,o=Ud(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=Hd(u,this.__takeCount__);if(!n||!i&&r==u&&h==u)return Sc(t,this.__actions__);var p=[];t:for(;u--&&f<h;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[f++]=m}return p},$d=Array.prototype,qd=Object.prototype.hasOwnProperty,Yd=Xt.a?Xt.a.iterator:void 0,Kd=Math.max,Xd=Math.min,Jd=(Gd=cs,function(t,e,n){if(null==n){var i=Object(v.a)(e),r=i&&Object(Ct.a)(e),o=r&&r.length&&uo(e,r);(o?o.length:i)||(n=e,e=t,t=this)}return Gd(t,e,n)});
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */G.after=xd.after,G.ary=xd.ary,G.assign=Rd.assign,G.assignIn=Rd.assignIn,G.assignInWith=Rd.assignInWith,G.assignWith=Rd.assignWith,G.at=Rd.at,G.before=xd.before,G.bind=xd.bind,G.bindAll=Ld.bindAll,G.bindKey=xd.bindKey,G.castArray=Id.castArray,G.chain=Nd.chain,G.chunk=Pd.chunk,G.compact=Pd.compact,G.concat=Pd.concat,G.cond=Ld.cond,G.conforms=Ld.conforms,G.constant=Ld.constant,G.countBy=Cd.countBy,G.create=Rd.create,G.curry=xd.curry,G.curryRight=xd.curryRight,G.debounce=xd.debounce,G.defaults=Rd.defaults,G.defaultsDeep=Rd.defaultsDeep,G.defer=xd.defer,G.delay=xd.delay,G.difference=Pd.difference,G.differenceBy=Pd.differenceBy,G.differenceWith=Pd.differenceWith,G.drop=Pd.drop,G.dropRight=Pd.dropRight,G.dropRightWhile=Pd.dropRightWhile,G.dropWhile=Pd.dropWhile,G.fill=Pd.fill,G.filter=Cd.filter,G.flatMap=Cd.flatMap,G.flatMapDeep=Cd.flatMapDeep,G.flatMapDepth=Cd.flatMapDepth,G.flatten=Pd.flatten,G.flattenDeep=Pd.flattenDeep,G.flattenDepth=Pd.flattenDepth,G.flip=xd.flip,G.flow=Ld.flow,G.flowRight=Ld.flowRight,G.fromPairs=Pd.fromPairs,G.functions=Rd.functions,G.functionsIn=Rd.functionsIn,G.groupBy=Cd.groupBy,G.initial=Pd.initial,G.intersection=Pd.intersection,G.intersectionBy=Pd.intersectionBy,G.intersectionWith=Pd.intersectionWith,G.invert=Rd.invert,G.invertBy=Rd.invertBy,G.invokeMap=Cd.invokeMap,G.iteratee=Ld.iteratee,G.keyBy=Cd.keyBy,G.keys=Ct.a,G.keysIn=Rd.keysIn,G.map=Cd.map,G.mapKeys=Rd.mapKeys,G.mapValues=Rd.mapValues,G.matches=Ld.matches,G.matchesProperty=Ld.matchesProperty,G.memoize=xd.memoize,G.merge=Rd.merge,G.mergeWith=Rd.mergeWith,G.method=Ld.method,G.methodOf=Ld.methodOf,G.mixin=Jd,G.negate=fs,G.nthArg=Ld.nthArg,G.omit=Rd.omit,G.omitBy=Rd.omitBy,G.once=xd.once,G.orderBy=Cd.orderBy,G.over=Ld.over,G.overArgs=xd.overArgs,G.overEvery=Ld.overEvery,G.overSome=Ld.overSome,G.partial=xd.partial,G.partialRight=xd.partialRight,G.partition=Cd.partition,G.pick=Rd.pick,G.pickBy=Rd.pickBy,G.property=Ld.property,G.propertyOf=Ld.propertyOf,G.pull=Pd.pull,G.pullAll=Pd.pullAll,G.pullAllBy=Pd.pullAllBy,G.pullAllWith=Pd.pullAllWith,G.pullAt=Pd.pullAt,G.range=Ld.range,G.rangeRight=Ld.rangeRight,G.rearg=xd.rearg,G.reject=Cd.reject,G.remove=Pd.remove,G.rest=xd.rest,G.reverse=Pd.reverse,G.sampleSize=Cd.sampleSize,G.set=Rd.set,G.setWith=Rd.setWith,G.shuffle=Cd.shuffle,G.slice=Pd.slice,G.sortBy=Cd.sortBy,G.sortedUniq=Pd.sortedUniq,G.sortedUniqBy=Pd.sortedUniqBy,G.split=Dd.split,G.spread=xd.spread,G.tail=Pd.tail,G.take=Pd.take,G.takeRight=Pd.takeRight,G.takeRightWhile=Pd.takeRightWhile,G.takeWhile=Pd.takeWhile,G.tap=Nd.tap,G.throttle=xd.throttle,G.thru=yc,G.toArray=Id.toArray,G.toPairs=Rd.toPairs,G.toPairsIn=Rd.toPairsIn,G.toPath=Ld.toPath,G.toPlainObject=Id.toPlainObject,G.transform=Rd.transform,G.unary=xd.unary,G.union=Pd.union,G.unionBy=Pd.unionBy,G.unionWith=Pd.unionWith,G.uniq=Pd.uniq,G.uniqBy=Pd.uniqBy,G.uniqWith=Pd.uniqWith,G.unset=Rd.unset,G.unzip=Pd.unzip,G.unzipWith=Pd.unzipWith,G.update=Rd.update,G.updateWith=Rd.updateWith,G.values=Rd.values,G.valuesIn=Rd.valuesIn,G.without=Pd.without,G.words=Dd.words,G.wrap=xd.wrap,G.xor=Pd.xor,G.xorBy=Pd.xorBy,G.xorWith=Pd.xorWith,G.zip=Pd.zip,G.zipObject=Pd.zipObject,G.zipObjectDeep=Pd.zipObjectDeep,G.zipWith=Pd.zipWith,G.entries=Rd.toPairs,G.entriesIn=Rd.toPairsIn,G.extend=Rd.assignIn,G.extendWith=Rd.assignInWith,Jd(G,G),G.add=kd.add,G.attempt=Ld.attempt,G.camelCase=Dd.camelCase,G.capitalize=Dd.capitalize,G.ceil=kd.ceil,G.clamp=Md.clamp,G.clone=Id.clone,G.cloneDeep=Id.cloneDeep,G.cloneDeepWith=Id.cloneDeepWith,G.cloneWith=Id.cloneWith,G.conformsTo=Id.conformsTo,G.deburr=Dd.deburr,G.defaultTo=Ld.defaultTo,G.divide=kd.divide,G.endsWith=Dd.endsWith,G.eq=Id.eq,G.escape=Dd.escape,G.escapeRegExp=Dd.escapeRegExp,G.every=Cd.every,G.find=Cd.find,G.findIndex=Pd.findIndex,G.findKey=Rd.findKey,G.findLast=Cd.findLast,G.findLastIndex=Pd.findLastIndex,G.findLastKey=Rd.findLastKey,G.floor=kd.floor,G.forEach=Cd.forEach,G.forEachRight=Cd.forEachRight,G.forIn=Rd.forIn,G.forInRight=Rd.forInRight,G.forOwn=Rd.forOwn,G.forOwnRight=Rd.forOwnRight,G.get=Rd.get,G.gt=Id.gt,G.gte=Id.gte,G.has=Rd.has,G.hasIn=Rd.hasIn,G.head=Pd.head,G.identity=f.a,G.includes=Cd.includes,G.indexOf=Pd.indexOf,G.inRange=Md.inRange,G.invoke=Rd.invoke,G.isArguments=Id.isArguments,G.isArray=j.a,G.isArrayBuffer=Id.isArrayBuffer,G.isArrayLike=Id.isArrayLike,G.isArrayLikeObject=Id.isArrayLikeObject,G.isBoolean=Id.isBoolean,G.isBuffer=Id.isBuffer,G.isDate=Id.isDate,G.isElement=Id.isElement,G.isEmpty=Id.isEmpty,G.isEqual=Id.isEqual,G.isEqualWith=Id.isEqualWith,G.isError=Id.isError,G.isFinite=Id.isFinite,G.isFunction=Id.isFunction,G.isInteger=Id.isInteger,G.isLength=Id.isLength,G.isMap=Id.isMap,G.isMatch=Id.isMatch,G.isMatchWith=Id.isMatchWith,G.isNaN=Id.isNaN,G.isNative=Id.isNative,G.isNil=Id.isNil,G.isNull=Id.isNull,G.isNumber=Id.isNumber,G.isObject=v.a,G.isObjectLike=Id.isObjectLike,G.isPlainObject=Id.isPlainObject,G.isRegExp=Id.isRegExp,G.isSafeInteger=Id.isSafeInteger,G.isSet=Id.isSet,G.isString=Id.isString,G.isSymbol=Id.isSymbol,G.isTypedArray=Id.isTypedArray,G.isUndefined=Id.isUndefined,G.isWeakMap=Id.isWeakMap,G.isWeakSet=Id.isWeakSet,G.join=Pd.join,G.kebabCase=Dd.kebabCase,G.last=Ki,G.lastIndexOf=Pd.lastIndexOf,G.lowerCase=Dd.lowerCase,G.lowerFirst=Dd.lowerFirst,G.lt=Id.lt,G.lte=Id.lte,G.max=kd.max,G.maxBy=kd.maxBy,G.mean=kd.mean,G.meanBy=kd.meanBy,G.min=kd.min,G.minBy=kd.minBy,G.stubArray=Ld.stubArray,G.stubFalse=Ld.stubFalse,G.stubObject=Ld.stubObject,G.stubString=Ld.stubString,G.stubTrue=Ld.stubTrue,G.multiply=kd.multiply,G.nth=Pd.nth,G.noop=Ld.noop,G.now=Ad.now,G.pad=Dd.pad,G.padEnd=Dd.padEnd,G.padStart=Dd.padStart,G.parseInt=Dd.parseInt,G.random=Md.random,G.reduce=Cd.reduce,G.reduceRight=Cd.reduceRight,G.repeat=Dd.repeat,G.replace=Dd.replace,G.result=Rd.result,G.round=kd.round,G.sample=Cd.sample,G.size=Cd.size,G.snakeCase=Dd.snakeCase,G.some=Cd.some,G.sortedIndex=Pd.sortedIndex,G.sortedIndexBy=Pd.sortedIndexBy,G.sortedIndexOf=Pd.sortedIndexOf,G.sortedLastIndex=Pd.sortedLastIndex,G.sortedLastIndexBy=Pd.sortedLastIndexBy,G.sortedLastIndexOf=Pd.sortedLastIndexOf,G.startCase=Dd.startCase,G.startsWith=Dd.startsWith,G.subtract=kd.subtract,G.sum=kd.sum,G.sumBy=kd.sumBy,G.template=Dd.template,G.times=Ld.times,G.toFinite=Id.toFinite,G.toInteger=c,G.toLength=Id.toLength,G.toLower=Dd.toLower,G.toNumber=Id.toNumber,G.toSafeInteger=Id.toSafeInteger,G.toString=Id.toString,G.toUpper=Dd.toUpper,G.trim=Dd.trim,G.trimEnd=Dd.trimEnd,G.trimStart=Dd.trimStart,G.truncate=Dd.truncate,G.unescape=Dd.unescape,G.uniqueId=Ld.uniqueId,G.upperCase=Dd.upperCase,G.upperFirst=Dd.upperFirst,G.each=Cd.forEach,G.eachRight=Cd.forEachRight,G.first=Pd.head,Jd(G,(Wd={},ai(G,(function(t,e){qd.call(G.prototype,e)||(Wd[e]=t)})),Wd),{chain:!1}),G.VERSION="4.17.21",(G.templateSettings=Dd.templateSettings).imports._=G,Object(Q.a)(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){G[t].placeholder=G})),Object(Q.a)(["drop","take"],(function(t,e){x.prototype[t]=function(n){n=void 0===n?1:Kd(c(n),0);var i=this.__filtered__&&!e?new x(this):this.clone();return i.__filtered__?i.__takeCount__=Xd(n,i.__takeCount__):i.__views__.push({size:Xd(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},x.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Object(Q.a)(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;x.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Object(Q.a)(["head","last"],(function(t,e){var n="take"+(e?"Right":"");x.prototype[t]=function(){return this[n](1).value()[0]}})),Object(Q.a)(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");x.prototype[t]=function(){return this.__filtered__?new x(this):this[n](1)}})),x.prototype.compact=function(){return this.filter(f.a)},x.prototype.find=function(t){return this.filter(t).head()},x.prototype.findLast=function(t){return this.reverse().find(t)},x.prototype.invokeMap=Object(oe.a)((function(t,e){return"function"==typeof t?new x(this):this.map((function(n){return Yo(n,t,e)}))})),x.prototype.reject=function(t){return this.filter(fs(Xn(t)))},x.prototype.slice=function(t,e){t=c(t);var n=this;return n.__filtered__&&(t>0||e<0)?new x(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=c(e))<0?n.dropRight(-e):n.take(e-t)),n)},x.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},x.prototype.toArray=function(){return this.take(4294967295)},ai(x.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=G[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(G.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof x,u=a[0],l=s||Object(j.a)(e),c=function(t){var e=r.apply(G,Object(Kt.a)([t],a));return i&&d?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,f=!!this.__actions__.length,h=o&&!d,p=s&&!f;if(!o&&l){e=p?e:new x(this);var g=t.apply(e,a);return g.__actions__.push({func:yc,args:[c],thisArg:void 0}),new L(g,d)}return h&&p?t.apply(this,a):(g=this.thru(c),h?i?g.value()[0]:g.value():g)})})),Object(Q.a)(["pop","push","shift","sort","splice","unshift"],(function(t){var e=$d[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);G.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Object(j.a)(r)?r:[],t)}return this[n]((function(n){return e.apply(Object(j.a)(n)?n:[],t)}))}})),ai(x.prototype,(function(t,e){var n=G[e];if(n){var i=n.name+"";qd.call(M,i)||(M[i]=[]),M[i].push({name:e,func:n})}})),M[pt(void 0,2).name]=[{name:"wrapper",func:void 0}],x.prototype.clone=jd,x.prototype.reverse=Fd,x.prototype.value=zd,G.prototype.at=Nd.at,G.prototype.chain=Nd.wrapperChain,G.prototype.commit=Nd.commit,G.prototype.next=Nd.next,G.prototype.plant=Nd.plant,G.prototype.reverse=Nd.reverse,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Nd.value,G.prototype.first=G.prototype.head,Yd&&(G.prototype[Yd]=Nd.toIterator);var Zd=G;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */},function(t,e,n){"use strict";var i=n(37),r=n(18);e.a=function(t){return"symbol"==typeof t||Object(r.a)(t)&&"[object Symbol]"==Object(i.a)(t)}},function(t,e,n){"use strict";e.a=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(328),e)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n(35)),s=i(n(9)),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}var e,n,i;return e=t,i=[{key:"isContextPlugin",get:function(){return!1}}],(n=[{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",l,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",l),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){t.return=!1,t.stop()}e.default=u,s.default(u,a.default)},function(t,e,n){"use strict";e.a=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){"use strict";e.a=function(t){return function(e){return t(e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8)),o=n(52),a={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]},isEditorEnabled:function(){return this.hasFeature(o.FeatureFlagName.EDIT_IN_PREVIEW)||this.hasFeature(o.FeatureFlagName.EDITOR_FOR_CREATORS)}};e.default=a},function(t,e,n){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(22).a.Symbol;e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n(54),r=n(34),o=n(4),a=n(2),s=n.n(a),u=n(91),l=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class c extends i.a{constructor(t,e,n,i,r){super(r),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new o.default(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new s.a(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new o.default(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new r.a(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new l.default("merge-operation-source-position-invalid",this);if(!e.parent)throw new l.default("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new l.default("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent,e=s.a._createIn(t);Object(u.b)(e,this.targetPosition),Object(u.b)(s.a._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=o.default.fromJSON(t.sourcePosition,e),i=o.default.fromJSON(t.targetPosition,e),r=o.default.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,r,t.baseVersion)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagName=void 0,function(t){t.PASSWORD_PROTECTED_EXPERIENCES="Password Protected Experiences",t.GETTY_IMAGES="Getty Image Integration",t.GETTY_VIDEOS="Getty Video Integration",t.ACCESSIBILITY="Accessibility",t.PROTECTED_PREVIEW="(BETA) Protected Preview",t.POSITION_INTERACTIONS="Position Interactions",t.COOKIE_COMPLIANCE="Cookie Compliance",t.EDIT_IN_PREVIEW="Editor",t.EDITOR_FOR_CREATORS="Editor for Creators",t.EDITOR_DEBUG_MODE="Editor Debug Mode",t.EDITOR_IMAGE_CROP="Editor Image Crop And Resize",t.NEW_TEXT_TOOL="New Text Tool",t.STUDIO_API="Studio API",t.SSO_PROTECTED_EXPERIENCES="SSO Protected Experiences",t.ADMIN_REDESIGN="Admin Redesign",t.IMPROVED_TEAM_MANAGEMENT="Improved Team Management",t.STUDIO_REDESIGN="Studio Redesign",t.LISTS_AND_BULLETS="(New Text Tool) List And Bullets",t.SUBSCRIPT_AND_SUPERSCRIPT="(New Text Tool) Subscript And Superscript",t.TEXT_PLUS_HTML_ELEMENT="(New Text Tool) Html Element",t.TEXT_PLUS_OBJECT_STATES="(New Text Tool) Object States",t.SPELLCHECK="(New Text Tool) Spellcheck",t.ZENDESK_SUPPORT="Zendesk Support",t.REMOVE_WINDOW_EVAL="Remove window.eval",t.GENIE="Genie"}(e.FeatureFlagName||(e.FeatureFlagName={}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return!(!t||!t[Symbol.iterator])}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class i{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,n={};if(-1===(t=String(t)).indexOf("?"))return n;var i=t.split("?")[1];if(r.default.isEmpty(i))return n;i=i.split("&");for(var o=0;o<i.length;o++)-1===i[o].indexOf("=")?n[decodeURIComponent(i[o])]=void 0:(e=i[o].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return n},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,n){if(r.default.isEmpty(e))return t;var i="",o=t.lastIndexOf("#");-1!==o&&(i=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var i=n?e:encodeURIComponent(e);r.default.isUndefined(t)||(n||(t=encodeURIComponent(t)),i+="="+t),s.push(i)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+i},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var n=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+n+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+n+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+n+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],n=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return n&&e?window.cerosBaseUrl+t.slice(1):n||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var n=s.getUrlParams(t);return r.default.find(n,(function(t,n){if(n.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var n=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:n+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperiencePath:function(){var t=window.location.pathname,e=o.default.previewMode?t.search(/\/page\/page-.+/g):t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t}};e.default=s},function(t,e,n){"use strict"},function(t,e,n){"use strict";var i=n(50),r=n(19),o=n(5),a=n(42),s=i.a?i.a.prototype:void 0,u=s?s.toString:void 0;e.a=function t(e){if("string"==typeof e)return e;if(Object(o.a)(e))return Object(r.a)(e,t)+"";if(Object(a.a)(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){"use strict";var i=n(268),r=n(16),o=n(42),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.a=function(t){if("number"==typeof t)return t;if(Object(o.a)(t))return NaN;if(Object(r.a)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Object(r.a)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Object(i.a)(t);var n=s.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return"[object Text]"==Object.prototype.toString.call(t)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";var i,r,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(s,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,d=/\s+/,f=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,i){var o=this.cache,a=o[e];return null==a&&(a=o[e]=function(e,i){if(!e)return[];var o,a,s,l=[],m=[],v=[],y=!1,_=!1;function b(){if(y&&!_)for(;v.length;)delete m[v.pop()];else v=[];y=!1,_=!1}function w(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}w(i||t.tags);for(var T,S,O,E,P,C,A=new g(e);!A.eos();){if(T=A.pos,O=A.scanUntil(o))for(var x=0,I=O.length;x<I;++x)u(E=O.charAt(x))?v.push(m.length):_=!0,m.push(["text",E,T,T+1]),T+=1,"\n"===E&&b();if(!A.scan(o))break;if(y=!0,S=A.scan(p)||"name",A.scan(c),"="===S?(O=A.scanUntil(f),A.scan(f),A.scanUntil(a)):"{"===S?(O=A.scanUntil(s),A.scan(h),A.scanUntil(a),S="&"):O=A.scanUntil(a),!A.scan(a))throw new Error("Unclosed tag at "+A.pos);if(P=[S,O,T,A.pos],m.push(P),"#"===S||"^"===S)l.push(P);else if("/"===S){if(!(C=l.pop()))throw new Error('Unopened section "'+O+'" at '+T);if(C[1]!==O)throw new Error('Unclosed section "'+C[1]+'" at '+T)}else"name"===S||"{"===S||"&"===S?_=!0:"="===S&&w(O)}if(C=l.pop())throw new Error('Unclosed section "'+C[1]+'" at '+A.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(m))}(e,i)),a},v.prototype.render=function(t,e,n){var i=this.parse(t),r=e instanceof m?e:new m(e);return this.renderTokens(i,r,n,t)},v.prototype.renderTokens=function(t,e,n,i){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,n,i):"^"===o?a=this.renderInverted(r,e,n,i):">"===o?a=this.renderPartial(r,e,n,i):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(n(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(i(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},v.prototype.renderInverted=function(t,e,i,r){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,i,r)},v.prototype.renderPartial=function(t,e,n){if(n){var r=i(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),e,n,r):void 0}},v.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var y=new v;t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(t,e,i)},t.to_html=function(e,n,r,o){var a=t.render(e,n,r);if(!i(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return l[t]}))},t.Scanner=g,t.Context=m,t.Writer=v},e&&"string"!=typeof e.nodeName?a(e):(r=[e],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o))},function(t,e,n){"use strict";var i=n(37),r=n(16);e.a=function(t){if(!Object(r.a)(t))return!1;var e=Object(i.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){"use strict";var i=n(135),r=n(73);e.a=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?Object(r.a)(n,l,c):Object(i.a)(n,l,c)}return n}},function(t,e,n){"use strict";var i=n(37),r=n(165),o=n(18),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);e.a=function(t){if(!Object(o.a)(t)||"[object Object]"!=Object(i.a)(t))return!1;var e=Object(r.a)(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(54),r=n(4),o=n(137),a=n(28),s=n(91),u=n(27),l=n(25),c=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class d extends i.a{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new o.a(Object(s.c)(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new o.a([...this.nodes].map(t=>t._clone(!0))),e=new d(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new r.default(t,[0]);return new a.a(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new c.default("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new o.a([...t].map(t=>t._clone(!0))),Object(s.a)(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(l.default.fromJSON(e)):n.push(u.default.fromJSON(e));const i=new d(r.default.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(54),r=n(2),o=n.n(r),a=n(1),s=n(91),u=n(206);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class l extends i.a{constructor(t,e,n,i,r){super(r),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new l(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new l(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new a.default("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Object(u.a)(t.getAttribute(this.key),this.oldValue))throw new a.default("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new a.default("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){Object(u.a)(this.oldValue,this.newValue)||Object(s.e)(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new l(o.a.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(706));e.default=a},function(t,e,n){"use strict";var i=n(104),r=n(22),o=Object(i.a)(r.a,"DataView"),a=n(175),s=Object(i.a)(r.a,"Promise"),u=n(179),l=n(192),c=n(37),d=n(152),f=Object(d.a)(o),h=Object(d.a)(a.a),p=Object(d.a)(s),g=Object(d.a)(u.a),m=Object(d.a)(l.a),v=c.a;(o&&"[object DataView]"!=v(new o(new ArrayBuffer(1)))||a.a&&"[object Map]"!=v(new a.a)||s&&"[object Promise]"!=v(s.resolve())||u.a&&"[object Set]"!=v(new u.a)||l.a&&"[object WeakMap]"!=v(new l.a))&&(v=function(t){var e=Object(c.a)(t),n="[object Object]"==e?t.constructor:void 0,i=n?Object(d.a)(n):"";if(i)switch(i){case f:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case g:return"[object Set]";case m:return"[object WeakMap]"}return e});e.a=v},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.VIEWPORT_TOP_ID=e.MAIN_CONTENT_LINK_DEFAULT_TEXT=e.SECTION_DEFAULTS=e.MODEL_DEFAULTS=e.properties=e.DEFAULT_LANDMARK_TAG=e.HTML_LANDMARK_TAGS=void 0,e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel",SCREEN_READER_ONLY_TEXT:"screenReaderOnlyText"},e.MODEL_DEFAULTS=((i={})[e.properties.ARIA_LABEL]=void 0,i),e.SECTION_DEFAULTS=((r={})[e.properties.HTML_LANDMARK]=void 0,r[e.properties.ARIA_LABEL]=void 0,r),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content",e.VIEWPORT_TOP_ID="viewport-top"},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractActionModel=void 0;var a=o(n(0)),s=o(n(13)),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.parentInteraction=n.parentInteraction,i}return r(e,t),e.prototype.getDefaultDelay=function(){return this.parentInteraction.defaults.delay},e.prototype.getActionType=function(){return this.actionType},e.prototype.toJSON=function(){return a.default.extend(s.default.Model.prototype.toJSON.call(this),{action:this.actionType})},e.prototype.isValid=function(){return!0},e.prototype.isHidden=function(){return!1},e}(s.default.Model);e.AbstractActionModel=u},function(t,e,n){"use strict";var i=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){"use strict";var i=n(209);e.a=function(t,e,n){"__proto__"==e&&i.a?Object(i.a)(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){"use strict";var i=n(138),r=n(69),o=n(135),a=n(265),s=n(63),u=n(33);var l=function(t,e){return t&&Object(s.a)(e,Object(u.a)(e),t)},c=n(262),d=n(43),f=n(200);var h=function(t,e){return Object(s.a)(t,Object(f.a)(t),e)},p=n(264);var g=function(t,e){return Object(s.a)(t,Object(p.a)(t),e)},m=n(229),v=n(202),y=n(68),_=Object.prototype.hasOwnProperty;var b=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&_.call(t,"index")&&(n.index=t.index,n.input=t.input),n},w=n(201);var T=function(t,e){var n=e?Object(w.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},S=/\w*$/;var O=function(t){var e=new t.constructor(t.source,S.exec(t));return e.lastIndex=t.lastIndex,e},E=n(50),P=E.a?E.a.prototype:void 0,C=P?P.valueOf:void 0;var A=function(t){return C?Object(C.call(t)):{}},x=n(266);var I=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Object(w.a)(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return T(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Object(x.a)(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return O(t);case"[object Set]":return new i;case"[object Symbol]":return A(t)}},k=n(263),M=n(5),R=n(81),N=n(198),D=n(16),L=n(197),j=n(21),F={};F["[object Arguments]"]=F["[object Array]"]=F["[object ArrayBuffer]"]=F["[object DataView]"]=F["[object Boolean]"]=F["[object Date]"]=F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Map]"]=F["[object Number]"]=F["[object Object]"]=F["[object RegExp]"]=F["[object Set]"]=F["[object String]"]=F["[object Symbol]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F["[object Error]"]=F["[object Function]"]=F["[object WeakMap]"]=!1;e.a=function t(e,n,s,f,p,_){var w,T=1&n,S=2&n,O=4&n;if(s&&(w=p?s(e,f,p,_):s(e)),void 0!==w)return w;if(!Object(D.a)(e))return e;var E=Object(M.a)(e);if(E){if(w=b(e),!T)return Object(d.a)(e,w)}else{var P=Object(y.a)(e),C="[object Function]"==P||"[object GeneratorFunction]"==P;if(Object(R.a)(e))return Object(c.a)(e,T);if("[object Object]"==P||"[object Arguments]"==P||C&&!p){if(w=S||C?{}:Object(k.a)(e),!T)return S?g(e,l(w,e)):h(e,Object(a.a)(w,e))}else{if(!F[P])return p?e:{};w=I(e,P,T)}}_||(_=new i.a);var A=_.get(e);if(A)return A;_.set(e,w),Object(L.a)(e)?e.forEach((function(i){w.add(t(i,n,s,i,e,_))})):Object(N.a)(e)&&e.forEach((function(i,r){w.set(r,t(i,n,s,r,e,_))}));var x=O?S?v.a:m.a:S?u.a:j.a,V=E?void 0:x(e);return Object(r.a)(V||e,(function(i,r){V&&(i=e[r=i]),Object(o.a)(w,r,t(i,n,s,r,e,_))})),w}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(9),r=n(15),o=n(147),a=n(187),s=n(27),u=n(90),l=n(114),c=n(100),d=n(1),f=n(80);class h{constructor(t){this._selection=new p(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}is(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return"selection:"+t}static _isStoreAttributeKey(t){return t.startsWith("selection:")}}Object(i.default)(h,r.default);class p extends o.default{constructor(t){super(),this.markers=new c.default({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new d.default("document-selection-wrong-position",this,{range:t})}),this.listenTo(this._model.markers,"update",(t,e,n,i)=>{this._updateMarker(e,i)}),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith("selection:"));for(const i of e)t.removeAttribute(i,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=Object(f.a)();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new d.default("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=a.a.fromRange(t);return e.on("change:range",(t,n,i)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const t=this._ranges.indexOf(e);this._ranges.splice(t,1),e.detach()}}),e}_updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const e of this._model.markers){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))continue;const i=e.getRange();for(const n of this.getRanges())i.containsRange(n,!n.isCollapsed)&&t.push(e)}const n=Array.from(this.markers);for(const n of t)this.markers.has(n)||(this.markers.add(n),e=!0);for(const n of Array.from(this.markers))t.includes(n)||(this.markers.remove(n),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const r=Array.from(this.markers),o=this.markers.has(t);if(e){let n=!1;for(const t of this.getRanges())if(e.containsRange(t,!t.isCollapsed)){n=!0;break}n&&!o?(this.markers.add(t),i=!0):!n&&o&&(this.markers.remove(t),i=!0)}else o&&(this.markers.remove(t),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateAttributes(t){const e=Object(l.a)(this._getSurroundingAttributes()),n=Object(l.a)(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";if("low"==i&&"normal"==this._attributePriority.get(t))return!1;return super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t){this._setAttribute(n,i,!1)&&e.add(n)}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith("selection:")){const n=e.substr("selection:".length);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const i=t.textNode?t.textNode:t.nodeBefore,r=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=g(i)),n||(n=g(r)),!this.isGravityOverridden&&!n){let t=i;for(;t&&!e.isInline(t)&&!n;)t=t.previousSibling,n=g(t)}if(!n){let t=r;for(;t&&!e.isInline(t)&&!n;)t=t.nextSibling,n=g(t)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function g(t){return t instanceof u.a||t instanceof s.default?t.getAttributes():null}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return Array.isArray(t)?t:[t]}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(121),r=n(30),o=n(124),a=n(114),s=n(76),u=n(53),l=n(146),c=n(223),d=n.n(c);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class f extends i.a{constructor(t,e,n,i){if(super(t),this.name=e,this._attrs=function(t){t=Object(a.a)(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");h(this._classes,t),this._attrs.delete("class")}this._styles=new d.a(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(t,e=null){return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof f))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t=!1){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new l.a(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":" "+n)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){if("string"==typeof e)return[new r.a(t,e)];Object(u.a)(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new r.a(t,e):e instanceof o.a?new r.a(t,e.data):e)}(this.document,e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,e.document=this.document,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?h(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of Object(s.default)(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of Object(s.default)(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of Object(s.default)(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function h(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}},function(t,e,n){"use strict";(function(t){var i=n(258),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&i.a.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=s}).call(this,n(302)(t))},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var i=n(118),r=n(35),o=n(1),a=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new o.default("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Object(a.default)(s,i.a),Object(a.default)(s,r.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const i=new Array(256).fill().map((t,e)=>("0"+e.toString(16)).slice(-2));function r(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[r>>0&255]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]}},function(t,e,n){"use strict";(function(t){var i=n(22),r=n(159),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||r.a;e.a=u}).call(this,n(302)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(4),r=n(15),o=n(9),a=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends i.default{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new a.default("model-liveposition-root-not-rootelement",t);u.call(this)}detach(){this.stopListening()}is(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}toPosition(){return new i.default(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function u(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&l.call(this,n)},{priority:"low"})}function l(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Object(o.default)(s,r.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(54);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.a{get type(){return"noop"}clone(){return new r(this.baseVersion)}getReversed(){return new r(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(0)),a=i(n(3)),s=i(n(13)),u=i(n(14)),l=i(n(8)),c=i(n(24)),d=i(n(181)),f=i(n(142)),h=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"},p=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var m=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:v(e.deviceTypeMissingVariantFallback):"desktop"},v=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");if(0===d.default.getNumberOfExistingVariants())return"desktop";if(l.default.previewMode)return function(){var t=d.default.getLayoutSettings(),e=g(),n=e!==u.default.DEVICE_TYPE_DESKTOP;if("device-type"===t.layoutPrimarySetting){if(n){var i=p(t,e);return c.default.debug("Resolved layout for touch device: "+e),i!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+i),d.default.setPreviewerFrameSize(i)),i}var r=d.default.getPreviewerFrameSize();return m(r)}var o=a.default(".adaptive-layouts-frame").width();return h(o)}();var t,e,n,i=("smartphone"===(t=d.default.getLayoutFromQueryParam())&&(t="mobile"),t&&d.default.doesVariantExist(t)?t:null);return i||("device-type"===d.default.getLayoutSettings().layoutPrimarySetting?m(g()):l.default.isEmbedded?(e=f.default.getInstance().getEmbedContextDimensions(),h(e.width)):(n=window.innerWidth,h(n)))};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontConstants=void 0;var i=function(){function t(){}return t.GOOGLE_API_ID="Google",t.BUILTIN_API_ID="BuiltIn",t.UPLOADED_API_ID="Uploaded",t.FONT_PLUS_UPLOADED_API_ID="FontPlusUploaded",t.DEFAULT_FONT_FAMILY_GUID="Google|Roboto",t.DEFAULT_FONT_VARIANT_GUID="Google|Roboto|400|normal",t.DEFAULT_FONT_WEIGHT=400,t.DEFAULT_FONT_STYLE="normal",t.FONT_STYLE_ITALIC="italic",t.FONT_STYLE_NORMAL="normal",t.FONT_STYLE_OBLIQUE="oblique",t.EXPERIENCE_FAMILY_GUIDS_KEY="familyGuids",t}();e.FontConstants=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(118),r=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}Object(r.default)(o,i.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const i=navigator.userAgent.toLowerCase(),r={isMac:function(t){return t.indexOf("macintosh")>-1}(i),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(i),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(i),isAndroid:function(t){return t.indexOf("android")>-1}(i),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(i),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new i.default("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new i.default("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return g}));var i=n(134),r=n(27),o=n(90),a=n(2),s=n.n(a),u=n(153),l=n(137),c=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function d(t,e){const n=(e=g(e)).reduce((t,e)=>t+e.offsetSize,0),i=t.parent;v(t);const r=t.index;return i._insertChild(r,e),m(i,r+e.length),m(i,r),new s.a(t,t.getShiftedBy(n))}function f(t){if(!t.isFlat)throw new c.default("operation-utils-remove-range-not-flat",this);const e=t.start.parent;v(t.start),v(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return m(e,t.start.index),n}function h(t,e){if(!t.isFlat)throw new c.default("operation-utils-move-range-not-flat",this);const n=f(t);return d(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function p(t,e,n){v(t.start),v(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("$textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),m(t.parent,t.index)}m(t.end.parent,t.end.index)}function g(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new r.default(t[n]));else if(t[n]instanceof o.a)e.push(new r.default(t[n].data,t[n].getAttributes()));else if(t[n]instanceof u.a||t[n]instanceof l.a)for(const i of t[n])e.push(i);else t[n]instanceof i.a&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof r.default&&i instanceof r.default&&y(n,i)&&(e.splice(t-1,2,new r.default(i.data+n.data,i.getAttributes())),t--)}return e}function m(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("$text")&&i.is("$text")&&y(n,i)){const o=new r.default(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function v(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const a=new r.default(e.data.substr(0,i),e.getAttributes()),s=new r.default(e.data.substr(i),e.getAttributes());n._insertChild(o,[a,s])}}function y(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}},function(t,e,n){"use strict";n.r(e),n.d(e,"createViewListItemElement",(function(){return o})),n.d(e,"generateLiInUl",(function(){return a})),n.d(e,"injectViewList",(function(){return s})),n.d(e,"mergeViewLists",(function(){return u})),n.d(e,"positionAfterUiElements",(function(){return l})),n.d(e,"getSiblingListItem",(function(){return c})),n.d(e,"createUIComponent",(function(){return d})),n.d(e,"findNestedList",(function(){return f})),n.d(e,"getSiblingNodes",(function(){return h}));var i=n(123),r=n(40);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function o(t){const e=t.createContainerElement("li");return e.getFillerOffset=p,e}function a(t,e){const n=e.mapper,i=e.writer,r="numbered"==t.getAttribute("listType")?"ol":"ul",a=o(i),s=i.createContainerElement(r,null);return i.insert(i.createPositionAt(s,0),a),n.bindElements(t,a),a}function s(t,e,n,i){const r=e.parent,o=n.mapper,a=n.writer;let s=o.toViewPosition(i.createPositionBefore(t));const d=c(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),h=t.previousSibling;if(d&&d.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=o.toViewElement(d);s=a.breakContainer(a.createPositionAfter(t))}else if(h&&"listItem"==h.name){s=o.toViewPosition(i.createPositionAt(h,"end"));const t=o.findMappedViewAncestor(s),e=f(t);s=e?a.createPositionBefore(e):a.createPositionAt(t,"end")}else s=o.toViewPosition(i.createPositionBefore(t));if(s=l(s),a.insert(s,r),h&&"listItem"==h.name){const t=o.toViewElement(h),n=a.createRange(a.createPositionAt(t,0),s).getWalker({ignoreElementEnd:!0});for(const t of n)if(t.item.is("element","li")){const i=a.breakContainer(a.createPositionBefore(t.item)),r=t.item.parent,o=a.createPositionAt(e,"end");u(a,o.nodeBefore,o.nodeAfter),a.move(a.createRangeOn(r),o),n.position=i}}else{const n=r.nextSibling;if(n&&(n.is("element","ul")||n.is("element","ol"))){let i=null;for(const e of n.getChildren()){const n=o.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(a.breakContainer(a.createPositionAfter(i)),a.move(a.createRangeOn(i.parent),a.createPositionAt(e,"end")))}}u(a,r,r.nextSibling),u(a,r.previousSibling,r)}function u(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function l(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function c(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,r=e.listIndent;let o=t;for(;o&&"listItem"==o.name;){const t=o.getAttribute("listIndent");if(n&&r==t||i&&r>t)return o;o="forward"===e.direction?o.nextSibling:o.previousSibling}return null}function d(t,e,n,i){t.ui.componentFactory.add(e,o=>{const a=t.commands.get(e),s=new r.ButtonView(o);return s.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),s.on("execute",()=>{t.execute(e),t.editing.view.focus()}),s})}function f(t){for(const e of t.getChildren())if("ul"==e.name||"ol"==e.name)return e;return null}function h(t,e){const n=[],r=t.parent,o={ignoreElementEnd:!0,startPosition:t,shallow:!0,direction:e},a=r.getAttribute("listIndent"),s=[...new i.TreeWalker(o)].filter(t=>t.item.is("element")).map(t=>t.item);for(const t of s){if(!t.is("element","listItem"))break;if(t.getAttribute("listIndent")<a)break;if(!(t.getAttribute("listIndent")>a)){if(t.getAttribute("listType")!==r.getAttribute("listType"))break;if(t.getAttribute("listStyle")!==r.getAttribute("listStyle"))break;"backward"===e?n.unshift(t):n.push(t)}}return n}function p(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:i.getFillerOffset.call(this)}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.isTangentZeroForOneRotation=e.hasTangentForOneRotation=e.maintainOffsetWhenRotated=e.toNextMultiple=e.round=e.evaluateBezierCurve=e.splitBezierCurveAtPoint=e.cubicBezierCurveFirstDerivativeRoots=e.sqDiag2D=e.vectorToSegment2D=e.closestPointOnLine=e.closestPointOnBezierCurve=e.lineLength=e.distance=e.scaleBoxToMaxDimension=e.calcPointOnRect=e.calcRotatedLineIntersect=e.Point=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=void 0,e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01;e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,n){var i=Math.rotateCoord(this.x,this.y,t,e,n);this.setX(i.x),this.setY(i.y)}},e.Point.diff=function(t,n){return new e.Point(t.getX()-n.getX(),t.getY()-n.getY())},e.Point.sum=function(t,n){return new e.Point(t.getX()+n.getX(),t.getY()+n.getY())},e.Point.ORIGIN=new e.Point(0,0);e.calcRotatedLineIntersect=function(t,e,n){return{startPt:this.calcPointOnRect(t-270,e,n),endPt:this.calcPointOnRect(t-90,e,n)}};e.calcPointOnRect=function(t,n,i){var r=n/2,o=i/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,f=50/c;return Math.abs(d)<=50?(a=n/100*50,s=i/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=n/100*f,s=i/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)};e.scaleBoxToMaxDimension=function(t,e,n){var i=t,r=e;return t>0&&e>0&&(t>e?(i=n,r=Math.round(n/t*e)):(i=Math.round(n/e*t),r=n)),{width:i,height:r}};e.distance=function(t,e){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)};e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})};e.closestPointOnBezierCurve=function(t,n,i,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(n.x,i.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(n.y,i.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u};e.closestPointOnLine=function(t,n){var i=[n.x2-n.x1,n.y2-n.y1],r=[n.x1-t.x,n.y1-t.y],o=-(i[0]*r[0]+i[1]*r[1])/(Math.pow(i[0],2)+Math.pow(i[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},n):e.sqDiag2D(e.vectorToSegment2D(0,t,n))<=e.sqDiag2D(e.vectorToSegment2D(1,t,n))?{x:n.x1,y:n.y1}:{x:n.x2,y:n.y2}};e.vectorToSegment2D=function(t,e,n){return{x:(1-t)*n.x1+t*n.x2-e.x,y:(1-t)*n.y1+t*n.y2-e.y}};e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)};e.cubicBezierCurveFirstDerivativeRoots=function(t,n,i,r){var o=[],a=3*(3*n-t-3*i+r),s=6*(t-2*n+i),u=s*s-4*a*(3*(n-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,n,i,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,n,i,r,c))}return o};e.splitBezierCurveAtPoint=function(t,e,n){var r={x:t.x,y:t.y},o={x:t.cx2||t.x,y:t.cy2||t.y},a={x:e.cx1||e.x,y:e.cy1||e.y},s={x:e.x,y:e.y},u=function(t,e){return{x:(t.x+e.x)*(1-n),y:(t.y+e.y)*(1-n)}},l=u(r,o),c=u(o,a),d=u(a,s),f=u(l,c),h=u(c,d),p=u(f,h);return{left:i(i({},t),{cx2:l.x,cy2:l.y}),center:{x:p.x,y:p.y,cx1:f.x,cy1:f.y,cx2:h.x,cy2:h.y},right:i(i({},e),{cx1:d.x,cy1:d.y})}};e.evaluateBezierCurve=function(t,e,n,i,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*n*r*r*(1-r)+i*r*r*r};e.round=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n};e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0};e.maintainOffsetWhenRotated=function(t,e){var n=e.x,i=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),n=r*Math.cos(t)+o*Math.sin(t),i=o*Math.cos(t)-r*Math.sin(t)}return{x:n,y:i}};var r=Math.PI/2,o=Math.PI+r,a=2*Math.PI,s=a+r;e.hasTangentForOneRotation=function(t){if(t<0||t>s)throw new Error("Angle must be between 0 and 2π");return t!==r&&t!==o&&t!==s};e.isTangentZeroForOneRotation=function(t){if(t<0||t>s)throw new Error("Angle must be between 0 and 2π");return t===Math.PI||t===a};var u={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated,hasTangentForOneRotation:e.hasTangentForOneRotation,isTangentZeroForOneRotation:e.isTangentZeroForOneRotation};window.CerosMath=u,e.default=u},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ZERO_WIDTH_SPACE=e.SOFTBREAK_CHARACTER=e.IGNORE_DEBOUNCE_COMMANDS=e.TextPlusStyleAttributes=e.TextPlusCommandNames=e.TextPlusCommands=void 0,e.TextPlusCommands={LETTER_SPACING:"letterSpacing",LETTER_SPACING_INCREMENT:"letterSpacingIncrement",FONT_COLOR:"fontColor",FONT_COLOR_RETAIN_OPACITY:"fontColorRetainOpacity",FONT_COLOR_OPACITY:"fontColorOpacity",FONT_SIZE:"fontSize",FONT_SIZE_INCREMENT:"fontSizeIncrement",ALIGNMENT:"alignment",TEXT_CASE:"textCase",UNDERLINE:"underline",TEXT_ALIGN:"textAlign",FONT_FAMILY:"fontFamily",LINK:"hyperlink",LINE_HEIGHT:"lineHeight",LINE_HEIGHT_INCREMENT:"lineHeightIncrement",LINE_HEIGHT_REFRESH:"lineHeightRefresh",HTML_TAG:"htmlTag"},e.TextPlusCommandNames={FONT_FAMILY:"FontFamily",LETTER_SPACING:"letterSpacing",FONT_COLOR:"FontColorPlus",UNDERLINE_PLUS:"UnderlinePlus",FONT_SIZE:"FontSizePlus",TEXT_CASE:"textCase",SUPERSCRIPT:"superscript",SUBSCRIPT:"subscript",LINK_PLUS:"LinkPlus",INDENT_LIST:"indentList",OUTDENT_LIST:"outdentList",LINK_PLUS_UI:"LinkPlusUi",SELECT_ALL:"selectAll",LINE_HEIGHT:"LineHeight",LINE_HEIGHT_INCREMENT:"lineHeightIncrement",LINE_HEIGHT_REFRESH:"lineHeightRefresh"},e.TextPlusStyleAttributes={LETTER_SPACING:"letter-spacing",TEXT_CASE:"text-transform",FONT_SIZE:"font-size",UNDERLINE:"text-decoration",TEXT_ALIGN:"text-align",LINE_HEIGHT:"line-height",FONT_COLOR:"color"},e.IGNORE_DEBOUNCE_COMMANDS=r(Object.values(e.TextPlusCommands)),e.SOFTBREAK_CHARACTER="\v",e.ZERO_WIDTH_SPACE="​"},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(397));e.defaults=i({},l.defaults),e.supported=u.default.union(l.supported,["animations","animationsRepeatAll","animationsReplayOnScroll"]),e.objectStateSupportedProperties=l.objectStateSupportedProperties},function(t,e,n){"use strict";var i=n(37),r=n(18);var o=function(t){return Object(r.a)(t)&&"[object Arguments]"==Object(i.a)(t)},a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(t){return Object(r.a)(t)&&s.call(t,"callee")&&!u.call(t,"callee")};e.a=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var i=n(1),r=n(17),o=n(6),a=n(9),s=n(15),u=n(121),l=n(230),c=n(53),d=n(270);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class f{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Object(l.a)(this.getRanges());if(e!=Object(l.a)(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof f||t instanceof d.a)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof r.a)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof o.a)this._setRanges([new r.a(t)]),this._setFakeOptions(e);else if(t instanceof u.a){const a=!!n&&!!n.backward;let s;if(void 0===e)throw new i.default("view-selection-setto-required-second-parameter",this);s="in"==e?r.a._createIn(t):"on"==e?r.a._createOn(t):new r.a(o.a._createAt(t,e)),this._setRanges([s],a),this._setFakeOptions(n)}else{if(!Object(c.a)(t))throw new i.default("view-selection-setto-not-selectable",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new i.default("view-selection-setfocus-no-ranges",this);const n=o.a._createAt(t,e);if("same"==n.compareWith(this.focus))return;const a=this.anchor;this._ranges.pop(),"before"==n.compareWith(a)?this._addRange(new r.a(n,a),!0):this._addRange(new r.a(a,n)),this.fire("change")}is(t){return"selection"===t||"view:selection"===t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof r.a))throw new i.default("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new i.default("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new r.a(t.start,t.end))}}Object(a.default)(f,s.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(54),r=n(2),o=n.n(r);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a extends i.a{constructor(t,e,n,i,r,o){super(o),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=r,this._markers=i}get type(){return"marker"}clone(){return new a(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new a(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new a(t.name,t.oldRange?o.a.fromJSON(t.oldRange,e):null,t.newRange?o.a.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(0)),l=a(n(93)),c=s(n(67)),d=s(n(400)),f=s(n(737)),h=n(313),p=s(n(748)),g=s(n(154)),m=s(n(438)),v=s(n(110)),y=n(216),_=s(n(157)),b=n(221),w=s(n(157));e.default=d.default.extend({MINIMUM_WIDTH:0,MINIMUM_HEIGHT:0,DIMENSION_DECIMAL_PLACES:0,initialize:function(t,e){var n=v.default.getCurrentVariant(),i=t.interactions;"desktop"!==n&&(i=u.default.get(t,"overrides."+n+".interactions")||i),this.interactions=this._buildInteractionCollectionThatWillUpdateOnChanges(i),this.on("change:interactions",u.default.bind((function(){this.interactions.reset(this.get("interactions"))}),this)),this.rubberBandHighlighted=!1,d.default.prototype.initialize.call(this,t,e)},_buildInteractionCollectionThatWillUpdateOnChanges:function(t,e){var n=new f.default(t,{saveHandler:u.default.bind(this.save,this)});return n.on("reset add change remove",u.default.bind((function(){this.set("interactions",n.toJSON(),e)}),this)),n},getInteractions:function(){return this.interactions},getSupported:function(){return c.default.AbstractComponentModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},getSupportedInteractionTriggers:function(){var t=[h.InteractionModel.TRIGGER_TYPES.CLICK,h.InteractionModel.TRIGGER_TYPES.ONVIEW];return v.default.doesCurrentVariantSupportHover()&&t.splice(1,0,h.InteractionModel.TRIGGER_TYPES.HOVER),t},highlight:function(){return this.rubberBandHighlighted||(this.rubberBandHighlighted=!0),this},dehighlight:function(){return this.rubberBandHighlighted?(this.rubberBandHighlighted=!1,this):this},getWidth:function(){return this.get("width")},getHeight:function(){return this.get("height")},setWidth:function(t){this.set("width",t)},setHeight:function(t){this.set("height",t)},getExtentsDimensionData:function(){var t=this.get("x"),e=this.get("y"),n=this.getWidth(),i=this.getHeight(),r=Math.toRad(this.get("rotation")),o=this.get("border");return{x:t,y:e,width:n,height:i,rotation:r,borderWidth:o&&o.width?o.width:0}},getExtents:function(){var t=this.getExtentsDimensionData();return g.default.getExtentsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth)},getExtentsInPageCoords:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this.transformPointsToPageCoords(e)},getExtentsInPageCoordsWithoutBorder:function(){var t=this.getExtentsDimensionData(),e=g.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,0);return this.transformPointsToPageCoords(e)},transformPointsToPageCoords:function(t){var e=this.transformPointToRotatedPageCoordinateSpace(t[0]),n=this.transformPointToRotatedPageCoordinateSpace(t[1]),i=this.transformPointToRotatedPageCoordinateSpace(t[2]),r=this.transformPointToRotatedPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},getCenterPosition:function(){var t=this.get("x")+this.getWidth()/2,e=this.get("y")+this.getHeight()/2;return new l.Point(t,e)},getCenterPositionInPageCoordinateSpace:function(){return this.translatePointToPageCoordinateSpace(this.getCenterPosition(),this.getAllParents())},getTopLeft:function(){return new l.Point(this.get("x"),this.get("y"))},getTopCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y"))},getTopRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y"))},getCenterRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight()/2)},getBottomRight:function(){return new l.Point(this.get("x")+this.getWidth(),this.get("y")+this.getHeight())},getBottomCenter:function(){return new l.Point(this.get("x")+this.getWidth()/2,this.get("y")+this.getHeight())},getBottomLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight())},getCenterLeft:function(){return new l.Point(this.get("x"),this.get("y")+this.getHeight()/2)},getAspectRatio:function(){return 0===this.get("height")?1:this.get("width")/this.get("height")},getLeft:function(){return this.get("x")},getRight:function(){return this.get("x")+this.getWidth()},getTop:function(){return this.get("y")},getBottom:function(){return this.get("y")+this.getHeight()},setLeft:function(t){this.set("x",t)},setRight:function(t){this.set("x",t-this.getWidth())},setTop:function(t){this.set("y",t)},setBottom:function(t){this.set("y",t-this.getHeight())},setCenterX:function(t){this.set("x",t-Math.round(this.getWidth()/2))},setCenterY:function(t){this.set("y",t-Math.round(this.getHeight()/2))},toCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),-Math.toRad(this.get("rotation")))},fromCanvasCoords:function(t){return Math.rotateCoord(t,this.getCenterPosition(),Math.toRad(this.get("rotation")))},setWidthWhileMaintainingCanvasLeft:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("width"),t,i),t=this.ensureMinimumWidth(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t/n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("height"),this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},toHierarchyJSON:function(){return{id:this.get("id")}},toDictionaryJSON:function(){return this.toJSON()},setHeightWhileMaintainingCanvasTop:function(t,e,n,i){var r;n=n||p.default.createInstance(this),t=m.default.getValidValueForOptions(this.get("height"),t,i),t=this.ensureMinimumHeight(t),e&&0!==n.getWidth()&&0!==n.getHeight()?(r=t*n.getAspectRatio(),r=0===this.DIMENSION_DECIMAL_PLACES?Math.round(r):l.round(r,this.DIMENSION_DECIMAL_PLACES)):r=this.get("width"),this.setDimensionsWhileMaintainingCanvasTopLeft(r,t,n)},setDimensionsWhileMaintainingCanvasTopLeft:function(t,e,n){var i=(n=n||p.default.createInstance(this)).getCenterPosition(),r=n.getWidth(),o=n.getHeight(),a=Math.toRad(this.get("rotation")),s=t-r,u=e-o,c=s*Math.cos(a)/2-u*Math.sin(a)/2,d=s*Math.sin(a)/2+u*Math.cos(a)/2,f=new l.Point(i.getX()+c,i.getY()+d);this.set({x:Math.round(f.getX()-t/2),y:Math.round(f.getY()-e/2),width:t,height:e})},ensureMinimumWidth:function(t){return t<this.MINIMUM_WIDTH&&(t=this.MINIMUM_WIDTH),t},ensureMinimumHeight:function(t){return t<this.MINIMUM_HEIGHT&&(t=this.MINIMUM_HEIGHT),t},resizeAttributes:function(t){},translatePointToPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.translatePointToParentCoordinateSpace(n))})),n},translatePointFromPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.translatePointToChildCoordinateSpace(n))})),n},transformPointToRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.forEachRight(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedParentCoordinateSpace(n))})),n},transformPointFromRotatedPageCoordinateSpace:function(t,e){e=e||this.getAllParents();var n=t;return u.default.each(e,(function(t){t.isGroup()&&(n=t.transformPointToRotatedChildCoordinateSpace(n))})),n},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.getTopLeft(),n=0,i=new l.Point(0,0);u.default.each(t,(function(t){if(t.isGroup()){var r=t.get("rotation");n+=t.get("rotation"),e=Math.rotateCoord(e,l.Point.sum(i,t.getCenterPosition()),Math.toRad(r)),i=l.Point.sum(i,t.getTopLeft())}}));var r=Math.rotateCoord(e,new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),Math.toRad(n)),o=l.Point.diff(e,r),a=l.Point.diff(l.Point.sum(new l.Point(e.x+this.getWidth()/2,e.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")-n:0;s%=360;var c=this.translatePointFromPageCoordinateSpace(a,t);this.set({x:c.getX(),y:c.getY(),rotation:s},{silent:!0})},hasReferencesToScranchor:function(t){var e=this.getReferencedScranchorIds();return u.default.includes(e,t.getId())},getReferencedScranchorIds:function(){return this.interactions.reduce((function(t,e){if(e.isScrollToInteraction()){var n=e.getAction().getScranchorId();n&&!u.default.includes(t,n)&&t.push(n)}return t}),[])},removeInteractionsReferencingScranchor:function(t){var e=this.interactions.filter((function(e){return e.isScrollToInteraction()&&e.getAction().getScranchorId()===t.getId()}));this.interactions.remove(e)},isVectorBased:function(){return!1},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(t){var e;e=t&&t.ignoreState?new l.Point(this.get("x",{ignoreState:!0}),this.get("y",{ignoreState:!0})):this.getTopLeft();var n=this.transformPointToRotatedPageCoordinateSpace(e,this.getAllParents()),i=this.getTotalParentRotation(),r=Math.rotateCoord(n,new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),Math.toRad(-i)),o=l.Point.diff(n,r),a=l.Point.diff(l.Point.sum(new l.Point(n.x+this.getWidth()/2,n.y+this.getHeight()/2),o),new l.Point(this.getWidth()/2,this.getHeight()/2)),s=this.supportsProperty("rotation")?this.get("rotation")+i:0;s%=360;var u=this.reconcileJSONForCurrentVariant(!0);return u.x=a.getX(),u.y=a.getY(),u.rotation=s,u.width=this.get("width"),u.height=this.get("height"),u},translateToParentCoordinateSpace:function(t){var e=this.translatePointFromPageCoordinateSpace(this.getTopLeft(),t);this.set("x",e.getX()),this.set("y",e.getY())},roundTransformableAttributes:function(){this.set("x",Math.round(this.get("x"))),this.set("y",Math.round(this.get("y"))),this.set("width",Math.round(this.get("width"))),this.set("height",Math.round(this.get("height")))},getTotalRotation:function(){return this.get("rotation")+this.getTotalParentRotation()},getTotalParentRotation:function(){var t=this.getAllParents(),e=0;return u.default.each(t,(function(t){t.isGroup()&&(e+=t.get("rotation"))})),e},setSelectedObjectState:function(t,e,n){if(e=!!e,d.default.prototype.setSelectedObjectState.call(this,t),e){if(n.inIsolationMode())n.getAllIsolationModeReferences().forEach((function(e){e.createAutogeneratedChangeStateInteraction(t)}));this.createAutogeneratedChangeStateInteraction(t)}},supportsBlendingModes:function(){var t=this.get("contentType"),e=this.get("title");return this.supportsProperty("blendingMode")&&y.BlendingModes.isSupportedImageType(t,e)},hasActiveBlendingMode:function(){var t=this.get("blendingMode");return t&&!y.BlendingModes.isDefaultBlendingMode(t)},hasRotation:function(){return!!this.get("rotation")},hasAnimations:function(){var t=this.get("animations");return t&&0!==t.length},hasAnyParentWithRotation:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasRotation()}))},hasAnyParentWithAnimations:function(){return this.getAllParents().some((function(t){return!t.isFolder()&&t.hasAnimations()}))},hasAnyParentThatDoesNotAllowBlendModes:function(){return this.hasAnyParentWithRotation()||this.hasAnyParentWithAnimations()},supportsLinkInteraction:function(){return this.supportsProperty("linkInteraction")},setLinkInteraction:function(t){this.set("linkInteraction",t),t?(this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_CLICK),v.default.isCurrentVariant("desktop")&&this.createAutogeneratedChangeStateInteraction(_.default.OBJECT_STATES_HOVER)):this.removeAllAutogeneratedInteractions()},removeInteractionsForState:function(t){this.getInteractions().forEach((function(e){e&&e.get("state")===t&&e.destroy()}))},removeAllAutogeneratedInteractions:function(){this.getInteractions().forEach((function(t){t&&t.get("autogenerated")&&t.destroy()}))},removeInteractionsNotChangeState:function(){this.getInteractions().forEach((function(t){t&&"change-state"!==t.get("action")&&t.destroy()}))},hasObjectStates:function(){var t=this.get("states");return!!Object.keys(t).length>0},createAutogeneratedChangeStateInteraction:function(t){this.isInteractable()&&b.ObjectStateManager.isInteractionState(t)&&(u.default.find(this.interactions.models,(function(e){return e.get("autogenerated")&&e.get("trigger")===t}))||this.interactions.add({action:"change-state",trigger:t,layerTargets:[this.id],state:t,autogenerated:!0,lockState:t!==_.default.OBJECT_STATES_HOVER}));this.save()},removeIncompatiblePropertiesWhenMasking:function(t){var e;void 0===t&&(t=!1);var n=this.get("type"),r={};if("shape-component"===n||"custom-shape-component"===n){var o=this.get("background");o&&o.color||(r.background=i(i({},o),{color:w.default.MASK_ITEM_DEFAULT_FILL_COLOR})),r.shadow={};var a=this.get("border");if(a){var s=a.radius;void 0!==s&&s.split&&(s=a.radius.split(",")[0]),r.border=i(i({},a),{radius:s,color:void 0,width:void 0})}}r.visible=!0,r.animations=[],r.animationsRepeatAll=!1,r.animationsReplayOnScroll=!1;var u=!(!this.attributes.maskInfo||!(null===(e=this.attributes.maskInfo)||void 0===e?void 0:e.isBaseMaskObject));"image-component"===n&&u?this.removeInteractionsNotChangeState():(r.interactions=[],this.removeAllObjectStates(t)),this.set(r,{silent:t})}})},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var i=n(15),r=n(1),o=n(80),a=n(53),s=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t={},e={}){const n=Object(a.a)(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const e of t)this._items.push(e),this._itemMap.set(this._getItemIdBeforeAdding(e),e)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new r.default("collection-add-item-invalid-index",this);for(let n=0;n<t.length;n++){const i=t[n],r=this._getItemIdBeforeAdding(i),o=e+n;this._items.splice(o,0,i),this._itemMap.set(r,i),this.fire("add",i,o)}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new r.default("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new r.default("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{"function"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,r)=>{const o=e._bindToCollection==this,a=e._bindToInternalToExternalMap.get(i);if(o&&a)this._bindToExternalToInternalMap.set(i,a),this._bindToInternalToExternalMap.set(a,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(r);let o=r;for(const t of this._skippedIndexesFromExternal)r>t&&o--;for(const t of e._skippedIndexesFromExternal)o>=t&&o++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,o);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)o<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new r.default("collection-add-invalid-id",this);if(this.get(n))throw new r.default("collection-add-item-already-exists",this)}else t[e]=n=Object(o.a)();return n}_remove(t){let e,n,i,o=!1;const a=this._idProperty;if("string"==typeof t?(n=t,i=this._itemMap.get(n),o=!i,i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,i=this._items[e],o=!i,i&&(n=i[a])):(i=t,n=i[a],e=this._items.indexOf(i),o=-1==e||!this._itemMap.get(n)),o)throw new r.default("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),[i,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Object(s.default)(u,i.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(86),r=n(161);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o extends i.a{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new r.a(this.view,e,n))}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return e=>e+t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i=n(37),r=n(133),o=n(18),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(t){return Object(o.a)(t)&&Object(r.a)(t.length)&&!!a[Object(i.a)(t)]},u=n(47),l=n(78),c=l.a&&l.a.isTypedArray,d=c?Object(u.a)(c):s;e.a=d},function(t,e,n){"use strict";var i=n(276);var r=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var n=r(t,e);return Object(i.a)(n)?n:void 0}},function(t,e,n){"use strict";var i=n(74);e.a=function(t){return Object(i.a)(t,5)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(8)),a=i(n(55)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,n,i){return void 0===n&&(n=null),void 0===i&&(i=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,i):this.buildPathStyleUri(t,e,n,i)},buildHtmlStyleUri:function(t,e){e=e||"";var n,i=this.getWindowContext(),r=i.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),n=i.location.pathname+r):n=a.default.appendQueryParams(i.location.pathname+r,{page:t}),(n=n.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,n,i){if(!s[t])return r.default.warn("Mode is not supported"),null;i=i||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&n&&"desktop"!==n?"/layout/"+n:"",c=a.location.pathname;o.default.isEditor&&(c=c.replace(/\/editor$/,""));var d=c+"";return d=(d=(d=d.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,d+=a.location.search,o.default.isEditor&&(d+="/editor"),d+i},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var n=t.location.search.match(/page=(\d+)/);return e=1,n&&(e=parseInt(n[1],10)),e}var i=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(i&&(e=parseInt(i[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLayoutFromQueryParam:function(){var t,e=window.location.search;return null===(t=new URLSearchParams(e).get("layout"))||void 0===t?void 0:t.toLowerCase()},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window},getEditModeFromQueryParam:function(){return"true"===new URLSearchParams(window.location.search).get("editmode")},getIsEditor:function(){return!0===o.default.isEditor},getStackDistance:function(){var t=new URLSearchParams(window.location.search);return parseInt(t.get("distance"))},getEditorURL:function(){return o.default.adminUrl+"/account/"+o.default.accountSlug+"/editor/experience/"+o.default.issueAliasSlug}};e.default=u},function(t,e,n){"use strict";var i=n(334),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===r.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentView=void 0;var s=a(n(0)),u=a(n(14)),l=a(n(550)),c=a(n(154)),d=n(363),f=n(144),h=a(n(93)),p=n(155),g=a(n(8)),m=a(n(239)),v=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._isComponent=!0,n.activeStateInteractions=[],n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.applyTransition(),this.setStateValues(),this.createHoverArea(),this},e.prototype.setStateValues=function(){var t=this;this.options.states&&!s.default.isEmpty(this.options.states)&&this.options.states.forEach((function(e){t.applyDeltaValuesToCoordinateProperties(e),Object.keys(e.config).forEach((function(n){t.diffStateProperty(e,n)}))}))},e.prototype.diffStateProperty=function(t,e){s.default.get(t.config,e)===s.default.get(this.options,e)&&s.default.set(t.config,e,void 0)},e.prototype.hasObjectState=function(t){var e;return"default"===t||!!(null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t})))},e.prototype.getObjectState=function(t){var e;if(t)return null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t}))},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){s.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),s.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),s.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),s.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),n=this.getObjectState(t),i=e;n&&(n.config.deltaX&&void 0!==n.config.x&&(i.x=n.config.x),n.config.deltaY&&void 0!==n.config.y&&(i.y=n.config.y),n.config.border&&void 0!==n.config.border.width&&(i.borderWidth=n.config.border.width),n.config.width&&(i.width=n.config.width),n.config.height&&(i.height=n.config.height),n.config.rotation&&(i.rotation=n.config.rotation));var r=c.default.getExtentsPointsFromDimensions(i.x,i.y,i.width,i.height,i.rotation,i.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e,n,i=t?null:this.getObjectState(this.options.selectedState);return{x:i&&i.hasPositionChange()?i.config.x:this.options.x,y:i&&i.hasPositionChange()?i.config.y:this.options.y,width:i&&i.hasDimensionsChange()?i.config.width:this.options.width,height:i&&i.hasDimensionsChange()?i.config.height:this.options.height,rotation:-Math.toRad((i&&i.hasRotationChange()?i.config.rotation:this.options.rotation)||0),borderWidth:(i&&i.hasBorderChange()?null===(e=i.config.border)||void 0===e?void 0:e.width:null===(n=this.options.border)||void 0===n?void 0:n.width)||0}},e.prototype.applyScale=function(t,e,n,i){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),void 0===n&&(n=this.options.x),void 0===i&&(i=this.options.y);var r=t/this.options.width,o=e/this.options.height;p.CssUtils.setTransformToElement(this.$el,{scale:{x:r,y:o}}),this.applyPositionToScaledObject(n,i,t,e)},e.prototype.applyPositionToScaledObject=function(t,e,n,i){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.width),void 0===i&&(i=this.options.height);var r=(n-this.options.width)/2,o=(i-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.addStateUnderActiveState=function(t,e){if(!this.activeStateInteractions.some((function(e){return e.state===t}))&&this.activeStateInteractions&&this.activeStateInteractions.length>0){var n=this.activeStateInteractions.findIndex((function(t){return t.lockState}));n>=0&&this.activeStateInteractions.splice(n,0,e)}},e.prototype.invokeObjectState=function(t){"default"===t&&this.isInNonDefaultState()&&this.revertToDefaultState();var e=this.getObjectState(t);e&&this.applyState(e)},e.prototype.applyState=function(t){var e="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.callObjectStateInvoker(t,e)},e.prototype.callObjectStateInvoker=function(t,e){f.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revertToDefaultState=function(){var t=new d.ObjectState({state:"default"});this.activeStateInteractions=[],this.applyState(t)},e.prototype.revokeObjectState=function(t){var e,n;if(this.getObjectState(t)){var i=t===(null===(e=this.getCurrentActiveChangeStateInteraction())||void 0===e?void 0:e.state);if(this.activeStateInteractions=this.activeStateInteractions.filter((function(e){return e.state!==t})),i){var r=this.getObjectState(null===(n=this.getCurrentActiveChangeStateInteraction())||void 0===n?void 0:n.state);r?this.applyState(r):this.revertToDefaultState()}}},e.prototype.applyTransition=function(t,e){var n=this;if(void 0===t&&(t=this.options.transition),!g.default.shouldReduceMotion)if(t){var i="all "+(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(i,e);var r=1e3*((t.duration||0)+(t.delay||0));this.transitionTimer&&clearTimeout(this.transitionTimer),this.transitionTimer=setTimeout((function(){n.applyTransitionToTarget("")}),r)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t,e){this.$el.css("transition",t),this.$el.css("transition-property",e||"none")},e.prototype.applyDropShadow=function(t,e){var n;void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var i=this.getApplyShadowTarget(),r=null===(n=i[0])||void 0===n?void 0:n.style.filter,o="";if(r){var a=r.match(/[\w-]*\(.*?\)/g);a&&(o=a.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var s=p.CssUtils.convertShadowObjectToCssFilter(t,e);i.css("-webkit-filter",s),i.css("filter",s)}else i.css("filter",o),i.css("-webkit-filter",o)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup&&this.options.parentSmartGroup.interactions.find((function(t){var e;return"click"===(null===(e=t)||void 0===e?void 0:e.state)}))?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t.isComponent()&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[]},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&this.activeStateInteractions.splice(e,1),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.getCurrentActiveChangeStateInteraction=function(){if(this.activeStateInteractions&&this.activeStateInteractions.length>0)return this.activeStateInteractions[this.activeStateInteractions.length-1]},e.prototype.hasActiveClickStateWithLock=function(){return this.activeStateInteractions.some((function(t){return"click"===t.state&&t.lockState}))},e.prototype.hasActiveCustomStateWithLock=function(){return this.activeStateInteractions.some((function(t){return!("click"===t.state||"hover"===t.state||"default"===t.state)&&t.lockState}))},e.prototype.hasActiveBringToFront=function(){return!!this.activeBringToFrontInteraction},e.prototype.isInNonDefaultState=function(){return"default"!==this.options.selectedState},e.prototype.createHoverArea=function(){(this.isUsingHoverAreaForMouseOut()||this.isMask())&&(this.unbindInteractions(),this.hoverArea||(this.hoverArea=this.options.pageView.createHoverArea(this),this.hoverArea.render()),this._configureInteractions(),this.shouldAddHoverAreaPointerEvents()?this.addPointerEvents():this.removePointerEvents())},e.prototype.enableHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents(!0)&&(null===(t=this.hoverArea)||void 0===t||t.enableHoverArea(this))},e.prototype.disableHoverArea=function(){var t,e=this;this.usesHoverAreaForInteractions()&&(null===(t=this.hoverArea)||void 0===t||t.getHoverAreaTarget().on("click",(function(){var t;null===(t=e.hoverArea)||void 0===t||t.disableHoverArea(e)})))},e.prototype.isHoverAreaDisabled=function(){var t;return!!(null===(t=this.hoverArea)||void 0===t?void 0:t.isDisabled())},e.prototype.activateHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents()&&(null===(t=this.hoverArea)||void 0===t||t.activate())},e.prototype.shouldAddHoverAreaPointerEvents=function(t){void 0===t&&(t=!1);var e=this.hoverArea&&!(this.hoverArea.isDisabled()&&!t);return this.visible&&e},e.prototype.isHovered=function(t){var e,n=this.getHoverTarget();return!!(null===(e=this.hoverArea)||void 0===e?void 0:e.isHovered())||n.is((function(t,e){return e.matches(":hover")}))},e.prototype.getComponentActualWidthHeight=function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},e.prototype.getComponentAbsolutePosition=function(){var t=this.options.absoluteX||0,e=this.options.absoluteY||0,n=this.options.parentSmartgroup;if(n){t*=n.options.scaleWidth,t+=n.options.originalX,e*=n.options.scaleHeight,e+=n.options.originalY;var i=Math.toRad(n.options.rotation);if(i){var r=this.options.width*n.options.scaleWidth,o=this.options.height*n.options.scaleHeight,a=this.options.x*n.options.scaleWidth,s=this.options.y*n.options.scaleHeight,u=new h.default.Point(a+r/2,s+o/2),l=n.options.width*n.options.scaleWidth/2,c=n.options.height*n.options.scaleHeight/2;u.rotate(l,c,-i),u.x+=n.options.absoluteX||0,u.y+=n.options.absoluteY||0,t=u.x-r/2,e=u.y-o/2}}return{componentTop:e,componentLeft:t}},e.prototype.getHoverTarget=function(){return this.$el},e.prototype.updatePositionForHoverArea=function(){var t;null===(t=this.hoverArea)||void 0===t||t.updatePosition()},e.prototype.setInitialZIndex=function(t){this.$el.css("z-index",t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t,e){var n;this.$el.css("z-index",t),this.currentZIndex=t,null===(n=this.hoverArea)||void 0===n||n.setZIndex(t+1),"click"===e&&(this.activeBringToFrontInteraction=!0)},e.prototype.resetZIndex=function(){var t;this.$el.css("z-index",this.zIndex),this.currentZIndex=this.zIndex,null===(t=this.hoverArea)||void 0===t||t.setZIndex(this.zIndex+1),this.activeBringToFrontInteraction=!1},e.prototype.getCurrentHighestZIndex=function(){return this.hoverArea?Math.max(this.hoverArea.currentZIndex,this.currentZIndex):this.currentZIndex},e.prototype.setDimensionsAsAttributes=function(t,e,n){t.attr("width",e),t.attr("height",n)},e.prototype.getPointerEventsTarget=function(){return this.$el},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isMask()||this.isMaskGroup()?(this.getPointerEventsTarget().css("pointer-events","none"),this.addPointerEventsToChildren()):this.getPointerEventsTarget().css("pointer-events","auto")},e.prototype.addPointerEventsToChildren=function(){},e.prototype.removePointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.deactivate():this.getPointerEventsTarget().css("pointer-events","none")},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getInteractionTarget().css("cursor","pointer"):this.getInteractionTarget().css("cursor","inherit")},e.prototype.getInteractionTarget=function(t){if((void 0===t&&(t=!1),this.hoverArea)&&!(this.hoverArea.isDisabled()&&!t))return this.hoverArea.getHoverAreaTarget();return this.getPointerEventsTarget()},e.prototype.bindClickInteraction=function(){this.hasClickInteraction()||this.isMask()?this.getInteractionTarget().on("click",s.default.bind(this._handleClickInteraction,this)):this.getInteractionTarget().on("click",s.default.bind(this.handleClickWithoutInteraction,this))},e.prototype.bindMouseDownInteraction=function(){(this.hasMouseDownInteraction()||this.isMask())&&this.getInteractionTarget().on("mousedown",s.default.bind(this._handleMouseDownInteraction,this))},e.prototype.bindMouseOverInteraction=function(){(this.hasHoverInteraction()||this.isMask())&&this.getInteractionTarget().on("mouseover",s.default.bind(this._handleMouseOverInteraction,this))},e.prototype.unbindInteractions=function(t){void 0===t&&(t=!1),this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout"),this.$el.off("keydown"),this.$el.off("mousedown");var e=this.getInteractionTarget(t);e!==this.$el&&(e.off("click"),e.off("mouseover"),e.off("mouseout"),e.off("mousedown")),this.hasAccessibilityFeature&&this.$el.off("keydown",this._handleOnEscKeyPressed)},e.prototype._configureInteractions=function(){this.unbindInteractions(!0),this.assignCursor(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseOverInteraction(),this.bindClickSelectInteraction(),this.hasAccessibilityFeature&&this.$el.on("keydown",this._handleOnEscKeyPressed)},e.prototype.bindClickSelectInteraction=function(){this.$el.on("keydown",this.handleKeydown.bind(this))},e.prototype.shouldTriggerClickOnKeyDown=function(){return!(!this.hasClickInteraction()||!this.hoverArea)},e.prototype.handleKeydown=function(t){var e=t.keyCode;this.isEditor()&&e===m.default.SPACE?t.target instanceof HTMLButtonElement&&t.target.blur():e!==m.default.SPACE&&e!==m.default.ENTER||(this.shouldTriggerClickOnKeyDown()?this._handleClickInteraction(t,!1,void 0,!0):this.handleClickWithoutInteraction(t),this.hasMouseDownInteraction()&&this._handleMouseDownInteraction(t,!0))},e.prototype.setMaskInteractions=function(t){this.options.interactions=t,this.createHoverArea()},e.prototype.usesHoverAreaForInteractions=function(){return!!this.hoverArea&&!this.hoverArea.isDisabled()},e.prototype.isBaseMaskObject=function(){return!1},e.prototype.isMask=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isMaskGroup=function(){return!1},e.prototype.isAlphaMask=function(){return!1},e.prototype.hasInteractions=function(){var t;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)},e.prototype.getMaskGroup=function(){return[]},e.prototype.isUsingHoverAreaForMouseOut=function(){var t,e=!!(null===(t=this.options.interactions)||void 0===t?void 0:t.find((function(t){return!!t.hasOutTrigger})));return u.default.desktop()&&!this.isBaseMaskObject()&&this.hasInteractions()&&e},e.prototype.getEventInteractionData=function(){var t,e;return this.isMask()&&this.parentViews.length?this.parentViews[0].getEventInteractionData():{componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:null===(t=this.options.pageView.model)||void 0===t?void 0:t.get("slug"),pageName:null===(e=this.options.pageView.model)||void 0===e?void 0:e.get("name"),currentState:this.options.selectedState,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload}},Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!1,configurable:!0}),e.prototype.getCurrentValue=function(t){var e=this.getComponentAbsolutePosition(),n=e.componentLeft,i=e.componentTop,r=this.options;if(this.isInNonDefaultState()){var a=this.getObjectState(this.options.selectedState),s=(null==a?void 0:a.config)||{},u=s.deltaX,l=void 0===u?0:u,c=s.deltaY,d={x:n+l,y:i+(void 0===c?0:c)};r=o(o(o({},r),null==a?void 0:a.config),d)}else{d={x:n,y:i};r=o(o({},r),d)}return r[t]},e.prototype.getEntryAnimations=function(){return this.entryAnimations},e.prototype.getHoverArea=function(){return this.hoverArea},e}(l.default);e.AbstractComponentView=v},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(249),a=n(156),s=n(127),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.attributeKey=n,e.conversion.for("editingDowncast").markerToHighlight({model:s.SELECTION_MARKER,view:{classes:["fake-selection"]}}),i}return r(e,t),e.prototype.refresh=function(){var t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)},e.prototype.execute=function(t,e,n){var i=this;this.editor.model.change((function(r){n?i.applyAttributeForRange(r,n,t):e?i.executeForSelection(r,t):i.executeForAllRanges(r,t)}))},e.prototype.executeForSelection=function(t,e){var n=this.editor.model.document.selection;if(n.isCollapsed)this.applyAttributeForSelection(t,n,e);else{var i=Array.from(n.getRanges()),r=Array.from(this.editor.model.schema.getValidRanges(i,this.attributeKey));this.applyAttributeForRange(t,r,e)}},e.prototype.executeForAllRanges=function(t,e){var n=this.editor.model.document,i=a.getAllRanges(n,t,this.editor,this.attributeKey);i&&this.applyAttributeForRange(t,i,e)},e.prototype.applyAttributeForRange=function(t,e,n){a.applyAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.applyAttributeForSelection(t,this.attributeKey,n)},e}(o.Command);e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(13)),s=i(n(8)),u=i(n(401)),l=i(n(729)),c=i(n(404)),d={VARIANT_ADDED:"variantAdded",VARIANT_ADDED_REMOTE:"variantAddedRemote",VARIANT_CHANGED:"variantChanged",VARIANT_DELETION_STARTED:"variantDeletionStarted",VARIANT_ABOUT_TO_DELETE:"variantAboutToDelete",VARIANT_DELETED:"variantDeleted",VARIANT_DELETED_REMOTE:"variantDeletedRemote",VARIANT_DELETED_FROM_ALL_PAGES:"variantDeletedFromAllPages",VARIANT_DELETE_FAILED:"variantDeleteFailed",VARIANT_SAVED:"variantSaved",VARIANT_SAVE_FAILED:"variantSaveFailed"},f=["desktop"],h={docVersion:null,currentVariant:"desktop",creatingComponent:!1,inIsolationMode:!1,EVENTS:d,doingCycleHack:!1,cachedAdaptiveLayoutsEnabled:null,defaultVariantValues:{mobile:{viewportWidth:540,viewportHeight:960},tablet:{viewportWidth:768,viewportHeight:1024}},setDocumentVersion:function(t){this.docVersion=t},setInIsolationMode:function(t){this.inIsolationMode=t},setCurrentVariant:function(t){t!==this.currentVariant&&(this.currentVariant=t,this.trigger(d.VARIANT_CHANGED))},setDoingCycleHack:function(t){this.doingCycleHack=t},isDoingCycleHack:function(){return this.doingCycleHack},setIsDeletingAVariant:function(t){this.deletingAVariant=t},isDeletingAVariant:function(){return this.deletingAVariant},isCurrentVariant:function(t){return this.currentVariant===t},isInIsolationMode:function(){return this.inIsolationMode},getExistingVariants:function(){if(!this.adaptiveLayoutsEnabled())return[];var t=this.docVersion.doc.at("overrides").get();return o.default.keys(t)},areAllVariantsCreated:function(){return 2===this.getExistingVariants().length},getMissingVariants:function(){return o.default.difference(o.default.keys(this.defaultVariantValues),this.getExistingVariants())},getOtherVariantIfExists:function(t){var e="mobile"===t?"tablet":"mobile";return this.doesVariantExist(e)?e:null},doesVariantExist:function(t){var e=this.getExistingVariants();return o.default.includes(e,t)||"desktop"===t},doesAnyVariantExist:function(){return this.getExistingVariants().length>0},getCurrentVariant:function(){return this.adaptiveLayoutsEnabled()?this.currentVariant:"desktop"},getAllExistingLayouts:function(){return this.getExistingVariants().concat("desktop")},getNonCurrentLayouts:function(){if(!this.adaptiveLayoutsEnabled())return[];if("desktop"===this.currentVariant)return this.getExistingVariants();var t=["desktop"],e=this.getOtherVariantIfExists(this.currentVariant);return e&&t.push(e),t},hasMultipleVariants:function(){return o.default.size(this.docVersion.doc.at("overrides").get())>0},addNewVariantToDocVersion:function(t){var e=r.default.Deferred();if(this.adaptiveLayoutsEnabled())if(this.doesVariantExist(t))e.reject("error-variant-exists");else try{var n=this.getSourceVariantName(),i=o.default.cloneDeep(this.docVersion.get("overrides"))||{};i[t]=this.defaultVariantValues[t],o.default.extend(i[t],this.getDocVersionAttributesToCopyFromSourceVariant(this.docVersion,n)),this.docVersion.set("overrides",i),this.trigger(d.VARIANT_ADDED,{newVariantName:t,sourceVariantName:n}),e.resolve()}catch(t){e.reject(t)}else e.reject("error-adaptiveLayouts-disabled");return e.promise()},beginVariantDelete:function(t){this.doesVariantExist(t)&&(this.setIsDeletingAVariant(!0),this.trigger(d.VARIANT_DELETION_STARTED),this.trigger(d.VARIANT_ABOUT_TO_DELETE,{variantName:t}))},deleteVariantFromDocVersion:function(t){var e=r.default.Deferred();if(this.doesVariantExist(t))try{this.setCurrentVariant("desktop");var n=o.default.cloneDeep(this.docVersion.get("overrides"));delete n[t],this.docVersion.set("overrides",n),this.setIsDeletingAVariant(!1),this.trigger(d.VARIANT_DELETED,{variantName:t}),e.resolve()}catch(t){e.reject(t),this.trigger(d.VARIANT_DELETE_FAILED)}else e.reject("error-variant-missing"),this.trigger(d.VARIANT_DELETE_FAILED);return e.promise()},saveVariant:function(t){this.trigger(d.VARIANT_SAVED,{variantName:t})},variantSaveFailed:function(t){this.trigger(d.VARIANT_SAVE_FAILED,{variantName:t})},listenForVariantSavedOrFailed:function(){var t=r.default.Deferred();return this.listenToOnce(h,h.EVENTS.VARIANT_SAVED,t.resolve),this.listenToOnce(h,h.EVENTS.VARIANT_SAVE_FAILED,t.reject),t},getDocVersionAttributesToCopyFromSourceVariant:function(t,e){return"desktop"!==e&&this.adaptiveLayoutsEnabled()?{scaleExperienceType:t.get("overrides")[e].scaleExperienceType}:{scaleExperienceType:t.get("scaleExperienceType")}},adaptiveLayoutsEnabled:function(){if(null!==this.cachedAdaptiveLayoutsEnabled)return this.cachedAdaptiveLayoutsEnabled;if(c.default.getCurrentUser()){var t=u.default.getActiveAccount().hasAdaptiveLayouts();return this.cachedAdaptiveLayoutsEnabled=t,t}return!1},getSourceVariantName:function(){var t=this.getExistingVariants();if(0===t.length)return"desktop";if(1===t.length)return t[0];throw"All 3 variants already exist"},cloneOverrides:function(t){var e=o.default.clone(t);return o.default.each(t,(function(t,n){e[n]=o.default.clone(t)})),e},reconcileJSONForCurrentVariant:function(t,e){var n;if(e&&e.isSyncedObject()||"desktop"===this.currentVariant)n=o.default.extend({},t);else{var i=t.overrides[this.currentVariant];if(i){var r=t.synced?o.default.omit(i,e.getSyncedProperties()):i;n=o.default.extend({},t,r)}else{var a={variant:this.currentVariant,modelJSON:JSON.stringify(t),issue:s.default.issueSlug,docDictionaryJson:JSON.stringify(this.docVersion.pageCollection.getCurrentPage().doc.at("layerDictionary").at(t.id).get())};window.Rollbar.warn("Missing Variant Overrides Object on reconcileJSONForCurrentVariant",a)}}return delete n.overrides,n},disableLayoutSwitch:function(){this.trigger("disableLayoutSwitch")},enableLayoutSwitchIfReady:function(){l.default.allClearToSwitchVariants()&&this.trigger("enableLayoutSwitch")},doesCurrentVariantSupportHover:function(){var t=this.getCurrentVariant();return f.indexOf(t)>-1}};o.default.extend(h,a.default.Events),e.default=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCanvasTargetsActionModel=void 0;var s=a(n(0)),u=n(71),l=n(29),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){var t=this,e=this.get("layerTargets");if(!e||s.default.isEmpty(e))return!1;if(!this.getSupportsMultipleTargets()&&1!==e.length)return!1;var n=this.getValidCanvasTargets();return e.every(function(e){return t.isCanvasTargetValid(e,n)}.bind(this))},e.prototype.getCanvasTargetsInContext=function(){return this.parentInteraction.getValidFullHierarchyTargets()},e.prototype.getValidCanvasTargets=function(){return this.getCanvasTargetsInContext()},e.prototype.isCanvasTargetTypeValid=function(t){var e=this.get("layerTargets");return!(!this.getSupportsMultipleTargets()&&e&&e.length>=1)&&t.isInteractable()},e.prototype.isCanvasTargetValid=function(t,e){return e||(e=this.getValidCanvasTargets()),!!e.get(t)},e.prototype.getCanvasTargetIds=function(){var t=this.get("layerTargets");return s.default.isArray(t)?t.slice():[]},e.prototype.getFirstCanvasTargetId=function(){var t=this.getCanvasTargetIds();return s.default.isEmpty(t)?null:t[0]},e.prototype.getCanvasTargetModels=function(){var t=this,e=new Array;return s.default.each(this.getCanvasTargetIds(),s.default.bind((function(n){var i=t.getValidCanvasTargets().get(n);i?e.push(i):console.warn("No canvas target model found for id "+n)}),this)),e},e.prototype.getFirstCanvasTargetModel=function(){var t=this.getCanvasTargetModels();return t.length>0?t[0]:null},e.prototype.hasACanvasTarget=function(){var t=this.getCanvasTargetIds();return!s.default.isEmpty(t)},e.prototype.addCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.push(t),this.set("layerTargets",e)},e.prototype.setCanvasTargets=function(t){s.default.isString(t)&&(t=s.default.filter([t])),this.set("layerTargets",t)},e.prototype.updateCanvasTargets=function(t,e){var n=this.getCanvasTargetIds();n.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(n[t]=e,this.set("layerTargets",n))},e.prototype.removeCanvasTarget=function(t){var e=this.getCanvasTargetIds();e.length<=t?console.warn("Trying to update a canvas target that doesn't exist"):(e.splice(t,1),this.set("layerTargets",e))},e.prototype.getSupportsMultipleTargets=function(){return this.get("supportsMultipleTargets")},e=o([l.ActionModelOptions({defaults:{layerTargets:null,supportsMultipleTargets:!0}})],e)}(u.AbstractActionModel);e.AbstractCanvasTargetsActionModel=c},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(118),r=n(26);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(){this._listener=Object.create(i.a)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+Object(r.a)(e),e)})}set(t,e,n={}){const i=Object(r.g)(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+Object(r.a)(t),t)}destroy(){this._listener.stopListening()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n(35)),s=i(n(9)),u=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(t){n.isEnabled||t.stop()}),{priority:"high"}),this.listenTo(e,"change:isReadOnly",(function(t,e,i){i?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}var e,n,i;return e=t,(n=[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",l,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",l),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t){t.return=!1,t.stop()}e.default=u,s.default(u,a.default)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(53);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r(t){return Object(i.a)(t)?new Map(t):
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(54),r=n(25),o=n(1),a=n(4);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends i.a{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new s(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new s(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof r.default))throw new o.default("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new o.default("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new s(a.default.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(13)),s=i(n(14)),u=i(n(352));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,n)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),n=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,n)}},bindInteraction:function(t,e){var n;n="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",n)})),s.default.desktop()&&t.off("click").on("click",n)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},setAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!0,this.options.visible&&"none"!=this.$el.css("display")||(this.$el.css("display","block"),this.$el.addClass("sr-only")),this.exitAnimations.forEach((function(t){return t.keepVisibleForScreenReaders()}))},unsetAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!1,this.$el.hasClass("sr-only")&&(this.$el.removeClass("sr-only"),this.$el.css("display","none")),this.exitAnimations.forEach((function(t){return t.restoreHideBehavior()}))},show:function(){this.keepVisibleForScreenReaders?this.$el.removeClass("sr-only"):this.$el.show()},hide:function(){this.keepVisibleForScreenReaders?this.$el.addClass("sr-only"):this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var i=n(27),r=n(90),o=n(25),a=n(4),s=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new s.default("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new s.default("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=a.default._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,r;do{i=this.position,r=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=r)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const s=e.parent,u=Object(a.getTextNodeAtPosition)(e,s),c=u||Object(a.getNodeAfterPosition)(e,s,u);if(c instanceof o.default)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=c),this.position=e,l("elementStart",c,t,e,1);if(c instanceof i.default){let i;if(this.singleCharacters)i=1;else{let t=c.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),i=t-e.offset}const o=e.offset-c.startOffset,a=new r.a(c,o,i);return e.offset+=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():l("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const s=e.parent,u=Object(a.getTextNodeAtPosition)(e,s),c=u||Object(a.getNodeBeforePosition)(e,s,u);if(c instanceof o.default)return e.offset--,this.shallow?(this.position=e,l("elementStart",c,t,e,1)):(e.path.push(c.maxOffset),this.position=e,this._visitedParent=c,this.ignoreElementEnd?this._previous():l("elementEnd",c,t,e));if(c instanceof i.default){let i;if(this.singleCharacters)i=1;else{let t=c.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),i=e.offset-t}const o=e.offset-c.startOffset,a=new r.a(c,o-i,i);return e.offset-=i,this.position=e,l("text",a,t,e,i)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,l("elementStart",n,t,e,1)}}function l(t,e,n,i,r){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}},function(t,e,n){"use strict";var i=n(15),r=n(80),o=n(150),a=n(212),s=n(174);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const u=Object(s.a)({},i.default,{listenTo(t,...e){if(Object(o.a)(t)||Object(a.a)(t)){const n=this._getProxyEmitter(t)||new l(t);n.attach(...e),t=n}i.default.listenTo.call(this,t,...e)},stopListening(t,e,n){if(Object(o.a)(t)||Object(a.a)(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}i.default.stopListening.call(this,t,e,n),t instanceof l&&t.detach(e)},_getProxyEmitter(t){return Object(i._getEmitterListenedTo)(this,c(t))}});e.a=u;class l{constructor(t){Object(i._setEmitterId)(this,c(t)),this._domNode=t}}function c(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Object(r.a)())}Object(s.a)(l.prototype,i.default,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i={capture:!!n.useCapture,passive:!!n.usePassive},r=this._createDomListener(t,i);this._domNode.addEventListener(t,r,i),this._domListeners||(this._domListeners={}),this._domListeners[t]=r},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}})},function(t,e,n){"use strict";var i=n(7),r=n(36);e.a=function(t){return Object(i.a)((function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&Object(r.a)(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var u=n[i];u&&t(e,u,i,a)}return e}))}},function(t,e,n){"use strict";var i=n(16),r=Object.create,o=function(){function t(){}return function(e){if(!Object(i.a)(e))return{};if(r)return r(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();e.a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(1),r=n(15),o=n(9),a=n(60),s=n(228);n(186);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new i.default("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Object(a.default)(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Object(s.a)(this);return delete t.parent,t}is(t){return"node"===t||"view:node"===t}}Object(o.default)(u,r.default)},function(t,e,n){"use strict";var i=n(37),r=n(5),o=n(18);e.a=function(t){return"string"==typeof t||!Object(r.a)(t)&&Object(o.a)(t)&&"[object String]"==Object(i.a)(t)}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(222),e)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new i.default("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new i.default("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(3)),l=a(n(13)),c={Module:function(t){s.default.extend(this,t),this.status=c.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};s.default.extend(c.Module.prototype,l.default.Events,{setDelegate:function(t){if(!s.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&s.default.isFunction(t[e])&&(this[e]=s.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return c.Application.DEFERRED_LOADING_TIMEOUT}}),c.Module.extend=l.default.View.extend,c.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},c.Application=function(t){this.initCallbacks=new c.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new u.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),s.default.extend(this,t)},s.default.extend(c.Application.prototype,l.default.Events,{_allLoaded:function(){return s.default.every(s.default.values(this.modules),(function(t){return t&&t.getStatus()===c.Module.STATUS.LOADED}))},_loadModule:function(t){if(s.default.isUndefined(t)||s.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(c.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(c.Module.STATUS.STARTED)}))},use:function(t){var e=this;s.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return o(n(509)("./"+t+"/module"))})).then((function(n){if(!n)throw Error("could not load module: "+t);e.loadedAllModules.notify(n)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=s.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():u.default.when(this.loadedAllModules).then(e)}}),c.Application.extend=l.default.View.extend,c.Application.DEFERRED_LOADING_TIMEOUT=5e3,c.Callbacks=function(){this.deferred=u.default.Deferred(),this.promise=this.deferred.promise()},s.default.extend(c.Callbacks.prototype,{add:function(t,e){this.promise.done((function(n,i){e&&(n=e),t.call(n,i)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=c},function(t,e,n){"use strict";var i,r,o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_COMPONENT_TYPE=e.VIEW_DEFAULTS=e.TEXT_PLUS_MODEL_DEFAULTS=e.TEXT_DEFAULT_FONT_SIZE=e.MODEL_DEFAULTS=e.TextRenderMode=e.properties=e.MAX_TITLE_LENGTH=e.HTML_TAG_OPTIONS=e.COLUMN_OVERRUN_PADDING_PERCENTAGE=e.DEFAULT_HTML_TAG_NAME=e.DEFAULT_HTML_TAG=void 0;var l=u(n(0));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var c,d=l.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=s(d,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),e.MAX_TITLE_LENGTH=40,function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.TEXT_DATA="textData",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink",t.BOLD="bold",t.ITALIC="italic",t.FONT_FAMILY="fontFamily",t.SUPERSCRIPT="superscript",t.SUBSCRIPT="subscript",t.TEXT_CASE="textCase",t.ALIGNMENT="alignment",t.BASE_LINE_OFFSET="baseLineOffset",t.EDITABLE="editable",t.LIST_DEFINITIONS="listDefinitions",t.LINES="lines",t.HEADINGS="headings",t.PARAGRAPHS="paragraphs",t.SOFT_BREAKS="softBreaks"}(c=e.properties||(e.properties={})),function(t){t.PARAGRAPH="paragraph",t.LINE="line",t.CHAR="char"}(e.TextRenderMode||(e.TextRenderMode={})),e.MODEL_DEFAULTS=((i={})[c.HTML_TAG]=e.DEFAULT_HTML_TAG,i[c.TITLE]="Text",i[c.TEXT_CONTENT]="",i[c.TEXT_SPANS]=[],i[c.DEFAULT_SPAN]=void 0,i[c.INDENT]=0,i[c.JUSTIFY]="left",i[c.COLUMNS]=1,i[c.COLUMN_GAP]=0,i[c.LEADING]=38,i[c.TEXT_SHADOW]={},i[c.AUTO_LEADING]=!0,i[c.TEXT_TRANSFORM]="none",i[c.PADDING_TOP]=0,i[c.PADDING_BOTTOM]=0,i[c.PADDING_RIGHT]=0,i[c.PADDING_LEFT]=0,i[c.SHOW_OVERFLOW]=!0,i[c.SYNCED]=!1,i[c.EDITABLE]=!1,i[c.LIST_DEFINITIONS]=[],i[c.HEADINGS]=[],i[c.PARAGRAPHS]=[],i),e.TEXT_DEFAULT_FONT_SIZE=24,e.TEXT_PLUS_MODEL_DEFAULTS=o(((r={})[c.LINES]=[],r),l.default.pick(e.MODEL_DEFAULTS,[c.PADDING_TOP,c.PADDING_BOTTOM,c.PADDING_RIGHT,c.SYNCED,c.PADDING_LEFT,c.TITLE,c.TEXT_CONTENT,c.TEXT_SPANS,c.DEFAULT_SPAN,c.JUSTIFY,c.LETTER_SPACING,c.EDITABLE,c.LIST_DEFINITIONS,c.HEADINGS,c.PARAGRAPHS])),e.VIEW_DEFAULTS={MIN_FONT_SIZE:1,MAX_FONT_SIZE:1e3,MIN_LEADING:0,AUTO_LEADING:-1,MAX_LEADING:2e3,MIN_COLUMN_GAP:0,MAX_COLUMN_GAP:100,MIN_PADDING:0,MAX_PADDING:100},e.TEXT_COMPONENT_TYPE={OLD_TEXT:"old_text",TEXT_PLUS:"text_plus"}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isPeekable=e.peekable=e.getTextPlusModelShiftingSpacing=e.adjustMarginsForPlayer=e.setFontsSafeOuterSpace=e.adjustMarginsForSvg=e.resolveModelOrObject=e.getPaddingObject=e.getFontBaseLine=e.setTextPlusContainerAttributes=e.setTextContainerAttributes=e.createTextViewElements=e.buildListDefinition=e.buildParagraphDefinition=e.removeAttributesFromSelection=e.getTextContentLength=e.getTextFromRange=e.getSelectedBlocksFromEditor=e.getSelectedRangeFromEditor=e.combineOverlappingTextSpans=e.createTextSpans=e.isDefaultSpanDefinition=e.handleOverlappingDefinition=e.getInlineElementsFromRanges=e.getInlineElementsFromRange=e.getLineElement=e.elementIsLine=e.elementIsSoftBreak=e.elementIsList=e.elementIsParagraph=e.elementIsHeading=e.headingsAreEnabled=e.consolidateParsedTextDefinitions=e.parseDefinitions=e.parseTextDefinitions=e.parseElementDefinitions=e.getTreeWalker=e.getRangeFromBlocks=e.getTextPlusDataFromBlocks=e.getTextPlusDataFromSelectedBlocks=e.getTextPlusDataFromRange=e.getTextPlusDataFromEditor=e.addOrUpdateSelectionMarker=e.SELECTION_MARKER=void 0;var c=l(n(0)),d=l(n(117)),f=l(n(4)),h=l(n(2)),p=n(126),g=n(185),m=n(658),v=n(659),y=n(660),_=n(661),b=n(662),w=l(n(48)),T=n(52),S=l(n(298)),O=n(388),E=n(94);function P(t,e){var n=R(x(null,t)),i=n.textContent,r=n.treeWalkerValues,o=n.definitions,a=q(N(o.text,i),i,e);return{textContent:i,textSpans:a.textSpans,defaultSpan:a.defaultSpan,definitions:o,treeWalkerValues:r}}function C(t,e,n){return P(A(t,e),n)}function A(t,e){var n=Array.from(e);return t.model.change((function(t){var e=t.createRangeOn(n[0]),i=t.createRangeOn(n[n.length-1]);return new h.default(e.start,i.end)}))}function x(t,e){return t?new d.default({shallow:!1,startPosition:new f.default(t.model.document.getRoot(),[0])}):e?new d.default({shallow:!1,boundaries:e}):[]}function I(t,e,n){var i=[],r=[],o=[],a=[],s=[],u="";if(j(t)){var l=v.parse(t,e);u+=l.paragraphText,e=l.paragraphIndex,i=l.paragraphDefinitions}if(L(t)&&D()){var c=y.parse(t,e);u+=c.headingText,e=c.headingIndex,r=c.headingDefinitions}if(F(t)){var d=m.parse(t,e,n.lists);u+=d.listText,e=d.listIndex,o=d.listDefinitions}if(V(t)&&"elementStart"===t.type){var f=_.parse(t,e),h=f.softBreakText;e=f.softBreakIndex,a=f.softBreakDefinitions,u+=h}if(B(t)){var p=b.parse(t);p&&s.push(p)}return{paragraphs:i,headings:r,lists:o,softBreaks:a,text:u,lines:s}}function k(t,e){var n,i,r=t.item;if(!r.is("textProxy"))return{definitions:[],text:""};var o=function(t){return t.replace(/\u200B/g,"")}(r.data),s=o.length,u=[],l=new Map;try{for(var c=a(r.getAttributes()),d=c.next();!d.done;d=c.next()){var f=M(d.value);l.set(f[0],f[1])}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l.size>0&&u.push({index:e,length:s,endIndex:e+s,attributes:l}),{definitions:u,text:o}}function M(t){var e=t;return"textCase"===t[0]&&t[1]&&t[1].textCase&&(t[1]=t[1].textCase),e}function R(t){var e,n,i=[],r=[],o=[],s=[],l=[],c=[],d=[],f="",h=0;try{for(var p=a(t),g=p.next();!g.done;g=p.next()){var m=g.value;if("elementStart"===m.type||"elementEnd"===m.type){var v=I(m,h,{text:i,paragraphs:r,headings:o,lists:s,softBreaks:l,lines:d}),y=v.text,_=v.paragraphs,w=v.lists,T=v.headings,S=v.softBreaks,O=v.lines;f+=y,r.push.apply(r,u(_)),s.push.apply(s,u(w)),o.push.apply(o,u(T)),l.push.apply(l,u(S)),b.reduceIntoRanges(O,d),h+=y.length}else if("text"==m.type){var E=k(m,h),P=(y=E.text,E.definitions);f+=y,i.push.apply(i,u(P)),h+=y.length}c.push(m)}}catch(t){e={error:t}}finally{try{g&&!g.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}return{textContent:f,treeWalkerValues:c,definitions:{text:i,paragraphs:r,headings:o,lists:s,softBreaks:l,lines:d}}}function N(t,e){var n,i,r,o,s,l,d=new Map;for(t=c.default.cloneDeep(t);t.length>0;){var f=t.shift();if(c.default.isNil(f))return u(d.values());f.index=G(f.index,e),f.length=f.endIndex-f.index;var h=f.index+":"+f.endIndex;if(0!==d.size)if(d.has(h)){try{for(var p=(n=void 0,a(f.attributes)),g=p.next();!g.done;g=p.next()){var m=g.value;d.get(h).attributes.set(m[0],m[1])}}catch(t){n={error:t}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}t.push(d.get(h)),d.delete(h)}else{var v=!1;try{for(var y=(r=void 0,a(d.keys())),_=y.next();!_.done;_=y.next()){var b=_.value,w=d.get(b);if((f.index>=w.index&&f.index<=w.endIndex||f.endIndex<=w.endIndex&&f.endIndex>=w.index||f.index<=w.index&&f.endIndex>=w.endIndex)&&(v=W(f,w,t,d,e)),(f.index==w.endIndex||f.endIndex==w.index)&&f.attributes.size==w.attributes.size){var T=!0;try{for(var S=(s=void 0,a(w.attributes)),O=S.next();!O.done;O=S.next()){m=O.value;c.default.isEqual(f.attributes.get(m[0]),m[1])||(T=!1)}}catch(t){s={error:t}}finally{try{O&&!O.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}T&&(v=W(f,w,t,d,e))}}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}!v&&f.attributes.size>0&&d.set(h,f)}else d.set(h,f)}var E=u(d.values());return E.sort((function(t,e){return t.index<e.index?-1:t.index==e.index?t.length<=e.length?-1:0:1})),E}function D(){return w.default.hasFeature(T.FeatureFlagName.TEXT_PLUS_HTML_ELEMENT)}function L(t){return t.item.is("element")&&!c.default.isUndefined(g.EHEADING_ATTRIBUTE_MAP[t.item.name])}function j(t){return t.item.is("element")&&"paragraph"==t.item.name}function F(t){return t.item.is("element")&&"listItem"==t.item.name}function V(t){return t.item.is("element")&&"softBreak"==t.item.name}function B(t){var e=t.item?t:{item:t};return j(e)||L(e)||F(e)}function U(t){var e;return t.is("element")&&B(t)?t:(null===(e=t.parent)||void 0===e?void 0:e.is("element"))?U(t.parent):null}function H(t,e){var n,i,r=function(t){t&&B(t)&&((null==e?void 0:e.find((function(e){return e===t})))||null==e||e.push(t))};try{for(var o=a(t.getItems()),s=o.next();!s.done;s=o.next()){r(U(s.value))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.start.parent.is("element")&&r(t.start.parent)}function G(t,e){for(var n=t;e.length>n&&("\n"===e[n-1]||e[n-1]===E.SOFTBREAK_CHARACTER);)n--;return n}function W(t,e,n,i,r){var o,s,u=new Map;try{for(var l=a(e.attributes),d=l.next();!d.done;d=l.next()){var f=d.value,h=f[0],p=f[1];t.attributes.has(h)&&c.default.isEqual(t.attributes.get(h),p)&&(u.set(h,p),e.attributes.delete(h),t.attributes.delete(h))}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(u.size>0){var g=Math.min(t.index,e.index),m=Math.max(t.endIndex,e.endIndex);return n.push({index:g,endIndex:m,length:Math.min(X(r),m-g),attributes:u}),t.attributes.size>0&&n.push(t),e.attributes.size>0&&n.push(e),i.delete(e.index+":"+e.endIndex),!0}return!1}function z(t,e,n){return n.hasOwnProperty("variantGuid")?t.variantGuid=n.variantGuid:t.variantGuid="Google|Roboto|400|normal",t.variantGuid||""}function $(t,e,n){return 0==t&&e==n.replace(/[\n\t]+$/,"").length}function q(t,e,n){var r,o,s,u,l=Object.assign({},n,{underline:!1}),d=[],f={};try{for(var h=a(t),g=h.next();!g.done;g=h.next()){var m=g.value,v={};try{for(var y=(s=void 0,a(m.attributes)),_=y.next();!_.done;_=y.next()){var b=_.value,w=b[0],T=b[1];switch(w){case p.properties.FONT_COLOR:var S=T;v.fontColor=S.replace(/\s+/g,"");break;case p.properties.UNDERLINE:v.underline=!!T;break;case p.properties.LETTER_SPACING:v.letterSpacing=parseInt(T.toString());break;case p.properties.BOLD:v.variantGuid=z(v,0,p.properties.BOLD);break;case p.properties.ITALIC:v.variantGuid=z(v,0,p.properties.ITALIC);break;case p.properties.FONT_FAMILY:v.variantGuid=z(v,0,T);break;case p.properties.SUPERSCRIPT:v.superscript=!0;break;case p.properties.SUBSCRIPT:v.subscript=!0;break;case p.properties.TEXT_CASE:v.textCase=T;break;case p.properties.FONT_SIZE:v.fontSize=parseInt(T.toString());break;case p.properties.ALIGNMENT:v.alignment=T;break;case p.properties.HYPERLINK:v.hyperlink=T;break;case p.properties.BASE_LINE_OFFSET:break;default:console.log(w," property is not supported yet.")}}}catch(t){s={error:t}}finally{try{_&&!_.done&&(u=y.return)&&u.call(y)}finally{if(s)throw s.error}}var O={};$(m.index,m.length,e)?(v.hasOwnProperty("superscript")&&(O=i(i({},v),{index:m.index,length:m.length}),delete v.superscript),v.hasOwnProperty("subscript")&&(O=i(i({},v),{index:m.index,length:m.length}),delete v.subscript),v.hasOwnProperty(E.TextPlusCommands.TEXT_CASE)||delete l.textCase,c.default.isEmpty(v)||(f=i(i({},l),v))):O=i(i({},v),{index:m.index,length:m.length}),O&&d.push(O)}}catch(t){r={error:t}}finally{try{g&&!g.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}return f=c.default.extend({},l,f),c.default.each(d,(function(t){for(var e in f){var n=e,i=f[n],r=t[n];!c.default.isNil(r)&&c.default.isEqual(r,i)&&delete t[n]}})),c.default.remove(d,(function(t){return c.default.values(t).length<3})),{textSpans:d=Y(d),defaultSpan:f}}function Y(t){var e,n,r,o,s=new Map;try{for(var l=a(t),d=l.next();!d.done;d=l.next())for(var f=d.value,h=f.index;h<f.index+f.length;h++)s.has(h)||s.set(h,{index:0,length:0}),s.set(h,i(i(i({},s.get(h)),f),{index:0,length:0}))}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var p=[],g=void 0,m=u(s.keys()).sort((function(t,e){return t-e})),v=function(t){var e=s.get(t);if(!e)return"continue";var n=function(){var n=e;return n.index=t,n.length=1,n};if(!g)return g=n(),"continue";g.index+g.length===t&&c.default.isEqual(i(i({},g),{index:0,length:0}),i({},e))?g.length++:(p.push(g),g=n())};try{for(var y=a(m),_=y.next();!_.done;_=y.next()){v(_.value)}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}return g&&p.push(g),p}function K(t,e){var n;return e?t.model.document.selection.getSelectedBlocks():(null===(n=t.model.document.getRoot())||void 0===n?void 0:n.getChildren())||[]}function X(t){return t.length}function J(t,e){t.style.whiteSpace="break-word",function(t,e,n){t.style.width=e-n.paddingLeft-n.paddingRight+"px"}(t,tt(e,"width"),Q(e)),function(t,e){t.style.paddingTop=e.paddingTop+"px",t.style.paddingRight=e.paddingRight+"px",t.style.paddingBottom=e.paddingBottom+"px",t.style.paddingLeft=e.paddingLeft+"px"}(t,Q(e)),function(t,e){t.style.textAlign=e}(t,tt(e,"justify")),function(t){t.style.lineHeight="normal"}(t)}e.SELECTION_MARKER="Selection-Marker",e.addOrUpdateSelectionMarker=function(t,n){var i=t.model,r=t.mapper;i.change((function(t){var o={range:r.toModelRange(n),usingOperation:!1,affectsData:!1};i.markers.has(e.SELECTION_MARKER)?t.updateMarker(e.SELECTION_MARKER,o):t.addMarker(e.SELECTION_MARKER,o)}))},e.getTextPlusDataFromEditor=function(t,e){var n=R(x(t)),i=n.textContent,r=n.definitions,o=q(N(c.default.cloneDeep(r.text),i),i,e);return{textContent:i,textSpans:o.textSpans,defaultSpan:o.defaultSpan,definitions:r}},e.getTextPlusDataFromRange=P,e.getTextPlusDataFromSelectedBlocks=function(t){var e;return r(this,void 0,Promise,(function(){var n,i,r;return o(this,(function(o){switch(o.label){case 0:return[4,null===(e=t.textEditorView)||void 0===e?void 0:e.getEditor()];case 1:return n=o.sent(),i=K(n,t.view.hasFocus()),r=t.getDefaultSpan(),[2,C(n,i,r)]}}))}))},e.getTextPlusDataFromBlocks=C,e.getRangeFromBlocks=A,e.getTreeWalker=x,e.parseElementDefinitions=I,e.parseTextDefinitions=k,e.parseDefinitions=R,e.consolidateParsedTextDefinitions=N,e.headingsAreEnabled=D,e.elementIsHeading=L,e.elementIsParagraph=j,e.elementIsList=F,e.elementIsSoftBreak=V,e.elementIsLine=B,e.getLineElement=U,e.getInlineElementsFromRange=function(t){var e=[];return H(t,e),e},e.getInlineElementsFromRanges=function(t){var e,n,i=[];try{for(var r=a(t),o=r.next();!o.done;o=r.next()){H(o.value,i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.handleOverlappingDefinition=W,e.isDefaultSpanDefinition=$,e.createTextSpans=q,e.combineOverlappingTextSpans=Y,e.getSelectedRangeFromEditor=function(t){var e,n=t.model.document.selection.getFirstPosition(),i=t.model.document.selection.getLastPosition();return n&&(e=i?new h.default(n,i):new h.default(n)),e},e.getSelectedBlocksFromEditor=K,e.getTextFromRange=function(t){var e,n,i="";try{for(var r=a(t.getItems()),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.is("textProxy"))i+=s.data}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},e.getTextContentLength=X,e.removeAttributesFromSelection=function(t,e){var n=t.model,i=n.document.selection;n.change((function(n){var r,o,s,u;try{for(var l=a(e),c=l.next();!c.done;c=l.next()){var d=c.value;if(i.isCollapsed)n.removeSelectionAttribute(d);else{var f=t.model.schema.getValidRanges(i.getRanges(),d);try{for(var h=(s=void 0,a(f)),p=h.next();!p.done;p=h.next()){var g=p.value;n.removeAttribute(d,g)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}}}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}))},e.buildParagraphDefinition=function(t,e){return{attributes:{paragraphElementType:t},index:e}},e.buildListDefinition=function(t,e,n,i){return{attributes:{listIndent:t,listType:e,listElementType:n},index:i}},e.createTextViewElements=function(t,e){void 0===e&&(e=document.createElement("div"));var n=document.createElement("div");return n.id=t,n.style.height="100%",n.style.width="100%",n.classList.add(g.TextPlusClassName),e.appendChild(n),{wrapper:e,editorEl:n}},e.setTextContainerAttributes=J,e.setTextPlusContainerAttributes=function(t,e,n){return r(this,void 0,Promise,(function(){return o(this,(function(i){switch(i.label){case 0:return J(t,e),[4,et(t,tt(e,"defaultSpan"),n)];case 1:return i.sent(),[2]}}))}))},e.getFontBaseLine=function(t){var e=t.cssFamilyName;return!Z[e]&&function(t){var e=t.cssFamilyName,n=t.fontStyle,i=t.fontWeight,r=O.createElement("div",{visibility:"hidden"}),o=O.createElement("span",{fontSize:0,fontFamily:e,fontStyle:n,fontWeight:i},"Á");r.appendChild(o);var a=O.createElement("span",{fontSize:"999px",fontFamily:e,fontStyle:n,fontWeight:i},"p");r.appendChild(a),O.appendBodyChild(r),Z[e]=O.getElementTop(o)/O.getElementHeight(a),O.removeBodyChild(r)}(t),Z[e]};var Z={};function Q(t){return{paddingTop:tt(t,"paddingTop"),paddingRight:tt(t,"paddingRight"),paddingBottom:tt(t,"paddingBottom"),paddingLeft:tt(t,"paddingLeft")}}function tt(t,e){return t.get?t.get(e):t[e]}function et(t,e,n){return r(this,void 0,Promise,(function(){return o(this,(function(i){switch(i.label){case 0:return function(t,e){e&&(t.style.color=e)}(t,e.fontColor),function(t,e){e&&(t.style.fontSize=e+"px")}(t,e.fontSize),function(t,e){t.style.textDecoration=e?"underline":"none"}(t,!!e.underline),function(t,e){void 0!==e&&(t.style.letterSpacing=S.default.unitsToCss(e))}(t,e.letterSpacing),[4,nt(t,n,e.variantGuid)];case 1:return i.sent(),[2]}}))}))}function nt(t,e,n){return r(this,void 0,Promise,(function(){var i;return o(this,(function(r){switch(r.label){case 0:return n?[4,e(n)]:[3,2];case 1:i=r.sent(),t.style.fontFamily=i.cssFamilyName,t.style.fontStyle=i.fontStyle,t.style.fontWeight=i.fontWeight+"px",r.label=2;case 2:return[2]}}))}))}function it(t,e){var n=tt(e,"paddingTop")+tt(e,"paddingBottom"),i=n>0?tt(e,"height")-n:tt(e,"height");t.style.setProperty("height",i+"px","important")}function rt(t){return 2*tt(t,"defaultSpan").fontSize}e.getPaddingObject=Q,e.resolveModelOrObject=tt,e.adjustMarginsForSvg=function(t,e){var n=rt(e);it(t,e),t.style.setProperty("padding","0","important"),t.style.setProperty("margin-top",n+tt(e,"paddingTop")+"px","important"),t.style.setProperty("margin-right",n+tt(e,"paddingRight")+"px","important"),t.style.setProperty("margin-bottom",n+tt(e,"paddingBottom")+"px","important"),t.style.setProperty("margin-left",n+tt(e,"paddingLeft")+"px","important")},e.setFontsSafeOuterSpace=function(t,e){var n=Array.from(t.children).find((function(t){return!t.classList.contains("ck")}));if(n){var i=rt(e);n.style.setProperty("margin-top","-"+i+"px"),n.style.setProperty("padding-top",i+"px"),n.style.setProperty("margin-right","-"+i+"px"),n.style.setProperty("padding-right",i+"px"),n.style.setProperty("margin-left","-"+i+"px"),n.style.setProperty("padding-left",i+"px")}},e.adjustMarginsForPlayer=function(t,e){it(t,e),t.style.setProperty("padding-bottom","0"),t.style.setProperty("overflow-y","clip")},e.getTextPlusModelShiftingSpacing=rt,e.peekable=function(t){var e=t.next(),n=function(){var n;return o(this,(function(i){switch(i.label){case 0:return e.done?[3,2]:(n=e.value,e=t.next(),[4,n]);case 1:return i.sent(),[3,0];case 2:return[2,e.value]}}))}();return n.peek=function(){return e},n},e.isPeekable=function(t){return"function"==typeof t.peek}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(271);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r(t,e,n){n=n||function(t,e){return t===e};const i=t.length,o=e.length;if(i>200||o>200||i+o>300)return r.fastDiff(t,e,n,!0);let a,s;if(o<i){const n=t;t=e,e=n,a="delete",s="insert"}else a="insert",s="delete";const u=t.length,l=e.length,c=l-u,d={},f={};function h(i){const r=(void 0!==f[i-1]?f[i-1]:-1)+1,o=void 0!==f[i+1]?f[i+1]:-1,c=r>o?-1:1;d[i+c]&&(d[i]=d[i+c].slice(0)),d[i]||(d[i]=[]),d[i].push(r>o?a:s);let h=Math.max(r,o),p=h-i;for(;p<u&&h<l&&n(t[p],e[h]);)p++,h++,d[i].push("equal");return h}let p,g=0;do{for(p=-g;p<c;p++)f[p]=h(p);for(p=c+g;p>c;p--)f[p]=h(p);f[c]=h(c),g++}while(f[c]!==l);return d[c].slice(1)}r.fastDiff=i.a},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){var o=parseFloat(i);return(r.default.isUndefined(i)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==n&&(this.b=parseInt(n,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,n=this.g/255,i=this.b/255,r=Math.min(e,Math.min(n,i)),o=Math.max(e,Math.max(n,i));if(r==o)return t.v=r,t;var a=e==r?n-i:i==r?e-n:i-e,s=e==r?3:i==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,n=this.g/255,i=this.b/255;return t.k=Math.min(1-e,1-n,1-i),t.c=(1-e-t.k)/(1-t.k),t.m=(1-n-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),n=t.relativeLuminance();if(e<n){var i=e;e=n,n=i}return(e+.05)/(n+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,n,i;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),i=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(i,n,e)},o.fromHSV=function(t,e,n){var i,a,s,u,l,c,d,f;if(r.default.isObject(t)&&(e=t.s,n=t.v,t=t.h),0===e)return c=d=f=n,new o(255*c,255*d,255*f);switch(s=n*(1-e),u=n*(1-e*(a=(t/=60)-(i=Math.floor(t)))),l=n*(1-e*(1-a)),i){case 0:c=n,d=l,f=s;break;case 1:c=u,d=n,f=s;break;case 2:c=s,d=n,f=l;break;case 3:c=s,d=u,f=n;break;case 4:c=l,d=s,f=n;break;default:c=n,d=s,f=u}return new o(255*c,255*d,255*f)},o.fromCMYK=function(t,e,n,i){r.default.isObject(t)&&(e=t.m,n=t.y,i=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,n/=100,i/=100,a.r=1-Math.min(1,t*(1-i)+i),a.g=1-Math.min(1,e*(1-i)+i),a.b=1-Math.min(1,n*(1-i)+i),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,n,i,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],n=u[1],i=u[2],r=u[3],new o(e,n,i,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,n){return t=o.fromString(t),e=o.fromString(e),n=o.fromString(n),t.contrastRatio(e)>t.contrastRatio(n)?e:n},window.Color=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteraction=void 0;var a=o(n(0)),s=n(538),u=o(n(141)),l=function(){function t(e,n){if(!n.module)throw new Error("All interactions must belong to a module");a.default.assign(this,e),this.action=e.action,this.trigger=e.trigger,this.delay=e.delay,this.repeat=e.repeat,this.pageView=n;var i=t.shouldInteractionChangeToMouseDown(this.action,this.trigger,this.hasOutTrigger,!!e.hasSiblingThatIsABringToFrontClickInteraction,!!e.hasSiblingThatIsAChangeStateClickInteraction);this.trigger=i?"mouseDown":e.trigger}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.setTrigger=function(t){this.trigger=t},t.shouldInteractionChangeToMouseDown=function(t,e,n,i,r){return void 0===r&&(r=!1),"click"===e&&(n||"bring-to-front"===t||i||r)},t.prototype.setOptionalParameters=function(t){this.componentId=t},t.prototype.triggerAction=function(t){return this.validateAndSendEvent(t)},t.prototype.triggerOutAction=function(){},t.prototype.validateAndSendEvent=function(t){if(!t)return!1;if(!a.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var n=new s.InteractionInvocation(this,t);return this.hasGlobalScope()?u.default.trigger(e,n):this.pageView.module.trigger(e,n),!0},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1}},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var t=a.default.values(i(i({},this),{sdkTags:void 0,sdkPayload:void 0}));return!a.default.some(t,(function(t){if(a.default.isNull(t))return!0;if(a.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){this.pageView;return r(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.shouldTriggerOnKeyboardNavigation=function(){return!0},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=void 0;var l=u(n(13));e.BackboneShim=function(t){return function(e){return t&&Object.keys(t).forEach((function(n){e.prototype[n]=t[n]})),function(n){function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var a,u=this;return t.defaults&&(e.prototype instanceof l.default.View&&(a=o(o(o({},t.defaults),t),i[0]),i[0]=a),e.prototype instanceof l.default.Model&&(a=o(o(o({},t.defaults),t),i[1]),i[1]=a)),u=n.apply(this,s(i))||this,t.defaults&&a&&(u.options=o(o({},a),u.options)),u}return r(i,n),i}(e)}}},function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(114),r=n(1),o=n(60);n(186);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a{constructor(t){this.parent=null,this._attrs=Object(i.a)(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new r.default("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new r.default("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let r=0;for(;n[r]==i[r]&&n[r];)r++;return 0===r?null:n[r-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Object(o.default)(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}is(t){return"node"===t||"model:node"===t}_clone(){return new a(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Object(i.a)(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}},function(t,e,n){"use strict";var i=n(73),r=n(49),o=Object.prototype.hasOwnProperty;e.a=function(t,e,n){var a=t[e];o.call(t,e)&&Object(r.a)(a,n)&&(void 0!==n||e in t)||Object(i.a)(t,e,n)}},function(t,e,n){"use strict";var i=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(134),r=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new r.default("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new r.default("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof i.a))throw new r.default("model-nodelist-insertnodes-not-node",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}},function(t,e,n){"use strict";var i=n(171);var r=function(){this.__data__=new i.a,this.size=0};var o=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var a=function(t){return this.__data__.get(t)};var s=function(t){return this.__data__.has(t)},u=n(175),l=n(191);var c=function(t,e){var n=this.__data__;if(n instanceof i.a){var r=n.__data__;if(!u.a||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new l.a(r)}return n.set(t,e),this.size=n.size,this};function d(t){var e=this.__data__=new i.a(t);this.size=e.size}d.prototype.clear=r,d.prototype.delete=o,d.prototype.get=a,d.prototype.has=s,d.prototype.set=c;e.a=d},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(77),r=n(30),o=n(124),a=n(6),s=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new s.default("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new s.default("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=a.a._createAt(t.startPosition):this.position=a.a._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let s;if(n instanceof r.a){if(t.isAtEnd)return this.position=a.a._createAfter(n),this._next();s=n.data[t.offset]}else s=n.getChild(t.offset);if(s instanceof i.a)return this.shallow?t.offset++:t=new a.a(s,0),this.position=t,this._formatReturnValue("elementStart",s,e,t,1);if(s instanceof r.a){if(this.singleCharacters)return t=new a.a(s,0),this.position=t,this._next();{let n,i=s.data.length;return s==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new o.a(s,0,i),t=a.a._createAfter(n)):(n=new o.a(s,0,s.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof s){let i;if(this.singleCharacters)i=1;else{i=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset}const r=new o.a(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=a.a._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let s;if(n instanceof r.a){if(t.isAtStart)return this.position=a.a._createBefore(n),this._previous();s=n.data[t.offset-1]}else s=n.getChild(t.offset-1);if(s instanceof i.a)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",s,e,t,1)):(t=new a.a(s,s.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,e,t));if(s instanceof r.a){if(this.singleCharacters)return t=new a.a(s,s.data.length),this.position=t,this._previous();{let n,i=s.data.length;if(s==this._boundaryStartParent){const e=this.boundaries.start.offset;n=new o.a(s,e,s.data.length-e),i=n.data.length,t=a.a._createBefore(n)}else n=new o.a(s,0,s.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof s){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const r=new o.a(n,t.offset,i);return this.position=t,this._formatReturnValue("text",r,e,t,i)}return t=a.a._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,r){return e instanceof o.a&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=a.a._createAfter(e.textNode):(i=a.a._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=a.a._createBefore(e.textNode):(i=a.a._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:r}}}}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(3)),l=s(n(0)),c=o(n(93)),d=s(n(14)),f=s(n(332)),h=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={VECTOR_IMAGE_CONVERSION_VERSION:2,isVectorBased:function(t){return"image/svg+xml"===t},hasCurrentConvertedVectorImageUri:function(t,e){return 2===t&&!!e},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var n=this.getViewBoxDimensions(t);return n&&n.height>0&&n.width>0?n:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var n=parseInt(e[2],10),i=parseInt(e[3],10);if(n>0&&i>0)return{width:n,height:i}}return null},getViewportDimensions:function(t){var e=t.documentElement,n=parseInt(e.getAttribute("width"),10),i=parseInt(e.getAttribute("height"),10);return n>0&&i>0?{width:n,height:i}:null},setViewportDimensions:function(t,e,n){var i=t.documentElement;i.setAttribute("width",e+"px"),i.setAttribute("height",n+"px")},updateSVGColorStyle:function(t,e){l.default.each(h,l.default.bind((function(n){var i=t.getElementsByTagName(n);l.default.each(i,l.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var n=this.getStyleValue(t,e);return n||(n=t.getAttribute(e)),n},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var n=t.getElementsByTagName(e);if(n)for(var i=n.length-1;i>=0;i--){var r=n[i];r.parentNode.removeChild(r)}},handleTitle:function(t,e,n){var i=t.getElementsByTagName("title"),r=t.documentElement;if(e||n){var o="title"+f.default.randomId();if(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",o),r.removeAttribute("aria-hidden"),null==i||0===i.length){var a=t.createElement("title");r.appendChild(a),i=t.getElementsByTagName("title")}i[0].innerHTML=e,i[0].setAttribute("id",o)}else r.setAttribute("aria-hidden","true")},findChildNode:function(t,e){return l.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.appendChild(i,e.firstChild),i},prependNewChildNode:function(t,e,n){var i=this.createSVGNode(t,n);return e.insertBefore(i,e.firstChild),i},addLinearGradient:function(t,e,n){var i=t.documentElement,r=this.findChildNode(i,"defs");r||(r=this.prependNewChildNode(t,i,"defs"));var o=this.findChildNode(r,"linearGradient"),a=(null==o?void 0:o.getAttribute("id"))||"";null!=o&&0!==o.length||(o=this.prependNewChildNode(t,r,"linearGradient")),o.getAttribute("data-cerosgradient")||0===a.indexOf("CerosGradient_")||(o=this.prependNewChildNode(t,r,"linearGradient")),o.setAttribute("class","cerosgradient"),o.setAttribute("data-cerosgradient",!0),o.setAttribute("id",e),o.setAttribute("gradientUnits","userSpaceOnUse");var s=c.calcRotatedLineIntersect(n.angle,100,100);o.setAttribute("x1",s.startPt.getX()+"%"),o.setAttribute("y1",s.startPt.getY()+"%"),o.setAttribute("x2",s.endPt.getX()+"%"),o.setAttribute("y2",s.endPt.getY()+"%"),l.default.each(n.stops,l.default.bind((function(e,i){var r=100*i/(n.stops.length-1),a=o.getElementsByTagName("stop")[i];null!=a&&0!==a.length||(a=this.appendNewChildNode(t,o,"stop")),a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!d.default.isPhantomJS()&&!d.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var n=this.createXmlString(t);return"data:image/svg+xml;base64,"+window.btoa(n)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:"image/svg+xml"})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return l.default.isString(t)&&0===t.indexOf("data:")},isVectorDataURL:function(t){return l.default.isString(t)&&0===t.indexOf("data:image/svg+xml;base64,")},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with data:image/svg+xml;base64,");var e=t.substring("data:image/svg+xml;base64,".length);return window.atob(e)},appendStyle:function(t,e,n){var i=t.getAttribute("style"),r=e+":"+n+";";i&&i.length>0?(";"!==i.substr(i.length-1)&&(i+=";"),i+=r):i=r,t.setAttribute("style",i)},getStyleValue:function(t,e){var n=t.getAttribute("style");if(!n||0===n.length)return null;var i=n.split(";");if(!i)return null;for(var r=null,o=i.length-1;o>=0;o--){var a=i[o].split(":");if(a&&2==a.length)if(a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var n=u.default("<img/>");return e&&n.attr(e),n.on("error",l.default.bind((function(){this.revokeObjectURL(t)}),this)),n.attr("src",t),n},renameCssClassesAndIds:function(t,e){return t=this.renameCssClasses(t,e),t=this.renameIds(t,e)},renameCssClasses:function(t,e){var n,i,r,o,s,u,c=this.extractStyleFromSvg(t),d=this.extractClassesFromSvg(t),f=null;c&&d&&(f=this.matchCssClasses(c[2]));var h=function(t){return t.original+t.newOne};if(f&&f.length>0){var p=l.default.uniq(f),g=new Array,m=new Set;try{for(var v=a(p),y=v.next();!y.done;y=v.next()){var _=y.value,b=_.indexOf("{")===_.length-1,w=new RegExp("[.|{|,]","gi"),T=_.replace(w,"").replace(" ","")+"-"+e,S=h(I={original:_,newOne:b?"."+T+"{":"."+T+","});m.has(S)||(g.push(I),m.add(S))}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}try{for(var O=a(d),E=O.next();!E.done;E=O.next()){var P=E.value,C=P.replace("class=","").replace('"',"").replace('"',"").split(" ");S=h(I={original:P,newOne:'class="'+(C=this.formatClasses(C,e)).join(" ")+'"'});m.has(S)||(g.push(I),m.add(S))}}catch(t){r={error:t}}finally{try{E&&!E.done&&(o=O.return)&&o.call(O)}finally{if(r)throw r.error}}try{for(var A=a(g),x=A.next();!x.done;x=A.next()){var I=x.value;t=t.replaceAll(I.original,I.newOne)}}catch(t){s={error:t}}finally{try{x&&!x.done&&(u=A.return)&&u.call(A)}finally{if(s)throw s.error}}}return t},formatClasses:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].indexOf("cerosgradient")>-1;t[n]=i?t[n]:t[n]+"-"+e}return t},renameIds:function(t,e){var n=this.matchIds(t);if(n)for(var i=l.default.uniq(n),r=0;r<i.length;r++){var o=i[r].replace("id=","").replace(/\"/gi,""),a=""+o+e,s=new RegExp('id=\\"'+o+'\\"',"gi");t=t.replace(s,'id="'+a+'"');var u=new RegExp('begin=\\"(.+)?'+o+"\\.","gi");t=t.replace(u,'begin="$1'+a+".");var c=new RegExp('end=\\"'+o+"\\.","gi");t=t.replace(c,'end="'+a+".");var d=new RegExp('xlink:href=\\"#'+o+'\\"',"gi");t=t.replace(d,'xlink:href="#'+a+'"');var f=new RegExp("url\\(\\&quot\\;#"+o+"\\&quot\\;\\)","gi");t=t.replace(f,"url(&quot;#"+a+"&quot;");var h=new RegExp(o+"\\)","gi");t=t.replace(h,a+")")}return t},extractClassesFromSvg:function(t){return t.match(/class=\"([^"]*)\"/g)},extractStyleFromSvg:function(t){return t.match(/<style(.+)?>([\s\S]+?)<\/style>/)},matchCssClasses:function(t){return t.match(/(\.(?![^{]*})([\w+\-]+?)(\s+)?[\{|(\,])/g)},matchIds:function(t){var e=new RegExp('id=\\"?([a-zA-Z][\\w|\\:|\\.|\\-]*)\\"?',"gi");return t.match(e)},colorToGradient:function(t){return{angle:0,stops:[{color:t},{color:t}]}},preventXss:function(t){var e=/\b(on\w+=[\w|\(|\)|\'|\"| ]+)[ |\>|\/]/i,n=t.match(e);if(n){for(;n;)n=(t=t.replace(n[1]," ")).match(e);t=t.replace(/\s\s+/g," ").replace(" >",">")}return t},fetchSvg:function(t,e){var n=this;t.startsWith("http://")&&(t="https"+t.substring("http".length)),u.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){t=n.preventXss(t),e.resolve(t)},error:function(){e.reject()}})}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(8)),o=i(n(0)),a=i(n(13)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(93)),a=i(n(14)),s=i(n(140));e.default={CONSTANTS:{DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},calculateWidthForDevicePixelRatio:function(t){return t*a.default.pixelRatio()},calculateDimensions:function(t,e,n,i){var r;if(s.default.isVectorBased(t)){var a=i?this.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:Math.min(e,n);r=o.default.scaleBoxToMaxDimension(e,n,a)}else r={width:Math.round(e/2),height:Math.round(n/2)};return r},shouldConstrainImageSize:function(t,e,n,i){return!!(s.default.isVectorBased(t)&&i||s.default.isVectorBased(t)&&(!e||!n))||!s.default.isVectorBased(t)},base64toBlob:function(t,e,n){e=r.default.isString(e)?e:"",n=r.default.isNumber(n)?n:512;for(var i=atob(t),o=[],a=0;a<i.length;a+=n){for(var s=i.slice(a,a+n),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},createFileFromBase64:function(t,e,n){return new File([this.base64toBlob(t)],e,{type:n})},isBase64EncodedImage:function(t){return"data:image"===t.slice(0,10)},encodedSvgStringAsBase64:function(t){return"url('data:image/svg+xml;base64,"+(t=btoa(t.trim()))+"')"},getScaleValueFromFlip:function(t){return{scaleXValue:t.flipHorizontal?-1:1,scaleYValue:t.flipVertical?-1:1}}}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateInvoker=void 0;var r=function(){function t(){}return t.invokeObjectState=function(t,e,n,i){void 0===i&&(i={});var r=e.hasChangesComparedTo(n);t.applyTransition(e.config.transition,e.getChangedPropertiesToTransition(r)),i.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!i.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),i.shadow||!r.shadow&&!r.rotation||t._applyShadow(e.config.shadow,e.config.rotation),!i.background&&r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeAbstractImageObjectState=function(e,n,i,r){var o=n.hasChangesComparedTo(i);(o.effects||o.shadow)&&e._applyImageEffects(n.config.effects,n.config.shadow,!0),o.flip&&e._applyImageFlip({flipHorizontal:n.config.flipHorizontal,flipVertical:n.config.flipVertical}),o.blendingMode&&e._applyBlendingMode(n.config.blendingMode),(r?t.invokeScaleableObjectState:t.invokeObjectState)(e,n,i,{border:!0,shadow:!0})},t.invokeTextObjectState=function(e,n,i){var r=n.hasChangesComparedTo(i);if(!e.isParagraphMode())return r.font&&e.setFontColor(n.config.defaultSpan),void t.invokeObjectState(e,n,i);r.font&&(e.setDefaultTextStyle(n.config.defaultSpan),e.applyDefaultFont(n.config.defaultSpan),e.applyLineHeight(n.config.leading,n.config.defaultSpan)),r.justify&&e.applyJustification(n.config.justify),r.lineHeight&&!r.font&&e.applyLineHeight(n.config.leading),t.invokeObjectState(e,n,i)},t.invokeTextPlusObjectState=function(e,n,i){e.applyStateChanges(n.config),t.invokeObjectState(e,n,i)},t.invokeScaleableObjectState=function(e,n,r,o){void 0===o&&(o={});var a=n.hasChangesComparedTo(r);a.dimension&&e.applyScale(n.config.width,n.config.height,n.config.x,n.config.y),a.position&&!a.dimension&&e.applyPositionToScaledObject(n.config.x,n.config.y,n.config.width,n.config.height),t.invokeObjectState(e,n,r,i(i({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,n,i,r){void 0===r&&(r={});var o=n.hasChangesComparedTo(i);r.shadow=!0,(o.shadow||o.rotation)&&e._applyShadow(n.config.shadow,n.config.rotation),o.stroke&&(e._applyBorder({width:n.config.lineWidth,color:n.config.color}),r.border=!0),o.linePosition&&e.applyPoints([{x:n.config.x,y:n.config.y},{x:n.config.x2,y:n.config.y2}],n.config.transition),o.path&&e.applyPath(n.config.path,n.config.isClosedPath,n.config.transition),t.invokeObjectState(e,n,i,r)},t}();e.ObjectStateInvoker=r},function(t,e,n){"use strict";(function(e){
/**
 * @license
 * Video.js 7.10.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
t.exports=function(t,n){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var i=[],r=function e(n){var r,o="info",a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r("log",o,e)};return r=function(e,n){return function(r,o,a){var s=n.levels[o],u=new RegExp("^("+s+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(e+":"),i){i.push([].concat(a));var l=i.length-1e3;i.splice(0,l>0?l:0)}if(t.console){var c=t.console[r];c||"debug"!==r||(c=t.console.info||t.console.log),c&&s&&u.test(r)&&c[Array.isArray(a)?"apply":"call"](t.console,a)}}}(n,a),a.createLogger=function(t){return e(n+": "+t)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},a.level=function(t){if("string"==typeof t){if(!a.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(a.history=function(){return i?[].concat(i):[]}).filter=function(t){return(i||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},a.history.clear=function(){i&&(i.length=0)},a.history.disable=function(){null!==i&&(i.length=0,i=null)},a.history.enable=function(){null===i&&(i=[])},a.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("error",o,e)},a.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("warn",o,e)},a.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r("debug",o,e)},a}("VIDEOJS"),o=r.createLogger;function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var u=s((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},e.apply(this,arguments)}t.exports=e})),l=Object.prototype.toString,c=function(t){return h(t)?Object.keys(t):[]};function d(t,e){c(t).forEach((function(n){return e(t[n],n)}))}function f(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?u.apply(void 0,[t].concat(n)):(n.forEach((function(e){e&&d(e,(function(e,n){t[n]=e}))})),t)}function h(t){return!!t&&"object"==typeof t}function p(t){return h(t)&&"[object Object]"===l.call(t)&&t.constructor===Object}function g(e,n){if(!e||!n)return"";if("function"==typeof t.getComputedStyle){var i=t.getComputedStyle(e);return i?i.getPropertyValue(n)||i[n]:""}return""}function m(t){return"string"==typeof t&&Boolean(t.trim())}function v(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function y(){return n===t.document}function _(t){return h(t)&&1===t.nodeType}function b(){try{return t.parent!==t.self}catch(t){return!0}}function w(t){return function(e,i){if(!m(e))return n[t](null);m(i)&&(i=n.querySelector(i));var r=_(i)?i:n;return r[t]&&r[t](e)}}function T(t,e,i,o){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===i&&(i={});var a=n.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+n+"."),a.setAttribute(t,n)):"textContent"===t?S(a,n):a[t]!==n&&(a[t]=n)})),Object.getOwnPropertyNames(i).forEach((function(t){a.setAttribute(t,i[t])})),o&&H(a,o),a}function S(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function O(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function E(t,e){return v(e),t.classList?t.classList.contains(e):(n=e,new RegExp("(^|\\s)"+n+"($|\\s)")).test(t.className);var n}function P(t,e){return t.classList?t.classList.add(e):E(t,e)||(t.className=(t.className+" "+e).trim()),t}function C(t,e){return t.classList?t.classList.remove(e):(v(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function A(t,e,n){var i=E(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?P(t,e):C(t,e),t}function x(t,e){Object.getOwnPropertyNames(e).forEach((function(n){var i=e[n];null==i||!1===i?t.removeAttribute(n):t.setAttribute(n,!0===i?"":i)}))}function I(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var o=i[r].name,a=i[r].value;"boolean"!=typeof t[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),e[o]=a}return e}function k(t,e){return t.getAttribute(e)}function M(t,e,n){t.setAttribute(e,n)}function R(t,e){t.removeAttribute(e)}function N(){n.body.focus(),n.onselectstart=function(){return!1}}function D(){n.onselectstart=function(){return!0}}function L(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n.height||(n.height=parseFloat(g(t,"height"))),n.width||(n.width=parseFloat(g(t,"width"))),n}}function j(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,n=t.offsetHeight,i=0,r=0;do{i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent}while(t);return{left:i,top:r,width:e,height:n}}function F(t,e){var n={},i=j(e.target),r=j(t),o=r.width,a=r.height,s=e.offsetY-(r.top-i.top),u=e.offsetX-(r.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,s=e.changedTouches[0].pageY+r.top),n.y=1-Math.max(0,Math.min(1,s/a)),n.x=Math.max(0,Math.min(1,u/o)),n}function V(t){return h(t)&&3===t.nodeType}function B(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function U(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),_(t)||V(t)?t:"string"==typeof t&&/\S/.test(t)?n.createTextNode(t):void 0})).filter((function(t){return t}))}function H(t,e){return U(e).forEach((function(e){return t.appendChild(e)})),t}function G(t,e){return H(B(t),e)}function W(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var z,$=w("querySelector"),q=w("querySelectorAll"),Y=Object.freeze({__proto__:null,isReal:y,isEl:_,isInFrame:b,createEl:T,textContent:S,prependTo:O,hasClass:E,addClass:P,removeClass:C,toggleClass:A,setAttributes:x,getAttributes:I,getAttribute:k,setAttribute:M,removeAttribute:R,blockTextSelection:N,unblockTextSelection:D,getBoundingClientRect:L,findPosition:j,getPointerPosition:F,isTextNode:V,emptyEl:B,normalizeContent:U,appendContent:H,insertContent:G,isSingleLeftClick:W,$:$,$$:q}),K=!1,X=function(){if(y()&&!1!==z.options.autoSetup){var t=Array.prototype.slice.call(n.getElementsByTagName("video")),e=Array.prototype.slice.call(n.getElementsByTagName("audio")),i=Array.prototype.slice.call(n.getElementsByTagName("video-js")),r=t.concat(e,i);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(!s||!s.getAttribute){J(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&z(s)}else K||J(1)}};function J(e,n){n&&(z=n),t.setTimeout(X,e)}function Z(){K=!0,t.removeEventListener("load",Z)}y()&&("complete"===n.readyState?Z():t.addEventListener("load",Z));var Q,tt=function(t){var e=n.createElement("style");return e.className=t,e},et=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},nt=3;function it(){return nt++}t.WeakMap||(Q=function(){function e(){this.vdata="vdata"+Math.floor(t.performance&&t.performance.now()||Date.now()),this.data={}}var n=e.prototype;return n.set=function(t,e){var n=t[this.vdata]||it();return t[this.vdata]||(t[this.vdata]=n),this.data[n]=e,this},n.get=function(t){var e=t[this.vdata];if(e)return this.data[e];r("We have no data for this element",t)},n.has=function(t){return t[this.vdata]in this.data},n.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},e}());var rt,ot=t.WeakMap?new WeakMap:new Q;function at(t,e){if(ot.has(t)){var n=ot.get(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ot.delete(t)}}function st(t,e,n,i){n.forEach((function(n){t(e,n,i)}))}function ut(e){if(e.fixed_)return e;function i(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var o=e||t.event;for(var a in e={},o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(e[a]=o[a]));if(e.target||(e.target=e.srcElement||n),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=i},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=i,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var s=n.documentElement,u=n.body;e.pageX=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var lt=["touchstart","touchmove"];function ct(e,n,i){if(Array.isArray(n))return st(ct,e,n,i);ot.has(e)||ot.set(e,{});var o=ot.get(e);if(o.handlers||(o.handlers={}),o.handlers[n]||(o.handlers[n]=[]),i.guid||(i.guid=it()),o.handlers[n].push(i),o.dispatcher||(o.disabled=!1,o.dispatcher=function(t,n){if(!o.disabled){t=ut(t);var i=o.handlers[t.type];if(i)for(var a=i.slice(0),s=0,u=a.length;s<u&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,n)}catch(t){r.error(t)}}}),1===o.handlers[n].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!=typeof rt){rt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rt=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(t){}}return rt})()&&lt.indexOf(n)>-1&&(a={passive:!0}),e.addEventListener(n,o.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+n,o.dispatcher)}function dt(t,e,n){if(ot.has(t)){var i=ot.get(t);if(i.handlers){if(Array.isArray(e))return st(dt,t,e,n);var r=function(t,e){i.handlers[e]=[],at(t,e)};if(void 0!==e){var o=i.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);at(t,e)}else r(t,e)}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function ft(t,e,n){var i=ot.has(t)?ot.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&!0===e.bubbles)ft.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){ot.has(e.target)||ot.set(e.target,{});var o=ot.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function ht(t,e,n){if(Array.isArray(e))return st(ht,t,e,n);var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}function pt(t,e,n){var i=function i(){dt(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||it(),ct(t,e,i)}var gt,mt=Object.freeze({__proto__:null,fixEvent:ut,on:ct,off:dt,trigger:ft,one:ht,any:pt}),vt=function(t,e,n){e.guid||(e.guid=it());var i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},yt=function(e,n){var i=t.performance.now();return function(){var r=t.performance.now();r-i>=n&&(e.apply(void 0,arguments),i=r)}},_t=function(){};_t.prototype.allowedEvents_={},_t.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ct(this,t,e),this.addEventListener=n},_t.prototype.addEventListener=_t.prototype.on,_t.prototype.off=function(t,e){dt(this,t,e)},_t.prototype.removeEventListener=_t.prototype.off,_t.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},ht(this,t,e),this.addEventListener=n},_t.prototype.any=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},pt(this,t,e),this.addEventListener=n},_t.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ft(this,t)},_t.prototype.dispatchEvent=_t.prototype.trigger,_t.prototype.queueTrigger=function(e){var n=this;gt||(gt=new Map);var i=e.type||e,r=gt.get(this);r||(r=new Map,gt.set(this,r));var o=r.get(i);r.delete(i),t.clearTimeout(o);var a=t.setTimeout((function(){0===r.size&&(r=null,gt.delete(n)),n.trigger(e)}),0);r.set(i,a)};var bt=function(t){return t instanceof _t||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},wt=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Tt=function(t){if(!t.nodeName&&!bt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},St=function(t){if(!wt(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Ot=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Et=function(t,e){var n,i,r,o=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return o?(n=t.eventBusEl_,e.length>=3&&e.shift(),i=e[0],r=e[1]):(n=e[0],i=e[1],r=e[2]),Tt(n),St(i),Ot(r),{isTargetingSelf:o,target:n,type:i,listener:r=vt(t,r)}},Pt=function(t,e,n,i){Tt(t),t.nodeName?mt[e](t,n,i):t[e](n,i)},Ct={on:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Et(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(Pt(a,"on",s,u),!o){var l=function(){return t.off(a,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,Pt(this,"on","dispose",l),Pt(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Et(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Pt(a,"one",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Pt(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Et(this,n),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Pt(a,"any",s,u);else{var l=function e(){t.off(a,s,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];u.apply(null,i)};l.guid=u.guid,Pt(a,"any",s,l)}},off:function(t,e,n){if(!t||wt(t))dt(this.eventBusEl_,t,e);else{var i=t,r=e;Tt(i),St(r),Ot(n),n=vt(this,n),this.off("dispose",n),i.nodeName?(dt(i,r,n),dt(i,"dispose",n)):bt(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return ft(this.eventBusEl_,t,e)}};function At(e,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!e[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');e.eventBusEl_=e[i]}else e.eventBusEl_=T("span",{className:"vjs-event-bus"});return f(e,Ct),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var xt={state:{},setState:function(t){var e,n=this;return"function"==typeof t&&(t=t()),d(t,(function(t,i){n.state[i]!==t&&((e=e||{})[i]={from:n.state[i],to:t}),n.state[i]=t})),e&&bt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function It(t,e){return f(t,xt),t.state=f({},t.state,e),"function"==typeof t.handleStateChanged&&bt(t)&&t.on("statechanged",t.handleStateChanged),t}var kt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},Mt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Rt(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach((function(e){e&&d(e,(function(e,n){p(e)?(p(t[n])||(t[n]={}),t[n]=Rt(t[n],e)):t[n]=e}))})),t}var Nt=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.set_[t]=e,this},e.forEach=function(t,e){for(var n in this.map_)t.call(e,this.map_[n],n,this)},t}(),Dt=t.Map?t.Map:Nt,Lt=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var n in this.set_)t.call(e,n,n,this)},t}(),jt=t.Set?t.Set:Lt,Ft=function(){function e(t,e,n){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Rt({},this.options_),e=this.options_=Rt(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+it()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&At(this,{eventBusKey:this.el_?"el_":null}),It(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new jt,this.setIntervalIds_=new jt,this.rafIds_=new jt,this.namedRafs_=new Dt,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(n),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var n=e.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot.has(this.el_)&&ot.delete(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(t){return t?(this.options_=Rt(this.options_,t),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(t,e,n){return T(t,e,n)},n.localize=function(t,e,n){void 0===n&&(n=t);var i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[i],a=i&&i.split("-")[0],s=r&&r[a],u=n;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,(function(t,n){var i=e[n-1],r=i;return void 0===i&&(r=t),r}))),u},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(t){return this.childIndex_[t]},n.getChild=function(t){if(t)return this.childNameIndex_[t]},n.getDescendant=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var i=this,r=0;r<e.length;r++)if(!(i=i.getChild(e[r]))||!i.getChild)return;return i},n.addChild=function(t,n,i){var r,o;if(void 0===n&&(n={}),void 0===i&&(i=this.children_.length),"string"==typeof t){o=Mt(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&Mt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[kt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[i+1]&&(this.children_[i+1].el_?u=this.children_[i+1].el_:_(this.children_[i+1])&&(u=this.children_[i+1])),this.contentEl().insertBefore(r.el(),u)}return r},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Mt(t.name())]=null,this.childNameIndex_[kt(t.name())]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var i,r=this.options_,o=e.getComponent("Tech");(i=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(t){return!i.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var i,r;return"string"==typeof e?r=n[i=e]||t.options_[i]||{}:(i=e.name,r=e),{name:i,opts:r}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||Mt(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}}))}},n.buildCSSClass=function(){return""},n.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},n.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,e){return $(t,e||this.contentEl())},n.$$=function(t,e){return q(t,e||this.contentEl())},n.hasClass=function(t){return E(this.el_,t)},n.addClass=function(t){P(this.el_,t)},n.removeClass=function(t){C(this.el_,t)},n.toggleClass=function(t,e){A(this.el_,t,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(t){return k(this.el_,t)},n.setAttribute=function(t,e){M(this.el_,t,e)},n.removeAttribute=function(t){R(this.el_,t)},n.width=function(t,e){return this.dimension("width",t,e)},n.height=function(t,e){return this.dimension("height",t,e)},n.dimensions=function(t,e){this.width(t,!0),this.height(e)},n.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+Mt(t)],10)},n.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=g(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var n="offset"+Mt(t);e=this.el_[n]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},n.handleKeyPress=function(t){this.handleKeyDown(t)},n.emitTapEvents=function(){var e,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(i){var n=t.touches[0].pageX-i.pageX,r=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+r*r)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){i=null,!0===e&&t.performance.now()-n<200&&(r.preventDefault(),this.trigger("tap"))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=vt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},n.setTimeout=function(e,n){var i,r=this;return e=vt(this,e),this.clearTimersOnDispose_(),i=t.setTimeout((function(){r.setTimeoutIds_.has(i)&&r.setTimeoutIds_.delete(i),e()}),n),this.setTimeoutIds_.add(i),i},n.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},n.setInterval=function(e,n){e=vt(this,e),this.clearTimersOnDispose_();var i=t.setInterval(e,n);return this.setIntervalIds_.add(i),i},n.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},n.requestAnimationFrame=function(e){var n,i=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=vt(this,e),n=t.requestAnimationFrame((function(){i.rafIds_.has(n)&&i.rafIds_.delete(n),e()})),this.rafIds_.add(n),n):this.setTimeout(e,1e3/60)},n.requestNamedAnimationFrame=function(t,e){var n=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=vt(this,e);var i=this.requestAnimationFrame((function(){e(),n.namedRafs_.has(t)&&n.namedRafs_.delete(t)}));return this.namedRafs_.set(t,i),t}},n.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},n.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},n.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var n=e[0],i=e[1];t[n].forEach((function(e,n){return t[i](n)}))})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var i,r=e.getComponent("Tech"),o=r&&r.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw i=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+i+".");t=Mt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(t){return u[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[kt(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Ft.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,Ft.registerComponent("Component",Ft);var Vt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};s((function(t){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e})),s((function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}));var Bt,Ut=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},Ht=t.navigator&&t.navigator.userAgent||"",Gt=/AppleWebKit\/([\d.]+)/i.exec(Ht),Wt=Gt?parseFloat(Gt.pop()):null,zt=/iPod/i.test(Ht),$t=(Bt=Ht.match(/OS (\d+)_/i))&&Bt[1]?Bt[1]:null,qt=/Android/i.test(Ht),Yt=function(){var t=Ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e||null}(),Kt=qt&&Yt<5&&Wt<537,Xt=/Firefox/i.test(Ht),Jt=/Edg/i.test(Ht),Zt=!Jt&&(/Chrome/i.test(Ht)||/CriOS/i.test(Ht)),Qt=function(){var t=Ht.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),te=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ht),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ht)&&/rv:11.0/.test(Ht)&&(e=11),e}(),ee=/Safari/i.test(Ht)&&!Zt&&!qt&&!Jt,ne=/Windows/i.test(Ht),ie=y()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),re=/iPad/i.test(Ht)||ee&&ie&&!/iPhone/i.test(Ht),oe=/iPhone/i.test(Ht)&&!re,ae=oe||re||zt,se=(ee||ae)&&!Zt,ue=Object.freeze({__proto__:null,IS_IPOD:zt,IOS_VERSION:$t,IS_ANDROID:qt,ANDROID_VERSION:Yt,IS_NATIVE_ANDROID:Kt,IS_FIREFOX:Xt,IS_EDGE:Jt,IS_CHROME:Zt,CHROME_VERSION:Qt,IE_VERSION:te,IS_SAFARI:ee,IS_WINDOWS:ne,TOUCH_ENABLED:ie,IS_IPAD:re,IS_IPHONE:oe,IS_IOS:ae,IS_ANY_SAFARI:se});function le(t,e,n,i){return function(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}(t,i,n.length-1),n[i][e]}function ce(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:le.bind(null,"start",0,t),end:le.bind(null,"end",1,t)}}function de(t,e){return Array.isArray(t)?ce(t):void 0===t||void 0===e?ce():ce([[t,e]])}function fe(t,e){var n,i,r=0;if(!e)return 0;t&&t.length||(t=de(0,0));for(var o=0;o<t.length;o++)n=t.start(o),(i=t.end(o))>e&&(i=e),r+=i-n;return r/e}for(var he,pe={prefixed:!0},ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],me=ge[0],ve=0;ve<ge.length;ve++)if(ge[ve][1]in n){he=ge[ve];break}if(he){for(var ye=0;ye<he.length;ye++)pe[me[ye]]=he[ye];pe.prefixed=he[0]!==me[0]}function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:h(t)&&("number"==typeof t.code&&(this.code=t.code),f(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var be=0;be<_e.errorTypes.length;be++)_e[_e.errorTypes[be]]=be,_e.prototype[_e.errorTypes[be]]=be;var we=function(t,e){var n,i=null;try{n=JSON.parse(t,e)}catch(t){i=t}return[i,n]};function Te(t){return null!=t&&"function"==typeof t.then}function Se(t){Te(t)&&t.then(null,(function(t){}))}var Oe=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,n,i){return t[n]&&(e[n]=t[n]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Ee=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Oe(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===n.indexOf(t)})).map(Oe))},Pe=function(t,e){return t.forEach((function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return n.addCue(t)}))})),e.textTracks()},Ce=s((function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var n,o=String(t);return(n=i[o.toLowerCase()])?n:(n=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=i[e.toLowerCase()])return o===n;if(o=r[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var i=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
     * Programatically add the following
     */
for(o=97;o<123;o++)i[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)i[o-48]=o;for(o=1;o<13;o++)i["f"+o]=o+111;for(o=0;o<10;o++)i["numpad "+o]=o+96;var a=e.names=e.title={};for(o in i)a[i[o]]=o;for(var s in r)i[s]=r[s]})),Ae=(Ce.code,Ce.codes,Ce.aliases,Ce.names,Ce.title,function(e){function i(t,n){var i;return(i=e.call(this,t,n)||this).opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=T("div",{className:"vjs-modal-dialog-content"},{role:"document"}),i.descEl_=T("p",{className:"vjs-modal-dialog-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),S(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}Ut(i,e);var r=i.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),G(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty"),B(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=n.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),Ce.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Ce.isEventKey(t,"Tab")){for(var e,i=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<i.length;o++)if(r===i[o]){e=o;break}n.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||e!==i.length-1||(i[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},i}(Ft));Ae.prototype.options_={pauseOnOpen:!0,temporary:!0},Ft.registerComponent("ModalDialog",Ae);var xe=function(t){function e(e){var n;void 0===e&&(e=[]),(n=t.call(this)||this).tracks_=[],Object.defineProperty(Vt(n),"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack(e[i]);return n}Ut(e,t);var n=e.prototype;return n.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},n.removeTrack=function(t){for(var e,n=0,i=this.length;n<i;n++)if(this[n]===t){(e=this[n]).off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},n.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(_t);for(var Ie in xe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},xe.prototype.allowedEvents_)xe.prototype["on"+Ie]=null;var ke=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},Me=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].enabled){ke(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,n}Ut(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.enabled&&ke(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){n.changing_||(n.changing_=!0,ke(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(xe),Re=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},Ne=function(t){function e(e){var n;void 0===e&&(e=[]);for(var i=e.length-1;i>=0;i--)if(e[i].selected){Re(e,e[i]);break}return(n=t.call(this,e)||this).changing_=!1,Object.defineProperty(Vt(n),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n}Ut(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;e.selected&&Re(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){n.changing_||(n.changing_=!0,Re(n,e),n.changing_=!1,n.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(xe),De=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n.addTrack=function(e){var n=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(xe),Le=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,n=t.length;e<n;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},e.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),je=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},e.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),Fe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ve={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Be={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ue={disabled:"disabled",hidden:"hidden",showing:"showing"},He=function(t){function e(e){var n;void 0===e&&(e={}),n=t.call(this)||this;var i={id:e.id||"vjs_track_"+it(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(Vt(n),t,{get:function(){return i[t]},set:function(){}})};for(var o in i)r(o);return n}return Ut(e,t),e}(_t),Ge=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],r=n.createElement("a");r.href=e;var o,a=""===r.host&&"file:"!==r.protocol;a&&((o=n.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),n.body.appendChild(o));for(var s={},u=0;u<i.length;u++)s[i[u]]=r[i[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),a&&n.body.removeChild(o),s},We=function(t){if(!t.match(/^https?:\/\//)){var e=n.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ze=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},$e=function(e,n){void 0===n&&(n=t.location);var i=Ge(e);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},qe=Object.freeze({__proto__:null,parseUrl:Ge,getAbsoluteURL:We,getFileExtension:ze,isCrossOrigin:$e}),Ye=function(t){var e=Ke.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
/**
     * @license
     * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
     * Copyright (c) 2014 David Björklund
     * Available under the MIT license
     * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
     */,Ke=Object.prototype.toString,Xe=Qe,Je=Qe;function Ze(t,e,n){var i=t;return Ye(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=u({},e,{uri:t}),i.callback=n,i}function Qe(t,e,n){return tn(e=Ze(t,e,n))}function tn(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,n=function(n,i,r){e||(e=!0,t.callback(n,i,r))};function i(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,n(t,m)}function o(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=m,o=null;return 0!==e?(r={body:i(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(r.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var n=t.indexOf(":"),i=t.slice(0,n).trim().toLowerCase(),r=t.slice(n+1).trim();void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]})),e):e}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,r,r.body)}}var a,s,u=t.xhr||null;u||(u=t.cors||t.useXDR?new Qe.XDomainRequest:new Qe.XMLHttpRequest);var l,c=u.url=t.uri||t.url,d=u.method=t.method||"GET",f=t.body||t.data,h=u.headers=t.headers||{},p=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===t.json?f:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(d,c,!p,t.username,t.password),p||(u.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(l=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}}),t.timeout)),u.setRequestHeader)for(a in h)h.hasOwnProperty(a)&&u.setRequestHeader(a,h[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(f||null),u}Qe.XMLHttpRequest=t.XMLHttpRequest||function(){},Qe.XDomainRequest="withCredentials"in new Qe.XMLHttpRequest?Qe.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var n=0;n<t.length;n++)e(t[n])}(["get","put","post","patch","head","delete"],(function(t){Qe["delete"===t?"del":t]=function(e,n,i){return(n=Ze(e,n,i)).method=t.toUpperCase(),tn(n)}})),Xe.default=Je;var en=function(e,n){var i=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),o=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){o.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(e),o.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+n.src),o.forEach((function(t){return r.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),i.flush()},nn=function(e,n){var i={uri:e},o=$e(e);o&&(i.cors=o);var a="use-credentials"===n.tech_.crossOrigin();a&&(i.withCredentials=a),Xe(i,vt(this,(function(e,i,o){if(e)return r.error(e,i);n.loaded_=!0,"function"!=typeof t.WebVTT?n.tech_&&n.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return en(o,n);r.error("vttjs failed to load, stopping trying to process "+n.src)})):en(o,n)})))},rn=function(e){function n(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var i=Rt(t,{kind:Be[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=Ue[i.mode]||"disabled",o=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(r="hidden"),(n=e.call(this,i)||this).tech_=i.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new je(n.cues_),s=new je(n.activeCues_),u=!1,l=vt(Vt(n),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==r&&n.tech_.ready((function(){n.tech_.on("timeupdate",l)}),!0),Object.defineProperties(Vt(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;Ue[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||nn(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",l)}),!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),i.src?(n.src=i.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==i.kind&&"captions"!==i.kind)&&nn(n.src,Vt(n))):n.loaded_=!0,n}Ut(n,e);var i=n.prototype;return i.addCue=function(e){var n=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var i in n=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)i in n||(n[i]=e[i]);n.id=e.id,n.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)},i.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},n}(He);rn.prototype.allowedEvents_={cuechange:"cuechange"};var on=function(t){function e(e){var n;void 0===e&&(e={});var i=Rt(e,{kind:Ve[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(Vt(n),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return Ut(e,t),e}(He),an=function(t){function e(e){var n;void 0===e&&(e={});var i=Rt(e,{kind:Fe[e.kind]||""});n=t.call(this,i)||this;var r=!1;return Object.defineProperty(Vt(n),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return Ut(e,t),e}(He),sn=function(t){function e(e){var n,i;void 0===e&&(e={}),n=t.call(this)||this;var r=new rn(e);return n.kind=r.kind,n.src=r.src,n.srclang=r.language,n.label=r.label,n.default=r.default,Object.defineProperties(Vt(n),{readyState:{get:function(){return i}},track:{get:function(){return r}}}),i=0,r.addEventListener("loadeddata",(function(){i=2,n.trigger({type:"load",target:Vt(n)})})),n}return Ut(e,t),e}(_t);sn.prototype.allowedEvents_={load:"load"},sn.NONE=0,sn.LOADING=1,sn.LOADED=2,sn.ERROR=3;var un={audio:{ListClass:Me,TrackClass:on,capitalName:"Audio"},video:{ListClass:Ne,TrackClass:an,capitalName:"Video"},text:{ListClass:De,TrackClass:rn,capitalName:"Text"}};Object.keys(un).forEach((function(t){un[t].getterName=t+"Tracks",un[t].privateName=t+"Tracks_"}));var ln={remoteText:{ListClass:De,TrackClass:rn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Le,TrackClass:sn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},cn=u({},un,ln);ln.names=Object.keys(ln),un.names=Object.keys(un),cn.names=[].concat(ln.names).concat(un.names);var dn=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function fn(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function hn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function pn(){this.values=dn(null)}function gn(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}function mn(t,e,n){var i=t;function r(){var e=hn(t);if(null===e)throw new fn(fn.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new fn(fn.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new pn;gn(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start","center","end"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");try{e.line=i.get("line","auto")}catch(t){}e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100);try{e.align=i.get("align","center")}catch(t){e.align=i.get("align","middle")}try{e.position=i.get("position","auto")}catch(t){e.position=i.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=i.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}fn.prototype=dn(Error.prototype),fn.prototype.constructor=fn,fn.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},pn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var vn=n.createElement("textarea"),yn={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_n={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},bn={v:"title",lang:"lang"},wn={rt:"ruby"};function Tn(t,e){function n(){if(!e)return null;var t,n=e.match(/^([^<]*)(<[^>]*>?)?/);return t=n[1]?n[1]:n[2],e=e.substr(t.length),t}function i(t,e){return!wn[e.localName]||wn[e.localName]===t.localName}function r(e,n){var i=yn[e];if(!i)return null;var r=t.document.createElement(i),o=bn[e];return o&&n&&(r[o]=n.trim()),r}for(var o,a,s=t.document.createElement("div"),u=s,l=[];null!==(o=n());)if("<"!==o[0])u.appendChild(t.document.createTextNode((a=o,vn.innerHTML=a,a=vn.textContent,vn.textContent="",a)));else{if("/"===o[1]){l.length&&l[l.length-1]===o.substr(2).replace(">","")&&(l.pop(),u=u.parentNode);continue}var c,d=hn(o.substr(1,o.length-2));if(d){c=t.document.createProcessingInstruction("timestamp",d),u.appendChild(c);continue}var f=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(c=r(f[1],f[3])))continue;if(!i(u,c))continue;if(f[2]){var h=f[2].split(".");h.forEach((function(t){var e=/^bg_/.test(t),n=e?t.slice(3):t;if(_n.hasOwnProperty(n)){var i=e?"background-color":"color",r=_n[n];c.style[i]=r}})),c.className=h.join(" ")}l.push(f[1]),u.appendChild(c),u=c}return s}var Sn=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function On(t){for(var e=0;e<Sn.length;e++){var n=Sn[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function En(t){var e=[],n="";if(!t||!t.childNodes)return"ltr";function i(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function r(t){if(!t||!t.length)return null;var e=t.pop(),n=e.textContent||e.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):n}return"ruby"===e.tagName?r(t):e.childNodes?(i(t,e),r(t)):void 0}for(i(e,t);n=r(e);)for(var o=0;o<n.length;o++)if(On(n.charCodeAt(o)))return"rtl";return"ltr"}function Pn(){}function Cn(t,e,n){Pn.call(this),this.cue=e,this.cueDiv=Tn(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:En(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function An(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight}function xn(t,e,n,i){var r=new An(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return-1*++i}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=n[u]+l,f=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),r.move(f,c)}else{var h=r.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new An(e)}var p=function(t,e){for(var r,o=new An(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);a>u&&(r=new An(t),a=u),t=new An(o)}return r||o}(r,s);e.move(p.toCSSCompatValues(n))}function In(){}Pn.prototype.applyStyles=function(t,e){for(var n in e=e||this.div,t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},Pn.prototype.formatStyle=function(t,e){return 0===t?0:t+e},Cn.prototype=dn(Pn.prototype),Cn.prototype.constructor=Cn,An.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},An.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},An.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},An.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},An.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},An.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},An.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},An.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n}},In.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},In.convertCueToDOMTree=function(t,e){return t&&e?Tn(t,e):null},In.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],o=An.getSimpleBoxPosition(i),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,u=0;u<e.length;u++)s=e[u],n=new Cn(t,s,a),i.appendChild(n.div),xn(0,n,o,r),s.displayState=n.div,r.push(An.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState)},In.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},In.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof fn))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function n(){for(var t=e.buffer,n=0;n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function i(t){t.match(/X-TIMESTAMP-MAP/)?gn(t,(function(t,n){switch(t){case"X-TIMESTAMP-MAP":!function(t){var n=new pn;gn(t,(function(t,e){switch(t){case"MPEGT":n.integer(t+"S",e);break;case"LOCA":n.set(t+"L",hn(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):gn(t,(function(t,n){switch(t){case"Region":!function(t){var n=new pn;if(gn(t,(function(t,e){switch(t){case"id":n.set(t,e);break;case"width":n.percent(t,e);break;case"lines":n.integer(t,e);break;case"regionanchor":case"viewportanchor":var i=e.split(",");if(2!==i.length)break;var r=new pn;if(r.percent("x",i[0]),r.percent("y",i[1]),!r.has("x")||!r.has("y"))break;n.set(t+"X",r.get("x")),n.set(t+"Y",r.get("y"));break;case"scroll":n.alt(t,e,["up"])}}),/=/,/\s/),n.has("id")){var i=new(e.vttjs.VTTRegion||e.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),e.onregion&&e.onregion(i),e.regionList.push({id:n.get("id"),region:i})}}(n)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=n()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new fn(fn.Errors.BadSignature);e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:r=n(),e.state){case"HEADER":/:/.test(r)?i(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{mn(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new fn(fn.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var kn=In,Mn={"":1,lr:1,rl:1},Rn={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Nn(t){return"string"==typeof t&&!!Rn[t.toLowerCase()]&&t.toLowerCase()}function Dn(t,e,n){this.hasBeenReset=!1;var i="",r=!1,o=t,a=e,s=n,u=null,l="",c=!0,d="auto",f="start",h="auto",p="auto",g=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(t){i=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!Mn[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=Nn(t);e?(f=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");h=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=Nn(t);e?(p=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){var e=Nn(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Dn.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ln=Dn,jn={"":!0,up:!0};function Fn(t){return"number"==typeof t&&t>=0&&t<=100}var Vn=function(){var t=100,e=3,n=0,i=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Fn(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(t){if(!Fn(t))throw new Error("RegionAnchorX must be between 0 and 100.");i=t}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(t){if(!Fn(t))throw new Error("RegionAnchorY must be between 0 and 100.");n=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Fn(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Fn(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!jn[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})},Bn=s((function(e){var n=e.exports={WebVTT:kn,VTTCue:Ln,VTTRegion:Vn};t.vttjs=n,t.WebVTT=n.WebVTT;var i=n.VTTCue,r=n.VTTRegion,o=t.VTTCue,a=t.VTTRegion;n.shim=function(){t.VTTCue=i,t.VTTRegion=r},n.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||n.shim()}));Bn.WebVTT,Bn.VTTCue,Bn.VTTRegion;var Un=function(e){function i(t,n){var i;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(i=e.call(this,null,t,n)||this).hasStarted_=!1,i.on("playing",(function(){this.hasStarted_=!0})),i.on("loadstart",(function(){this.hasStarted_=!1})),cn.names.forEach((function(e){var n=cn[e];t&&t[n.getterName]&&(i[n.privateName]=t[n.getterName])})),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.preloadTextTracks=!1!==t.preloadTextTracks,i.autoRemoteTextTracks_=new cn.text.ListClass,i.initTrackListeners(),t.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}Ut(i,e);var o=i.prototype;return o.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(vt(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},o.onDurationChange=function(t){this.duration_=this.duration()},o.buffered=function(){return de(0,0)},o.bufferedPercent=function(){return fe(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},o.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}}))},o.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?de(0,0):de()},o.setScrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var t=this;un.names.forEach((function(e){var n=un[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},o.addWebVttScript_=function(){var e=this;if(!t.WebVTT)if(n.body.contains(this.el())){if(!this.options_["vtt.js"]&&p(Bn)&&Object.keys(Bn).length>0)return void this.trigger("vttjsloaded");var i=n.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",i.onload=function(){e.trigger("vttjsloaded")},i.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){i.onload=null,i.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},o.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,n,i,r){void 0===r&&(r={});var o=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var a=new cn.text.TrackClass(r);return o.addTrack(a),a}(this,t,e,n)},o.createRemoteTextTrack=function(t){var e=Rt(t,{tech:this});return new ln.remoteTextEl.TrackClass(e)},o.addRemoteTextTrack=function(t,e){var n=this;void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(r.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==e&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(i.track)})),i},o.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},i.canPlayType=function(){return""},i.canPlaySource=function(t,e){return i.canPlayType(t.type)},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!i.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!i.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Mt(t),i.techs_[t]=e,i.techs_[kt(t)]=e,"Tech"!==t&&i.defaultTechOrder_.push(t),e},i.getTech=function(e){if(e)return i.techs_&&i.techs_[e]?i.techs_[e]:(e=Mt(e),t&&t.videojs&&t.videojs[e]?(r.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},i}(Ft);cn.names.forEach((function(t){var e=cn[t];Un.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Un.prototype.featuresVolumeControl=!0,Un.prototype.featuresMuteControl=!0,Un.prototype.featuresFullscreenResize=!1,Un.prototype.featuresPlaybackRate=!1,Un.prototype.featuresProgressEvents=!1,Un.prototype.featuresSourceset=!1,Un.prototype.featuresTimeupdateEvents=!1,Un.prototype.featuresNativeTextTracks=!1,Un.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n,i=t.sourceHandlers||[],r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=0;r<i.length;r++)if(i[r].canHandleSource(e,n))return i[r];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:r.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ft.registerComponent("Tech",Un),Un.registerTech("Tech",Un),Un.defaultTechOrder_=[];var Hn={},Gn={},Wn={};function zn(t,e,n){t.setTimeout((function(){return function t(e,n,i,r,o,a){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=n,u=s[0],l=s.slice(1);if("string"==typeof u)t(e,Hn[u],i,r,o,a);else if(u){var c=function(t,e){var n=Gn[t.id()],i=null;if(null==n)return i=e(t),Gn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];a===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}(r,u);if(!c.setSource)return o.push(c),t(e,l,i,r,o,a);c.setSource(f({},e),(function(n,s){if(n)return t(e,l,i,r,o,a);o.push(c),t(s,e.type===s.type?l:Hn[s.type],i,r,o,a)}))}else l.length?t(e,l,i,r,o,a):a?i(e,o):t(e,Hn["*"],i,r,o,!0)}(e,Hn[e.type],n,t)}),1)}function $n(t,e,n,i){void 0===i&&(i=null);var r="call"+Mt(n),o=t.reduce(Xn(r),i),a=o===Wn,s=a?null:e[n](o);return function(t,e,n,i){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](i,n)}}(t,n,s,a),s}var qn={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Yn={setCurrentTime:1,setMuted:1,setVolume:1},Kn={play:1,pause:1};function Xn(t){return function(e,n){return e===Wn?Wn:n[t]?n[t](e):e}}var Jn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Zn=function(t){void 0===t&&(t="");var e=ze(t);return Jn[e.toLowerCase()]||""};function Qn(t){if(!t.type){var e=Zn(t.src);e&&(t.type=e)}return t}var ti=function(t){function e(e,n,i){var r,o=Rt({createEl:!1},n);if(r=t.call(this,e,o,i)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)e.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var u=Mt(s[a]),l=Un.getTech(u);if(u||(l=Ft.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return Ut(e,t),e}(Ft);Ft.registerComponent("MediaLoader",ti);var ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).emitTapEvents(),i.enable(),i}Ut(e,t);var n=e.prototype;return n.createEl=function(e,n,i){void 0===e&&(e="div"),void 0===n&&(n={}),void 0===i&&(i={}),n=f({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&r.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=f({role:"button"},i),this.tabIndex_=n.tabIndex;var o=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(o),o},n.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},n.createControlTextEl=function(t){return this.controlTextEl_=T("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},n.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,S(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(e){Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Ft);Ft.registerComponent("ClickableComponent",ei);var ni=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update(),e.on("posterchange",vt(Vt(i),i.update)),i}Ut(e,t);var n=e.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},n.createEl=function(){return T("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},n.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},n.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(te||Jt)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Se(this.player_.play()):this.player_.pause()}},e}(ei);Ft.registerComponent("PosterImage",ni);var ii={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ri(t,e){var n;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function oi(t,e,n){try{t.style[e]=n}catch(t){return}}var ai=function(e){function n(n,i,r){var o;o=e.call(this,n,i,r)||this;var a=vt(Vt(o),o.updateDisplay);return n.on("loadstart",vt(Vt(o),o.toggleDisplay)),n.on("texttrackchange",a),n.on("loadedmetadata",vt(Vt(o),o.preselectTrack)),n.ready(vt(Vt(o),(function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",a),n.on("playerresize",a),t.addEventListener("orientationchange",a),n.on("dispose",(function(){return t.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],i=0;i<e.length;i++)this.player_.addRemoteTextTrack(e[i],!0);this.preselectTrack()}}))),o}Ut(n,e);var i=n.prototype;return i.preselectTrack=function(){for(var t,e,n,i={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in i?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in i&&!e&&(e=s):t=s)}n?n.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var n=[],i=0;i<t.length;++i){var r=t[i];"showing"===r.mode&&n.push(r)}this.updateForTrack(n)}else{for(var o=null,a=null,s=t.length;s--;){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},i.updateDisplayState=function(e){for(var n=this.player_.textTrackSettings.getValues(),i=e.activeCues,r=i.length;r--;){var o=i[r];if(o){var a=o.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&oi(a.firstChild,"color",ri(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&oi(a.firstChild,"backgroundColor",ri(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?oi(a,"backgroundColor",ri(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),n.fontPercent&&1!==n.fontPercent){var s=t.parseFloat(a.style.fontSize);a.style.fontSize=s*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ii[n.fontFamily])}}},i.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var n=[],i=0;i<e.length;++i)for(var r=e[i],o=0;o<r.activeCues.length;++o)n.push(r.activeCues[o]);t.WebVTT.processCues(t,n,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;P(l,"vjs-text-track-cue"),P(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},n}(Ft);Ft.registerComponent("TextTrackDisplay",ai);var si=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=T("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(Ft);Ft.registerComponent("LoadingSpinner",si);var ui=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n.createEl=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={}),e=f({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=f({type:"button"},n);var i=Ft.prototype.createEl.call(this,"button",e,n);return this.createControlTextEl(i),i},n.addChild=function(t,e){void 0===e&&(e={});var n=this.constructor.name;return r.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Ft.prototype.addChild.call(this,t,e)},n.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(e){Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(ei);Ft.registerComponent("Button",ui);var li=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Se(e),void(!this.player_.tech(!0)||(te||Jt)&&n||this.player_.tech(!0).focus())}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};Te(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},n.handleMouseDown=function(t){this.mouseused_=!0},e}(ui);li.prototype.controlText_="Play Video",Ft.registerComponent("BigPlayButton",li);var ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).controlText(n&&n.controlText||i.localize("Close")),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(e){Ce.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(ui);Ft.registerComponent("CloseButton",ci);var di=function(t){function e(e,n){var i;return void 0===n&&(n={}),i=t.call(this,e,n)||this,n.replay=void 0===n.replay||n.replay,i.on(e,"play",i.handlePlay),i.on(e,"pause",i.handlePause),n.replay&&i.on(e,"ended",i.handleEnded),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},n.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(ui);di.prototype.controlText_="Play",Ft.registerComponent("PlayToggle",di);var fi=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),(r=r>0||a>0?r+":":"")+(i=((r||o>=10)&&i<10?"0"+i:i)+":")+(n=n<10?"0"+n:n)},hi=fi;function pi(t,e){return void 0===e&&(e=t),hi(t,e)}var gi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["timeupdate","ended"],i.updateContent),i.updateTextNode_(),i}Ut(e,t);var i=e.prototype;return i.createEl=function(){var e=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=T("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=pi(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=n.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},i.updateContent=function(t){},e}(Ft);gi.prototype.labelText_="Time",gi.prototype.controlText_="Time",Ft.registerComponent("TimeDisplay",gi);var mi=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(gi);mi.prototype.labelText_="Current Time",mi.prototype.controlText_="Current Time",Ft.registerComponent("CurrentTimeDisplay",mi);var vi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i.on(e,"loadstart",i.updateContent),i.on(e,"loadedmetadata",i.updateContent),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(gi);vi.prototype.labelText_="Duration",vi.prototype.controlText_="Duration",Ft.registerComponent("DurationDisplay",vi);var yi=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Ft);Ft.registerComponent("TimeDivider",yi);var _i=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"durationchange",i.updateContent),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(T("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},n.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(gi);_i.prototype.labelText_="Remaining Time",_i.prototype.controlText_="Remaining Time",Ft.registerComponent("RemainingTimeDisplay",_i);var bi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=T("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},n.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},n.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Ft);Ft.registerComponent("LiveDisplay",bi);var wi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateLiveEdgeStatus(),i.player_.liveTracker&&i.on(i.player_.liveTracker,"liveedgechange",i.updateLiveEdgeStatus),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=T("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(ui);wi.prototype.controlText_="Seek to live, currently playing live",Ft.registerComponent("SeekToLive",wi);var Ti=function(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))},Si=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.enable(),i}Ut(e,t);var n=e.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),n.className=n.className+" vjs-slider",n=f({tabIndex:0},n),i=f({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},n.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Zt||t.preventDefault(),N(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},n.handleMouseMove=function(t){},n.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;D(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},n.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var n=t.vertical()?"height":"width";t.bar.el().style[n]=(100*e).toFixed(2)+"%"}))),e}},n.getProgress=function(){return Number(Ti(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(t){var e=F(this.el_,t);return this.vertical()?e.y:e.x},n.handleKeyDown=function(e){Ce.isEventKey(e,"Left")||Ce.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Ce.isEventKey(e,"Right")||Ce.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){t.stopPropagation(),t.preventDefault()},n.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ft);Ft.registerComponent("Slider",Si);var Oi=function(t,e){return Ti(t/e*100,0,100).toFixed(2)+"%"},Ei=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).partEls_=[],i.on(e,"progress",i.update),i}Ut(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=T("span",{className:"vjs-control-text"}),r=T("span",{textContent:this.localize("Loaded")}),o=n.createTextNode(": ");return this.percentageEl_=T("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(r),i.appendChild(o),i.appendChild(this.percentageEl_),e},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,n=e.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),o=e.partEls_,a=Oi(r,i);e.percent_!==a&&(e.el_.style.width=a,S(e.percentageEl_,a),e.percent_=a);for(var s=0;s<n.length;s++){var u=n.start(s),l=n.end(s),c=o[s];c||(c=e.el_.appendChild(T()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=Oi(u,r),c.style.width=Oi(l-u,r))}for(var d=o.length;d>n.length;d--)e.el_.removeChild(o[d-1]);o.length=n.length}))},e}(Ft);Ft.registerComponent("LoadProgressBar",Ei);var Pi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(Vt(i),i.update),30),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(t,e,n){var i=j(this.el_),r=L(this.player_.el()),o=t.width*e;if(r&&i){var a=t.left-r.left+o,s=t.width-o+(r.right-t.right),u=i.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",this.write(n)}},n.write=function(t){S(this.el_,t)},n.updateTime=function(t,e,n,i){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;o=(u<1?"":"-")+pi(u,s)}else o=pi(n,a);r.update(t,e,o),i&&i()}))},e}(Ft);Ft.registerComponent("TimeTooltip",Pi);var Ci=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(Vt(i),i.update),30),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(t,e){var n=this.getChild("timeTooltip");if(n){var i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(t,e,i)}},e}(Ft);Ci.prototype.options_={children:[]},ae||qt||Ci.prototype.options_.children.push("timeTooltip"),Ft.registerComponent("PlayProgressBar",Ci);var Ai=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).update=yt(vt(Vt(i),i.update),30),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(t,e){var n=this,i=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,i,(function(){n.el_.style.left=t.width*e+"px"}))},e}(Ft);Ai.prototype.options_={children:["timeTooltip"]},Ft.registerComponent("MouseTimeDisplay",Ai);var xi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).setEventHandlers_(),i}Ut(e,t);var i=e.prototype;return i.setEventHandlers_=function(){this.update_=vt(this,this.update),this.update=yt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.on(n,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(t){n.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(e){var n=this,i=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),e=n.player_.liveTracker,r=n.player_.duration();e&&e.isLive()&&(r=n.player_.liveTracker.liveCurrentTime()),n.percent_!==i&&(n.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),n.percent_=i),n.currentTime_===t&&n.duration_===r||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[pi(t,r),pi(r,r)],"{1} of {2}")),n.currentTime_=t,n.duration_=r),n.bar&&n.bar.update(L(n.el()),n.getProgress())})),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,e=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},i.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(W(t)){var e,n=this.calculateDistance(t),i=this.player_.liveTracker;if(i&&i.isLive()){if(n>=.99)return void i.seekToLiveEdge();var r=i.seekableStart(),o=i.liveCurrentTime();if((e=r+n*i.liveWindow())>=o&&(e=o),e<=r&&(e=r+.1),e===1/0)return}else(e=n*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Se(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(e){if(Ce.isEventKey(e,"Space")||Ce.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Ce.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Ce.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Ce(e))){e.preventDefault(),e.stopPropagation();var n=10*(Ce.codes[Ce(e)]-Ce.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else Ce.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Ce.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in n&&"visibilityState"in n&&this.off(n,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Si);xi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ae||qt||xi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ft.registerComponent("SeekBar",xi);var Ii=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handleMouseMove=yt(vt(Vt(i),i.handleMouseMove),30),i.throttledHandleMouseSeek=yt(vt(Vt(i),i.handleMouseSeek),30),i.enable(),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r=e.el(),o=j(r),a=F(r,t).x;a=Ti(a,0,1),i&&i.update(o,a),n&&n.update(o,e.getProgress())}}},n.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Ft);Ii.prototype.options_={children:["seekBar"]},Ft.registerComponent("ProgressControl",Ii);var ki=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],i.handlePictureInPictureChange),i.on(e,["disablepictureinpicturechanged","loadedmetadata"],i.handlePictureInPictureEnabledChange),i.disable(),i}Ut(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){n.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},i.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(ui);ki.prototype.controlText_="Picture-in-Picture",Ft.registerComponent("PictureInPictureToggle",ki);var Mi=function(t){function e(e,i){var r;return(r=t.call(this,e,i)||this).on(e,"fullscreenchange",r.handleFullscreenChange),!1===n[e.fsApi_.fullscreenEnabled]&&r.disable(),r}Ut(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(ui);Mi.prototype.controlText_="Fullscreen",Ft.registerComponent("FullscreenToggle",Mi);var Ri=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Ft);Ft.registerComponent("VolumeLevel",Ri);var Ni=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on("slideractive",i.updateLastVolume_),i.on(e,"volumechange",i.updateARIAAttributes),e.ready((function(){return i.updateARIAAttributes()})),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(e){W(e)&&t.prototype.handleMouseDown.call(this,e)},n.handleMouseMove=function(t){W(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(Si);Ni.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ni.prototype.playerEvent="volumechange",Ft.registerComponent("VolumeBar",Ni);var Di=function(t){function e(e,n){var i;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||p(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Vt(i),e),i.throttledHandleMouseMove=yt(vt(Vt(i),i.handleMouseMove),30),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],(function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")})),i.on(i.volumeBar,["blur","sliderinactive"],(function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")})),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},n.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},n.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},n.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Ft);Di.prototype.options_={children:["volumeBar"]},Ft.registerComponent("VolumeControl",Di);var Li=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Vt(i),e),i.on(e,["loadstart","volumechange"],i.update),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},n.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(t){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var t=this.player_.volume(),e=3;ae&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)C(this.el_,"vjs-vol-"+n);P(this.el_,"vjs-vol-"+e)},n.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(ui);Li.prototype.controlText_="Mute",Ft.registerComponent("MuteToggle",Li);var ji=function(t){function e(e,n){var i;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||p(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(i=t.call(this,e,n)||this).on(e,["loadstart"],i.volumePanelState_),i.on(i.muteToggle,"keyup",i.handleKeyPress),i.on(i.volumeControl,"keyup",i.handleVolumeControlKeyUp),i.on("keydown",i.handleKeyPress),i.on("mouseover",i.handleMouseOver),i.on("mouseout",i.handleMouseOut),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i}Ut(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(t){Ce.isEventKey(t,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(t){this.addClass("vjs-hover"),ct(n,"keyup",vt(this,this.handleKeyPress))},i.handleMouseOut=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleKeyPress))},i.handleKeyPress=function(t){Ce.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(Ft);ji.prototype.options_={children:["muteToggle","volumeControl"]},Ft.registerComponent("VolumePanel",ji);var Fi=function(t){function e(e,n){var i;return i=t.call(this,e,n)||this,n&&(i.menuButton_=n.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyDown),i.boundHandleBlur_=vt(Vt(i),i.handleBlur),i.boundHandleTapClick_=vt(Vt(i),i.handleTapClick),i}Ut(e,t);var i=e.prototype;return i.addEventListenerForItem=function(t){t instanceof Ft&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(t){t instanceof Ft&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},i.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},i.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=T(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ct(n,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),n},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(t){var e=t.relatedTarget||n.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var i=this.menuButton_;i&&i.buttonPressed_&&e!==i.el().firstChild&&i.unpressButton()}},i.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var n=e.filter((function(e){return e.el()===t.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(t){Ce.isEventKey(t,"Left")||Ce.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Ce.isEventKey(t,"Right")||Ce.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Ft);Ft.registerComponent("Menu",Fi);var Vi=function(t){function e(e,i){var r;void 0===i&&(i={}),(r=t.call(this,e,i)||this).menuButton_=new ui(e,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=ui.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),ct(n,"keyup",vt(Vt(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}Ut(e,t);var i=e.prototype;return i.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new Fi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=T("li",{className:"vjs-menu-title",innerHTML:Mt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Ft(this.player_,{el:e});t.addItem(n)}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+ui.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(t){this.removeClass("vjs-hover"),dt(n,"keyup",vt(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(t){Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Ce.isEventKey(t,"Up")||Ce.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(t){(Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},i.handleSubmenuKeyDown=function(t){(Ce.isEventKey(t,"Esc")||Ce.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Ce.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ae&&b())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ft);Ft.registerComponent("MenuButton",Vi);var Bi=function(t){function e(e,n){var i,r=n.tracks;if((i=t.call(this,e,n)||this).items.length<=1&&i.hide(),!r)return Vt(i);var o=vt(Vt(i),i.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),i}return Ut(e,t),e}(Vi);Ft.registerComponent("TrackButton",Bi);var Ui=["Tab","Esc","Up","Down","Right","Left"],Hi=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).selectable=n.selectable,i.isSelected_=n.selected||!1,i.multiSelectable=n.multiSelectable,i.selected(i.isSelected_),i.selectable?i.multiSelectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitemradio"):i.el_.setAttribute("role","menuitem"),i}Ut(e,t);var n=e.prototype;return n.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",f({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},n.handleKeyDown=function(e){Ui.some((function(t){return Ce.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},n.handleClick=function(t){this.selected(!0)},n.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ei);Ft.registerComponent("MenuItem",Hi);var Gi=function(e){function i(i,r){var o,a=r.track,s=i.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(o=e.call(this,i,r)||this).track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(Vt(o),e)},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(Vt(o),e)};return i.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",(function(){i.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange&&o.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{u=new t.Event("change")}catch(t){}u||(u=n.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(u)})),o.handleTracksChange(),o}Ut(i,e);var r=i.prototype;return r.handleClick=function(t){var n=this.track,i=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),i)for(var r=0;r<i.length;r++){var o=i[r];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},i}(Hi);Ft.registerComponent("TextTrackMenuItem",Gi);var Wi=function(t){function e(e,n){return n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,e,n)||this}Ut(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var o=e[i];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gi);Ft.registerComponent("OffTextTrackMenuItem",Wi);var zi=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.textTracks(),t.call(this,e,n)||this}return Ut(e,t),e.prototype.createItems=function(t,e){var n;void 0===t&&(t=[]),void 0===e&&(e=Gi),this.label_&&(n=this.label_+" off"),t.push(new Wi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var o=i[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Bi);Ft.registerComponent("TextTrackButton",zi);var $i=function(t){function e(e,n){var i,r=n.track,o=n.cue,a=e.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(i=t.call(this,e,n)||this).track=r,i.cue=o,r.addEventListener("cuechange",vt(Vt(i),i.update)),i}Ut(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Hi);Ft.registerComponent("ChaptersTrackMenuItem",$i);var qi=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},n.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},n.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Mt(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},n.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],o=new $i(this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(zi);qi.prototype.kind_="chapters",qi.prototype.controlText_="Chapters",Ft.registerComponent("ChaptersButton",qi);var Yi=function(t){function e(e,n,i){var r;r=t.call(this,e,n,i)||this;var o=e.textTracks(),a=vt(Vt(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}Ut(e,t);var n=e.prototype;return n.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var o=e[i];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);Yi.prototype.kind_="descriptions",Yi.prototype.controlText_="Descriptions",Ft.registerComponent("DescriptionsButton",Yi);var Ki=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zi);Ki.prototype.kind_="subtitles",Ki.prototype.controlText_="Subtitles",Ft.registerComponent("SubtitlesButton",Ki);var Xi=function(t){function e(e,n){var i;return n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(i=t.call(this,e,n)||this).addClass("vjs-texttrack-settings"),i.controlText(", opens "+n.kind+" settings dialog"),i}return Ut(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Gi);Ft.registerComponent("CaptionSettingsMenuItem",Xi);var Ji=function(t){function e(e,n,i){return t.call(this,e,n,i)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(zi);Ji.prototype.kind_="captions",Ji.prototype.controlText_="Captions",Ft.registerComponent("CaptionsButton",Ji);var Zi=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,f({innerHTML:r},n),i)},e}(Gi);Ft.registerComponent("SubsCapsMenuItem",Zi);var Qi=function(t){function e(e,n){var i;return void 0===n&&(n={}),(i=t.call(this,e,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(Mt(i.label_)),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Zi)},e}(zi);Qi.prototype.kinds_=["captions","subtitles"],Qi.prototype.controlText_="Subtitles",Ft.registerComponent("SubsCapsButton",Qi);var tr=function(t){function e(e,n){var i,r=n.track,o=e.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,(i=t.call(this,e,n)||this).track=r,i.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.handleTracksChange.apply(Vt(i),e)};return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}Ut(e,t);var n=e.prototype;return n.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,f({innerHTML:r},n),i)},n.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},n.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Hi);Ft.registerComponent("AudioTrackMenuItem",tr);var er=function(t){function e(e,n){return void 0===n&&(n={}),n.tracks=e.audioTracks(),t.call(this,e,n)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new tr(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Bi);er.prototype.controlText_="Audio Track",Ft.registerComponent("AudioTrackButton",er);var nr=function(t){function e(e,n){var i,r=n.rate,o=parseFloat(r,10);return n.label=r,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(i=t.call(this,e,n)||this).label=r,i.rate=o,i.on(e,"ratechange",i.update),i}Ut(e,t);var n=e.prototype;return n.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Hi);nr.prototype.contentElType="button",Ft.registerComponent("PlaybackRateMenuItem",nr);var ir=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).updateVisibility(),i.updateLabel(),i.on(e,"loadstart",i.updateVisibility),i.on(e,"ratechange",i.updateLabel),i}Ut(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=T("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},n.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var t=new Fi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new nr(this.player(),{rate:e[n]+"x"}));return t},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Vi);ir.prototype.controlText_="Playback Rate",Ft.registerComponent("PlaybackRateMenuButton",ir);var rr=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Ft);Ft.registerComponent("Spacer",rr);var or=function(t){function e(){return t.apply(this,arguments)||this}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},n.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(rr);Ft.registerComponent("CustomControlSpacer",or);var ar=function(t){function e(){return t.apply(this,arguments)||this}return Ut(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ft);ar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in n&&ar.prototype.options_.children.splice(ar.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ft.registerComponent("ControlBar",ar);var sr=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).on(e,"error",i.open),i}Ut(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},n.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ae);sr.prototype.options_=u({},Ae.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ft.registerComponent("ErrorDisplay",sr);var ur=["#000","Black"],lr=["#00F","Blue"],cr=["#0FF","Cyan"],dr=["#0F0","Green"],fr=["#F0F","Magenta"],hr=["#F00","Red"],pr=["#FFF","White"],gr=["#FF0","Yellow"],mr=["1","Opaque"],vr=["0.5","Semi-Transparent"],yr=["0","Transparent"],_r={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ur,pr,hr,dr,lr,gr,fr,cr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,vr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,ur,hr,dr,lr,gr,fr,cr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,vr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,vr,mr]}};function br(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}_r.windowColor.options=_r.backgroundColor.options;var wr=function(e){function n(t,n){var i;return n.temporary=!1,(i=e.call(this,t,n)||this).updateDisplay=vt(Vt(i),i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=T("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===n.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",(function(){i.saveSettings(),i.close()})),i.on(i.$(".vjs-default-button"),"click",(function(){i.setDefaults(),i.updateDisplay()})),d(_r,(function(t){i.on(i.$(t.selector),"change",i.updateDisplay)})),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}Ut(n,e);var i=n.prototype;return i.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},i.createElSelect_=function(t,e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n="label");var r=_r[t],o=r.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',i.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},i.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return T("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return T("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var t=this.localize("restore all settings to the default values");return T("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var t,e,n,i=this;return e=function(t,e,n){var r,o,a=(r=i.$(e.selector),o=e.parser,br(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(t[n]=a),t},void 0===(n={})&&(n=0),c(t=_r).reduce((function(n,i){return e(n,t[i],i)}),n)},i.setValues=function(t){var e=this;d(_r,(function(n,i){!function(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(br(t.options[i].value,n)===e){t.selectedIndex=i;break}}(e.$(n.selector),t[i],n.parser)}))},i.setDefaults=function(){var t=this;d(_r,(function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n}))},i.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem("vjs-text-track-settings"))}catch(t){r.warn(t)}e&&this.setValues(e)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):t.localStorage.removeItem("vjs-text-track-settings")}catch(t){r.warn(t)}}},i.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},n}(Ae);Ft.registerComponent("TextTrackSettings",wr);var Tr=function(e){function n(n,i){var r,o=i.ResizeObserver||t.ResizeObserver;null===i.ResizeObserver&&(o=!1);var a=Rt({createEl:!o,reportTouchActivity:!1},i);return(r=e.call(this,n,a)||this).ResizeObserver=i.ResizeObserver||t.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,n,i,r){var o;void 0===r&&(r=t);var a=function(){var t=this,a=arguments,s=function(){o=null,s=null,i||e.apply(t,a)};!o&&i&&e.apply(t,a),r.clearTimeout(o),o=r.setTimeout(s,n)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),100,!1,Vt(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(n.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){dt(this,"resize",t),dt(this,"unload",e),e=null};ct(r.el_.contentWindow,"unload",e),ct(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}Ut(n,e);var i=n.prototype;return i.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},i.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},n}(Ft);Ft.registerComponent("ResizeManager",Tr);var Sr={trackingThreshold:30,liveTolerance:15},Or=function(e){function i(t,i){var r,o=Rt(Sr,i,{createEl:!1});return(r=e.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),te&&"hidden"in n&&"visibilityState"in n&&r.on(n,"visibilitychange",r.handleVisibilityChange),r}Ut(i,e);var r=i.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(n.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var n=Number(t.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.end(n));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],n=t?t.length:0;n--;)e.push(t.start(n));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(n,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},i}(Ft);Ft.registerComponent("LiveTracker",Or);var Er,Pr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===i.indexOf(a)&&i.push(a)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},Cr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=n.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var r=n.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Ar=function(t,e){for(var n={},i=0;i<t.length&&!((n=Object.getOwnPropertyDescriptor(t[i],e))&&n.set&&n.get);i++);return n.enumerable=!0,n.configurable=!0,n},xr=function(e){var n=e.el();if(!n.resetSourceWatch_){var i={},r=function(e){return Ar([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,Cr],"innerHTML")}(e),o=function(t){return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=t.apply(n,r);return Pr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){n[t]&&(i[t]=n[t],n[t]=o(i[t]))})),Object.defineProperty(n,"innerHTML",Rt(r,{set:o(r.set)})),n.resetSourceWatch_=function(){n.resetSourceWatch_=null,Object.keys(i).forEach((function(t){n[t]=i[t]})),Object.defineProperty(n,"innerHTML",r)},e.one("sourceset",n.resetSourceWatch_)}},Ir=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?We(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),kr=function(e){if(e.featuresSourceset){var n=e.el();if(!n.resetSourceset_){var i=function(e){return Ar([e.el(),t.HTMLMediaElement.prototype,Ir],"src")}(e),r=n.setAttribute,o=n.load;Object.defineProperty(n,"src",Rt(i,{set:function(t){var r=i.set.call(n,t);return e.triggerSourceset(n.src),r}})),n.setAttribute=function(t,i){var o=r.call(n,t,i);return/src/i.test(t)&&e.triggerSourceset(n.src),o},n.load=function(){var t=o.call(n);return Pr(e)||(e.triggerSourceset(""),xr(e)),t},n.currentSrc?e.triggerSourceset(n.currentSrc):Pr(e)||xr(e),n.resetSourceset_=function(){n.resetSourceset_=null,n.load=o,n.setAttribute=r,Object.defineProperty(n,"src",i),n.resetSourceWatch_&&n.resetSourceWatch_()}}}},Mr=function(t,e,n,i){void 0===i&&(i=!0);var r=function(n){return Object.defineProperty(t,e,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=n();return r(t),t}};return i&&(o.set=r),Object.defineProperty(t,e,o)},Rr=function(e){function i(t,n){var i;i=e.call(this,t,n)||this;var o=t.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),t.enableSourceset&&i.setupSourcesetHandling_(),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!$e(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)i.el_.removeChild(l[d])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&r.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),i.restoreMetadataTracksInIOSNativePlayer_(),(ie||oe||Kt)&&!0===t.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}Ut(i,e);var o=i.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),i.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){kr(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),n=function(){t=[];for(var n=0;n<e.length;n++){var i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",(function(){return e.removeEventListener("change",n)}));var i=function n(){for(var i=0;i<t.length;i++){var r=t[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)}))},o.overrideNative_=function(t,e){var n=this;if(e===this["featuresNative"+t+"Tracks"]){var i=t.toLowerCase();this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach((function(t){n.el()[i+"Tracks"].removeEventListener(t,n[i+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i)}},o.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},o.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},o.proxyNativeTracksForType_=function(t){var e=this,n=un[t],i=this.el()[n.getterName],r=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var o={change:function(n){var i={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(i),"text"===t&&e[ln.remoteText.getterName]().trigger(i)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,o=0;o<i.length;o++)if(i[o]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var n=o[t];i.addEventListener(t,n),e.on("dispose",(function(e){return i.removeEventListener(t,n)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},o.proxyNativeTracks_=function(){var t=this;un.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),i.disposeMediaElement(t),t=e}else{t=n.createElement("video");var r=Rt({},this.options_.tag&&I(this.options_.tag));ie&&!0===this.options_.nativeControlsForTouch||delete r.controls,x(t,f(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&M(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?M(t,s,s):R(t,s),t[s]=u)}return t},o.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},o.setScrubbing=function(t){this.isScrubbing_=t},o.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&se?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){r(t,"Video is not ready. (Video.js)")}},o.duration=function(){var t=this;return this.el_.duration===1/0&&qt&&Zt&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)}))}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Se(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},o.reset=function(){i.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(t){this.el_.controls=!!t},o.addTextTrack=function(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):e.prototype.addTextTrack.call(this,t,n,i)},o.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var i=n.createElement("track");return t.kind&&(i.kind=t.kind),t.label&&(i.label=t.label),(t.language||t.srclang)&&(i.srclang=t.language||t.srclang),t.default&&(i.default=t.default),t.id&&(i.id=t.id),t.src&&(i.src=t.src),i},o.addRemoteTextTrack=function(t,n){var i=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},o.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)t!==n[i]&&t!==n[i].track||this.el().removeChild(n[i])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},i}(Un);Mr(Rr,"TEST_VID",(function(){if(y()){var t=n.createElement("video"),e=n.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Rr.isSupported=function(){try{Rr.TEST_VID.volume=.5}catch(t){return!1}return!(!Rr.TEST_VID||!Rr.TEST_VID.canPlayType)},Rr.canPlayType=function(t){return Rr.TEST_VID.canPlayType(t)},Rr.canPlaySource=function(t,e){return Rr.canPlayType(t.type)},Rr.canControlVolume=function(){try{var t=Rr.TEST_VID.volume;return Rr.TEST_VID.volume=t/2+.1,t!==Rr.TEST_VID.volume}catch(t){return!1}},Rr.canMuteVolume=function(){try{var t=Rr.TEST_VID.muted;return Rr.TEST_VID.muted=!t,Rr.TEST_VID.muted?M(Rr.TEST_VID,"muted","muted"):R(Rr.TEST_VID,"muted"),t!==Rr.TEST_VID.muted}catch(t){return!1}},Rr.canControlPlaybackRate=function(){if(qt&&Zt&&Qt<58)return!1;try{var t=Rr.TEST_VID.playbackRate;return Rr.TEST_VID.playbackRate=t/2+.1,t!==Rr.TEST_VID.playbackRate}catch(t){return!1}},Rr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(n.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(n.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(n.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Rr.supportsNativeTextTracks=function(){return se||ae&&Zt},Rr.supportsNativeVideoTracks=function(){return!(!Rr.TEST_VID||!Rr.TEST_VID.videoTracks)},Rr.supportsNativeAudioTracks=function(){return!(!Rr.TEST_VID||!Rr.TEST_VID.audioTracks)},Rr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],n=t[1];Mr(Rr.prototype,e,(function(){return Rr[n]()}),!0)})),Rr.prototype.movingMediaElementInDOM=!ae,Rr.prototype.featuresFullscreenResize=!0,Rr.prototype.featuresProgressEvents=!0,Rr.prototype.featuresTimeupdateEvents=!0,Rr.patchCanPlayType=function(){Yt>=4&&!Xt&&!Zt&&(Er=Rr.TEST_VID&&Rr.TEST_VID.constructor.prototype.canPlayType,Rr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Er.call(this,t)})},Rr.unpatchCanPlayType=function(){var t=Rr.TEST_VID.constructor.prototype.canPlayType;return Er&&(Rr.TEST_VID.constructor.prototype.canPlayType=Er),t},Rr.patchCanPlayType(),Rr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Rr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Rr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Rr.prototype["set"+Mt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Rr.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Rr.prototype["set"+Mt(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Rr.prototype[t]=function(){return this.el_[t]()}})),Un.withSourceHandlers(Rr),Rr.nativeSourceHandler={},Rr.nativeSourceHandler.canPlayType=function(t){try{return Rr.TEST_VID.canPlayType(t)}catch(t){return""}},Rr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Rr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=ze(t.src);return Rr.nativeSourceHandler.canPlayType("video/"+n)}return""},Rr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Rr.nativeSourceHandler.dispose=function(){},Rr.registerSourceHandler(Rr.nativeSourceHandler),Un.registerTech("Html5",Rr);var Nr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Dr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Lr=["tiny","xsmall","small","medium","large","xlarge","huge"],jr={};Lr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;jr[t]="vjs-layout-"+e}));var Fr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Vr=function(e){function i(t,r,a){var s;if(t.id=t.id||r.id||"vjs_video_"+it(),(r=f(i.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var u=t.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var l=t;l&&1===l.nodeType;){if(I(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((s=e.call(this,null,r,a)||this).boundDocumentFullscreenChange_=vt(Vt(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=vt(Vt(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=o(s.id_),s.fsApi_=pe,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=t,s.tagAttributes=t&&I(t),s.language(s.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach((function(t){c[t.toLowerCase()]=r.languages[t]})),s.languages_=c}else s.languages_=i.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],t.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),At(Vt(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(ct(n,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var d=Rt(s.options_);r.plugins&&Object.keys(r.plugins).forEach((function(t){s[t](r.plugins[t])})),r.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.initChildren(),s.isAudio("audio"===t.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ie&&s.addClass("vjs-touch-enabled"),ae||s.addClass("vjs-workinghover"),i.players[s.id_]=Vt(s);var h="7.10.2".split(".")[0];return s.addClass("vjs-v"+h),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}Ut(i,e);var a=i.prototype;return a.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),dt(n,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dt(n,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),i.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Gn[this.id()]=null,cn.names.forEach((function(e){var n=cn[e],i=t[n.getterName]();i&&i.off&&i.off()})),e.prototype.dispose.call(this)},a.createEl=function(){var i,r=this.tag,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?i=this.el_=r.parentNode:a||(i=this.el_=e.prototype.createEl.call(this,"div"));var s=I(r);if(a){for(i=this.el_=r,r=this.tag=n.createElement("video");i.children.length;)r.appendChild(i.firstChild);E(i,"video-js")||P(i,"video-js"),i.appendChild(r),o=this.playerElIngest_=i,Object.keys(i).forEach((function(t){try{r[t]=i[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),s.tabindex="-1",(te||Zt&&ne)&&(r.setAttribute("role","application"),s.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||i.setAttribute(t,s[t]),a&&r.setAttribute(t,s[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=i.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var u=$(".vjs-styles-defaults"),l=$("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=r.getElementsByTagName("a"),d=0;d<c.length;d++){var f=c.item(d);P(f,"vjs-hidden"),f.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(i,r),O(r,i),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=i,i},a.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):r.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e||"auto"===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);isNaN(i)?r.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,n;this.fluid_=!!t,bt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),bt(e=function(){this.on("playerreset",this.updateStyleEl_)})?n():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,n,i,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,n=void 0!==this.height_?this.height_:e*o,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),et(this.styleEl_,"\n      ."+i+" {\n        width: "+e+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},a.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=Mt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(Un.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};cn.names.forEach((function(t){var e=cn[t];o[e.getterName]=n[e.privateName]})),f(o,this.options_[i]),f(o,this.options_[r]),f(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Un.getTech(t);if(!a)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(vt(this,this.handleTechReady_),!0),Pe(this.textTracksJson_||[],this.tech_),Nr.forEach((function(t){n.on(n.tech_,t,n["handleTech"+Mt(t)+"_"])})),Object.keys(Dr).forEach((function(t){n.on(n.tech_,t,(function(e){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+Dr[t]+"_"].bind(n),event:e}):n["handleTech"+Dr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||O(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t=this;cn.names.forEach((function(e){var n=cn[e];t[n.privateName]=t[n.getterName]()})),this.textTracksJson_=Ee(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&r.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n,i=function(){var t=e.muted();e.muted(!0);var n=function(){e.muted(t)};e.playTerminatedQueue_.push(n);var i=e.play();if(Te(i))return i.catch(n)};if("any"===t&&!0!==this.muted()?Te(n=this.play())&&(n=n.catch(i)):n="muted"===t&&!0!==this.muted()?i():this.play(),Te(n))return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(n){e.trigger({type:"autoplay-failure",autoplay:t})}))}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,n="";"string"!=typeof e&&(e=t.src,n=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter((function(t){return t.src===e}));if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var o=i[r];if(o.type&&o.src&&o.src===e)return o.type}return Zn(e)}(this,e)),this.cache_.source=Rt({},t,{src:e,type:n});for(var i=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=I(o[s]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var n=function(t){return e.updateSourceCaches_(t)},i=this.currentSource().src,r=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=function(){}),n(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function n(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",n))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(r.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){W(t)&&this.controls_&&(this.paused()?Se(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var i=this.el(),r=n[this.fsApi_.fullscreenElement]===i;!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},a.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},a.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(t,e){this.ready((function(){if(t in Yn)return function(t,e,n,i){return e[n](t.reduce(Xn(n),i))}(this.middleware_,this.tech_,t,e);if(t in Kn)return $n(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw r(t),t}}),!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in qn)return function(t,e,n){return t.reduceRight(Xn(n),e[n]())}(this.middleware_,this.tech_,t);if(t in Kn)return $n(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw r("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw r("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw r(e),e}}},a.play=function(){var e=this,n=this.options_.Promise||t.Promise;return n?new n((function(t){e.play_(t)})):this.play_()},a.play_=function(t){var e=this;void 0===t&&(t=Se),this.playCallbacks_.push(t);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!se&&!ae||this.load());var i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},a.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||de(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=de(0,0)),t},a.bufferedPercent=function(){return fe(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(e){var n=this.options_.Promise||t.Promise;if(n){var i=this;return new n((function(t,n){function r(){i.off("fullscreenerror",a),i.off("fullscreenchange",o)}function o(){r(),t()}function a(t,e){r(),n(e)}i.one("fullscreenchange",o),i.one("fullscreenerror",a);var s=i.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(t){var e,n=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var i=this.el_[this.fsApi_.requestFullscreen](e);return i&&i.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),i}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var e=this.options_.Promise||t.Promise;if(e){var n=this;return new e((function(t,e){function i(){n.off("fullscreenerror",o),n.off("fullscreenchange",r)}function r(){i(),t()}function o(t,n){i(),e(n)}n.one("fullscreenchange",r),n.one("fullscreenerror",o);var a=n.exitFullscreenHelper_();if(a)return a.then(i,i),a}))}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=n[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=n.documentElement.style.overflow,ct(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow="hidden",P(n.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){Ce.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,dt(n,"keydown",this.boundFullWindowOnEscKey_),n.documentElement.style.overflow=this.docOrigOverflow,C(n.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in n&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in n)return n.exitPictureInPicture()},a.handleKeyDown=function(t){var e,n,i=this.options_.userActions;i&&i.hotkeys&&(e=this.el_.ownerDocument.activeElement,n=e.tagName.toLowerCase(),e.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(n))||("function"==typeof i.hotkeys?i.hotkeys.call(this,t):this.handleHotkeys(t)))},a.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},i=e.fullscreenKey,r=void 0===i?function(t){return Ce.isEventKey(t,"f")}:i,o=e.muteKey,a=void 0===o?function(t){return Ce.isEventKey(t,"m")}:o,s=e.playPauseKey,u=void 0===s?function(t){return Ce.isEventKey(t,"k")||Ce.isEventKey(t,"Space")}:s;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var l=Ft.getComponent("FullscreenToggle");!1!==n[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else a.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ft.getComponent("MuteToggle").prototype.handleClick.call(this,t)):u.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ft.getComponent("PlayToggle").prototype.handleClick.call(this,t))},a.canPlayType=function(t){for(var e,n=0,i=this.options_.techOrder;n<i.length;n++){var o=i[n],a=Un.getTech(o);if(a||(a=Ft.getComponent(o)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else r.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,n=this,i=this.options_.techOrder.map((function(t){return[t,Un.getTech(t)]})).filter((function(t){var e=t[0],n=t[1];return n?n.isSupported():(r.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,n){var i;return t.some((function(t){return e.some((function(e){if(i=n(t,e))return!0}))})),i},a=function(t,e){var i=t[0];if(t[1].canPlaySource(e,n.options_[i.toLowerCase()]))return{source:e,tech:i}};return(this.options_.sourceOrder?o(t,i,(e=a,function(t,n){return e(n,t)})):o(i,t,a))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var n=function t(e){if(Array.isArray(e)){var n=[];e.forEach((function(e){e=t(e),Array.isArray(e)?n=n.concat(e):h(e)&&n.push(e)})),e=n}else e="string"==typeof e&&e.trim()?[Qn({src:e})]:h(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Qn(e)]:[];return e}(t);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),zn(this,n[0],(function(t,i){var r,o;if(e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t),e.src_(t))return n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());r=i,o=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(t){var e,n,i=this,r=this.selectSource([t]);return!r||(e=r.tech,n=this.techName_,Mt(e)!==Mt(n)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){i.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,n=this.options_.Promise||t.Promise;this.paused()||!n?this.doReset_():Se(this.play().then((function(){return e.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),bt(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,n=t.remainingTimeDisplay;e&&e.updateContent(),n&&n.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _e(t),this.addClass("vjs-error"),r.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,n,i=vt(this,this.reportUserActivity),r=function(e){i(),this.clearInterval(t)};this.on("mousedown",(function(){i(),this.clearInterval(t),t=this.setInterval(i,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||ae||qt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",i),this.on("keyup",i),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return Rt(i.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=Rt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];(i=Rt(i)).player=void 0,t.tracks[n]=i}return t},a.createModal=function(t,e){var n=this;(e=e||{}).content=t||"";var i=new Ae(this,e);return this.addChild(i),i.on("dispose",(function(){n.removeChild(i)})),i.open(),i},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),n=0;n<Lr.length;n++){var i=Lr[n];if(e<=this.breakpoints_[i]){if(t===i)return;t&&this.removeClass(jr[t]),this.addClass(jr[i]),this.breakpoint_=i;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=f({},Fr,t),this.updateCurrentBreakpoint_()),f(this.breakpoints_)},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return jr[this.breakpoint_]||""},a.loadMedia=function(t,e){var n=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Rt(t);var i=this.cache_.media,r=i.artwork,o=i.poster,a=i.src,s=i.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Zn(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return n.addRemoteTextTrack(t,!1)})),this.ready(e)}},a.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Zn(e.poster)}]),e}return Rt(this.cache_.media)},i.getTagSettings=function(t){var e={sources:[],tracks:[]},n=I(t),i=n["data-setup"];if(E(t,"vjs-fill")&&(n.fill=!0),E(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=we(i||"{}"),a=o[0],s=o[1];a&&r.error(a),f(n,s)}if(f(e,n),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],h=d.nodeName.toLowerCase();"source"===h?e.sources.push(I(d)):"track"===h&&e.tracks.push(I(d))}return e},a.flexNotSupported_=function(){var t=n.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},a.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i}(Ft);cn.names.forEach((function(t){var e=cn[t];Vr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Vr.prototype.crossorigin=Vr.prototype.crossOrigin,Vr.players={};var Br=t.navigator;Vr.prototype.options_={techOrder:Un.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Br&&(Br.languages&&Br.languages[0]||Br.userLanguage||Br.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Vr.prototype[t]=function(){return this.techGet_(t)}})),Nr.forEach((function(t){Vr.prototype["handleTech"+Mt(t)+"_"]=function(){return this.trigger(t)}})),Ft.registerComponent("Player",Vr);var Ur=s((function(t){function e(n,i){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,i)}t.exports=e})),Hr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Gr=s((function(t){function e(n,i,r){return Hr()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Ur(r,n.prototype),r},e.apply(null,arguments)}t.exports=e})),Wr={},zr=function(t){return Wr.hasOwnProperty(t)},$r=function(t){return zr(t)?Wr[t]:void 0},qr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Yr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},Kr=function(t,e){return e.prototype.name=t,function(){Yr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=Gr(e,[this].concat(i));return this[t]=function(){return o},Yr(this,o.getEventHash()),o}},Xr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),At(this),delete this.trigger,It(this,this.constructor.defaultState),qr(e,this.name),this.dispose=vt(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ft(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Kr(t,Wr[t])},t.isBasic=function(e){var n="string"==typeof e?$r(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))r.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Vr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof n+".");return Wr[e]=n,"plugin"!==e&&(t.isBasic(n)?Vr.prototype[e]=function(t,e){var n=function(){Yr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return qr(this,t),Yr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach((function(t){n[t]=e[t]})),n}(e,n):Vr.prototype[e]=Kr(e,n)),n},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");zr(t)&&(delete Wr[t],delete Vr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Wr)),t.forEach((function(t){var n=$r(t);n&&((e=e||{})[t]=n)})),e},t.getPluginVersion=function(t){var e=$r(t);return e&&e.VERSION||""},t}();Xr.getPlugin=$r,Xr.BASE_PLUGIN_NAME="plugin",Xr.registerPlugin("plugin",Xr),Vr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Vr.prototype.hasPlugin=function(t){return!!zr(t)};var Jr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ur(t,e)},Zr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Qr(t,e,n){var i=Qr.getPlayer(t);if(i)return e&&r.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var o="string"==typeof t?$("#"+Zr(t)):t;if(!_(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||r.warn("The element supplied is not included in the DOM"),e=e||{},Qr.hooks("beforesetup").forEach((function(t){var n=t(o,Rt(e));h(n)&&!Array.isArray(n)?e=Rt(e,n):r.error("please return an object in beforesetup hooks")}));var a=Ft.getComponent("Player");return i=new a(o,e,n),Qr.hooks("setup").forEach((function(t){return t(i)})),i}if(Qr.hooks_={},Qr.hooks=function(t,e){return Qr.hooks_[t]=Qr.hooks_[t]||[],e&&(Qr.hooks_[t]=Qr.hooks_[t].concat(e)),Qr.hooks_[t]},Qr.hook=function(t,e){Qr.hooks(t,e)},Qr.hookOnce=function(t,e){Qr.hooks(t,[].concat(e).map((function(e){return function n(){return Qr.removeHook(t,n),e.apply(void 0,arguments)}})))},Qr.removeHook=function(t,e){var n=Qr.hooks(t).indexOf(e);return!(n<=-1||(Qr.hooks_[t]=Qr.hooks_[t].slice(),Qr.hooks_[t].splice(n,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&y()){var to=$(".vjs-styles-defaults");if(!to){to=tt("vjs-styles-defaults");var eo=$("head");eo&&eo.insertBefore(to,eo.firstChild),et(to,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}function no(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}J(1,Qr),Qr.VERSION="7.10.2",Qr.options=Vr.prototype.options_,Qr.getPlayers=function(){return Vr.players},Qr.getPlayer=function(t){var e,n=Vr.players;if("string"==typeof t){var i=Zr(t),r=n[i];if(r)return r;e=$("#"+i)}else e=t;if(_(e)){var o=e,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},Qr.getAllPlayers=function(){return Object.keys(Vr.players).map((function(t){return Vr.players[t]})).filter(Boolean)},Qr.players=Vr.players,Qr.getComponent=Ft.getComponent,Qr.registerComponent=function(t,e){Un.isTech(e)&&r.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ft.registerComponent.call(Ft,t,e)},Qr.getTech=Un.getTech,Qr.registerTech=Un.registerTech,Qr.use=function(t,e){Hn[t]=Hn[t]||[],Hn[t].push(e)},Object.defineProperty(Qr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Qr.middleware,"TERMINATOR",{value:Wn,writeable:!1,enumerable:!0}),Qr.browser=ue,Qr.TOUCH_ENABLED=ie,Qr.extend=function(t,e){void 0===e&&(e={});var n=function(){t.apply(this,arguments)},i={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),Jr(n,t),t&&(n.super_=t),i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n},Qr.mergeOptions=Rt,Qr.bind=vt,Qr.registerPlugin=Xr.registerPlugin,Qr.deregisterPlugin=Xr.deregisterPlugin,Qr.plugin=function(t,e){return r.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xr.registerPlugin(t,e)},Qr.getPlugins=Xr.getPlugins,Qr.getPlugin=Xr.getPlugin,Qr.getPluginVersion=Xr.getPluginVersion,Qr.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Qr.options.languages=Rt(Qr.options.languages,((n={})[t]=e,n)),Qr.options.languages[t]},Qr.log=r,Qr.createLogger=o,Qr.createTimeRange=Qr.createTimeRanges=de,Qr.formatTime=pi,Qr.setFormatTime=function(t){hi=t},Qr.resetFormatTime=function(){hi=fi},Qr.parseUrl=Ge,Qr.isCrossOrigin=$e,Qr.EventTarget=_t,Qr.on=ct,Qr.one=ht,Qr.off=dt,Qr.trigger=ft,Qr.xhr=Xe,Qr.TextTrack=rn,Qr.AudioTrack=on,Qr.VideoTrack=an,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Qr[t]=function(){return r.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Y[t].apply(null,arguments)}})),Qr.computedStyle=g,Qr.dom=Y,Qr.url=qe,Qr.defineLazyProperty=Mr;var io=no(s((function(t,e){var n,i,r,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}))),ro=no(t),oo=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=io.default.buildAbsoluteURL(ro.default.location&&ro.default.location.href||"",t)),io.default.buildAbsoluteURL(t,e))},ao=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();function so(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var uo=so(t),lo=function(t){for(var n,i=(n=t,uo.default.atob?uo.default.atob(n):e.from(n,"base64").toString("binary")),r=new Uint8Array(i.length),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r},co=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return Ut(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(ao),fo=function(t){for(var e,n=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},r=n.length;r--;)""!==n[r]&&((e=/([^=]*)=(.*)/.exec(n[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),i[e[0]]=e[1]);return i},ho=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}Ut(e,t);var n=e.prototype;return n.push=function(t){var e,n,i=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,n){var i=n(t);return i===t?e:e.concat([i])}),[t]).forEach((function(t){for(var r=0;r<i.customParsers.length;r++)if(i.customParsers[r].call(i,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))i.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void i.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void i.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void i.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void i.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var o=fo(e[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),u&&(n.byterange.offset=parseInt(u,10))}}i.trigger("data",n)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=fo(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}i.trigger("data",n)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return n={type:"tag",tagType:"media"},e[1]&&(n.attributes=fo(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-ENDLIST/.exec(t))i.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))i.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void i.trigger("data",n);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return n={type:"tag",tagType:"key"},e[1]&&(n.attributes=fo(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void i.trigger("data",n);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return n={type:"tag",tagType:"start"},e[1]&&(n.attributes=fo(e[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void i.trigger("data",n);i.trigger("data",{type:"tag",data:t.slice(4)})}}}else i.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},n.addParser=function(t){var e=this,n=t.expression,i=t.customType,r=t.dataParser,o=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){if(n.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:i,segment:o}),!0}))},n.addTagMapper=function(t){var e=t.expression,n=t.map;this.tagMappers.push((function(t){return e.test(t)?n(t):t}))},e}(ao),po=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new co,e.parseStream=new ho,e.lineStream.pipe(e.parseStream);var n,i,r=Vt(e),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return e.parseStream.on("data",(function(t){var e,f;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=d)),"offset"in t&&(a.byterange=e,e.offset=t.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:lo(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),i={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(i.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else i=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){n={},t.uri&&(n.uri=t.uri),t.byterange&&(n.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),u(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(f={default:/yes/i.test(t.attributes.DEFAULT)}).default?f.autoselect=!0:f.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(f.language=t.attributes.LANGUAGE),t.attributes.URI&&(f.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(f.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(f.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(f.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=f}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),i&&(a.key=i),a.timeline=c,n&&(a.map=n),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}Ut(e,t);var n=e.prototype;return n.push=function(t){this.lineStream.push(t)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(t){this.parseStream.addParser(t)},n.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ao),go=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return n.test(t)?"hls":i.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}}));a(go);var mo=go.simpleTypeFromSourceType,vo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,yo=new RegExp("[\\-\\.0-9"+vo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_o=new RegExp("^"+vo.source+yo.source+"*(?::"+vo.source+yo.source+"*)?$");function bo(){}function wo(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function To(t,e,n,i,r,o){for(var a,s=++e,u=0;;){var l=t.charAt(s);switch(l){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');c=t.slice(e,s).replace(/&#?\w+;/g,r),n.add(a,c,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&n.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:n.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=t.slice(e,s)).slice(-1)&&(n.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=a),4==u?(o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===i[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),n.add(c,c,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var c=t.slice(e,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+c+'" missed quot(")!!'),n.add(a,c,e);case 5:u=6}else switch(u){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===i[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function So(t,e,n){for(var i=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((f=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,f),c=s.slice(f+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==r&&(r={},Po(n,n={})),n[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=n[l||""]));var f;(f=i.indexOf(":"))>0?(l=t.prefix=i.slice(0,f),c=t.localName=i.slice(f+1)):(l=null,c=t.localName=i);var h=t.uri=n[l||""];if(e.startElement(h,c,i,t),!t.closed)return t.currentNSMap=n,t.localNSMap=r,!0;if(e.endElement(h,c,i),r)for(l in r)e.endPrefixMapping(l)}function Oo(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),o)}return e+1}function Eo(t,e,n,i){var r=i[n];return null==r&&((r=t.lastIndexOf("</"+n+">"))<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Po(t,e){for(var n in t)e[n]=t[n]}function Co(t,e,n,i){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(n.comment(t,e+4,r-e-4),r+3):(i.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,r-e-9),n.endCDATA(),r+3}var o=function(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return n.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),c.index+c[0].length}}return-1}function Ao(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function xo(t){}function Io(t,e){return t.__proto__=e,t}bo.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Po(e,e={}),function(t,e,n,i,r){function o(t){var e=t.slice(1,-1);return e in n?n[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>p){var n=t.substring(p,e).replace(/&#?\w+;/g,o);d&&s(p),i.characters(n,0,e-p),p=e}}function s(e,n){for(;e>=l&&(n=c.exec(t));)u=n.index,l=u+n[0].length,d.lineNumber++;d.columnNumber=e-u+1}for(var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,f=[{currentNSMap:e}],h={},p=0;;){try{var g=t.indexOf("<",p);if(g<0){if(!t.substr(p).match(/^\s*$/)){var m=i.doc,v=m.createTextNode(t.substr(p));m.appendChild(v),i.currentElement=v}return}switch(g>p&&a(g),t.charAt(g+1)){case"/":var y=t.indexOf(">",g+3),_=t.substring(g+2,y),b=f.pop();y<0?(_=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=g+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=g+1+_.length);var w=b.localNSMap,T=b.tagName==_;if(T||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(b.uri,b.localName,_),w)for(var S in w)i.endPrefixMapping(S);T||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else f.push(b);y++;break;case"?":d&&s(g),y=Ao(t,g,i);break;case"!":d&&s(g),y=Co(t,g,i,r);break;default:d&&s(g);var O=new xo,E=f[f.length-1].currentNSMap,P=(y=To(t,g,O,E,o,r),O.length);if(!O.closed&&Eo(t,y,O.tagName,h)&&(O.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&P){for(var C=wo(d,{}),A=0;A<P;A++){var x=O[A];s(x.offset),x.locator=wo(d,{})}i.locator=C,So(O,i,E)&&f.push(O),i.locator=d}else So(O,i,E)&&f.push(O);"http://www.w3.org/1999/xhtml"!==O.uri||O.closed?y++:y=Oo(t,y,O.tagName,o,i)}}catch(t){r.error("element parse error: "+t),y=-1}y>p?p=y:a(Math.max(g,p)+1)}}(t,e,n,i,this.errorHandler),i.endDocument()}},xo.prototype={setTagName:function(t){if(!_o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,n){if(!_o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},Io({},Io.prototype)instanceof Io||(Io=function(t,e){function n(){}for(e in n.prototype=e,n=new n,t)n[e]=t[e];return n});var ko={XMLReader:bo};function Mo(t,e){for(var n in t)e[n]=t[n]}function Ro(t,e){var n=t.prototype;if(Object.create){var i=Object.create(e.prototype);n.__proto__=i}if(!(n instanceof e)){var r=function(){};r.prototype=e.prototype,Mo(n,r=new r),t.prototype=n=r}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var No={},Do=No.ELEMENT_NODE=1,Lo=No.ATTRIBUTE_NODE=2,jo=No.TEXT_NODE=3,Fo=No.CDATA_SECTION_NODE=4,Vo=No.ENTITY_REFERENCE_NODE=5,Bo=No.ENTITY_NODE=6,Uo=No.PROCESSING_INSTRUCTION_NODE=7,Ho=No.COMMENT_NODE=8,Go=No.DOCUMENT_NODE=9,Wo=No.DOCUMENT_TYPE_NODE=10,zo=No.DOCUMENT_FRAGMENT_NODE=11,$o=No.NOTATION_NODE=12,qo={},Yo={},Ko=(qo.INDEX_SIZE_ERR=(Yo[1]="Index size error",1),qo.DOMSTRING_SIZE_ERR=(Yo[2]="DOMString size error",2),qo.HIERARCHY_REQUEST_ERR=(Yo[3]="Hierarchy request error",3)),Xo=(qo.WRONG_DOCUMENT_ERR=(Yo[4]="Wrong document",4),qo.INVALID_CHARACTER_ERR=(Yo[5]="Invalid character",5),qo.NO_DATA_ALLOWED_ERR=(Yo[6]="No data allowed",6),qo.NO_MODIFICATION_ALLOWED_ERR=(Yo[7]="No modification allowed",7),qo.NOT_FOUND_ERR=(Yo[8]="Not found",8)),Jo=(qo.NOT_SUPPORTED_ERR=(Yo[9]="Not supported",9),qo.INUSE_ATTRIBUTE_ERR=(Yo[10]="Attribute in use",10));function Zo(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Yo[t]),this.message=Yo[t],Error.captureStackTrace&&Error.captureStackTrace(this,Zo);return n.code=t,e&&(this.message=this.message+": "+e),n}function Qo(){}function ta(t,e){this._node=t,this._refresh=e,ea(this)}function ea(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);ka(t,"length",n.length),Mo(n,t),t._inc=e}}function na(){}function ia(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function ra(t,e,n,i){if(i?e[ia(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&da(r,t,i),function(t,e,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(e._nsMap[n.prefix?n.localName:""]=n.value)}(r,t,n))}}function oa(t,e,n){var i=ia(e,n);if(!(i>=0))throw Zo(Xo,new Error(t.tagName+"@"+n));for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(da(o,t,n),n.ownerElement=null)}}function aa(t){if(this._features={},t)for(var e in t)this._features=t[e]}function sa(){}function ua(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function la(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(la(t,e))return!0}while(t=t.nextSibling)}function ca(){}function da(t,e,n,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete e._nsMap[n.prefix?n.localName:""]}function fa(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o}}}function ha(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,fa(t.ownerDocument,t),e}function pa(t,e,n){var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===zo){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=n?n.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=n,a?a.nextSibling=r:t.firstChild=r,null==n?t.lastChild=o:n.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return fa(t.ownerDocument||t,t),e.nodeType==zo&&(e.firstChild=e.lastChild=null),e}function ga(){this._nsMap={}}function ma(){}function va(){}function ya(){}function _a(){}function ba(){}function wa(){}function Ta(){}function Sa(){}function Oa(){}function Ea(){}function Pa(){}function Ca(){}function Aa(t,e){var n=[],i=9==this.nodeType?this.documentElement:this,r=i.prefix,o=i.namespaceURI;if(o&&null==r&&null==(r=i.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return Ia(this,n,t,e,a),n.join("")}function xa(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!i&&!r)return!1;if("xml"===i&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==i)return a.namespace!=r}return!0}function Ia(t,e,n,i,r){if(i){if(!(t=i(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case Do:r||(r=[]),r.length;var o=t.attributes,a=o.length,s=t.firstChild,u=t.tagName;n="http://www.w3.org/1999/xhtml"===t.namespaceURI||n,e.push("<",u);for(var l=0;l<a;l++)"xmlns"==(c=o.item(l)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(l=0;l<a;l++){var c;if(xa(c=o.item(l),0,r)){var d=c.prefix||"",f=c.namespaceURI,h=d?" xmlns:"+d:" xmlns";e.push(h,'="',f,'"'),r.push({prefix:d,namespace:f})}Ia(c,e,n,i,r)}if(xa(t,0,r)&&(d=t.prefix||"",f=t.namespaceURI,h=d?" xmlns:"+d:" xmlns",e.push(h,'="',f,'"'),r.push({prefix:d,namespace:f})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),n&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):Ia(s,e,n,i,r),s=s.nextSibling;else for(;s;)Ia(s,e,n,i,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Go:case zo:for(s=t.firstChild;s;)Ia(s,e,n,i,r),s=s.nextSibling;return;case Lo:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ua),'"');case jo:return e.push(t.data.replace(/[<&]/g,ua));case Fo:return e.push("<![CDATA[",t.data,"]]>");case Ho:return e.push("\x3c!--",t.data,"--\x3e");case Wo:var p=t.publicId,g=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(' PUBLIC "',p),g&&"."!=g&&e.push('" "',g),e.push('">');else if(g&&"."!=g)e.push(' SYSTEM "',g,'">');else{var m=t.internalSubset;m&&e.push(" [",m,"]"),e.push(">")}return;case Uo:return e.push("<?",t.target," ",t.data,"?>");case Vo:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ka(t,e,n){t[e]=n}qo.INVALID_STATE_ERR=(Yo[11]="Invalid state",11),qo.SYNTAX_ERR=(Yo[12]="Syntax error",12),qo.INVALID_MODIFICATION_ERR=(Yo[13]="Invalid modification",13),qo.NAMESPACE_ERR=(Yo[14]="Invalid namespace",14),qo.INVALID_ACCESS_ERR=(Yo[15]="Invalid access",15),Zo.prototype=Error.prototype,Mo(qo,Zo),Qo.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Ia(this[i],n,t,e);return n.join("")}},ta.prototype.item=function(t){return ea(this),this[t]},Ro(ta,Qo),na.prototype={length:0,item:Qo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Zo(Jo);var n=this.getNamedItem(t.nodeName);return ra(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e,n=t.ownerElement;if(n&&n!=this._ownerElement)throw new Zo(Jo);return e=this.getNamedItemNS(t.namespaceURI,t.localName),ra(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return oa(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return oa(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}},aa.prototype={hasFeature:function(t,e){var n=this._features[t.toLowerCase()];return!(!n||e&&!(e in n))},createDocument:function(t,e,n){var i=new ca;if(i.implementation=this,i.childNodes=new Qo,i.doctype=n,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new wa;return i.name=t,i.nodeName=t,i.publicId=e,i.systemId=n,i}},sa.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return pa(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return ha(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,n,i){var r=new n.constructor;for(var o in n){var a=n[o];"object"!=typeof a&&a!=r[o]&&(r[o]=a)}switch(n.childNodes&&(r.childNodes=new Qo),r.ownerDocument=e,r.nodeType){case Do:var s=n.attributes,u=r.attributes=new na,l=s.length;u._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(t(e,s.item(c),!0));break;case Lo:i=!0}if(i)for(var d=n.firstChild;d;)r.appendChild(t(e,d,i)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==jo&&t.nodeType==jo?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n)for(var i in n)if(n[i]==t)return i;e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&t in n)return n[t];e=e.nodeType==Lo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},Mo(No,sa),Mo(No,sa.prototype),ca.prototype={nodeName:"#document",nodeType:Go,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zo){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return null==this.documentElement&&t.nodeType==Do&&(this.documentElement=t),pa(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),ha(this,t)},importNode:function(t,e){return function t(e,n,i){var r;switch(n.nodeType){case Do:(r=n.cloneNode(!1)).ownerDocument=e;case zo:break;case Lo:i=!0}if(r||(r=n.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,i)for(var o=n.firstChild;o;)r.appendChild(t(e,o,i)),o=o.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return la(this.documentElement,(function(n){if(n.nodeType==Do&&n.getAttribute("id")==t)return e=n,!0})),e},createElement:function(t){var e=new ga;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Qo,(e.attributes=new na)._ownerElement=e,e},createDocumentFragment:function(){var t=new Ea;return t.ownerDocument=this,t.childNodes=new Qo,t},createTextNode:function(t){var e=new ya;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new _a;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ba;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new Pa;return n.ownerDocument=this,n.tagName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new ma;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Oa;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new ga,i=e.split(":"),r=n.attributes=new na;return n.childNodes=new Qo,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new ma,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}},Ro(ca,sa),ga.prototype={nodeType:Do,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zo?this.insertBefore(t,null):function(t,e){var n=e.parentNode;if(n){var i=t.lastChild;n.removeChild(e),i=t.lastChild}return i=t.lastChild,e.parentNode=t,e.previousSibling=i,e.nextSibling=null,i?i.nextSibling=e:t.firstChild=e,t.lastChild=e,fa(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ta(this,(function(e){var n=[];return la(e,(function(i){i===e||i.nodeType!=Do||"*"!==t&&i.tagName!=t||n.push(i)})),n}))},getElementsByTagNameNS:function(t,e){return new ta(this,(function(n){var i=[];return la(n,(function(r){r===n||r.nodeType!==Do||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||i.push(r)})),i}))}},ca.prototype.getElementsByTagName=ga.prototype.getElementsByTagName,ca.prototype.getElementsByTagNameNS=ga.prototype.getElementsByTagNameNS,Ro(ga,sa),ma.prototype.nodeType=Lo,Ro(ma,sa),va.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Yo[Ko])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){n=this.data.substring(0,t)+n+this.data.substring(t+e),this.nodeValue=this.data=n,this.length=n.length}},Ro(va,sa),ya.prototype={nodeName:"#text",nodeType:jo,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},Ro(ya,va),_a.prototype={nodeName:"#comment",nodeType:Ho},Ro(_a,va),ba.prototype={nodeName:"#cdata-section",nodeType:Fo},Ro(ba,va),wa.prototype.nodeType=Wo,Ro(wa,sa),Ta.prototype.nodeType=$o,Ro(Ta,sa),Sa.prototype.nodeType=Bo,Ro(Sa,sa),Oa.prototype.nodeType=Vo,Ro(Oa,sa),Ea.prototype.nodeName="#document-fragment",Ea.prototype.nodeType=zo,Ro(Ea,sa),Pa.prototype.nodeType=Uo,Ro(Pa,sa),Ca.prototype.serializeToString=function(t,e,n){return Aa.call(t,e,n)},sa.prototype.toString=Aa;try{Object.defineProperty&&(Object.defineProperty(ta.prototype,"length",{get:function(){return ea(this),this.$$length}}),Object.defineProperty(sa.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case Do:case zo:var n=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case Do:case zo:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ka=function(t,e,n){t["$$"+e]=n})}catch(t){}var Ma={DOMImplementation:aa,XMLSerializer:Ca},Ra=s((function(t,e){function n(t){this.options=t||{locator:{}}}function i(){this.cdata=!1}function r(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var n=this.options,r=new u,a=n.domBuilder||new i,s=n.errorHandler,l=n.locator,c=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),r.errorHandler=function(t,e,n){if(!t){if(e instanceof i)return e;t=e}var r={},a=t instanceof Function;function s(e){var i=t[e];!i&&a&&(i=2==t.length?function(n){t(e,n)}:t),r[e]=i&&function(t){i("[xmldom "+e+"]\t"+t+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,l),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(e)&&(d.nbsp=" ",d.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,d):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var o=this.doc,a=o.createElementNS(t,n||e),u=i.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var l=0;l<u;l++){t=i.getURI(l);var c=i.getValue(l),d=(n=i.getQName(l),o.createAttributeNS(t,n));this.locator&&r(i.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&r(this.locator,n),s(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(t);else i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&r(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&r(this.locator,i),s(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var o=i.createDocumentType(t,e,n);this.locator&&r(this.locator,o),s(this,o)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){i.prototype[t]=function(){return null}}));var u=ko.XMLReader,l=e.DOMImplementation=Ma.DOMImplementation;e.XMLSerializer=Ma.XMLSerializer,e.DOMParser=n})),Na=(Ra.DOMImplementation,Ra.XMLSerializer,Ra.DOMParser),Da=function(t){return!!t&&"object"==typeof t},La=function t(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.reduce((function(e,n){return Object.keys(n).forEach((function(i){Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):Da(e[i])&&Da(n[i])?e[i]=t(e[i],n[i]):e[i]=n[i]})),e}),{})},ja=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},Fa=function(t){if(!t.length)return[];for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},Va="INVALID_NUMBER_OF_PERIOD",Ba="DASH_EMPTY_MANIFEST",Ua="DASH_INVALID_XML",Ha="NO_BASE_URL",Ga="SEGMENT_TIME_UNSPECIFIED",Wa="UNSUPPORTED_UTC_TIMING_SCHEME",za=function(t){var e=t.baseUrl,n=void 0===e?"":e,i=t.source,r=void 0===i?"":i,o=t.range,a=void 0===o?"":o,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:oo(n||"",r)};if(a||u){var c=(a||u).split("-"),d=parseInt(c[0],10),f=parseInt(c[1],10);l.byterange={length:f-d+1,offset:d}}return l},$a={static:function(t){var e=t.duration,n=t.timescale,i=void 0===n?1:n,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/i))}},dynamic:function(t){var e=t.NOW,n=t.clientOffset,i=t.availabilityStartTime,r=t.timescale,o=void 0===r?1:r,a=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,d=t.timeShiftBufferDepth,f=void 0===d?1/0:d,h=(e+n)/1e3,p=i+u,g=h+c-p,m=Math.ceil(g*o/a),v=Math.floor((h-p-f)*o/a),y=Math.floor((h-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},qa=function(t){var e=t.type,n=void 0===e?"static":e,i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.sourceDuration,s=$a[n](t),u=function(t,e){for(var n=[],i=t;i<e;i++)n.push(i);return n}(s.start,s.end).map(function(t){return function(e,n){var i=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:i/o,timeline:a,time:n*i}}}(t));if("static"===n){var l=u.length-1;u[l].duration=a-i/o*l}return u},Ya=function(t){var e=t.baseUrl,n=t.initialization,i=void 0===n?{}:n,r=t.sourceDuration,o=t.indexRange,a=void 0===o?"":o,s=t.duration;if(!e)throw new Error(Ha);var u=za({baseUrl:e,source:i.sourceURL,range:i.range}),l=za({baseUrl:e,source:e,indexRange:a});if(l.map=u,s){var c=qa(t);c.length&&(l.duration=c[0].duration,l.timeline=c[0].timeline)}else r&&(l.duration=r,l.timeline=0);return l.number=0,[l]},Ka=function(t,e,n){for(var i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,l=e.references.filter((function(t){return 1!==t.referenceType})),c=[],d=s+e.firstOffset,f=0;f<l.length;f++){var h=e.references[f],p=h.referencedSize,g=h.subsegmentDuration,m=Ya({baseUrl:n,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];i&&(m.map=i),c.push(m),d+=p}return t.segments=c,t},Xa=function(t){var e;return(e=t.reduce((function(t,e){var n,i=e.attributes.id+(e.attributes.lang||"");return t[i]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(n=t[i].segments).push.apply(n,e.segments),e.attributes.contentProtection&&(t[i].attributes.contentProtection=e.attributes.contentProtection)):t[i]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,n;return t.discontinuityStarts=(e=t.segments,n="discontinuity",e.reduce((function(t,e,i){return e[n]&&t.push(i),t}),[])),t}))},Ja=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var n in t){var i=t[n];if(i.sidx){var r=i.sidx.uri+"-"+(a=i.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=e[r]&&e[r].sidx;i.sidx&&o&&Ka(i,o,i.sidx.resolvedUri)}}var a,s;return t},Za=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},Qa=function(t){var e,n=t.attributes,i=t.segments;void 0===i&&(i=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var r=((e={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,e);return n.codecs&&(r.CODECS=n.codecs),{attributes:r,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1}},ts=function(t){var e,n=t.attributes,i=t.segments,r=t.sidx,o={attributes:(e={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:i,mediaSequence:i.length?i[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),r&&(o.sidx=r),o},es=function(t,e,n){var i;if(void 0===n&&(n={}),!t.length)return{};var r=t[0].attributes,o=r.sourceDuration,a=r.type,s=void 0===a?"static":a,u=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,c=Xa(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(ts),d=Xa(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),f=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:o,playlists:Ja(c,n)};return l>=0&&(h.minimumUpdatePeriod=1e3*l),e&&(h.locations=e),"dynamic"===s&&(h.suggestedPresentationDelay=u),d.length&&(h.mediaGroups.AUDIO.audio=function(t,e){var n;void 0===e&&(e={});var i=t.reduce((function(t,i){var r=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+i.attributes.lang+s}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===r,playlists:Ja([Za(i)],e),uri:""},void 0===n&&"main"===r&&((n=i).default=!0)),t}),{});return n||(i[Object.keys(i)[0]].default=!0),i}(d,n)),f.length&&(h.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,n){var i=n.attributes.lang||"text";return t[i]||(t[i]={language:i,default:!1,autoselect:!1,playlists:Ja([Qa(n)],e),uri:""}),t}),{})}(f,n)),h},ns=function(t,e,n){var i=t.NOW,r=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,d=(i+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-e)/n)},is=function(t,e){for(var n=t.type,i=void 0===n?"static":n,r=t.minimumUpdatePeriod,o=void 0===r?0:r,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,d=t.startNumber,f=void 0===d?1:d,h=t.periodIndex,p=[],g=-1,m=0;m<e.length;m++){var v=e[m],y=v.d,_=v.r||0,b=v.t||0;g<0&&(g=b),b&&b>g&&(g=b);var w=void 0;if(_<0){var T=m+1;w=T===e.length?"dynamic"===i&&o>0&&s.indexOf("$Number$")>0?ns(t,g,y):(u*c-g)/y:(e[T].t-g)/y}else w=_+1;for(var S=f+p.length+w,O=f+p.length;O<S;)p.push({number:O,duration:y/c,time:g,timeline:h}),g+=y,O++}return p},rs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,os=function(t,e){return t.replace(rs,function(t){return function(e,n,i,r){if("$$"===e)return"$";if(void 0===t[n])return e;var o=""+t[n];return"RepresentationID"===n?o:(r=i?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(e))},as=function(t,e){var n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},i=t.initialization,r=void 0===i?{sourceURL:"",range:""}:i,o=za({baseUrl:t.baseUrl,source:os(r.sourceURL,n),range:r.range});return function(t,e){return t.duration||e?t.duration?qa(t):is(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){n.Number=e.number,n.Time=e.time;var i=os(t.media||"",n);return{uri:i,timeline:e.timeline,duration:e.duration,resolvedUri:oo(t.baseUrl||"",i),map:o,number:e.number}}))},ss=function(t,e){var n=t.duration,i=t.segmentUrls,r=void 0===i?[]:i;if(!n&&!e||n&&e)throw new Error(Ga);var o,a=r.map((function(e){return function(t,e){var n=t.baseUrl,i=t.initialization,r=void 0===i?{}:i,o=za({baseUrl:n,source:r.sourceURL,range:r.range}),a=za({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=o,a}(t,e)}));return n&&(o=qa(t)),e&&(o=is(t,e)),o.map((function(t,e){if(a[e]){var n=a[e];return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n}})).filter((function(t){return t}))},us=function(t){var e,n,i=t.attributes,r=t.segmentInfo;r.template?(n=as,e=La(i,r.template)):r.base?(n=Ya,e=La(i,r.base)):r.list&&(n=ss,e=La(i,r.list));var o={attributes:i};if(!n)return o;var a=n(e,r.timeline);if(e.duration){var s=e,u=s.duration,l=s.timescale,c=void 0===l?1:l;e.duration=u/c}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return o.attributes=e,o.segments=a,r.base&&e.indexRange&&(o.sidx=a[0],o.segments=[]),o},ls=function(t,e){return Fa(t.childNodes).filter((function(t){return t.tagName===e}))},cs=function(t){return t.textContent.trim()},ds=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var n=e.slice(1),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5];return 31536e3*parseFloat(i||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},fs={mediaPresentationDuration:function(t){return ds(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return ds(t)},suggestedPresentationDelay:function(t){return ds(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return ds(t)},start:function(t){return ds(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?ds(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},hs=function(t){return t&&t.attributes?Fa(t.attributes).reduce((function(t,e){var n=fs[e.name]||fs.DEFAULT;return t[e.name]=n(e.value),t}),{}):{}},ps={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gs=function(t,e){return e.length?ja(t.map((function(t){return e.map((function(e){return oo(t,cs(e))}))}))):t},ms=function(t){var e=ls(t,"SegmentTemplate")[0],n=ls(t,"SegmentList")[0],i=n&&ls(n,"SegmentURL").map((function(t){return La({tag:"SegmentURL"},hs(t))})),r=ls(t,"SegmentBase")[0],o=n||e,a=o&&ls(o,"SegmentTimeline")[0],s=n||r||e,u=s&&ls(s,"Initialization")[0],l=e&&hs(e);l&&u?l.initialization=u&&hs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&ls(a,"S").map((function(t){return hs(t)})),list:n&&La(hs(n),{segmentUrls:i,initialization:hs(u)}),base:r&&La(hs(r),{initialization:hs(u)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},vs=function(t,e,n){return function(i){var r=hs(i),o=gs(e,ls(i,"BaseURL")),a=ls(i,"Role")[0],s={role:hs(a)},u=La(t,r,s),l=ls(i,"ContentProtection").reduce((function(t,e){var n=hs(e),i=ps[n.schemeIdUri];if(i){t[i]={attributes:n};var r=ls(e,"cenc:pssh")[0];if(r){var o=cs(r),a=o&&lo(o);t[i].pssh=a}}return t}),{});Object.keys(l).length&&(u=La(u,{contentProtection:l}));var c=ms(i),d=ls(i,"Representation"),f=La(n,c);return ja(d.map(function(t,e,n){return function(i){var r=ls(i,"BaseURL"),o=gs(e,r),a=La(t,hs(i)),s=ms(i);return o.map((function(t){return{segmentInfo:La(n,s),attributes:La(a,{baseUrl:t})}}))}}(u,o,f)))}},ys=function(e,n){return function(i,r){var o=gs(n,ls(i,"BaseURL")),a=hs(i),s=parseInt(a.id,10),u=t.isNaN(s)?r:s,l=La(e,{periodIndex:u}),c=ls(i,"AdaptationSet"),d=ms(i);return ja(c.map(vs(l,o,d)))}},_s=function(t){if(""===t)throw new Error(Ba);var e=(new Na).parseFromString(t,"application/xml"),n=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Ua);return n},bs=function(t,e){void 0===e&&(e={});var n=function(t,e){void 0===e&&(e={});var n=e,i=n.manifestUri,r=void 0===i?"":i,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,u=void 0===s?0:s,l=ls(t,"Period");if(!l.length)throw new Error(Va);var c=ls(t,"Location"),d=hs(t),f=gs([r],ls(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(cs)),{locations:d.locations,representationInfo:ja(l.map(ys(d,f)))}}(_s(t),e),i=n.representationInfo.map(us);return es(i,n.locations,e.sidxMapping)},ws=function(t){return function(t){var e=ls(t,"UTCTiming")[0];if(!e)return null;var n=hs(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Wa)}return n}(_s(t))},Ts=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(e=24;r;e+=12,r--)i.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&n.getUint32(e),subsegmentDuration:n.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&n.getUint32(e+8)});return i},Ss=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},i=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},r=function(t,e){void 0===e&&(e=0);var i=(t=n(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},o=function t(e,o){return void 0===o&&(o=0),(e=n(e)).length-o<10||"ID3"!==i(e.subarray(o,o+3))?o:t(e,o+=r(e,o))},a={aac:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(i(t.subarray(4,8)))&&!/^ftyp3g$/.test(i(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(i(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(i(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(i(t.subarray(0,4)))}},s=Object.keys(a).filter((function(t){return"ts"!==t})).concat("ts");s.forEach((function(t){var e=a[t];a[t]=function(t){return e(n(t))}})),e.detectContainerForBytes=function(t){t=n(t);for(var e=0;e<s.length;e++){var i=s[e];if(a[i](t))return i}return""},e.getId3Offset=o,e.id3Size=r,e.isLikely=a,e.isLikelyFmp4MediaSegment=function(t){t=n(t);for(var e=0;e<t.length;){var r=(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0;if("moof"===i(t.subarray(e+4,e+8)))return!0;0===r||r+e>t.length?e=t.length:e+=r}return!1}}));a(Ss);var Os=Ss.detectContainerForBytes,Es=Ss.getId3Offset,Ps=(Ss.id3Size,Ss.isLikely,Ss.isLikelyFmp4MediaSegment),Cs=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,n(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.reduce((function(t,e){return t+=e&&(e.byteLength||e.length)||0}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){t=n(t),o.set(t,a),a+=t.byteLength})),o},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(t){return 255&t.charCodeAt(0)})))},e.toUint8=n}));a(Cs),Cs.bytesToString;var As=Cs.concatTypedArrays,xs=(Cs.isTypedArray,Cs.stringToBytes),Is=Cs.toUint8,ks=27,Ms=15,Rs=21,Ns=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};Ns.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},Ns.prototype.push=function(t){this.trigger("data",t)},Ns.prototype.flush=function(t){this.trigger("done",t)},Ns.prototype.partialFlush=function(t){this.trigger("partialdone",t)},Ns.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},Ns.prototype.reset=function(t){this.trigger("reset",t)};var Ds=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ls=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Ds(t.dts,i),t.pts=Ds(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ls.prototype=new Ns;var js=function(t){var e=31&t[1];return e<<=8,e|=t[2]},Fs=function(t){return!!(64&t[1])},Vs=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Bs=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Us={parseType:function(t,e){var n=js(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},parsePat:function(t){var e=Fs(t),n=4+Vs(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},parsePmt:function(t){var e={},n=Fs(t),i=4+Vs(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r;r=3+((15&t[i+1])<<8|t[i+2])-4;for(var o=12+((15&t[i+10])<<8|t[i+11]);o<r;){var a=i+o;e[(31&t[a+1])<<8|t[a+2]]=t[a],o+=5+((15&t[a+3])<<8|t[a+4])}return e}},parsePayloadUnitStartIndicator:Fs,parsePesType:function(t,e){switch(e[js(t)]){case ks:return"video";case Ms:return"audio";case Rs:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Fs(t))return null;var e=4+Vs(t);if(e>=t.byteLength)return null;var n,i=null;return 192&(n=t[e+7])&&((i={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,i.pts*=4,i.pts+=(6&t[e+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,i.dts*=4,i.dts+=(6&t[e+18])>>>1)),i},videoPacketContainsKeyFrame:function(t){for(var e=4+Vs(t),n=t.subarray(e),i=0,r=0,o=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===Bs(31&n[r+3])&&(o=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Bs(31&n[r+3])&&(o=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Bs(31&n[r+3])&&(o=!0),o}},Hs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gs=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},Ws=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},zs={isLikelyAacData:function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=Gs(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:Gs,parseAdtsSize:function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return Hs[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,n,i;e=10,64&t[5]&&(e+=4,e+=Ws(t.subarray(10,14)));do{if((n=Ws(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){i=t.subarray(e+10,e+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r}(i,0,r))){var o=i.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null}},$s=9e4,qs=(function(t){return 9e4*t},function(t,e){return t*e},function(t){return t/9e4},function(t,e){return t/e},$s),Ys=Ds,Ks={};Ks.ts=Us,Ks.aac=zs;var Xs,Js=$s,Zs=function(t,e,n){for(var i,r,o,a,s=0,u=188,l=!1;u<=t.byteLength;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s++,u++;else{switch(i=t.subarray(s,u),Ks.ts.parseType(i,e.pid)){case"pes":r=Ks.ts.parsePesType(i,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Ks.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(s=(u=t.byteLength)-188,l=!1;s>=0;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s--,u--;else{switch(i=t.subarray(s,u),Ks.ts.parseType(i,e.pid)){case"pes":r=Ks.ts.parsePesType(i,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&o&&(a=Ks.ts.parsePesTime(i))&&(a.type="audio",n.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},Qs=function(t,e,n){for(var i,r,o,a,s,u,l,c=0,d=188,f=!1,h={data:[],size:0};d<t.byteLength;)if(71!==t[c]||71!==t[d])c++,d++;else{switch(i=t.subarray(c,d),Ks.ts.parseType(i,e.pid)){case"pes":if(r=Ks.ts.parsePesType(i,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(o&&!f&&(a=Ks.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),f=!0),!n.firstKeyFrame)){if(o&&0!==h.size){for(s=new Uint8Array(h.size),u=0;h.data.length;)l=h.data.shift(),s.set(l,u),u+=l.byteLength;if(Ks.ts.videoPacketContainsKeyFrame(s)){var p=Ks.ts.parsePesTime(s);p?(n.firstKeyFrame=p,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}h.size=0}h.data.push(i),h.size+=i.byteLength}}if(f&&n.firstKeyFrame)break;c+=188,d+=188}for(c=(d=t.byteLength)-188,f=!1;c>=0;)if(71!==t[c]||71!==t[d])c--,d--;else{switch(i=t.subarray(c,d),Ks.ts.parseType(i,e.pid)){case"pes":r=Ks.ts.parsePesType(i,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(i),"video"===r&&o&&(a=Ks.ts.parsePesTime(i))&&(a.type="video",n.video.push(a),f=!0)}if(f)break;c-=188,d-=188}},tu=function(t){var e={pid:null,table:null},n={};for(var i in function(t,e){for(var n,i=0,r=188;r<t.byteLength;)if(71!==t[i]||71!==t[r])i++,r++;else{switch(n=t.subarray(i,r),Ks.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=Ks.ts.parsePat(n));break;case"pmt":e.table||(e.table=Ks.ts.parsePmt(n))}if(e.pid&&e.table)return;i+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(i))switch(e.table[i]){case ks:n.video=[],Qs(t,e,n),0===n.video.length&&delete n.video;break;case Ms:n.audio=[],Zs(t,e,n),0===n.audio.length&&delete n.audio}return n},eu=function(t,e){var n;return(n=Ks.aac.isLikelyAacData(t)?function(t){for(var e,n=!1,i=0,r=null,o=null,a=0,s=0;t.length-s>=3;){switch(Ks.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){n=!0;break}if((a=Ks.aac.parseId3TagSize(t,s))>t.length){n=!0;break}null===o&&(e=t.subarray(s,s+a),o=Ks.aac.parseAacTimestamp(e)),s+=a;break;case"audio":if(t.length-s<7){n=!0;break}if((a=Ks.aac.parseAdtsSize(t,s))>t.length){n=!0;break}null===r&&(e=t.subarray(s,s+a),r=Ks.aac.parseSampleRate(e)),i++,s+=a;break;default:s++}if(n)return null}if(null===r||null===o)return null;var u=Js/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*i*u,pts:o+1024*i*u}]}}(t):tu(t))&&(n.audio||n.video)?(function(t,e){if(t.audio&&t.audio.length){var n=e;void 0===n&&(n=t.audio[0].dts),t.audio.forEach((function(t){t.dts=Ys(t.dts,n),t.pts=Ys(t.pts,n),t.dtsTime=t.dts/Js,t.ptsTime=t.pts/Js}))}if(t.video&&t.video.length){var i=e;if(void 0===i&&(i=t.video[0].dts),t.video.forEach((function(t){t.dts=Ys(t.dts,i),t.pts=Ys(t.pts,i),t.dtsTime=t.dts/Js,t.ptsTime=t.pts/Js})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=Ys(r.dts,i),r.pts=Ys(r.pts,i),r.dtsTime=r.dts/Js,r.ptsTime=r.dts/Js}}}(n,e),n):null},nu=function(t){return t>>>0},iu=function(t){return("00"+t.toString(16)).slice(-2)},ru=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},ou=nu,au=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=ou(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=ru(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},su=nu,uu=iu,lu=function(t,e){var n,i,r;return n=au(e,["moof","traf"]),i=[].concat.apply([],n.map((function(e){return au(e,["tfhd"]).map((function(n){var i,r;return i=su(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=t[i]||9e4,(au(e,["tfdt"]).map((function(t){var e,n;return e=t[0],n=su(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(n*=Math.pow(2,32),n+=su(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),n}))[0]||1/0)/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},cu=function(t){var e=au(t,["moov","trak"]),n=[];return e.forEach((function(t){var e,i,r={},o=au(t,["tkhd"])[0];o&&(i=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===i?e.getUint32(12):e.getUint32(20));var a=au(t,["mdia","hdlr"])[0];if(a){var s=ru(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=au(t,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=ru(l.subarray(4,8));var c,d=au(l,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===ru(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=uu(c[9]),r.codec+=uu(c[10]),r.codec+=uu(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(c=d.subarray(28),"esds"===ru(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+uu(c[19]),r.codec+="."+uu(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var f=au(t,["mdia","mdhd"])[0];f&&(r.timescale=Xs(f)),n.push(r)})),n},du=(Xs=function(t){var e=0===t[0]?12:20;return su(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s((function(e,n){function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(t),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,n){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):t},s=function(t){return t.map(a)},u=function(t){void 0===t&&(t="");var e=t.split(","),n={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var i=o[e].exec(t.toLowerCase());if(i&&!(i.length<=1)){var r=t.substring(0,i[1].length),a=t.replace(r,"");n[e]={type:r,details:a}}}))})),n},l=function(t){return void 0===t&&(t=""),o.audio.test(t.trim().toLowerCase())},c=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return a(t.trim())})),n="video";1===e.length&&l(e[0])&&(n="audio");var i="mp4";return e.every((function(t){return o.mp4.test(t)}))?i="mp4":e.every((function(t){return o.webm.test(t)}))?i="webm":e.every((function(t){return o.ogg.test(t)}))&&(i="ogg"),n+"/"+i+';codecs="'+t+'"'}};n.DEFAULT_AUDIO_CODEC="mp4a.40.2",n.DEFAULT_VIDEO_CODEC="avc1.4d400d",n.browserSupportsCodec=function(t){return void 0===t&&(t=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(c(t))||!1},n.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return u(r.playlists[0].attributes.CODECS)}return null},n.getMimeForCodec=c,n.isAudioCodec=l,n.isVideoCodec=function(t){return void 0===t&&(t=""),o.video.test(t.trim().toLowerCase())},n.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return s([t])[0]}))},n.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),o.muxerVideo.test(t)||o.muxerAudio.test(t)}))},n.parseCodecs=u,n.translateLegacyCodec=a,n.translateLegacyCodecs=s})));a(du);var fu,hu=du.DEFAULT_AUDIO_CODEC,pu=du.DEFAULT_VIDEO_CODEC,gu=du.browserSupportsCodec,mu=du.codecsFromDefault,vu=du.getMimeForCodec,yu=du.isAudioCodec,_u=du.isVideoCodec,bu=(du.mapLegacyAvcCodecs,du.muxerSupportsCodec),wu=du.parseCodecs,Tu=du.translateLegacyCodec,Su=(du.translateLegacyCodecs,oo),Ou=function(t,e,n){return t&&n&&n.responseURL&&e!==n.responseURL?n.responseURL:e},Eu=Qr.log,Pu=function(t,e){return t+"-"+e},Cu=function(t){var e=t.manifestString,n=t.customTagParsers,i=void 0===n?[]:n,r=t.customTagMappers,o=void 0===r?[]:r,a=new po;return i.forEach((function(t){return a.addParser(t)})),o.forEach((function(t){return a.addTagMapper(t)})),a.push(e),a.end(),a.manifest},Au=function(t,e){["AUDIO","SUBTITLES"].forEach((function(n){for(var i in t.mediaGroups[n])for(var r in t.mediaGroups[n][i]){var o=t.mediaGroups[n][i][r];e(o,n,i,r)}}))},xu=function(t){var e=t.playlist,n=t.uri,i=t.id;e.id=i,n&&(e.uri=n),e.attributes=e.attributes||{}},Iu=function(t,e){t.uri=e;for(var n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){var i="placeholder-uri-"+n;t.playlists[n].uri=i}Au(t,(function(e,n,i,r){if(e.playlists&&e.playlists.length&&!e.playlists[0].uri){var o="placeholder-uri-"+n+"-"+i+"-"+r,a=Pu(0,o);e.playlists[0].uri=o,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[o]=e.playlists[0]}})),function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];xu({playlist:n,id:Pu(e,n.uri)}),n.resolvedUri=Su(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||Eu.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){Au(t,(function(e){e.uri&&(e.resolvedUri=Su(t.uri,e.uri))}))}(t)},ku=Qr.mergeOptions,Mu=Qr.EventTarget,Ru=function(t,e){t.resolvedUri||(t.resolvedUri=Su(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Su(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Su(e,t.map.uri))},Nu=function(t,e){var n=ku(t,{}),i=n.playlists[e.id];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence)return null;var r=ku(i,e);i.segments&&(r.segments=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),o=n;o<r;o++)i[o-n]=ku(t[o],i[o-n]);return i}(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach((function(t){Ru(t,r.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===e.id&&(n.playlists[o]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,n},Du=function(t,e){var n=t.segments[t.segments.length-1];return e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)},Lu=function(e){function n(t,n,i){var r;if(void 0===i&&(i={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=i,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=n,r.withCredentials=s,r.handleManifestRedirects=l;var c=n.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:Su(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}Ut(n,e);var i=n.prototype;return i.playlistRequestError=function(t,e,n){var i=e.uri,r=e.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+i+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},i.haveMetadata=function(e){var n=this,i=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||Cu({manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});xu({playlist:s,uri:o,id:a});var u=Nu(this.master,s);this.targetDuration=s.targetDuration,u?(this.master=u,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout((function(){n.trigger("mediaupdatetimeout")}),Du(this.media(),!!u))),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.media=function(e,n){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(t.clearTimeout(this.finalRenditionTimeout),n){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=t.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,n){if(i.request){if(e.resolvedUri=Ou(i.handleManifestRedirects,e.resolvedUri,n),t)return i.playlistRequestError(i.request,e,o);i.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?i.trigger("loadedmetadata"):i.trigger("mediachange")}}))}}},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=t.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Ou(e.handleManifestRedirects,e.src,n);var i=Cu({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(i)}}))},i.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},i.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,Iu(this.master,this.srcUri()),e.playlists.forEach((function(t){t.segments&&t.segments.forEach((function(e){Ru(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var n=this.srcUri()||t.location.href;this.master=function(e,n){var i=Pu(0,n),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,resolvedUri:t.location.href,playlists:[{uri:n,id:i,resolvedUri:n,attributes:{}}]};return r.playlists[i]=r.playlists[0],r.playlists[n]=r.playlists[0],r}(0,n),this.haveMetadata({playlistObject:e,url:n,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(Mu),ju=function(t,e){var n,i=[];if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Qr.createTimeRanges(i)},Fu=function(t,e){return ju(t,(function(t,n){return t-.1<=e&&n+.1>=e}))},Vu=function(t,e){return ju(t,(function(t){return t-1/30>=e}))},Bu=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},Uu=function(t){for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},Hu=Qr.createTimeRange,Gu=function(t,e,n){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var i=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(void 0!==(r=t.segments[i]).end)return{result:n+r.end,precise:!0};if(n+=r.duration,void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(t,e);if(i.precise)return i.result;var r=function(t,e){for(var n,i=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(n=t.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e);return r.precise?r.result:i.result+n},Wu=function(e,n,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===n){if(e.totalDuration)return e.totalDuration;if(!e.endList)return t.Infinity}return Gu(e,n,i)},zu=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var o=e;o<Math.min(0,n);o++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i},$u=function(t,e){if(!t.segments.length)return 0;var n=t.segments.length,i=t.segments[n-1].duration||t.targetDuration,r="number"==typeof e?e:i+2*t.targetDuration;if(0===r)return n;for(var o=0;n--&&!((o+=t.segments[n].duration)>=r););return Math.max(0,n)},qu=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return Wu(t);if(null===e)return null;e=e||0;var r=n?$u(t,i):t.segments.length;return Gu(t,t.mediaSequence+r,e)},Yu=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Ku=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Xu=function(t){var e=Yu(t);return!t.disabled&&!e},Ju=function(t,e){return e.attributes&&e.attributes[t]},Zu=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Xu(t)&&(t.attributes.BANDWIDTH||0)<n})).length},Qu={duration:Wu,seekable:function(t,e,n){var i=e||0,r=qu(t,e,!0,n);return null===r?Hu():Hu(i,r)},safeLiveIndex:$u,getMediaInfoForTime:function(t,e,n,i){var r,o=t.segments.length,a=e-i;if(a<0){if(n>0)for(r=n-1;r>=0;r--)if((a+=t.segments[r].duration+1/30)>0)return{mediaIndex:r,startTime:i-zu(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if((a-=t.segments[r].duration+1/30)<0)return{mediaIndex:r,startTime:i+zu(t,n,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Xu,isDisabled:function(t){return t.disabled},isBlacklisted:Yu,isIncompatible:Ku,playlistEnd:qu,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Ju,estimateSegmentRequestTime:function(t,e,n,i){return void 0===i&&(i=0),Ju("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-8*i)/e:NaN},isLowestEnabledRendition:Zu},tl=Qr.xhr,el=Qr.mergeOptions,nl=function(t,e,n,i){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},il=function(){return function t(e,n){e=el({timeout:45e3},e);var i=t.beforeRequest||Qr.Vhs.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(e);r&&(e=r)}var o=tl(e,(function(t,e){return nl(o,t,e,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},rl=function(t){var e,n,i={};return t.byterange&&(i.Range=(e=t.byterange,n=e.offset+e.length-1,"bytes="+e.offset+"-"+n)),i},ol=function(t,e){return t.start(e)+"-"+t.end(e)},al=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},sl=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ul=function(t){var e={};return Object.keys(t).forEach((function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i})),e},ll=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},cl=function(t){return t.resolvedUri},dl=function(t){for(var e=Array.prototype.slice.call(t),n="",i=0;i<e.length/16;i++)n+=e.slice(16*i,16*i+16).map(al).join("")+" "+e.slice(16*i,16*i+16).map(sl).join("")+"\n";return n},fl=Object.freeze({__proto__:null,createTransferableMessage:ul,initSegmentId:ll,segmentKeyId:cl,hexDump:dl,tagDump:function(t){var e=t.bytes;return dl(e)},textRanges:function(t){var e,n="";for(e=0;e<t.length;e++)n+=ol(t,e)+" ";return n}}),hl=function(t){var e=t.playlist,n=t.time,i=void 0===n?void 0:n,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===i)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n,i=0,r=0;r<e.segments.length&&!(t<=(i=(n=e.segments[r]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));r++);var o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(i,e);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:i},s=function(t,e){if(!e.dateTimeObject)return null;var n=e.videoTimingInfo.transmuxerPrependedSeconds,i=t-(e.videoTimingInfo.transmuxedPresentationStart+n);return new Date(e.dateTimeObject.getTime()+1e3*i)}(i,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},pl=function t(e){var n=e.programTime,i=e.playlist,r=e.retryCount,o=void 0===r?2:r,a=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!i||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return c({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var d=function(t,e){var n;try{n=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var i=e.segments[0];if(n<i.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(i=e.segments[r],!(n<e.segments[r+1].dateTimeObject));r++);var o,a=e.segments[e.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*u)?null:(n>s&&(i=a),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Qu.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(n,i);if(!d)return c({message:n+" was not found in the stream"});var f=d.segment,h=function(t,e){var n,i;try{n=new Date(t),i=new Date(e)}catch(t){}var r=n.getTime();return(i.getTime()-r)/1e3}(f.dateTimeObject,n);if("estimate"===d.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(d.estimatedStart+h),void l.one("seeked",(function(){t({programTime:n,playlist:i,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var p=f.start+h;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(p)},gl=function(t,e){if(4===t.readyState)return e()},ml=Qr.EventTarget,vl=Qr.mergeOptions,yl=function(t){var e=t.masterXml,n=t.srcUrl,i=t.clientOffset,r=t.sidxMapping,o=bs(e,{manifestUri:n,clientOffset:i,sidxMapping:r});return Iu(o,n),o},_l=function(t,e){for(var n=!0,i=vl(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var o=Nu(i,e.playlists[r]);o&&(i=o,n=!1)}return Au(e,(function(t,e,r,o){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,s=Nu(i,t.playlists[0]);s&&((i=s).mediaGroups[e][r][o].playlists[0]=i.playlists[a],n=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:i},bl=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},wl=function(t,e){var n,i,r={};for(var o in t){var a=t[o].sidx;if(a){var s=bl(a);if(!e[s])break;var u=e[s].sidxInfo;n=u,i=a,(Boolean(!n.map&&!i.map)||Boolean(n.map&&i.map&&n.map.byterange.offset===i.map.byterange.offset&&n.map.byterange.length===i.map.byterange.length))&&n.uri===i.uri&&n.byterange.offset===i.byterange.offset&&n.byterange.length===i.byterange.length&&(r[s]=e[s])}}return r},Tl=function(t,e,n,i,r,o){var a={uri:Ou(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:n},s=Qr.mergeOptions(a,{responseType:"arraybuffer",headers:rl(a)});return function(t,e,n){var i,r=[],o=!1,a=function(t,e,i,r){return e.abort(),o=!0,n(t,e,i,r)},s=function(t,e){if(!o){if(t)return a(t,e,"",r);var n=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=As(r,xs(n,!0)),i=i||Es(r),r.length<10||i&&r.length<i+2)return gl(e,(function(){return a(t,e,"",r)}));var s=Os(r);return"ts"===s&&r.length<188||!s&&r.length<376?gl(e,(function(){return a(t,e,"",r)})):a(null,e,s,r)}},u=e({uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,nl(t,null,{statusCode:t.status},s)}))}},(function(t,e){return nl(u,t,e,s)}));return u}(a.uri,i,(function(e,r,u,l){if(e)return o(e,r);if(!u||"mp4"!==u)return o({status:r.status,message:"Unsupported "+(u||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},r);var c=a.byterange,d=c.offset,f=c.length;if(l.length>=f+d)return o(e,{response:l.subarray(d,d+f),status:r.status,uri:r.uri});t.request=i(s,o)}))},Sl=function(e){function n(t,n,i,r){var o;void 0===i&&(i={}),o=e.call(this)||this;var a=i,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=n,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},Vt(o)):(o.setupChildLoader(r,t),o)}Ut(n,e);var i=n.prototype;return i.setupChildLoader=function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},t.clearTimeout(this.minimumUpdatePeriodTimeout_),t.clearTimeout(this.mediaRequest_),t.clearTimeout(this.mediaUpdateTimeout),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},i.sidxRequestFinished_=function(t,e,n,i){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},n&&(r.state=n),void r.trigger("error");var s=Is(a.response),u=Ts(s.subarray(8));return i(e,u)}}},i.media=function(e){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=bl(e.sidx);a[s]={sidxInfo:e.sidx},this.request=Tl(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,i,(function(t,r){if(!t||!r)throw new Error("failed to request sidx");a[s].sidx=r,n.haveMetadata({startingState:i,playlist:t.playlists[e.id]})})))}else this.mediaRequest_=t.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:e}),0)},i.haveMetadata=function(t){var e=t.startingState,n=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},i.load=function(e){var n=this;t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=this.media();if(e){var r=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return n.load()}),r)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},i.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=t.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Ou(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},i.syncClientServerClock_=function(t){var e=this,n=ws(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:Su(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(i,r){if(e.request){if(i)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o;o="HEAD"===n.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=o-Date.now(),t()}})))},i.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},i.updateMinimumUpdatePeriodTimeout_=function(){var e=this;t.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=function(n){e.minimumUpdatePeriodTimeout_=t.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),n)},i=this.master&&this.master.minimumUpdatePeriod;i>0?n(i):0===i&&(this.media()?n(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){n(1e3*e.media().targetDuration)})))},i.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},i.updateMainManifest_=function(t){if(this.master=t,this.master.locations&&this.master.locations.length){var e=this.master.locations[0];e!==this.srcUrl&&(this.srcUrl=e)}},i.refreshXml_=function(){var t=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText,t.sidxMapping_=function(t,e,n,i){var r=bs(t,{manifestUri:e,clientOffset:n}),o=wl(r.playlists,i);return Au(r,(function(t,e,n,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=vl(o,wl(a,i))}})),o}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var i=yl({masterXml:t.masterXml_,srcUrl:t.srcUrl,clientOffset:t.clientOffset_,sidxMapping:t.sidxMapping_}),r=_l(t.master,i),o=t.media().sidx;if(r)if(o){var a=bl(o);if(!t.sidxMapping_[a]){var s=t.media();t.request=Tl(t,s.sidx,s,t.vhs_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,i,t.state,(function(e,n){if(!e||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=n,t.updateMinimumUpdatePeriodTimeout_(),t.refreshMedia_(t.media().id)})))}}else t.updateMainManifest_(r),t.media_&&(t.media_=t.master.playlists[t.media_.id]);t.updateMinimumUpdatePeriodTimeout_()}}))},i.refreshMedia_=function(e){var n,i,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(n=this.masterPlaylistLoader_.master,i=yl({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(n=this.master,i=yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=_l(n,i);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=n.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=t.setTimeout((function(){r.trigger("mediaupdatetimeout")}),Du(this.media(),!!o))),this.trigger("loadedplaylist")},n}(ml),Ol={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},El=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},Pl=[],Cl=function(t){var e=t.transmuxer,n=t.bytes,i=t.audioAppendStart,r=t.gopsToAlignWith,o=t.isPartial,a=t.remux,s=t.onData,u=t.onTrackInfo,l=t.onAudioTimingInfo,c=t.onVideoTimingInfo,d=t.onVideoSegmentTimingInfo,f=t.onId3,h=t.onCaptions,p=t.onDone,g={isPartial:o,buffer:[]};if(e.onmessage=function(t){fu&&("data"===t.data.action&&function(t,e,n){var i=t.data.segment,r=i.type,o=i.initSegment,a=i.captions,s=i.captionStreams,u=i.metadata,l=i.videoFrameDtsTime,c=i.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:s,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},f={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(f.videoFrameDtsTime=l),void 0!==c&&(f.videoFramePtsTime=c),n(f)}(t,g,s),"trackinfo"===t.data.action&&u(t.data.trackInfo),"gopInfo"===t.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(t,g),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&d(t.data.videoSegmentTimingInfo),"id3Frame"===t.data.action&&f([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&h(t.data.caption),"transmuxed"===t.data.type&&(e.onmessage=null,function(t){var e=t.transmuxedData,n=t.callback;e.buffer=[],n(e)}({transmuxedData:g,callback:p}),Al()))},i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&e.postMessage({action:"setRemux",remux:a}),n.byteLength){var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:m,byteOffset:v,byteLength:n.byteLength},[m])}e.postMessage({action:o?"partialFlush":"flush"})},Al=function(){fu=null,Pl.length&&("function"==typeof(fu=Pl.shift())?fu():Cl(fu))},xl=function(t,e){t.postMessage({action:e}),Al()},Il=function(t,e){if(!fu)return fu=t,void xl(e,t);Pl.push(xl.bind(null,e,t))},kl=function(t){if(!fu)return fu=t,void Cl(t);Pl.push(t)},Ml=function(t){Il("reset",t)},Rl=function(){fu=null,Pl.length=0},Nl=function(t){Il("endTimeline",t)},Dl=2,Ll=-101,jl=-102,Fl=function(t){t.forEach((function(t){t.abort()}))},Vl=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Ll,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:jl,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Dl,xhr:e}:null},Bl=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=e.map&&e.map.tracks||{},f=Boolean(d.audio&&d.video),h=o.bind(null,e,"audio","start"),p=o.bind(null,e,"audio","end"),g=o.bind(null,e,"video","start"),m=o.bind(null,e,"video","end");if(!i&&!e.lastReachedChar){var v=function(t,e){var n=eu(t,e*qs);if(!n)return null;var i={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1};return i.hasVideo&&(i.videoStart=n.video[0].ptsTime),i.hasAudio&&(i.audioStart=n.audio[0].ptsTime),i}(n,e.baseStartTime);v&&(r(e,{hasAudio:v.hasAudio,hasVideo:v.hasVideo,isMuxed:f}),r=null,v.hasAudio&&!f&&h(v.audioStart),v.hasVideo&&g(v.videoStart),h=null,g=null)}kl({bytes:n,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,isPartial:i,remux:f,onData:function(t){t.type="combined"===t.type?"video":t.type,l(e,t)},onTrackInfo:function(t){r&&(f&&(t.isMuxed=!0),r(e,t))},onAudioTimingInfo:function(t){h&&void 0!==t.start&&(h(t.start),h=null),p&&void 0!==t.end&&p(t.end)},onVideoTimingInfo:function(t){g&&void 0!==t.start&&(g(t.start),g=null),m&&void 0!==t.end&&m(t.end)},onVideoSegmentTimingInfo:function(t){a(t)},onId3:function(t,n){s(e,t,n)},onCaptions:function(t){u(e,[t])},onDone:function(t){c&&!i&&(t.type="combined"===t.type?"video":t.type,c(null,e,t))}})},Ul=function(t){var e=t.segment,n=t.bytes,i=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=new Uint8Array(n);if(Ps(d)){e.isFmp4=!0;var f=e.map.tracks,h={isFmp4:!0,hasVideo:!!f.video,hasAudio:!!f.audio};f.audio&&f.audio.codec&&"enca"!==f.audio.codec&&(h.audioCodec=f.audio.codec),f.video&&f.video.codec&&"encv"!==f.video.codec&&(h.videoCodec=f.video.codec),f.video&&f.audio&&(h.isMuxed=!0),r(e,h);var p=lu(e.map.timescales,d);h.hasAudio&&!h.isMuxed&&o(e,"audio","start",p),h.hasVideo&&o(e,"video","start",p);var g=function(t){l(e,{data:n,type:h.hasAudio&&!h.isMuxed?"audio":"video"}),t&&t.length&&u(e,t),c(null,e,{})};if(!f.video||!n.byteLength||!e.transmuxer)return void g();var m=n instanceof ArrayBuffer?n:n.buffer,v=n instanceof ArrayBuffer?0:n.byteOffset;return e.transmuxer.addEventListener("message",(function t(i){if("mp4Captions"===i.data.action){e.transmuxer.removeEventListener("message",t);var r=i.data.data;e.bytes=n=new Uint8Array(r,r.byteOffset||0,r.byteLength),g(i.data.captions)}})),void e.transmuxer.postMessage({action:"pushMp4Captions",timescales:e.map.timescales,trackIds:[f.video.id],data:m,byteOffset:v,byteLength:n.byteLength},[m])}if(e.transmuxer){if(void 0===e.container&&(e.container=Os(d)),"ts"!==e.container&&"aac"!==e.container)return r(e,{hasAudio:!1,hasVideo:!1}),void c(null,e,{});Bl({segment:e,bytes:n,isPartial:i,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}else c(null,e,{})},Hl=function(t){var e=t.activeXhrs,n=t.decryptionWorker,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.doneFn,c=0,d=!1;return function(t,f){if(!d){if(t)return d=!0,Fl(e),l(t,f);if((c+=1)===e.length){if(f.endOfAllRequests=Date.now(),f.encryptedBytes)return function(t){var e,n=t.decryptionWorker,i=t.segment,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn;n.addEventListener("message",(function t(e){if(e.data.source===i.requestId){n.removeEventListener("message",t);var d=e.data.decrypted;i.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),Ul({segment:i,bytes:i.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}})),e=i.key.bytes.slice?i.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(i.key.bytes)),n.postMessage(ul({source:i.requestId,encrypted:i.encryptedBytes,key:e,iv:i.key.iv}),[i.encryptedBytes.buffer,e.buffer])}({decryptionWorker:n,segment:f,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l});Ul({segment:f,bytes:f.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l})}}}},Gl=function(t){var e=t.segment,n=t.progressFn,i=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.handlePartialData;return function(t){var c=t.target;if(!c.aborted){if(l&&!e.key&&c.responseText&&c.responseText.length>=8){var d=El(c.responseText.substring(e.lastReachedChar||0));!e.lastReachedChar&&Ps(new Uint8Array(d))||(e.lastReachedChar=c.responseText.length,Ul({segment:e,bytes:d,isPartial:!0,trackInfoFn:i,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u}))}return e.stats=Qr.mergeOptions(e.stats,function(t){var e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),n(t,e)}}},Wl=function(t){var e=t.xhr,n=t.xhrOptions,i=t.decryptionWorker,r=t.segment,o=t.abortFn,a=t.progressFn,s=t.trackInfoFn,u=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,f=t.dataFn,h=t.doneFn,p=t.handlePartialData,g=[],m=Hl({activeXhrs:g,decryptionWorker:i,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:f,doneFn:h});if(r.key&&!r.key.bytes){var v=e(Qr.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(n,i){var r=i.response,o=Vl(n,i);if(o)return e(o,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:Dl,xhr:i},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,m));g.push(v)}if(r.map&&!r.map.bytes){var y=e(Qr.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:rl(r.map)}),function(t){var e=t.segment,n=t.finishProcessingFn;return function(t,i){var r=i.response,o=Vl(t,i);if(o)return n(o,e);if(0===r.byteLength)return n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Dl,xhr:i},e);e.map.bytes=new Uint8Array(i.response);var a=Os(e.map.bytes);return"mp4"!==a?n({status:i.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+i.uri,code:Dl,internal:!0,xhr:i},e):(cu(e.map.bytes).forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),n(null,e))}}({segment:r,finishProcessingFn:m}));g.push(y)}var _=Qr.mergeOptions(n,{uri:r.resolvedUri,responseType:"arraybuffer",headers:rl(r)});p&&(_.responseType="text",_.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")});var b=e(_,function(t){var e=t.segment,n=t.finishProcessingFn,i=t.responseType;return function(t,r){var o=r.response,a=Vl(t,r);if(a)return n(a,e);var s="arraybuffer"!==i&&r.responseText?El(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===o.byteLength?n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Dl,xhr:r},e):(e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),n(null,e))}}({segment:r,finishProcessingFn:m,responseType:_.responseType}));b.addEventListener("progress",Gl({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:f,handlePartialData:p})),g.push(b);var w={};return g.forEach((function(t){t.addEventListener("loadend",function(t){var e=t.loadendState,n=t.abortFn;return function(t){t.target.aborted&&n&&!e.calledAbortFn&&(n(),e.calledAbortFn=!0)}}({loadendState:w,abortFn:o}))})),function(){return Fl(g)}},zl="undefined"!=typeof window?window:{},$l="undefined"==typeof Symbol?"__target":Symbol(),ql=zl.BlobBuilder||zl.WebKitBlobBuilder||zl.MozBlobBuilder||zl.MSBlobBuilder,Yl=zl.URL||zl.webkitURL||Yl&&Yl.msURL,Kl=zl.Worker;function Xl(t,e){return function(n){var i=this;if(!e)return new Kl(t);if(Kl&&!n){var r=tc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[$l]=new Kl(r),function(t,e){if(t&&e){var n=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Yl.revokeObjectURL(t.objURL),n.call(t)}}}(this[$l],r),this[$l]}var o={postMessage:function(t){i.onmessage&&setTimeout((function(){i.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:i})}))},this.isThisThread=!0}}if(Kl){var Jl,Zl=tc("self.onmessage = function () {}"),Ql=new Uint8Array(1);try{(Jl=new Kl(Zl)).postMessage(Ql,[Ql.buffer])}catch(t){Kl=null}finally{Yl.revokeObjectURL(Zl),Jl&&Jl.terminate()}}function tc(t){try{return Yl.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(n){var e=new ql;return e.append(t),Yl.createObjectURL(e.getBlob(type))}}var ec=new Xl("./transmuxer-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){var t=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,o;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,o)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,i,r,o,a,s,u,l,c,d,f,h,p,g,m,v,y,_,b,w,T,S,O,E,P,C,A,x,I,k,M,R,N,D,L,j,F,V,B,U,H=t,G=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);O=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),x={video:C,audio:A},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),N=R,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L=R,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,n,i=[],r=0;for(e=1;e<arguments.length;e++)i.push(arguments[e]);for(e=i.length;e--;)r+=i[e].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(t,4),e=0,r=8;e<i.length;e++)n.set(i[e],r),r+=i[e].byteLength;return n},i=function(){return e(S.dinf,e(S.dref,M))},r=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},m=function(t){return e(S.hdlr,x[t])},g=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(S.mdhd,n)},p=function(t){return e(S.mdia,g(t),m(t.type),s(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,I):e(S.smhd,k),i(),y(t))},u=function(t,n){for(var i=[],r=n.length;r--;)i[r]=b(n[r]);return e.apply(null,[S.moof,a(t)].concat(i))},l=function(t){for(var n=t.length,i=[];n--;)i[n]=f(t[n]);return e.apply(null,[S.moov,d(4294967295)].concat(i).concat(c(t)))},c=function(t){for(var n=t.length,i=[];n--;)i[n]=w(t[n]);return e.apply(null,[S.mvex].concat(i))},d=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,n)},v=function(t){var n,i,r=t.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,o[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(S.sdtp,o)},y=function(t){return e(S.stbl,_(t),e(S.stts,L),e(S.stsc,N),e(S.stsz,D),e(S.stco,R))},_=function(t){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?j(t):F(t))},j=function(t){var n,i,r=t.sps||[],o=t.pps||[],a=[],s=[];for(n=0;n<r.length;n++)a.push((65280&r[n].byteLength)>>>8),a.push(255&r[n].byteLength),a=a.concat(Array.prototype.slice.call(r[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[o.length],s))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],l=t.sarRatio[1];i.push(e(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return e.apply(null,i)},F=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},h=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,n)},b=function(t){var n,i,r,o,a,s;return n=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(G+1)),s=Math.floor(t.baseMediaDecodeTime%(G+1)),i=e(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(r=T(t,92),e(S.traf,n,i,r)):(o=v(t),r=T(t,o.length+92),e(S.traf,n,i,r,o))},f=function(t){return t.duration=t.duration||4294967295,e(S.trak,h(t),p(t))},w=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(S.trex,n)},U=function(t,e){var n=0,i=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,n|i|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},B=function(t,n){var i,r,o,a,s,u;for(n+=20+16*(a=t.samples||[]).length,o=U(a,n),(r=new Uint8Array(o.length+16*a.length)).set(o),i=o.length,u=0;u<a.length;u++)s=a[u],r[i++]=(4278190080&s.duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size,r[i++]=s.flags.isLeading<<2|s.flags.dependsOn,r[i++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[i++]=61440&s.flags.degradationPriority,r[i++]=15&s.flags.degradationPriority,r[i++]=(4278190080&s.compositionTimeOffset)>>>24,r[i++]=(16711680&s.compositionTimeOffset)>>>16,r[i++]=(65280&s.compositionTimeOffset)>>>8,r[i++]=255&s.compositionTimeOffset;return e(S.trun,r)},V=function(t,n){var i,r,o,a,s,u;for(n+=20+8*(a=t.samples||[]).length,o=U(a,n),(i=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],i[r++]=(4278190080&s.duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size;return e(S.trun,i)},T=function(t,e){return"audio"===t.type?V(t,e):B(t,e)},o=function(){return e(S.ftyp,O,E,O,P)};var W,z,$,q,Y,K,X,J,Z=function(t){return e(S.mdat,t)},Q=u,tt=function(t){var e,n=o(),i=l(t);return(e=new Uint8Array(n.byteLength+i.byteLength)).set(n),e.set(i,n.byteLength),e},et=function(t,e){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=e,n.compositionTimeOffset=t.pts-t.dts,n.duration=t.duration,n.size=4*t.length,n.size+=t.byteLength,t.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},nt=function(t){var e,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(n=t[e]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},it=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(n=t[e]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ot=function(t,e){var n,i,r,o,a,s=e||0,u=[];for(n=0;n<t.length;n++)for(o=t[n],i=0;i<o.length;i++)a=o[i],s+=(r=et(a,s)).size,u.push(r);return u},at=function(t){var e,n,i,r,o,a,s=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(o=r[n],i=0;i<o.length;i++)a=o[i],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},st=function(t,e){var n,i=[];return n=et(t,e||0),i.push(n),i},ut=function(t){var e,n,i=0,r=t.byteLength,o=t.length,a=new Uint8Array(r+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)n=t[e],s.setUint32(i,n.data.byteLength),i+=4,a.set(n.data,i),i+=n.data.byteLength;return a},lt=[33,16,5,32,164,27],ct=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){for(var e=[];t--;)e.push(0);return e},ft=function(){if(!W){var t={96e3:[lt,[227,64],dt(154),[56]],88200:[lt,[231],dt(170),[56]],64e3:[lt,[248,192],dt(240),[56]],48e3:[lt,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[lt,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[lt,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ct,dt(268),[3,121,16],dt(47),[7]]};e=t,W=Object.keys(e).reduce((function(t,n){return t[n]=new Uint8Array(e[n].reduce((function(t,e){return t.concat(e)}),[])),t}),{})}var e;return W};K=function(t,e){return z(Y(t,e))},X=function(t,e){return $(q(t),e)},J=function(t,e,n){return q(n?t:t-e)};var ht=9e4,pt=($=function(t,e){return t*e},q=function(t){return t/9e4}),gt=(Y=function(t,e){return t/e},K),mt=X,vt=J,yt=z=function(t){return 9e4*t},_t=pt,bt=function(t,e,n,i){var r,o,a,s,u,l=0,c=0,d=0;if(e.length&&(r=gt(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(ht/(t.samplerate/1024)),n&&i&&(l=r-Math.max(n,i),d=(c=Math.floor(l/o))*o),!(c<1||d>ht/2))){for((a=ft()[t.samplerate])||(a=e[0].data),s=0;s<c;s++)u=e[0],e.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});t.baseMediaDecodeTime-=Math.floor(mt(d,t.samplerate))}},wt=function(t,e,n){return e.minSegmentDts>=n?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=n&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},Tt=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},St=function(t){var e,n,i=0,r=new Uint8Array(function(t){var e,n=0;for(e=0;e<t.length;e++)n+=t[e].data.byteLength;return n}(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r},Ot=ht,Et=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},Pt=function(t,e){var n,i=t.minSegmentDts;return e||(i-=t.timelineStartInfo.dts),n=t.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===t.type&&(n*=t.samplerate/Ot,n=Math.floor(n)),n},Ct=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},At=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},i=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)i+=255,e++;for(i+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!n.payload&&4===i){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){n.payloadType=i,n.payloadSize=r,n.payload=t.subarray(e,e+r);break}n.payload=void 0}e+=r,i=0,r=0}return n},xt=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},It=function(t,e){var n,i,r,o,a=[];if(!(64&e[0]))return a;for(i=31&e[0],n=0;n<i;n++)o={type:3&e[2+(r=3*n)],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},kt=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},Mt=4,Rt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ft(0,0),new Ft(0,1),new Ft(1,0),new Ft(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(Rt.prototype=new H).push=function(t){var e,n,i;if("sei_rbsp"===t.nalUnitType&&(e=At(t.escapedRBSP)).payloadType===Mt&&(n=xt(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=It(t.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Rt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},Rt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},Rt.prototype.flush=function(){return this.flushStream("flush")},Rt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Rt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},Rt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Rt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Rt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},Rt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var Nt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Dt=function(t){return null===t?"":(t=Nt[t]||t,String.fromCharCode(t))},Lt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],jt=function(){for(var t=[],e=15;e--;)t.push("");return t},Ft=function t(e,n){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=jt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=jt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=jt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(i,r))o=Dt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Dt((i=(3&i)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var a=Lt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),o=Dt(i),o+=Dt(r),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ft.prototype=new H,Ft.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Ft.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=jt(),this.nonDisplayed_=jt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ft.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ft.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Ft.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Ft.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Ft.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Ft.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Ft.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Ft.prototype.isNormalChar=function(t){return t>=32&&t<=127},Ft.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=jt(),this.displayed_=jt()),void 0!==e&&e!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[e-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Ft.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,n)},Ft.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Ft.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},Ft.prototype.rollUp=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n},Ft.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Ft.prototype.paintOn=function(t,e){var n=this.displayed_[this.row_];n+=e,this.displayed_[this.row_]=n};var Vt={CaptionStream:Rt,Cea608Stream:Ft},Bt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ut=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t},Ht=function t(e){var n,i;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===i&&(i=t.dts),t.dts=Ut(t.dts,i),t.pts=Ut(t.pts,i),n=t.dts,this.trigger("data",t))},this.flush=function(){i=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ht.prototype=new H;var Gt,Wt=Ht,zt=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},$t=function(t,e,n){return decodeURIComponent(zt(t,e,n))},qt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Yt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.value=$t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.url=$t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,n;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(n=t.data,unescape(zt(n,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Gt=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},i=0,r=[],o=0;if(Gt.prototype.init.call(this),this.dispatchType=Bt.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),o+=t.data.byteLength,1===r.length&&(i=qt(t.data.subarray(6,10)),i+=10),!(o<i)){for(e={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)e.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=qt(e.data.subarray(10,14)),i-=qt(e.data.subarray(16,20)));do{if((s=qt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+s+10)}).key=u.id,Yt[u.id]&&(Yt[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<i);this.trigger("data",e)}}}).prototype=new H;var Kt,Xt,Jt,Zt=Gt,Qt=Wt;(Kt=function(){var t=new Uint8Array(188),e=0;Kt.prototype.init.call(this),this.push=function(n){var i,r=0,o=188;for(e?((i=new Uint8Array(n.byteLength+e)).set(t.subarray(0,e)),i.set(n,e),e=0):i=n;o<i.byteLength;)71!==i[r]||71!==i[o]?(r++,o++):(this.trigger("data",i.subarray(r,o)),r+=188,o+=188);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new H,(Xt=function(){var t,e,n,i;Xt.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<n;){var o=t[r],a=(31&t[r+1])<<8|t[r+2];o===Bt.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=a:o===Bt.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=a:o===Bt.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][a]=o),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=Bt.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Bt.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}}).prototype=new H,Xt.STREAM_TYPES={h264:27,adts:15},(Jt=function(){var t,e=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(t,n,i){var r,o,a=new Uint8Array(t.size),s={type:n},u=0,l=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;var c,d,f;c=a,(d=s).packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(f=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&f&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8]),r="video"===n||s.packetLength<=t.size,(i||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};Jt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Bt.H264_STREAM_TYPE:t=n,e="video";break;case Bt.ADTS_STREAM_TYPE:t=i,e="audio";break;case Bt.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(i,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var te={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Kt,TransportParseStream:Xt,ElementaryStream:Jt,TimestampRolloverStream:Qt,CaptionStream:Vt.CaptionStream,Cea608Stream:Vt.Cea608Stream,MetadataStream:Zt};for(var ee in Bt)Bt.hasOwnProperty(ee)&&(te[ee]=Bt[ee]);var ne,ie=te,re=ht,oe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(ne=function(t){var e,n=0;ne.prototype.init.call(this),this.push=function(i){var r,o,a,s,u,l,c=0;if(t||(n=0),"audio"===i.type)for(e?(s=e,(e=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),e.set(i.data,s.byteLength)):e=i.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(o=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=(u=1024*(1+(3&e[c+6])))*re/oe[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:u,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:oe[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+o,a)}),n++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ae,se,ue,le=ne,ce=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),n=new DataView(o.buffer).getUint32(0),i=8*a,e-=a},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),o=n>>>32-r;return(i-=r)>0?n<<=r:e>0&&this.loadWord(),(r=t-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!=(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(se=function(){var t,e,n=0;se.prototype.init.call(this),this.push=function(i){var r;e?((r=new Uint8Array(e.byteLength+i.data.byteLength)).set(e),r.set(i.data,e.byteLength),e=r):e=i.data;for(var o=e.byteLength;n<o-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do{t++}while(1!==e[t]&&t<o);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.reset=function(){e=null,n=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,ue={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ae=function(){var t,e,n,i,r,o,a,s=new se;ae.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,i=t.dts,s.push(t))},s.on("data",(function(a){var s={trackId:e,pts:n,dts:i,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)})),s.on("done",(function(){t.trigger("done")})),s.on("partialdone",(function(){t.trigger("partialdone")})),s.on("reset",(function(){t.trigger("reset")})),s.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(t,e){var n,i=8,r=8;for(n=0;n<t;n++)0!==r&&(r=(i+e.readExpGolomb()+256)%256),i=0===r?i:r},r=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},o=function(t){var e,n,i,r,o,s,u,l,c,d,f,h,p,g=0,m=0,v=0,y=0,_=1;if(n=(e=new ce(t)).readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ue[n]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(f=3!==o?8:12,p=0;p<f;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}h&&(_=h[0]/h[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*_),height:(2-d)*(c+1)*16-2*v-2*y,sarRatio:h}}}).prototype=new H;var de,fe={H264Stream:ae,NalByteStream:se},he=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return n=n>=0?n:0,(16&t[e+5])>>4?n+20:n+10},pe=function(t){var e=function t(e,n){return e.length-n<10||e[n]!=="I".charCodeAt(0)||e[n+1]!=="D".charCodeAt(0)||e[n+2]!=="3".charCodeAt(0)?n:t(e,n+=he(e,n))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},ge=he,me=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3;return 6144&t[e+3]|i|n};(de=function(){var t=new Uint8Array,e=0;de.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(n){var i,r,o,a,s=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(n.byteLength+a)).set(t.subarray(0,a)),t.set(n,a)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=me(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else{if(t.length-u<10)break;if(u+(s=ge(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var ve,ye,_e,be,we=de,Te=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Se=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Oe=fe.H264Stream,Ee=pe,Pe=ht,Ce=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},Ae=function(t,e,n,i,r,o){return{start:{dts:t,pts:t+(n-e)},end:{dts:t+(i-e),pts:t+(r-n)},prependedContentDuration:o,baseMediaDecodeTime:t}};(ye=function(t,e){var n=[],i=0,r=0,o=0,a=1/0;e=e||{},ye.prototype.init.call(this),this.push=function(e){Ct(t,e),t&&Te.forEach((function(n){t[n]=e[n]})),n.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var s,u,l,c,d;0!==n.length?(s=wt(n,t,r),t.baseMediaDecodeTime=Pt(t,e.keepOriginalTimestamps),bt(t,s,o,a),t.samples=Tt(s),l=Z(St(s)),n=[],u=Q(i,[t]),c=new Uint8Array(u.byteLength+l.byteLength),i++,c.set(u),c.set(l,u.byteLength),Et(t),d=Math.ceil(1024*Pe/t.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Et(t),n=[],this.trigger("reset")}}).prototype=new H,(ve=function(t,e){var n,i,r=0,o=[],a=[];e=e||{},ve.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){Ct(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],Se.forEach((function(e){t[e]=n[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,s,u,l,c,d,f,h=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=nt(o),(s=it(n))[0][0].keyFrame||((i=this.getGopForFusion_(o[0],t))?(h=i.duration,s.unshift(i),s.byteLength+=i.byteLength,s.nalCount+=i.nalCount,s.pts=i.pts,s.dts=i.dts,s.duration+=i.duration):s=rt(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Et(t),s=p}Ct(t,s),t.samples=ot(s),l=Z(at(s)),t.baseMediaDecodeTime=Pt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),d=s[0],f=s[s.length-1],this.trigger("segmentTimingInfo",Ae(t.baseMediaDecodeTime,d.dts,d.pts,f.dts+f.duration,f.pts+f.duration,h)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=Q(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Et(t),n=void 0,i=void 0},this.getGopForFusion_=function(e){var n,i,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,t.pps&&Ce(t.pps[0],o.pps[0])&&t.sps&&Ce(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||s>n)&&(i=o,s=n));return i?i.gop:null},this.alignGopsAtStart_=function(t){var e,n,i,r,o,s,u,l;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=n=0;e<a.length&&n<t.length&&(i=a[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===n?t:n===t.length?null:((l=t.slice(n)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,o,s,u;for(e=a.length-1,n=t.length-1,o=null,s=!1;e>=0&&n>=0;){if(i=a[e],r=t[n],i.pts===r.pts){s=!0;break}i.pts>r.pts?e--:(e===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(u=s?n:o))return t;var l=t.slice(u),c=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}}).prototype=new H,(be=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,be.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new H,be.prototype.flush=function(t){var e,n,i,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Se.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,Te.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,i=tt(this.pendingTracks),a.initSegment=new Uint8Array(i.byteLength),a.initSegment.set(i),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=vt(e.startPts,s,this.keepOriginalTimestamps),e.endTime=vt(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=vt(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)n=a.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},be.prototype.setRemux=function(t){this.remuxTracks=t},(_e=function(t){var e,n,i=this,r=!0;_e.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ie.MetadataStream,r.aacStream=new we,r.audioTimestampRolloverStream=new ie.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ie.TimestampRolloverStream("timed-metadata"),r.adtsStream=new le,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ie.MetadataStream,r.packetStream=new ie.TransportPacketStream,r.parseStream=new ie.TransportParseStream,r.elementaryStream=new ie.ElementaryStream,r.timestampRolloverStream=new ie.TimestampRolloverStream,r.adtsStream=new le,r.h264Stream=new Oe,r.captionStream=new ie.CaptionStream,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(e=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ve(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){n&&!t.keepOriginalTimestamps&&(n.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-i.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(n,t),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Et(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Et(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var n=this.transmuxPipeline_;t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Ee(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var xe={Transmuxer:_e,VideoSegmentStream:ve,AudioSegmentStream:ye,AUDIO_PROPERTIES:Te,VIDEO_PROPERTIES:Se,generateVideoSegmentTimingInfo:Ae}.Transmuxer,Ie={Adts:le,h264:fe},ke=ht,Me=function t(e,n){var i=[],r=0,o=0,a=0,s=1/0,u=null,l=null;n=n||{},t.prototype.init.call(this),this.push=function(t){Ct(e,t),e&&Te.forEach((function(n){e[n]=t[n]})),i.push(t)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.processFrames_=function(){var t,c,d,f,h;0!==i.length&&0!==(t=wt(i,e,o)).length&&(e.baseMediaDecodeTime=Pt(e,n.keepOriginalTimestamps),bt(e,t,a,s),e.samples=Tt(t),d=Z(St(t)),i=[],c=Q(r,[e]),r++,e.initSegment=tt([e]),(f=new Uint8Array(c.byteLength+d.byteLength)).set(c),f.set(d,c.byteLength),Et(e),null===u&&(l=u=t[0].pts),l+=t.length*(1024*ke/e.samplerate),h={start:u},this.trigger("timingInfo",h),this.trigger("data",{track:e,boxes:f}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:u,end:l}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Et(e),u=null,l=null},this.reset=function(){this.resetTiming_(),i=[],this.trigger("reset")}};Me.prototype=new H;var Re=Me,Ne=function t(e,n){var i,r,o,a=0,s=[],u=[],l=null,c=null,d=!0;n=n||{},t.prototype.init.call(this),this.push=function(t){Ct(e,t),void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Se.forEach((function(t){e[t]=i[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.processNals_=function(t){var i;for(s=u.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var r=nt(s);if(r.length)if(u=r[r.length-1],t&&(r.pop(),r.duration-=u.duration,r.nalCount-=u.length,r.byteLength-=u.byteLength),r.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),d){if(!(o=it(r))[0][0].keyFrame){if(!(o=rt(o))[0][0].keyFrame)return s=[].concat.apply([],r).concat(u),void(u=[]);(r=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===l&&(l=r[0].pts,c=l),c+=r.duration,this.trigger("timingInfo",{start:l,end:c}),i=0;i<r.length;i++){var f=r[i];e.samples=st(f);var h=Z(ut(f));Et(e),Ct(e,f),e.baseMediaDecodeTime=Pt(e,n.keepOriginalTimestamps);var p=Q(a,[e]);a++,e.initSegment=tt([e]);var g=new Uint8Array(p.byteLength+h.byteLength);g.set(p),g.set(h,p.byteLength),this.trigger("data",{track:e,boxes:g,sequence:a,videoFrameDts:f.dts,videoFramePts:f.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){i=void 0,r=void 0,l=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),u=[],s=[],d=!0,this.trigger("reset")}};Ne.prototype=new H;var De=Ne,Le=pe,je=function(t){return t.prototype=new H,t.prototype.init.call(t),t},Fe=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(n){n.dispatchType=t.metadataStream.dispatchType,n.cueTime=pt(n.pts),e.trigger("id3Frame",n)})),t.on("caption",(function(t){e.trigger("caption",t)}))},Ve=function t(e){var n=null,i=!0;e=e||{},t.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(t){if(i){var r=Le(t);!r||n&&"aac"===n.type?r||n&&"ts"===n.type||(n=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new ie.TransportPacketStream,parse:new ie.TransportParseStream,elementary:new ie.ElementaryStream,timestampRollover:new ie.TimestampRolloverStream,adts:new Ie.Adts,h264:new Ie.h264.H264Stream,captionStream:new ie.CaptionStream,metadataStream:new ie.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(n){if("metadata"===n.type){for(var i=0;i<n.tracks.length;i++)e.tracks[n.tracks[i].type]||(e.tracks[n.tracks[i].type]=n.tracks[i],e.tracks[n.tracks[i].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new De(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(n){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(n.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new Re(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(n){var i;i=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,n.startTime=vt(n.startPts,i,t.keepOriginalTimestamps),n.endTime=vt(n.endPts,i,t.keepOriginalTimestamps),e.trigger("caption",n)})),(e=je(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)):(n=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new ie.MetadataStream,aacStream:new we,audioRollover:new ie.TimestampRolloverStream("audio"),timedMetadataRollover:new ie.TimestampRolloverStream("timed-metadata"),adtsStream:new le(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new Re(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=je(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Fe(n,this)),i=!1}n.headOfPipeline.push(t)},this.flush=function(){n&&(i=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(t){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=t),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Et(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Et(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(t){e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.setAudioAppendStart=function(t){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};Ve.prototype=new H;var Be=Ve,Ue=function(t){return t>>>0},He=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},Ge=Ue,We=function t(e,n){var i,r,o,a,s,u=[];if(!n.length)return null;for(i=0;i<e.byteLength;)r=Ge(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),o=He(e.subarray(i+4,i+8)),a=r>1?i+r:e.byteLength,o===n[0]&&(1===n.length?u.push(e.subarray(i+8,a)):(s=t(e.subarray(i+8,a),n.slice(1))).length&&(u=u.concat(s))),i=a;return u},ze=Ue,$e=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:ze(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=ze(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},qe=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Ye=function(t){var e,n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},i=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],c=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),o&&c&&(e={flags:qe(t.subarray(d,d+4))},d+=4,a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e),c--);c--;)e={},a&&(e.duration=i.getUint32(d),d+=4),s&&(e.size=i.getUint32(d),d+=4),u&&(e.flags=qe(t.subarray(d,d+4)),d+=4),l&&(1===n.version?e.compositionTimeOffset=i.getInt32(d):e.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(e);return n},Ke=function(t){var e,n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],o=2&i.flags[2],a=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],l=65536&i.flags[0],c=131072&i.flags[0];return e=8,r&&(e+=4,i.baseDataOffset=n.getUint32(12),e+=4),o&&(i.sampleDescriptionIndex=n.getUint32(e),e+=4),a&&(i.defaultSampleDuration=n.getUint32(e),e+=4),s&&(i.defaultSampleSize=n.getUint32(e),e+=4),u&&(i.defaultSampleFlags=n.getUint32(e)),l&&(i.durationIsEmpty=!0),!r&&c&&(i.baseDataOffsetIsMoof=!0),i},Xe=kt,Je=Vt.CaptionStream,Ze=function(t,e){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(n<r.size)return r;n-=r.size}return null},Qe=function(t,e){var n=We(t,["moof","traf"]),i=We(t,["mdat"]),r={},o=[];return i.forEach((function(t,e){var i=n[e];o.push({mdat:t,traf:i})})),o.forEach((function(t){var n,i=t.mdat,o=t.traf,a=We(o,["tfhd"]),s=Ke(a[0]),u=s.trackId,l=We(o,["tfdt"]),c=l.length>0?$e(l[0]).baseMediaDecodeTime:0,d=We(o,["trun"]);e===u&&d.length>0&&(n=function(t,e,n){var i,r,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+o),c=Ze(r,e);if(i={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:Xe(l),trackId:n},c)i.pts=c.pts,i.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}i.pts=a.pts,i.dts=a.dts}u.push(i)}return u}(i,function(t,e,n){var i=e,r=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return t.forEach((function(t){var e=Ye(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=i,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=i+t.compositionTimeOffset,i+=t.duration})),s=s.concat(e)})),s}(d,c,s),u),r[u]||(r[u]=[]),r[u]=r[u].concat(n))})),r},tn=function(){var t,e,n,i,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new Je,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/i,t.endTime=t.endPts/i,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||n===t[0]&&i===e[n])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],i=a[n];else if(null===n||!i)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=function(t,e,n){return null===e?null:{seiNals:Qe(t,e)[e],timescale:n}}(t,n,i))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},en=function(t){return"AudioSegmentStream"===t?"audio":"VideoSegmentStream"===t?"video":""},nn=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Be(this.options):new xe(this.options),this.options.handlePartialData?function(t,e){e.on("data",(function(e){var n={data:e.data.track.initSegment.buffer,byteOffset:e.data.track.initSegment.byteOffset,byteLength:e.data.track.initSegment.byteLength},i={boxes:{data:e.data.boxes.buffer,byteOffset:e.data.boxes.byteOffset,byteLength:e.data.boxes.byteLength},initSegment:n,type:e.type,sequence:e.data.sequence};void 0!==e.data.videoFrameDts&&(i.videoFrameDtsTime=_t(e.data.videoFrameDts)),void 0!==e.data.videoFramePts&&(i.videoFramePtsTime=_t(e.data.videoFramePts)),t.postMessage({action:"data",segment:i},[i.boxes.data,i.initSegment.data])})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("done",(function(e){t.postMessage({action:"done",type:en(e)})})),e.on("partialdone",(function(e){t.postMessage({action:"partialdone",type:en(e)})})),e.on("endedsegment",(function(e){t.postMessage({action:"endedSegment",type:en(e)})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){if(null!==e.start){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else t.postMessage({action:"audioTimingInfo",audioTimingInfo:e})})),e.on("videoTimingInfo",(function(e){var n={start:_t(e.start)};e.end&&(n.end=_t(e.end)),t.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))}(this.self,this.transmuxer):function(t,e){e.on("data",(function(e){var n=e.initSegment;e.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var i=e.data;e.data=i.buffer,t.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var n={start:{decode:_t(e.start.dts),presentation:_t(e.start.pts)},end:{decode:_t(e.end.dts),presentation:_t(e.end.pts)},baseMediaDecodeTime:_t(e.baseMediaDecodeTime)};e.prependedContentDuration&&(n.prependedContentDuration=_t(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_t(e.start),end:_t(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_t(e.start),end:_t(e.end)}})}))}(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new tn,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),n=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:e.buffer},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(yt(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(yt(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),n.postMessage({action:"done",type:"transmuxed"})},e.partialFlush=function(t){this.transmuxer.partialFlush(),n.postMessage({action:"partialdone",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),n.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new nn(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new nn(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(n)}()})),nc=function(t,e){var n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},ic=function(t,e){var n=e.attributes||{},i=function(t){var e=t.attributes||{};if(e.CODECS)return wu(e.CODECS)}(e)||{};if(nc(t,e)&&!i.audio&&!function(t,e){if(!nc(t,e))return!0;var n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(var r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1}(t,e)){var r=mu(t,n.AUDIO);r&&(i.audio=r.audio)}var o={};return i.video&&(o.video=Tu(""+i.video.type+i.video.details)),i.audio&&(o.audio=Tu(""+i.audio.type+i.audio.details)),o},rc=function(t){return Qr.log.debug?Qr.log.debug.bind(Qr,"VHS:",t+" >"):function(){}},oc=rc("PlaylistSelector"),ac=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},sc=function(e,n){if(!e)return"";var i=t.getComputedStyle(e);return i?i[n]:""},uc=function(t,e){var n=t.slice();t.sort((function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r}))},lc=function(e,n){var i,r;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||t.Number.MAX_VALUE,n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),i-(r=r||t.Number.MAX_VALUE)},cc=function(e){var n=e.inbandTextTracks,i=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(i){var a=t.WebKitDataCue||t.VTTCue,s=n.metadataTrack_;if(s&&(i.forEach((function(e){var n=e.cueTime+r;!("number"!=typeof n||t.isNaN(n)||n<0)&&n<1/0&&e.frames.forEach((function(t){var e=new a(n,n,t.value||t.url||t.data||"");e.frame=t,e.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Qr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Qr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Qr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(e),s.addCue(e)}))})),s.cues&&s.cues.length)){for(var u=s.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce((function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t}),{}),f=Object.keys(d).sort((function(t,e){return Number(t)-Number(e)}));f.forEach((function(t,e){var n=d[t],i=Number(f[e+1])||o;n.forEach((function(t){t.endTime=i}))}))}}},dc=function(t,e,n){var i,r;if(n&&n.cues)for(i=n.cues.length;i--;)(r=n.cues[i]).startTime>=t&&r.endTime<=e&&n.removeCue(r)},fc=function(t){return"number"==typeof t&&isFinite(t)},hc=function(t){return t+"TimingInfo"},pc=function(t){var e=t.segmentTimeline,n=t.currentTimeline,i=t.startOfSegment,r=t.buffered;return t.overrideCheck||e!==n?r.length?r.end(r.length-1):i:null},gc=function(t){var e=t.timelineChangeController,n=t.currentTimeline,i=t.segmentTimeline,r=t.loaderType,o=t.audioDisabled;if(n===i)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==i}if("main"===r&&o){var s=e.pendingTimelineChange({type:"audio"});return!s||s.to!==i}return!1},mc=function(e){function n(t,n){var i;if(i=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return i.bandwidth=t.bandwidth,i.throughput={rate:0,count:0},i.roundTrip=NaN,i.resetStats_(),i.mediaIndex=null,i.hasPlayed_=t.hasPlayed,i.currentTime_=t.currentTime,i.seekable_=t.seekable,i.seeking_=t.seeking,i.duration_=t.duration,i.mediaSource_=t.mediaSource,i.vhs_=t.vhs,i.loaderType_=t.loaderType,i.currentMediaInfo_=void 0,i.startingMediaInfo_=void 0,i.segmentMetadataTrack_=t.segmentMetadataTrack,i.goalBufferLength_=t.goalBufferLength,i.sourceType_=t.sourceType,i.sourceUpdater_=t.sourceUpdater,i.inbandTextTracks_=t.inbandTextTracks,i.state_="INIT",i.handlePartialData_=t.handlePartialData,i.timelineChangeController_=t.timelineChangeController,i.shouldSaveSegmentTimingInfo_=!0,i.checkBufferTimeout_=null,i.error_=void 0,i.currentTimeline_=-1,i.pendingSegment_=null,i.xhrOptions_=null,i.pendingSegments_=[],i.audioDisabled_=!1,i.isPendingTimestampOffset_=!1,i.gopBuffer_=[],i.timeMapping_=0,i.safeAppend_=Qr.browser.IE_VERSION>=11,i.appendInitSegment_={audio:!0,video:!0},i.playlistOfLastInitSegment_={audio:null,video:null},i.callQueue_=[],i.loadQueue_=[],i.metadataQueue_={id3:[],caption:[]},i.activeInitSegmentId_=null,i.initSegments_={},i.cacheEncryptionKeys_=t.cacheEncryptionKeys,i.keyCache_={},i.decrypter_=t.decrypter,i.syncController_=t.syncController,i.syncPoint_={segmentIndex:0,time:0},i.transmuxer_=i.createTransmuxer_(),i.triggerSyncInfoUpdate_=function(){return i.trigger("syncinfoupdate")},i.syncController_.on("syncinfoupdate",i.triggerSyncInfoUpdate_),i.mediaSource_.addEventListener("sourceopen",(function(){i.isEndOfStream_()||(i.ended_=!1)})),i.fetchAtBuffer_=!1,i.logger_=rc("SegmentLoader["+i.loaderType_+"]"),Object.defineProperty(Vt(i),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),i.sourceUpdater_.on("ready",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"main"===i.loaderType_&&i.timelineChangeController_.on("pendingtimelinechange",(function(){i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),"audio"===i.loaderType_&&i.timelineChangeController_.on("timelinechange",(function(){i.hasEnoughInfoToLoad_()&&i.processLoadQueue_(),i.hasEnoughInfoToAppend_()&&i.processCallQueue_()})),i}Ut(n,e);var i=n.prototype;return i.createTransmuxer_=function(){var t=new ec;return t.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),t},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),Rl()),this.resetStats_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},i.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},i.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Ml(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return Qr.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,n=t.hasVideo,i=t.isMuxed;if(n&&e&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),i||t},i.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=cl(t),i=this.keyCache_[n];this.cacheEncryptionKeys_&&e&&!i&&t.bytes&&(this.keyCache_[n]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(i||t).resolvedUri};return i&&(r.bytes=i.bytes),r},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(t,e){if(void 0===e&&(e={}),t){var n=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=t.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),i&&(i.mediaIndex-=o,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}},i.pause=function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return null===this.checkBufferTimeout_},i.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Ml(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(t,e,n){if(void 0===n&&(n=function(){}),e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var i=1,r=function(){0==--i&&n()};for(var o in this.audioDisabled_||(i++,this.sourceUpdater_.removeAudio(t,e,r)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(t,e,n,i){for(var r=Math.ceil((e-i)*qs),o=Math.ceil((n-i)*qs),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_),i++,this.sourceUpdater_.removeVideo(t,e,r)),this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[o]);dc(t,e,this.segmentMetadataTrack_),r()}},i.monitorBuffer_=function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),500)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.buffered_(),e=this.checkBuffer_(t,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(e.timestampOffset=pc({segmentTimeline:e.timeline,currentTimeline:this.currentTimeline_,startOfSegment:e.startOfSegment,buffered:t,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof e.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loadSegment_(e))}},i.isEndOfStream_=function(t,e){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),!e||!this.mediaSource_)return!1;var n=t+1===e.segments.length;return e.endList&&"open"===this.mediaSource_.readyState&&n},i.checkBuffer_=function(t,e,n,i,r,o){var a=0;t.length&&(a=t.end(t.length-1));var s=Math.max(0,a-r);if(!e.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!i&&s>=1)return null;var u,l=null,c=!1;if(null===o)l=this.getSyncSegmentCandidate_(e),c=!0;else if(null!==n){var d=e.segments[n];u=d&&d.end?d.end:a,l=n+1}else if(this.fetchAtBuffer_){var f=Qu.getMediaInfoForTime(e,a,o.segmentIndex,o.time);l=f.mediaIndex,u=f.startTime}else{var h=Qu.getMediaInfoForTime(e,r,o.segmentIndex,o.time);l=h.mediaIndex,u=h.startTime}var p=this.generateSegmentInfo_(e,l,u,c);return!p||this.mediaSource_&&this.playlist_&&p.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+p.uri,{segmentInfo:p,playlist:e,currentMediaIndex:n,nextMediaIndex:l,startOfSegment:u,isSyncRequest:c}),p)},i.getSyncSegmentCandidate_=function(t){var e=this;if(-1===this.currentTimeline_)return 0;var n=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)},i.generateSegmentInfo_=function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r,o,a=t.segments[e],s=this.sourceUpdater_.audioBuffered(),u=this.sourceUpdater_.videoBuffered();return s.length&&(r=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),u.length&&(o=function(t,e,n){if(null==e||!t.length)return[];var i,r=Math.ceil((e-n+3)*qs);for(i=0;i<t.length&&!(t[i].pts>r);i++);return t.slice(i)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:r,gopsToAlignWith:o}},i.abortRequestEarly_=function(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=Qu.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),o=function(t,e,n){return void 0===n&&(n=1),((t.length?t.end(t.length-1):0)-e)/n}(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter((function(t){return!Qu.isIncompatible(t)})),c=l.filter(Qu.isEnabled);c.length||(c=l.filter((function(t){return!Qu.isDisabled(t)})));var d=c.filter(Qu.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var e=u.getSyncPoint(t,r,s,n)?1:2;return{playlist:t,rebufferingImpact:Qu.estimateSegmentRequestTime(o,i,t)*e-a}})),f=d.filter((function(t){return t.rebufferingImpact<=0}));return uc(f,(function(t,e){return lc(e.playlist,t.playlist)})),f.length?f[0]:(uc(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;return o<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*Ol.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},i.handleAbort_=function(){this.mediaRequestsAborted+=1},i.handleProgress_=function(t,e){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.trigger("progress")},i.handleTrackInfo_=function(t,e){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.checkForIllegalMediaSwitch(e)||(e=e||{},function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(o!==i[r])return!1;if(t[o]!==e[o])return!1}return!0}(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},i.handleTimingInfo_=function(t,e,n,i){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats)){var r=this.pendingSegment_,o=hc(e);r[o]=r[o]||{},r[o][n]=i,this.logger_("timinginfo: "+e+" - "+n+" - "+i),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(e,n){var i=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==n.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};n.forEach((function(t){o[t.stream]=o[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=o[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(o).forEach((function(e){var n=o[e],a=n.startTime,s=n.endTime,u=n.captions,l=i.inbandTextTracks_;i.logger_("adding cues from "+a+" -> "+s+" for "+e),function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var i=e.textTracks().getTrackById(n);t[n]=i||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(l,i.vhs_.tech_,e),dc(a,s,l[e]),function(e){var n=e.inbandTextTracks,i=e.captionArray,r=e.timestampOffset;if(i){var o=t.WebKitDataCue||t.VTTCue;i.forEach((function(t){var e=t.stream;n[e].addCue(new o(t.startTime+r,t.endTime+r,t.text))}))}}({captionArray:u,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));else this.logger_("SegmentLoader received no captions from a caption event")},i.handleId3_=function(t,e,n){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(this.pendingSegment_.hasAppendedData_){var i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(t,e,n){t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)}(this.inbandTextTracks_,n,this.vhs_.tech_),cc({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:i,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,n))},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},i.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},i.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.currentMediaInfo_&&gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;if(!this.handlePartialData_){var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed;if(i&&!t.videoTimingInfo)return!1;if(n&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)return!1}return!gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},i.handleData_=function(t,e){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),n.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),n.isFmp4=t.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[hc(e.type)].start;else{var i,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(i=this.handlePartialData_?e.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,e.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},i.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},i.getInitSegmentAndUpdateState_=function(t){var e=t.type,n=t.initSegment,i=t.map,r=t.playlist;if(i){var o=ll(i);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!!i,this.activeInitSegmentId_=null,n):null},i.appendToSourceBuffer_=function(t){var e=this,n=t.segmentInfo,i=t.type,r=t.initSegment,o=t.data,a=[o],s=o.byteLength;r&&(a.unshift(r),s+=r.byteLength);var u,l,c,d=(c=0,(u={bytes:s,segments:a}).bytes&&(l=new Uint8Array(u.bytes),u.segments.forEach((function(t){l.set(t,c),c+=t.byteLength}))),l);this.sourceUpdater_.appendBuffer({segmentInfo:n,type:i,bytes:d},(function(t){t&&(e.error(i+" append of "+d.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),e.trigger("appenderror"))}))},i.handleVideoSegmentTimingInfo_=function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=e.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=e.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=e.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}},i.appendData_=function(t,e){var n=e.type,i=e.data;if(i&&i.byteLength&&("audio"!==n||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:n,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:r,data:i})}},i.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var n=e.buffered_();"number"==typeof t.timestampOffset&&(t.timestampOffset=pc({segmentTimeline:t.timeline,currentTimeline:e.currentTimeline_,startOfSegment:t.startOfSegment,buffered:n,overrideCheck:!0})),delete t.audioAppendStart;var i=e.sourceUpdater_.audioBuffered();i.length&&(t.audioAppendStart=i.end(i.length-1)-e.sourceUpdater_.audioTimestampOffset()),e.updateTransmuxerAndRequestSegment_(t)}))},i.updateTransmuxerAndRequestSegment_=function(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var e=this.createSimplifiedSegmentObj_(t);t.abortRequests=Wl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},i.trimBackBuffer_=function(t){var e=function(t,e,n){var i=e-Ol.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));var r=e-n;return Math.min(r,i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},i.createSimplifiedSegmentObj_=function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith},i=t.playlist.segments[t.mediaIndex];if(i&&i.end&&i.timeline===e.timeline&&(n.baseStartTime=i.end+t.timestampOffset),e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key=this.segmentKey(e.key),n.key.iv=r}return e.map&&(n.map=this.initSegmentForMap(e.map)),n},i.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},i.saveBandwidthRelatedStats_=function(t){this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime,this.pendingSegment_.byteLength=t.bytesReceived},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},i.segmentRequestFinished_=function(t,e,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,n));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===jl)return;return this.pause(),t.code===Ll?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}this.saveBandwidthRelatedStats_(e.stats);var i=this.pendingSegment_;i.endOfAllRequests=e.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(t,e,n){if(!e.length)return t;if(n)return e.slice();for(var i=e[0].pts,r=0;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING";var r=this.isEndOfStream_(i.mediaIndex,i.playlist),o=null!==this.mediaIndex,a=i.timeline!==this.currentTimeline_&&i.timeline>0;!i.isFmp4&&(r||o&&a)&&Nl(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(i)}},i.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},i.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},i.trueSegmentStart_=function(t){var e=t.currentStart,n=t.playlist,i=t.mediaIndex,r=t.firstVideoFrameTimeForData,o=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,s=t.videoTimingInfo,u=t.audioTimingInfo;if(void 0!==e)return e;if(!a)return u.start;var l=n.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===r+o?s.start:r},i.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,n=e.hasAudio,i=e.hasVideo,r=e.isMuxed,o="main"===this.loaderType_&&i,a=!this.audioDisabled_&&n&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);o&&t.waitingOnAppends++,a&&t.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},i.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(t){var e=function(t,e,n){return"main"===t&&e&&n?n.hasAudio||n.hasVideo?e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},i.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},i.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;if(this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(t){var e=t.segment,n=e.start,i=e.end,r=t.playlist,o=r.mediaSequence,a=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+n+" => "+i+"] in timeline ["+c+"]"].join(" ")}(t)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var e=t.segment;e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.isEndOfStream_(t.mediaIndex,t.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},i.recordThroughput_=function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count},i.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var n=e.segment,i=n.start,r=n.end;if(fc(i)&&fc(r)){dc(i,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},s=new o(i,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},n}(Qr.EventTarget);function vc(){}var yc,_c=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},bc=["video","audio"],wc=function(t,e){var n=e[t+"Buffer"];return n&&n.updating||e.queuePending[t]},Tc=function t(e,n){if(0!==n.queue.length){var i=0,r=n.queue[i];if("mediaSource"!==r.type){if("mediaSource"!==e&&n.started_&&"closed"!==n.mediaSource.readyState&&!wc(e,n)){if(r.type!==e){if(null===(i=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if("mediaSource"===i.type)return null;if(i.type===t)return n}return null}(e,n.queue)))return;r=n.queue[i]}n.queue.splice(i,1),r.action(e,n),r.doneFn?n.queuePending[e]=r:t(e,n)}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),r.action(n),r.doneFn&&r.doneFn(),t("audio",n),t("video",n))}},Sc=function(t,e){var n=e[t+"Buffer"],i=_c(t);n&&(n.removeEventListener("updateend",e["on"+i+"UpdateEnd_"]),n.removeEventListener("error",e["on"+i+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Oc=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},Ec=function(t,e){return function(n,i){var r=i[n+"Buffer"];Oc(i.mediaSource,r)&&(i.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer"),r.appendBuffer(t))}},Pc=function(t,e){return function(n,i){var r=i[n+"Buffer"];Oc(i.mediaSource,r)&&(i.logger_("Removing "+t+" to "+e+" from "+n+"Buffer"),r.remove(t,e))}},Cc=function(t){return function(e,n){var i=n[e+"Buffer"];Oc(n.mediaSource,i)&&(n.logger_("Setting "+e+"timestampOffset to "+t),i.timestampOffset=t)}},Ac=function(t){return function(e,n){t()}},xc=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(t){Qr.log.warn("Failed to call media source endOfStream",t)}}}},Ic=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(t){Qr.log.warn("Failed to set media source duration",t)}}},kc=function(){return function(t,e){if("open"===e.mediaSource.readyState){var n=e[t+"Buffer"];if(Oc(e.mediaSource,n)){e.logger_("calling abort on "+t+"Buffer");try{n.abort()}catch(e){Qr.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},Mc=function(t,e){return function(n){var i=_c(t),r=vu(e);n.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var o=n.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),o.addEventListener("error",n["on"+i+"Error_"]),n.codecs[t]=e,n[t+"Buffer"]=o}},Rc=function(t){return function(e){var n=e[t+"Buffer"];if(Sc(t,e),Oc(e.mediaSource,n)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(n)}catch(e){Qr.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},Nc=function(t){return function(e,n){var i=n[e+"Buffer"],r=vu(t);Oc(n.mediaSource,i)&&n.codecs[e]!==t&&(n.logger_("changing "+e+"Buffer codec from "+n.codecs[e]+" to "+t),i.changeType(r),n.codecs[e]=t)}},Dc=function(t){var e=t.type,n=t.sourceUpdater,i=t.action,r=t.doneFn,o=t.name;n.queue.push({type:e,action:i,doneFn:r,name:o}),Tc(e,n)},Lc=function(t,e){return function(n){if(e.queuePending[t]){var i=e.queuePending[t].doneFn;e.queuePending[t]=null,i&&i(e[t+"Error_"])}Tc(t,e)}},jc=function(e){function n(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return Tc("mediaSource",Vt(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=rc("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=Lc("video",Vt(n)),n.onAudioUpdateEnd_=Lc("audio",Vt(n)),n.onVideoError_=function(t){n.videoError_=t},n.onAudioError_=function(t){n.audioError_=t},n.started_=!1,n}Ut(n,e);var i=n.prototype;return i.ready=function(){return this.started_},i.createSourceBuffers=function(t){this.ready()||(this.addOrChangeSourceBuffers(t),this.started_=!0,this.trigger("ready"))},i.addSourceBuffer=function(t,e){Dc({type:"mediaSource",sourceUpdater:this,action:Mc(t,e),name:"addSourceBuffer"})},i.abort=function(t){Dc({type:t,sourceUpdater:this,action:kc(t),name:"abort"})},i.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Dc({type:"mediaSource",sourceUpdater:this,action:Rc(t),name:"removeSourceBuffer"}):Qr.log.error("removeSourceBuffer is not supported!")},i.canRemoveSourceBuffer=function(){return!Qr.browser.IE_VERSION&&t.MediaSource&&t.MediaSource.prototype&&"function"==typeof t.MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return t.SourceBuffer&&t.SourceBuffer.prototype&&"function"==typeof t.SourceBuffer.prototype.changeType},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(t,e){this.canChangeType()?Dc({type:t,sourceUpdater:this,action:Nc(e),name:"changeType"}):Qr.log.error("changeType is not supported!")},i.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(n){var i=t[n];if(!e.ready())return e.addSourceBuffer(n,i);e.canChangeType()&&e.changeType(n,i)}))},i.appendBuffer=function(t,e){var n=this,i=t.segmentInfo,r=t.type,o=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Dc({type:r,sourceUpdater:this,action:Ec(o,i||{mediaIndex:-1}),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(t){n.appendBuffer.apply(n,t)}))}},i.audioBuffered=function(){return Oc(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Qr.createTimeRange()},i.videoBuffered=function(){return Oc(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Qr.createTimeRange()},i.buffered=function(){var t=Oc(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Oc(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var n=null,i=null,r=0,o=[],a=[];if(!(t&&t.length&&e&&e.length))return Qr.createTimeRange();for(var s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(n=o[s].time):"end"===o[s].type&&1==--r&&(i=o[s].time),null!==n&&null!==i&&(a.push([n,i]),n=null,i=null);return Qr.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(t,e){void 0===e&&(e=vc),Dc({type:"mediaSource",sourceUpdater:this,action:Ic(t),name:"duration",doneFn:e})},i.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=vc),"string"!=typeof t&&(t=void 0),Dc({type:"mediaSource",sourceUpdater:this,action:xc(t),name:"endOfStream",doneFn:e})},i.removeAudio=function(t,e,n){void 0===n&&(n=vc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Dc({type:"audio",sourceUpdater:this,action:Pc(t,e),doneFn:n,name:"remove"}):n()},i.removeVideo=function(t,e,n){void 0===n&&(n=vc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Dc({type:"video",sourceUpdater:this,action:Pc(t,e),doneFn:n,name:"remove"}):n()},i.updating=function(){return!(!wc("audio",this)&&!wc("video",this))},i.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Dc({type:"audio",sourceUpdater:this,action:Cc(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},i.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Dc({type:"video",sourceUpdater:this,action:Cc(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},i.audioQueueCallback=function(t){this.audioBuffer&&Dc({type:"audio",sourceUpdater:this,action:Ac(t),name:"callback"})},i.videoQueueCallback=function(t){this.videoBuffer&&Dc({type:"video",sourceUpdater:this,action:Ac(t),name:"callback"})},i.dispose=function(){var t=this;this.trigger("dispose"),bc.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return Sc(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(Qr.EventTarget),Fc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Vc=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Bc=function(e){function n(t,n){var i;return void 0===n&&(n={}),(i=e.call(this,t,n)||this).handlePartialData_=!1,i.mediaSource_=null,i.subtitlesTrack_=null,i.loaderType_="subtitle",i.featuresNativeTextTracks_=t.featuresNativeTextTracks,i.shouldSaveSegmentTimingInfo_=!1,i}Ut(n,e);var i=n.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Qr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return Qr.createTimeRanges([[e,n]])},i.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var n=ll(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=Vc.byteLength+t.bytes.byteLength,o=new Uint8Array(r);o.set(t.bytes),o.set(Vc,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},i.remove=function(t,e){dc(t,e,this.subtitlesTrack_)},i.fillBuffer_=function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}},i.skipEmptySegments_=function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t},i.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(e,n,i){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(n.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Ll&&this.handleTimeout_(),e.code===jl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(n.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=n.map.bytes),o.bytes=n.bytes,"function"!=typeof t.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,u=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",u),r.segmentRequestFinished_(e,n,i)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",u)}a.requested=!0;try{this.parseVTTCues_(o)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new t.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(e){var n,i=!1;"function"==typeof t.TextDecoder?n=new t.TextDecoder("utf8"):(n=t.WebVTT.StringDecoder(),i=!0);var r=new t.WebVTT.Parser(t,t.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(t){Qr.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var o=e.segment.map.bytes;i&&(o=Fc(o)),r.parse(o)}var a=e.bytes;i&&(a=Fc(a)),r.parse(a),r.flush()},i.updateTimeMapping_=function(t,e,n){var i=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,o=r.MPEGTS/qs-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=o,t.endTime+=o})),!n.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(a,s-i.duration)}}}else i.empty=!0},n}(mc),Uc=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Hc=[{name:"VOD",run:function(t,e,n,i,r){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,d=Math.abs(r-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,n,i,r){var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===i&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,n,i,r){var o=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,n,i,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Gc=function(t){function e(e){var n;return(n=t.call(this)||this).timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=rc("SyncController"),n}Ut(e,t);var n=e.prototype;return n.getSyncPoint=function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null},n.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+zu(t,i.segmentIndex,0))},n.runStrategies_=function(t,e,n,i){for(var r=[],o=0;o<Hc.length;o++){var a=Hc[o],s=a.run(this,t,e,n,i);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},n.selectSyncPoint_=function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<i&&(i=a,n=t[o].syncPoint,r=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(t,e){for(var n=e.mediaSequence-t.mediaSequence-1;n>=0;n--){var i=t.segments[n];if(i&&void 0!==i.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:i.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMapping=function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}},n.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,n=t.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(e,e.timingInfo,n)&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:e.segment.start}))},n.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},n.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},n.calculateSegmentTimeMapping_=function(t,e,n){var i=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},n&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),i.start=t.startOfSegment,i.end=e.end+r.mapping;else{if(!r)return!1;i.start=e.start+r.mapping,i.end=e.end+r.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],o=e.discontinuitySequence+i+1,a=r-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?n.start-zu(e,t.mediaIndex,r):n.end+zu(e,t.mediaIndex+1,r),this.discontinuities[o]={time:u,accuracy:s}}}},n.dispose=function(){this.trigger("dispose"),this.off()},e}(Qr.EventTarget),Wc=function(t){function e(){var e;return(e=t.call(this)||this).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}Ut(e,t);var n=e.prototype;return n.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},n.lastTimelineChange=function(t){var e=t.type,n=t.from,i=t.to;return"number"==typeof n&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Qr.EventTarget),zc=new Xl("./decrypter-worker.worker.js",(function(t,e){var n=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var e=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e},i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(n,1),n>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),o=null,a=function(){function t(t){var e,n,i;o||(o=function(){var t,e,n,i,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],f=c[4],h=[],p=[];for(t=0;t<256;t++)p[(h[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!d[e];e^=i||1,n=p[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[e]=o,f[o]=e,s=16843009*h[r=h[i=h[e]]]^65537*r^257*i^16843008*e,a=257*h[o]^16843008*o,t=0;t<4;t++)l[t][e]=a=a<<24^a>>>8,c[t][o]=s=s<<24^s>>>8;for(t=0;t<5;t++)l[t]=l[t].slice(0),c[t]=c[t].slice(0);return u}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=this._tables[0][4],a=this._tables[1],s=t.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=s;e<4*s+28;e++)i=l[e-1],(e%s==0||8===s&&e%s==4)&&(i=r[i>>>24]<<24^r[i>>16&255]<<16^r[i>>8&255]<<8^r[255&i],e%s==0&&(i=i<<8^i>>>24^u<<24,u=u<<1^283*(u>>7))),l[e]=l[e-s]^i;for(n=0;e;n++,e--)i=l[3&n?e:e-4],c[n]=e<=4||n<4?i:a[0][r[i>>>24]]^a[1][r[i>>16&255]]^a[2][r[i>>8&255]]^a[3][r[255&i]]}return t.prototype.decrypt=function(t,e,n,i,r,o){var a,s,u,l,c=this._key[1],d=t^c[0],f=i^c[1],h=n^c[2],p=e^c[3],g=c.length/4-2,m=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],T=v[4];for(l=0;l<g;l++)a=y[d>>>24]^_[f>>16&255]^b[h>>8&255]^w[255&p]^c[m],s=y[f>>>24]^_[h>>16&255]^b[p>>8&255]^w[255&d]^c[m+1],u=y[h>>>24]^_[p>>16&255]^b[d>>8&255]^w[255&f]^c[m+2],p=y[p>>>24]^_[d>>16&255]^b[f>>8&255]^w[255&h]^c[m+3],m+=4,d=a,f=s,h=u;for(l=0;l<4;l++)r[(3&-l)+o]=T[d>>>24]<<24^T[f>>16&255]<<16^T[h>>8&255]<<8^T[255&p]^c[m++],a=d,d=f,f=h,h=p,p=a},t}(),s=function(t){function e(){var e;return(e=t.call(this,r)||this).jobs=[],e.delay=1,e.timeout_=null,e}i(e,t);var n=e.prototype;return n.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(r),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function t(e,n,i,r){var o=t.STEP,a=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l)),c=o;c<a.length;c+=o)i=new Uint32Array([u(a[c-4]),u(a[c-3]),u(a[c-2]),u(a[c-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),n,i,l));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var t;
/*! @name aes-decrypter @version 3.1.0 @license Apache-2.0 */r(null,(t=l).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,n,i){return function(){var r=function(t,e,n){var i,r,o,s,l,c,d,f,h,p=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),g=new a(Array.prototype.slice.call(e)),m=new Uint8Array(t.byteLength),v=new Int32Array(m.buffer);for(i=n[0],r=n[1],o=n[2],s=n[3],h=0;h<p.length;h+=4)l=u(p[h]),c=u(p[h+1]),d=u(p[h+2]),f=u(p[h+3]),g.decrypt(l,c,d,f,v,h),v[h]=u(v[h]^i),v[h+1]=u(v[h+1]^r),v[h+2]=u(v[h+2]^o),v[h+3]=u(v[h+3]^s),i=l,r=c,o=d,s=f;return m}(t,e,n);i.set(r,t.byteOffset)}},e(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}();new function(t){t.onmessage=function(e){var n=e.data,i=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),r=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new l(i,r,o,(function(e,i){var r,o;t.postMessage((r={source:n.source,decrypted:i},o={},Object.keys(r).forEach((function(t){var e=r[t];ArrayBuffer.isView(e)?o[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:o[t]=e})),o),[i.buffer])}))}}(n)}()})),$c=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},qc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Yc=function(t,e){e.activePlaylistLoader=t,t.load()},Kc={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;qc(n,i);var o=i.activeTrack(),a=i.activeGroup(),s=(a.filter((function(t){return t.default}))[0]||a[0]).id,u=i.tracks[s];if(o!==u){for(var l in Qr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),i.tracks)i.tracks[l].enabled=i.tracks[l]===u;i.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];Qr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),qc(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}},Xc={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Kc[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,o=n.segmentLoaders[t],a=n.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),o.track(a.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),i.paused()||o.load()})),e.on("error",Kc[t](t,n))}},Jc={AUDIO:function(t,e){var n=e.vhs,i=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions,a=e.master,s=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,d=l.tracks,f=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});var h=function(r){c[r]||(c[r]=[]);var a=u.filter((function(e){return e.attributes[t]===r})),l=function(u){var l=s[t][r][u];a.filter((function(t){return t.resolvedUri===l.resolvedUri})).length&&delete l.resolvedUri;var h=void 0;if(h="vhs-json"===i&&l.playlists?new Lu(l.playlists[0],n,o):l.resolvedUri?new Lu(l.resolvedUri,n,o):l.playlists&&"dash"===i?new Sl(l.playlists[0],n,o,f):null,l=Qr.mergeOptions({id:u,playlistLoader:h},l),Xc[t](t,l.playlistLoader,e),c[r].push(l),void 0===d[u]){var p=new Qr.AudioTrack({id:u,kind:$c(l),enabled:!1,language:l.language,default:l.default,label:u});d[u]=p}};for(var h in s[t][r])l(h)};for(var p in s[t])h(p);r.on("error",Kc[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.vhs,r=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,d=e.masterPlaylistLoader;for(var f in s[t])for(var h in l[f]||(l[f]=[]),s[t][f])if(!s[t][f][h].forced){var p=s[t][f][h],g=void 0;if("hls"===r?g=new Lu(p.resolvedUri,i,a):"dash"===r?g=new Sl(p.playlists[0],i,a,d):"vhs-json"===r&&(g=new Lu(p.playlists?p.playlists[0]:p.resolvedUri,i,a)),p=Qr.mergeOptions({id:h,playlistLoader:g},p),Xc[t](t,p.playlistLoader,e),l[f].push(p),void 0===c[h]){var m=n.addRemoteTextTrack({id:h,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:h},!1).track;c[h]=m}}o.on("error",Kc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,a=r.tracks;for(var s in i[t])for(var u in o[s]||(o[s]=[]),i[t][s]){var l=i[t][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(Qr.mergeOptions({id:u},l)),void 0===a[u])){var c=n.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},Zc={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode||"hidden"===n[i].mode)return n[i];return null}}},Qc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Jc[e](e,t)}));var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.vhs;["AUDIO","SUBTITLES"].forEach((function(n){e[n].activeGroup=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,o=i.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=r[o.attributes[t]]),a=a||r.main,void 0===n?a:null===n?null:a.filter((function(t){return t.id===n.id}))[0]||null}}(n,t),e[n].activeTrack=Zc[n](n,t),e[n].onGroupChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;qc(i,o),s&&(s.playlistLoader?(i.resyncLoader(),Yc(s.playlistLoader,o)):u&&r.resetEverything())}}(n,t),e[n].onGroupChanging=function(t,e){return function(){var n=e.segmentLoaders[t];n.abort(),n.pause()}}(n,t),e[n].onTrackChanged=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(qc(i,o),s){if("AUDIO"===t){if(!s.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}u!==s.playlistLoader?(i.track&&i.track(a),i.resetEverything(),Yc(s.playlistLoader,o)):Yc(s.playlistLoader,o)}}}(n,t)}));var o=e.AUDIO.activeGroup();if(o){var a=(o.filter((function(t){return t.default}))[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};for(var u in i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),i.clearTracks("audio"),e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])},td=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ed=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},nd=function(e){function n(n){var i;i=e.call(this)||this;var r=n.src,o=n.handleManifestRedirects,a=n.withCredentials,s=n.tech,u=n.bandwidth,l=n.externVhs,c=n.useCueTags,d=n.blacklistDuration,f=n.enableLowInitialPlaylist,h=n.sourceType,p=n.cacheEncryptionKeys,g=n.handlePartialData;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");yc=l,i.withCredentials=a,i.tech_=s,i.vhs_=s.vhs,i.sourceType_=h,i.useCueTags_=c,i.blacklistDuration=d,i.enableLowInitialPlaylist=f,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vc,activeTrack:vc,onGroupChanged:vc,onTrackChanged:vc}})),t}(),i.mediaSource=new t.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(Vt(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(Vt(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(Vt(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Qr.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new Gc(n),i.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new zc,i.sourceUpdater_=new jc(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new Wc;var m={vhs:i.vhs_,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:p,handlePartialData:g,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_};return i.masterPlaylistLoader_="dash"===i.sourceType_?new Sl(r,i.vhs_,i.requestOptions_):new Lu(r,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new mc(Qr.mergeOptions(m,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new mc(Qr.mergeOptions(m,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new Bc(Qr.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks}),n),i.setupSegmentLoaderListeners_(),td.forEach((function(t){i[t+"_"]=ed.bind(Vt(i),t)})),i.logger_=rc("MPC"),i.triggeredFmp4Usage=!1,i.masterPlaylistLoader_.load(),i}Ut(n,e);var i=n.prototype;return i.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Zu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Qc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var n;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,t.masterPlaylistLoader_.media(t.initialMedia_),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),n=1.5*e.targetDuration*1e3;Zu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},i.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(i=!1);i&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),yc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered();(function(t){var e=t.currentPlaylist,n=t.nextPlaylist,i=t.forwardBuffer,r=t.bufferLowWaterLine,o=t.duration;return t.log,n?!e.endList||o<Ol.MAX_BUFFER_LOW_WATER_LINE||n.attributes.BANDWIDTH<e.attributes.BANDWIDTH||i>=r:(Qr.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:e,forwardBuffer:i.length?i.end(i.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var e=function(){if(!t.sourceUpdater_.ready())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())},i.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Qr.browser.IE_VERSION||Qr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},i.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var n=this.seekable();if(!n.length)return!1;if(Qr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(n.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.sourceUpdater_.endOfStream()},i.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var n=yc.Playlist.playlistEnd(t,e),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=.1;var o=r.end(r.length-1);return o-i<=.1&&n-o<=.1},i.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var n=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!n)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var i=this.masterPlaylistLoader_.master.playlists,r=i.filter(Xu),o=1===r.length&&r[0]===n;if(1===i.length&&e!==1/0)return Qr.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;i.forEach((function(t){if(t!==n){var e=t.excludeUntil;void 0!==e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(Qr.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=t.internal?this.logger_:Qr.log.warn,l=t.message?" "+t.message:"";return u((t.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+l+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},i.delegateLoaders_=function(t,e){var n=this,i=[],r="all"===t;(r||"main"===t)&&i.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===t)&&o.push("AUDIO"),(r||"subtitle"===t)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(t){var e=n.mediaTypes_[t]&&n.mediaTypes_[t].activePlaylistLoader;e&&i.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=n[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||i.push(r)})),i.forEach((function(t){return e.forEach((function(e){"function"==typeof t[e]&&t[e]()}))}))},i.setCurrentTime=function(t){var e=Fu(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:yc.Playlist.duration(t):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var n=this.syncController_.getExpiredTime(e,this.duration());if(null!==n){var i=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=yc.Playlist.seekable(e,n,i);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=yc.Playlist.seekable(e,n,i)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Qr.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Bu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var n=this.tech_.buffered(),i=yc.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}},i.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},i.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var n=ic(this.master(),this.media()),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||pu),e.main.isMuxed&&(i.video+=","+(n.audio||e.main.audioCodec||hu)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||hu,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),i.audio||i.video){var o,a={};if(["video","audio"].forEach((function(t){if(i.hasOwnProperty(t)&&(r=e[t].isFmp4,s=i[t],!(r?gu(s):bu(s)))){var n=e[t].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(i[t]),"audio"===t&&(o=n)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===s&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+i.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var n=(wu(t.sourceUpdater_.codecs[e]||"")[e]||{}).type,r=(wu(i[e]||"")[e]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+i[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return i}var l=Object.keys(a).reduce((function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+a[e].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},i.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},i.excludeUnsupportedVariants_=function(){var t=this;this.master().playlists.forEach((function(e){var n=ic(t.master,e);!n.audio||bu(n.audio)||gu(n.audio)||(e.excludeUntil=1/0),!n.video||bu(n.video)||gu(n.video)||(e.excludeUntil=1/0)}))},i.excludeIncompatibleVariants_=function(t){var e=this,n=wu(t),i=Object.keys(n).length;this.master().playlists.forEach((function(t){if(t.excludeUntil!==1/0){var r={},o=2,a=[],s=ic(e.masterPlaylistLoader_.master,t);if(s.audio||s.video){var u=[s.video,s.audio].filter(Boolean).join(",");r=wu(u),o=Object.keys(r).length}o!==i&&(a.push('codec count "'+o+'" !== "'+i+'"'),t.excludeUntil=1/0),e.sourceUpdater_.canChangeType()||(r.video&&n.video&&r.video.type.toLowerCase()!==n.video.type.toLowerCase()&&(a.push('video codec "'+r.video.type+'" !== "'+n.video.type+'"'),t.excludeUntil=1/0),r.audio&&n.audio&&r.audio.type.toLowerCase()!==n.audio.type.toLowerCase()&&(t.excludeUntil=1/0,a.push('audio codec "'+r.audio.type+'" !== "'+n.audio.type+'"'))),a.length&&e.logger_("blacklisting "+t.id+": "+a.join(" && "))}}))},i.updateAdCues_=function(e){var n=0,i=this.seekable();i.length&&(n=i.start(0)),function(e,n,i){if(void 0===i&&(i=0),e.segments)for(var r,o=i,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=Uc(n,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new t.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),n.addCue(r)),"cueOutCont"in s){var u=s.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];(r=new t.VTTCue(o,o+s.duration,"")).adStartTime=o-l,r.adEndTime=r.adStartTime+c,n.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,n)},i.goalBufferLength=function(){var t=this.tech_.currentTime(),e=Ol.GOAL_BUFFER_LENGTH,n=Ol.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,Ol.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)},i.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=Ol.BUFFER_LOW_WATER_LINE,n=Ol.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,Ol.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)},n}(Qr.EventTarget),id=function(t,e,n){var i,r,o,a=t.masterPlaylistController_,s=a[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.codecs=ic(a.master(),e),this.playlist=e,this.id=n,this.enabled=(i=t.playlists,r=e.id,o=s,function(t){var e=i.master.playlists[r],n=Ku(e),a=Xu(e);return void 0===t?a:(t?delete e.disabled:e.disabled=!0,t===a||n||(o(),t?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),t)})},rd=["seeking","seeked","pause","playing","error"],od=function(){function e(e){var n=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=rc("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()},s=this.masterPlaylistController_,u=["main","subtitle","audio"],l={};u.forEach((function(t){l[t]={reset:function(){return n.resetSegmentDownloads_(t)},updateend:function(){return n.checkSegmentDownloads_(t)}},s[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),n.tech_.on(["seeked","seeking"],l[t].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(rd,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(rd,o),n.tech_.off("canplay",i),u.forEach((function(t){s[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),n.tech_.off(["seeked","seeking"],l[t].reset)})),n.checkCurrentTimeTimeout_&&t.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var n=e.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},n.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,n=e[t+"SegmentLoader_"],i=n.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1}(this[t+"Buffered_"],i);this[t+"Buffered_"]=i,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Uu(i)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){var i=e.start(0);t=i+(i===e.end(0)?0:.1)}if(void 0!==t)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Bu(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;var r=this.tech_.buffered();return!!function(t){var e=t.buffered,n=t.targetDuration,i=t.currentTime;return!(!e.length||e.end(0)-e.start(0)<2*n||i>e.start(0)||!(e.start(0)-i<n))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:n})&&(t=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+n+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},n.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=Fu(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},n.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=Vu(r,e);if(o.length>0){var a=o.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1},n.afterSeekableWindow_=function(t,e,n,i){if(void 0===i&&(i=!1),!t.length)return!1;var r=t.end(t.length-1)+.1;return!n.endList&&i&&(r=t.end(t.length-1)+3*n.targetDuration),e>r},n.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)},n.videoUnderflow_=function(t){var e=t.videoBuffered,n=t.audioBuffered,i=t.currentTime;if(e){var r;if(e.length&&n.length){var o=Fu(e,i-3),a=Fu(e,i),s=Fu(n,i);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else Vu(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0)}},n.skipTheGap_=function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=Vu(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(t,e){for(var n=function(t){if(t.length<2)return Qr.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return Qr.createTimeRanges(e)}(t),i=0;i<n.length;i++){var r=n.start(i),o=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:o}}return null},e}(),ad={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},sd=function(t){!function t(e,n){var i=0,r=0,o=Qr.mergeOptions(ad,n);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},s=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-i<1e3*o.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(i=Date.now(),o.getSource.call(e,s)):void Qr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(n){l(),t(e,n)}}(this,t)},ud={PlaylistLoader:Lu,Playlist:Qu,utils:fl,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&t.devicePixelRatio||1;return function(e,n,i,r,o){var a={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){var n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||t.Number.MAX_VALUE,width:n,height:i,playlist:e}}));uc(s,(function(t,e){return t.bandwidth-e.bandwidth}));var u=(s=s.filter((function(t){return!Qu.isIncompatible(t.playlist)}))).filter((function(t){return Qu.isEnabled(t.playlist)}));u.length||(u=s.filter((function(t){return!Qu.isDisabled(t.playlist)})));var l=u.filter((function(t){return t.bandwidth*Ol.BANDWIDTH_VARIANCE<n})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0];if(!1===o){var f=d||u[0]||s[0];if(f&&f.playlist){var h="sortedPlaylistReps";return d&&(h="bandwidthBestRep"),u[0]&&(h="enabledPlaylistReps"),oc("choosing "+ac(f)+" using "+h+" with options",a),f.playlist}return oc("could not choose a playlist with options",a),null}var p=l.filter((function(t){return t.width&&t.height}));uc(p,(function(t,e){return t.width-e.width}));var g=p.filter((function(t){return t.width===i&&t.height===r}));c=g[g.length-1];var m,v,y,_=g.filter((function(t){return t.bandwidth===c.bandwidth}))[0];_||(v=(m=p.filter((function(t){return t.width>i||t.height>r}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],y=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var b=y||_||d||u[0]||s[0];if(b&&b.playlist){var w="sortedPlaylistReps";return y?w="resolutionPlusOneRep":_?w="resolutionBestRep":d?w="bandwidthBestRep":u[0]&&(w="enabledPlaylistReps"),oc("choosing "+ac(b)+" using "+w+" with options",a),b.playlist}return oc("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(sc(this.tech_.el(),"width"),10)*e,parseInt(sc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Qu.isEnabled);return uc(e,(function(t,e){return lc(t,e)})),e.filter((function(e){return!!ic(t.playlists.master,e).video}))[0]||null},comparePlaylistBandwidth:lc,comparePlaylistResolution:function(e,n){var i,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||t.Number.MAX_VALUE,n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),i===(r=r||t.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&n.attributes.BANDWIDTH?e.attributes.BANDWIDTH-n.attributes.BANDWIDTH:i-r},xhr:il()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(ud,t,{get:function(){return Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Ol[t]},set:function(e){Qr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Qr.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):Ol[t]=e}})}));var ld=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})};ud.canPlaySource=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var cd=function(t){var e=t.player,n=t.sourceKeySystems,i=t.media,r=t.audioMedia,o=t.mainPlaylists,a=function(t,e,n){if(!t)return t;var i={video:e&&e.attributes&&e.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!i.audio&&i.video&&i.video.split(",").length>1&&i.video.split(",").forEach((function(t){t=t.trim(),yu(t)?i.audio=t:_u(t)&&(i.video=t)}));var r=i.video?'video/mp4;codecs="'+i.video+'"':null,o=i.audio?'audio/mp4;codecs="'+i.audio+'"':null,a={};for(var s in t)a[s]={audioContentType:o,videoContentType:r},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(a[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(a[s].url=t[s]);return Qr.mergeOptions(t,a)}(n,i,r);a&&(e.currentSource().keySystems=a,!a||e.eme?11!==Qr.browser.IE_VERSION&&e.eme.initializeMediaKeys&&function(t,e){return t.reduce((function(t,n){if(!n.contentProtection)return t;var i=e.reduce((function(t,e){var i=n.contentProtection[e];return i&&i.pssh&&(t[e]={pssh:i.pssh}),t}),{});return Object.keys(i).length&&t.push(i),t}),[])}(r?o.concat([r]):o,Object.keys(n)).forEach((function(t){e.eme.initializeMediaKeys({keySystems:t})})):Qr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"))},dd=function(){if(!t.localStorage)return null;var e=t.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};ud.supportsNativeHls=function(){if(!n||!n.createElement)return!1;var t=n.createElement("video");return!!Qr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),ud.supportsNativeDash=!!(n&&n.createElement&&Qr.getTech("Html5").isSupported())&&/maybe|probably/i.test(n.createElement("video").canPlayType("application/dash+xml")),ud.supportsTypeNatively=function(t){return"hls"===t?ud.supportsNativeHls:"dash"===t&&ud.supportsNativeDash},ud.isSupported=function(){return Qr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var fd=function(e){function i(t,i,r){var o;if(o=e.call(this,i,Qr.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Qr.log.warn("Using hls options is deprecated. Use vhs instead."),i.options_&&i.options_.playerId){var a=Qr(i.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Qr.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),Vt(o)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Qr.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),Vt(o)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Qr.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Vt(o)},configurable:!0}),o.player_=a}if(o.tech_=i,o.source_=t,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(n,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement;e&&e.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),o.on(o.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}Ut(i,e);var r=i.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=dd();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Ol.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Ol.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,n){var i,r=this;e&&(this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=ud,this.options_.sourceType=mo(n),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)},this.masterPlaylistController_=new nd(this.options_),this.playbackWatcher_=new od(Qr.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var t=Qr.players[r.tech_.options_.playerId],e=r.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ud.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ud.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Qr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Uu(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Uu(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!t.localStorage)return!1;var n=dd();n=n?Qr.mergeOptions(n,e):e;try{t.localStorage.setItem("videojs-vhs",JSON.stringify(n))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Ku(t)})).map((function(e,n){return new id(t,e,e.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var t=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;cd({player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:t&&t.media(),mainPlaylists:r.playlists.master.playlists})})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=t.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},r.setupQualityLevels_=function(){var t=this,e=Qr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,n;e=t.qualityLevels_,(n=t).representations().forEach((function(t){e.addQualityLevel(t)})),ld(e,n.playlists)})),this.playlists.on("mediachange",(function(){ld(t.qualityLevels_,t.playlists)})))},i.version=function(){return{"@videojs/http-streaming":"2.2.4","mux.js":"5.6.7","mpd-parser":"0.14.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return jc.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&t.URL.revokeObjectURL&&(t.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},r.convertToProgramTime=function(t,e){return hl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},r.seekToProgramTime=function(t,e,n,i){return void 0===n&&(n=!0),void 0===i&&(i=2),pl({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},i}(Qr.getComponent("Component")),hd={name:"videojs-http-streaming",VERSION:"2.2.4",canHandleSource:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e);return hd.canPlayType(t.type,n)},handleSource:function(t,e,n){void 0===n&&(n={});var i=Qr.mergeOptions(Qr.options,n);return e.vhs=new fd(t,e,i),Qr.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Qr.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=il(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var n=Qr.mergeOptions(Qr.options,e).vhs.overrideNative,i=void 0===n?!Qr.browser.IS_ANY_SAFARI:n,r=mo(t);return!r||ud.supportsTypeNatively(r)&&!i?"":"maybe"}};return gu("avc1.4d400d,mp4a.40.2")&&Qr.getTech("Html5").registerSourceHandler(hd,0),Qr.VhsHandler=fd,Object.defineProperty(Qr,"HlsHandler",{get:function(){return Qr.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),fd},configurable:!0}),Qr.VhsSourceHandler=hd,Object.defineProperty(Qr,"HlsSourceHandler",{get:function(){return Qr.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),hd},configurable:!0}),Qr.Vhs=ud,Object.defineProperty(Qr,"Hls",{get:function(){return Qr.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ud},configurable:!0}),Qr.use||(Qr.registerComponent("Hls",ud),Qr.registerComponent("Vhs",ud)),Qr.options.vhs=Qr.options.vhs||{},Qr.options.hls=Qr.options.hls||{},Qr.registerPlugin?Qr.registerPlugin("reloadSourceOnError",sd):Qr.plugin("reloadSourceOnError",sd),Qr}(window,document)}).call(this,n(579).Buffer)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(64),r=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=a(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=a(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function a(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=new Set(e.getAttributeKeys());Object(i.a)(t)?(void 0!==t.style&&Object(r.logWarning)("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&Object(r.logWarning)("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class"));return s(t,n,t=>e.getAttribute(t))}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){return s(t,e.getClassNames())}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){return s(t,e.getStyleNames(!0),t=>e.getStyle(t))}(e.styles,t),!n.styles))&&n)}function s(t,e,n){const o=function(t){if(Array.isArray(t))return t.map(t=>Object(i.a)(t)?(void 0!==t.key&&void 0!==t.value||Object(r.logWarning)("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]);if(Object(i.a)(t))return Object.entries(t);return[[t,!0]]}(t),a=Array.from(e),s=[];return o.forEach(([t,e])=>{a.forEach(i=>{(function(t,e){return!0===t||t===e||t instanceof RegExp&&t.test(e)})(t,i)&&function(t,e,n){if(!0===t)return!0;const i=n(e);return t===i||t instanceof RegExp&&t.test(i)}(e,i,n)&&s.push(i)})}),!o.length||s.length<o.length?null:s}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(4),r=n(134),o=n(2),a=n.n(o),s=n(15),u=n(1),l=n(9),c=n(53);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class d{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new a.a(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new a.a(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new a.a(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof d)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof a.a)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof i.default)this._setRanges([new a.a(t)]);else if(t instanceof r.a){const r=!!n&&!!n.backward;let o;if("in"==e)o=a.a._createIn(t);else if("on"==e)o=a.a._createOn(t);else{if(void 0===e)throw new u.default("model-selection-setto-required-second-parameter",[this,t]);o=new a.a(i.default._createAt(t,e))}this._setRanges([o],r)}else{if(!Object(c.a)(t))throw new u.default("model-selection-setto-not-selectable",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(e=>{if(!(e instanceof a.a))throw new u.default("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(t=>!t.isEqual(e))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new u.default("model-selection-setfocus-no-ranges",[this,t]);const n=i.default._createAt(t,e);if("same"==n.compareWith(this.focus))return;const r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new a.a(n,r)),this._lastRangeBackward=!0):(this._pushRange(new a.a(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(t){return"selection"===t||"model:selection"===t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=p(e.start,t);n&&g(n,e)&&(yield n);for(const n of e.getWalker()){const i=n.item;"elementEnd"==n.type&&h(i,t,e)&&(yield i)}const r=p(e.end,t);r&&!e.end.isTouching(i.default._createAt(r,0))&&g(r,e)&&(yield r)}}containsEntireContent(t=this.anchor.root){const e=i.default._createAt(t,0),n=i.default._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new a.a(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new u.default("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function f(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function h(t,e,n){return f(t,e)&&g(t,n)}function p(t,e){const n=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let r=!1;const o=i.find(t=>!r&&(r=n.isLimit(t),!r&&f(t,e)));return i.forEach(t=>e.add(t)),o}function g(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);if(!n)return!0;return!e.containsRange(a.a._createOn(n),!0)}Object(l.default)(d,s.default)},function(t,e,n){"use strict";e.a=function(t,e){return t.has(e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var i=n(30),r=n(124),o=n(9),a=n(53),s=n(15);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"view:documentFragment"===t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(t,e){if("string"==typeof e)return[new i.a(t,e)];Object(a.a)(e)||(e=[e]);return Array.from(e).map(e=>"string"==typeof e?new i.a(t,e):e instanceof r.a?new i.a(t,e.data):e)}(this.document,e);for(const e of o)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}Object(o.default)(u,s.default)},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(){return function t(){t.called=!0}};
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=i(),this.off=i()}}},function(t,e,n){"use strict";var i=Function.prototype.toString;e.a=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n(137),r=n(25),o=n(27),a=n(90),s=n(53);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u{constructor(t){this.markers=new Map,this._children=new i.a,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"===t||"model:documentFragment"===t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(r.default.fromJSON(n)):e.push(o.default.fromJSON(n));return new u(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new o.default(t)];Object(s.a)(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new o.default(t):t instanceof a.a?new o.default(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(0)),a={getExtentsFromDimensions:function(t,e,n,i,r,o){var a=this.getExtentsPointsFromDimensions(t,e,n,i,r,o);return{x1:Math.round(Math.min(a[0].x,a[1].x,a[2].x,a[3].x)),y1:Math.round(Math.min(a[0].y,a[1].y,a[2].y,a[3].y)),x2:Math.round(Math.max(a[0].x,a[1].x,a[2].x,a[3].x)),y2:Math.round(Math.max(a[0].y,a[1].y,a[2].y,a[3].y))}},getExtentsPointsFromDimensions:function(t,e,n,i,r,o){if(t-=o,e-=o,n+=2*o,i+=2*o,0!==r){var a=t+n/2,s=e+i/2;return[Math.rotateCoord(t,e,a,s,r),Math.rotateCoord(t+n,e,a,s,r),Math.rotateCoord(t+n,e+i,a,s,r),Math.rotateCoord(t,e+i,a,s,r)]}return[new window.CerosMath.Point(t,e),new window.CerosMath.Point(t+n,e),new window.CerosMath.Point(t+n,e+i),new window.CerosMath.Point(t,e+i)]},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:n.x,y1:n.y,xMidpoint:0,yMidpoint:0,x2:i.x,y2:i.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(n.x,i.x),o=Math.max(n.x,i.x),a=Math.min(n.y,i.y),s=Math.max(n.y,i.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,n,i){return{x1:t,y1:e,xMidpoint:t+(n-t)/2,yMidpoint:e+(i-e)/2,x2:n,y2:i}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),n=t.getTopmostY(!0),i=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,n,i,r)},getSmallestContainingRectangle:function(){var t,e,n,i,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,n=a.x2,i=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),n=Math.max(n,a.x2),i=Math.max(i,a.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},getSmallestContainingRectangleInPageCoords:function(){var t,e,n,i,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,n=r.x2,i=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),n=Math.max(n,r.x2),i=Math.max(i,r.y2))})),0===arguments.length&&(t=0,e=0,n=0,i=0),{x1:t,y1:e,x2:n,y2:i}},createHoverArea:function(t,e,n){var i,r,o,a,s=[],u=n?1:0;return i=t.y1<e.y1?t:e,s.push({x:i.x1,y:i.y1}),s.push({x:i.x2+u,y:i.y1}),(a=t.x2>e.x2?t:e)!==i&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==i&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CssUtils=e.TransformProperty=void 0;var a,s,u=o(n(0)),l=o(n(14)),c=n(291);!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(a=e.TransformProperty||(e.TransformProperty={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(s||(s={}));var d=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var n=t[0].style.transform;t.css("transform",this.setTransformProperty(n,e))}},t.setTransformProperty=function(e,n){e&&"none"!==e||(e="");var i=[s.matrix3d,s.translate,s.scale3d,s.scaleX,s.scaleY,s.scaleZ,s.rotate3d,s.rotateX,s.rotateY,s.rotateZ,s.skewX,s.skewY,s.perspective].map((function(n){return t.getUnsupportedString(e,n)})).filter((function(t){return!!t})),o=[a.translateX,a.translateY,a.translateZ].map((function(i){var r=t.getValueFromProperty(e,i),o=n[i];return void 0!==o?t.buildProperty(i,o):t.buildProperty(i,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,a.rotate),d=t.getTranslate(e),f=t.getMatrix(e);return r([void 0!==n.scale?t.buildScaleTransform(n.scale):t.buildScaleTransform(u),void 0!==n.skew?t.buildSkewTransform(n.skew):t.buildSkewTransform(l),void 0!==n.rotate?t.buildRotationTransform(n.rotate):t.buildRotationTransform(c),void 0!==n.translate3d?t.buildTranslateTransform(n.translate3d):t.buildTranslateTransform(d),void 0!==n.matrix?t.buildMatrixTransform(n.matrix):t.buildMatrixTransform(f)],o,i).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(e,n,i){var r=t.convertShadowObjectToCssFilter(e,n);i.css("-webkit-filter",r),i.css("filter",r)},t.convertShadowObjectToCssFilter=function(t,e){var n="";if(u.default.isEmpty(t))return n;var i={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=i.x*Math.cos(e)+i.y*Math.sin(e),o=-1*i.x*Math.sin(e)+i.y*Math.cos(e);i.x=r,i.y=o}n+="drop-shadow(",n+=Math.round(i.x)+"px",n+=" "+Math.round(i.y)+"px";var a=l.default.webkit?4:2;return n+=t.blur?" "+Math.round(t.blur/a)+"px":" 0",n+=" "+t.color,n+=")"},t.getValueFromProperty=function(e,n){var i=new RegExp(n+"\\(.*?\\)","g"),r=e.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var n=new RegExp(e+"\\(.*?\\)","g"),i=t.match(n);return i?i[0]:null},t.getScale=function(t){return this.getXYAll(a.scale,t)},t.getSkew=function(t){return this.getXYAll(a.skew,t)},t.getXYAll=function(e,n){var i=new RegExp(e+"\\(.*?\\)","g"),r=n.match(i);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var n=new RegExp(a.translate3d+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var n=new RegExp(a.matrix+"\\(.*?\\)","g"),i=e.match(n);if(!i)return null;var r=i[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?a.scale+"("+t.all+")":a.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?a.skew+"("+t.all+"deg)":a.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?a.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?a.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?a.rotate+"("+t+"deg)":""},t.computeEffect=function(e,n){var i=e[c.ImageEffects.BRIGHTNESS.NAME],r=e[c.ImageEffects.CONTRAST.NAME],o=e[c.ImageEffects.HUEROTATE.NAME],a=e[c.ImageEffects.SATURATE.NAME],s=e[c.ImageEffects.SEPIA.NAME],l=e[c.ImageEffects.INVERT.NAME],d="",f="",h="";(n||!u.default.isNil(i)&&i!==c.ImageEffects.defaultValueOf(c.ImageEffects.BRIGHTNESS.NAME))&&(i+=100,d=t.createImageEffectCssString(c.ImageEffects.BRIGHTNESS,i)),(n||!u.default.isNil(r)&&r!==c.ImageEffects.defaultValueOf(c.ImageEffects.CONTRAST.NAME))&&(r+=100,f=this.createImageEffectCssString(c.ImageEffects.CONTRAST,r)),(n||!u.default.isNil(a)&&a!==c.ImageEffects.defaultValueOf(c.ImageEffects.SATURATE.NAME))&&(0===(a+=100)&&(a=1),h=this.createImageEffectCssString(c.ImageEffects.SATURATE,a));var p={};return p[c.ImageEffects.BRIGHTNESS.NAME]=d,p[c.ImageEffects.CONTRAST.NAME]=f,p[c.ImageEffects.SATURATE.NAME]=h,p[c.ImageEffects.HUEROTATE.NAME]=this.createEffectStringIfPresent(o,c.ImageEffects.HUEROTATE,n),p[c.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(s,c.ImageEffects.SEPIA,n),p[c.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(l,c.ImageEffects.INVERT,n),c.ImageEffects.computeBrowserImageFilter(p)},t.createEffectStringIfPresent=function(e,n,i){return i||!u.default.isNil(e)&&e!==c.ImageEffects.defaultValueOf(n.NAME)?t.createImageEffectCssString(n,e):""},t.createImageEffectCssString=function(t,e){return t.NAME+"("+e+t.UNIT+")"},t.getCurrentEffects=function(e){var n={},i=e.css("filter");if(i){var r=i.match(/brightness\((.*?)\)/);n[c.ImageEffects.BRIGHTNESS.NAME]=t.formatEffect(c.ImageEffects.BRIGHTNESS,r);var o=i.match(/contrast\((.*?)\)/);n[c.ImageEffects.CONTRAST.NAME]=t.formatEffect(c.ImageEffects.CONTRAST,o);var a=i.match(/hue-rotate\((.*?)\)/);n[c.ImageEffects.HUEROTATE.NAME]=t.formatEffect(c.ImageEffects.HUEROTATE,a);var s=i.match(/saturate\((.*?)\)/);n[c.ImageEffects.SATURATE.NAME]=t.formatEffect(c.ImageEffects.SATURATE,s);var u=i.match(/sepia\((.*?)\)/);n[c.ImageEffects.SEPIA.NAME]=t.formatEffect(c.ImageEffects.SEPIA,u);var l=i.match(/invert\((.*?)\)/);n[c.ImageEffects.INVERT.NAME]=t.formatEffect(c.ImageEffects.INVERT,l)}return n},t.formatEffect=function(t,e){return e?"hue-rotate"===t.NAME?parseFloat(e[1]):100*parseFloat(e[1])+t.MIN:t.DEFAULT},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=d},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getAttributesAsRecord=e.getAllRanges=e.updateFontColorOpacityAttributeForRange=e.updateFontColorOpacityAttributeForSelection=e.updateFontColorRetainOpacityAttributeForRange=e.updateFontColorRetainOpacityAttributeForSelection=e.incrementPixelAttributeForRange=e.incrementAttributeForRange=e.applyAttributeForRange=e.checkEmptyElementForRange=e.applyAttributeForSelection=e.renderDowncastElement=e.renderUpcastAttribute=void 0;var a=o(n(0)),s=n(222),u=o(n(130));function l(t,e,n,i,r,o){if(Array.from(i.getItems()).length<1&&h(i)&&null!=n){var a=i.start.parent,u=s.DocumentSelection._getStoreAttributeKey(e),l=n;return a.hasAttribute(u)&&(l=r(a.getAttribute(u),n)),o(l)&&void 0!==l&&p(t,e,l,i),!0}return!1}function c(t,e,n,i,r){return l(t,n,i,e,(function(t,e){var n=parseInt(t),i=parseInt(e);if(a.default.isNumber(n)&&a.default.isNumber(i))return r?""+(n+i)+r:n+i}),(function(t){return a.default.isString(t)||a.default.isNumber(t)}))}function d(t,e,n,i){return l(t,e,n,i,(function(t,e){var n=m(t,e);if(n)return n.toString()}),(function(t){return a.default.isString(t)}))}function f(t,e,n,i){return l(t,e,n,i,(function(t,e){var n=v(t,e);if(n)return n.toString()}),(function(t){return a.default.isString(t)}))}function h(t){return t.isCollapsed&&t.start.parent.isEmpty}function p(t,e,n,i){if(h(i)){var r=s.DocumentSelection._getStoreAttributeKey(e);t.setAttribute(r,n,i.start.parent)}else t.setAttribute(e,n,i)}function g(t,e,n,r,o){var s,u,l,d;try{for(var f=i(e),h=f.next();!h.done;h=f.next()){var p=h.value;if(!c(t,p,n,r,o))if(null==r)t.removeAttribute(n,p);else try{for(var g=(l=void 0,i(p.getItems())),m=g.next();!m.done;m=g.next()){var v=m.value;if(v.hasAttribute(n)){var y=parseInt(v.getAttribute(n)),_=parseInt(r);if(a.default.isNumber(y)&&a.default.isNumber(_)){var b=o?""+(y+_)+o:y+_;t.setAttribute(n,b,v);continue}}t.setAttribute(n,r,v)}}catch(t){l={error:t}}finally{try{m&&!m.done&&(d=g.return)&&d.call(g)}finally{if(l)throw l.error}}}}catch(t){s={error:t}}finally{try{h&&!h.done&&(u=f.return)&&u.call(f)}finally{if(s)throw s.error}}}function m(t,e){var n=u.default.fromString(t),i=u.default.fromString(e);return n&&i?(i.a=n.a,i):null}function v(t,e){var n=u.default.fromString(t),i=parseFloat(e);return n&&a.default.isNumber(i)?(n.a=i,n):null}e.renderUpcastAttribute=function(t){return function(e,n){return e.getStyle(t)||null}},e.renderDowncastElement=function(t){return function(e,n){return n.writer.createAttributeElement("span",{style:t+":"+e},{priority:7})}},e.applyAttributeForSelection=function(t,e,n){null==n?t.removeSelectionAttribute(e):t.setSelectionAttribute(e,n)},e.checkEmptyElementForRange=h,e.applyAttributeForRange=function(t,e,n,r){var o,a;try{for(var s=i(e),u=s.next();!u.done;u=s.next()){var l=u.value;null==r?t.removeAttribute(n,l):p(t,n,r,l)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},e.incrementAttributeForRange=function(t,e,n,i){g(t,e,n,i)},e.incrementPixelAttributeForRange=function(t,e,n,i){g(t,e,n,i,"px")},e.updateFontColorRetainOpacityAttributeForSelection=function(t,e,n,i){if(null==i)t.removeSelectionAttribute(n);else{if(e.hasAttribute(n)){var r=m(e.getAttribute(n),i);if(r)return void t.setSelectionAttribute(n,r.toString())}t.setSelectionAttribute(n,i)}},e.updateFontColorRetainOpacityAttributeForRange=function(t,e,n,r){var o,a,s,u;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var f=c.value;if(!d(t,n,r,f))if(null==r)t.removeAttribute(n,f);else try{for(var h=(s=void 0,i(f.getItems())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.hasAttribute(n)){var v=m(g.getAttribute(n),r);if(v){t.setAttribute(n,v.toString(),g);continue}}t.setAttribute(n,r,g)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},e.updateFontColorOpacityAttributeForSelection=function(t,e,n,i){if(null==i)t.removeSelectionAttribute(n);else if(e.hasAttribute(n)){var r=v(e.getAttribute(n),i);if(r)return void t.setSelectionAttribute(n,r.toString())}},e.updateFontColorOpacityAttributeForRange=function(t,e,n,r){var o,a,s,u;try{for(var l=i(e),c=l.next();!c.done;c=l.next()){var d=c.value;if(!f(t,n,r,d))if(null==r)t.removeAttribute(n,d);else try{for(var h=(s=void 0,i(d.getItems())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g.hasAttribute(n)){var m=v(g.getAttribute(n),r);m&&t.setAttribute(n,m.toString(),g)}}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},e.getAllRanges=function(t,e,n,r){var o,a,s=t.getRoot();if(s){var u=[];try{for(var l=i(s.getChildren()),c=l.next();!c.done;c=l.next()){var d=c.value;d.is("element")&&u.push(e.createRangeIn(d))}}catch(t){o={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return r?Array.from(n.model.schema.getValidRanges(u,r)):u}},e.getAttributesAsRecord=function(t){var e,n,o={};try{for(var a=i(t),s=a.next();!s.done;s=a.next()){var u=s.value,l=r(u,2),c=l[0],d=l[1];o[c]=d}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(395)),o=i(n(130)),a=i(n(14)),s={CANVAS_BACKGROUND_TAB_HEIGHT:20,CANVAS_BACKGROUND_TAB_WIDTH:50,CANVAS_BACKGROUND_TAB_INACTIVE_COLOR:r.default.COLORS.ASH,CANVAS_BACKGROUND_TAB_ACTIVE_COLOR:r.default.COLORS.CEROS_BLUE,CANVAS_BACKGROUND_TAB_FONT_COLOR:"#9ca2a3",CANVAS_BACKGROUND_TAB_FONT:"11px Avenir Next, 11px Avenir Next LT",RULER_SIZE:16,RULER_INCREMENT:10,RULER_MOUSE_THRESHOLD:3,RULER_ALPHA:1,RULER_FONT:"11px Avenir Next, 11px Avenir Next LT",RULER_FONT_SIZE:10,RULER_RESET_ICON_COLOR:r.default.COLORS.PEWTER,RULER_RESET_ICON_DASH:[1,1],RULER_ORIGIN_DASH:[3,3],RULER_ORIGIN_COLOR_1:"black",RULER_ORIGIN_COLOR_2:"white",RULER_HORIZONTAL_LABEL_OFFSET:2,RULER_VERTICAL_LABEL_OFFSET:3,RULER_NUMBER_LABEL_OFFSET:2,RULER_FG_COLOR:r.default.COLORS.GREY300,RULER_BG_COLOR:r.default.COLORS.WHITE,RULER_FG_TEXT_COLOR:r.default.COLORS.GREY400,GUIDE_COLOR:r.default.COLORS.MAGENTA,GUIDE_HOVER_COLOR:r.default.COLORS.PINK,GUIDE_COLOR_DEL:r.default.COLORS.RED,GUIDE_LABEL_SIZE:12,GUIDE_LABEL_FONT:"10px Avenir Next, 10px Avenir Next LT",GUIDE_LABEL_PADDING:4,GUIDE_LABEL_WEBKIT_OFFSET:a.default.webkit?-2:0,GUIDE_LABEL_RULER_OFFSET:3,GUIDE_LABEL_COLOR:r.default.COLORS.WHITE,GUIDE_LABEL_TEXT_COLOR:r.default.COLORS.GREY400,GUIDE_VERTICAL_DIRECTION:"vertical",GUIDE_HORIZONTAL_DIRECTION:"horizontal",GUIDE_HIT_THRESHOLD:10,GUIDE_SELECT_OPACITY:.3,GUIDE_INDICATOR_WIDTH:95,GUIDE_INDICATOR_HEIGHT:25,GUIDE_INDICATOR_COLOR:r.default.COLORS.WHITE,GUIDE_INDICATOR_FONT:"14px Avenir Next, 14px Avenir Next LT",GUIDE_INDICATOR_FONT_COLOR:r.default.COLORS.BLACK,GUIDE_INDICATOR_STROKE_STYLE:r.default.COLORS.GREY300,GUIDE_INPUT_BOX_EXTRA_WIDTH:12,GUIDE_INPUT_BOX_MIN_CHARS:3,GUIDE_INPUT_BOX_MAX_CHARS:5,GUIDE_INPUT_BOX_Y_MARGIN:-5,GUIDE_INPUT_BOX_HEIGHT:25,GUIDES_INPUT_BOUNDARY:5e4,GUIDES_INPUT_WRAPPER:"guide-input-wrapper",GUIDES_MOVE_CURSOR_DELAY:100,GUIDES_INPUT_SCROLL_DEBOUNCE_DELAY:500,CANVAS_LAYOUTS_COLUMN_GUTTER:20,CANVAS_LAYOUTS_ROW_GUTTER:20,SNAP_THRESHOLD:8,SMARTGUIDE_COLOR:r.default.COLORS.MAGENTA,SMARTGUIDE_WIDTH:1,SMARTGUIDE_AXIS_X:"x",SMARTGUIDE_AXIS_Y:"y",DISTANCE_GUIDE_BRACKET_LENGTH:10,DISTANCE_GUIDE_LABEL_FONT_SIZE:11,DISTANCE_GUIDE_TEXT_OFFSET:4,DISTANCE_GUIDE_TEXT_UNIT:"px",DISTANCE_GUIDE_FONT_FAMILY:"Montserrat",DISTANCE_GUIDE_VERTICAL_TEXT_ALIGNMENT:"right",DISTANCE_GUIDE_HORIZONTAL_TEXT_ALIGNMENT:"center",DISTANCE_GUIDE_TEXT_BASELINE:"middle",MASK_ITEM_DEFAULT_FILL_COLOR:"#D1D1D1",COMPONENT_FOCUS_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,ISOLATION_MODE_COMPONENT_FOCUS_COLOR:r.default.COLORS.ALIEN,COMPONENT_SELECTION_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,COMPONENT_SELECTION_FILL_COLOR:r.default.COLORS.WHITE,COMPONENT_FOCUS_DASH:[2,2],COMPONENT_FOCUS_ALPHA:.7,COMPONENT_FOCUS_LINE_WIDTH:1,COMPONENT_SELECTION_LINE_WIDTH:1,COMPONENT_SELECTION_HANDLE_SIZE:7,GROUP_SELECTION_COLOR:r.default.COLORS.PRIMARY_BLUE_ALT,ISOLATION_MODE_GROUP_SELECTION_COLOR:r.default.COLORS.ALIEN,GUIDE_SELECTION_COLOR:r.default.COLORS.CEROS_BLUE,GROUP_SELECTION_ALPHA:.5,GROUP_SELECTION_DASH:[3,3],GENERATE_THUMBNAIL_DEBOUNCE:1e3,PIXEL_GRID_THRESHOLD:10,BROWSER_IDLE_FPS:1,BLUE_FILL_PATTERN_COLOR:[153,186,209,128],ALIEN_FILL_PATTERN_COLOR:[0,255,180,128],GREY_FILL_PATTERN_COLOR:[200,200,200,128],FILL_PATTERN_SIZE:5,KEYPRESS_TIMEOUT:200,DROPDOWN_OPTION_DIVIDER:"────────────────────",CANVAS_BACKGROUND_COLOR:r.default.COLORS.GREY200,CANVAS_OFFPAGE_MASK_COLOR:r.default.COLORS.GREY200_70P,RUBBER_BAND_DASH:[3,3],RUBBER_BAND_ALPHA:.75,RUBBER_BAND_COLOR:"black",RUBBER_BAND_LINE_WIDTH:1,TEXT_EDITOR_NOCURSOR_COLOR:"rgb(0,170,210)",TEXT_EDITOR_NOCURSOR_LINE_WIDTH:1,TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:"rgb(182,214,253)",TEXT_EDITOR_CURSOR_BLINK_SPEED:500,TEXT_EDITOR_CURSOR_RESUME_BLINK_DELAY:250,TEXT_EDITOR_CURSOR_COLOR:"#747474",TEXT_EDITOR_GUIDES_COLOR:"rgb(182,229,237)",ISOLATION_MODE_TEXT_EDITOR_NOCURSOR_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_GUIDES_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_TEXT_EDITOR_SELECTION_HIGHLIGHT_COLOR:r.default.COLORS.ALIEN,MODE_SELECT:"select",MODE_GUIDE_SELECT:"guide-select",MODE_PAN:"pan",MODE_PAN_IN_GUIDE_SELECT:"pan-in-guide-select",MODE_RESIZE:"resize",MODE_ROTATE:"rotate",MODE_MOVE:"move",MODE_WAIT_MOVE:"wait-move",MODE_LINE:"line",MODE_SHAPE:"shape",MODE_CUSTOM_SHAPE:"custom-shape",MODE_HTML:"html",MODE_HOTSPOT:"hotspot",MODE_HOTSPOT_PATH:"hotspot-path",MODE_TEXT:"text",MODE_SCRANCHOR:"anchor",MODE_CANVAS_ADJUSTMENT:"canvas-adjustment",MODE_ICONS:"icons",MODE_COLOR_SELECT:"color-select",MODE_VGUIDE_MOVE:"vguide-move",MODE_HGUIDE_MOVE:"hguide-move",MODE_RULERS_MOVE:"rulers-move",MODE_TEXT_PLUS:"text-plus",AUTOPAN_ZONE:50,AUTOPAN_RATE:14,MOVE_TIMEOUT_MS:75,PAN_RATE:10,PAN_TO_EDGE_PADDING:10,PAN_TO_SELECTION_ZOOM_BUFFER:100,PAN_TO_SELECTION_EDGE_PADDING:100,FOLD_COLOR:r.default.COLORS.DUSTY_GRAY,FOLD_DASH:[3,3],FOLD_LABEL_FONT:"10px Helvetica",FOLD_LABEL:"   FOLD   ",HOVER_ZONE_COLOR:r.default.COLORS.CEROS_BLUE,HOVER_ZONE_OPACITY:.2,HOVER_ZONE_LINE_DASH:[4,4],DEFAULT_CANVAS_FILL_COLOR:"#FFFFFF",DEFAULT_FILL_COLOR:"#D1D1D1",DEFAULT_BORDER_COLOR:"#838383",DEFAULT_SHADOW_COLOR:"rgba(0, 0, 0, 0.5)",SCRANCHOR_BAR_COLOR:r.default.COLORS.PRIMARY_BLUE,SCRANCHOR_DRAG_BAR_WIDTH:2,SCRANCHOR_REST_BAR_WIDTH:1,SCRANCHOR_REST_BAR_DASH:[2],SCRANCHOR_MARKER_BG_COLOR:r.default.COLORS.PRIMARY_BLUE,SCRANCHOR_MARKER_HIGHLIGHT_COLOR:r.default.COLORS.PRIMARY_BLUE_ACTIVE,SCRANCHOR_MARKER_BORDER_COLOR:r.default.COLORS.WHITE,SCRANCHOR_MARKER_HEIGHT:17,SCRANCHOR_MARKER_TAPER:7,SCRANCHOR_MARKER_FONT_SIZE:10,SCRANCHOR_MARKER_TEXT_POSITION:10,SCRANCHOR_MARKER_TYPEFACE:"Helvetica",SCRANCHOR_MARKER_TEXT_COLOR:r.default.COLORS.WHITE,SCRANCHOR_ANCHOR_ICON_FONT:"10px CerosIcons-Regular",SCRANCHOR_ANCHOR_ICON_GLYPH:"",SCRANCHOR_ANCHOR_ICON_RIGHT_PADDING:1,SCRANCHOR_DRAG_MARGIN:60,SCRANCHOR_LINE_GRAB_MARGIN:2,SCRANCHOR_RULER_SHADING_COLOR:o.default.fromHex(r.default.COLORS.CEROS_BLUE).set({a:.2}).toString(),SCRANCHOR_TOOLTIP_HEIGHT:12,SCRANCHOR_TOOLTIP_PADDING:4,SCRANCHOR_TOOLTIP_BG_COLOR:r.default.COLORS.WHITE,SCRANCHOR_TOOLTIP_TYPEFACE:"Avenir Next, Avenir Next LT",SCRANCHOR_TOOLTIP_FONT_SIZE:12,SCRANCHOR_TOOLTIP_POSITION_COLOR:r.default.COLORS.GREY400,SCRANCHOR_TOOLTIP_SPACING:4,CANVAS_ADJUSTMENT_BAR_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_INVALID_COLOR:"#9CA2A3",CANVAS_ADJUSTMENT_DRAG_BAR_WIDTH:2,CANVAS_ADJUSTMENT_REST_BAR_WIDTH:1,CANVAS_ADJUSTMENT_REST_BAR_DASH:[2],CANVAS_ADJUSTMENT_AREA_ALPHA:.75,CANVAS_ADJUSTMENT_MARKER_LINE_WIDTH:3,CANVAS_ADJUSTMENT_MARKER_COLOR:r.default.COLORS.ALIEN,CANVAS_ADJUSTMENT_LINE_DASH:[4,4],CANVAS_ADJUSTMENT_TOOLTIP_TEXT_PADDING:2,CANVAS_ADJUSTMENT_TOOLTIP_COLOR:"black",CANVAS_ADJUSTMENT_TOOLTIP_WEBKIT_OFFSET:a.default.webkit?-2:0,CANVAS_ADJUSTMENT_TOOLTIP_SIZE:12,CANVAS_ADJUSTMENT_TOOLTIP_TEXT_COLOR:"white",CANVAS_ADJUSTMENT_INVALID_FILL_PATTERN_COLOR:[156,162,163,128],SMARTGROUPS_BREADCRUMB_HEIGHT:25,SMARTGROUPS_BREADCRUMB_FOREGROUND_COLOR:r.default.COLORS.ALIEN,SMARTGROUPS_BREADCRUMB_BACKGROUND_COLOR:r.default.COLORS.CASTLE_ROCK,SMARTGROUPS_BREADCRUMB_SEPARATOR_COLOR:r.default.COLORS.PEBBLE,SMARTGROUPS_BREADCRUMB_SEPARATOR_WIDTH:3,SMARTGROUPS_BREADCRUMB_FONT:"11px Montserrat",SMARTGROUPS_BREADCRUMB_PADDING:20,SMARTGROUPS_BREADCRUMB_STUDIO_TEXT:"Studio",ISOLATION_MODE_PROGRESS_BAR_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_FG_COLOR:r.default.COLORS.ALIEN,ISOLATION_MODE_PROGRESS_BAR_PROCESSING_BG_COLOR:r.default.COLORS.DUSTY_GRAY,LINE_COLOR:"rgb(0,170,210)",ISOLATION_MODE_LINE_COLOR:r.default.COLORS.ALIEN,PINNED_GROUP_BOTTOM_OFFSET:10,PINNED_ANCHOR_SIZE:20,DEFAULT_ICON_SVG_FILL_COLOR:"#D1D1D1",EMBEDDED_OBJECT_PADDING:10,EMBEDDED_OBJECT_FILL_COLOR:"#9CA2A3",EMBEDDED_OBJECT_FILL_ALPHA:1,EMBEDDED_OBJECT_OUTLINE_ALPHA:.75,EMBEDDED_OBJECT_OUTLINE_OFFSET:.5,EMBEDDED_OBJECT_STROKE_STYLE:"rgb(128,128,128)",EMBEDDED_OBJECT_LINE_WIDTH:1.0001,EMBEDDED_OBJECT_ICON_SIDE_LENGTH:45,EMBEDDED_OBJECT_FONT_SIZE_AND_FAMILY:"11px Montserrat",EMBEDDED_OBJECT_FONT_FILL_COLOR:"#FFFFFF",EMBEDDED_OBJECT_LABEL_X_ADJUSTMENT:-35,EMBEDDED_OBJECT_LABEL_Y_ADJUSTMENT:75,EMBEDDED_OBJECT_LINE_DASH_STYLE:[4,4],IMAGE_CROPPING_MASK_COLOR:"rgba(226, 227, 228, 0.6)",IMAGE_CROPPING_HANDLE_COLOR:"rgb(0,0,0)",ISOLATION_MODE_IMAGE_CROPPING_HANDLE_COLOR:r.default.COLORS.ALIEN,IMAGE_CROPPING_HANDLE_THICKNESS:5,IMAGE_CROPPING_HANDLE_THICKNESS_SMALL:3,IMAGE_CROPPING_HANDLE_LENGTH:8,IMAGE_CROPPING_SMALL_SELECTION_THRESHOLD:18,INTEGRATION_FORM_FILL_COLOR:"rgba(156, 162, 163, 0.75)",INTEGRATION_FORM_LINE_HEIGHT:20,PROGRESS_BAR_HEIGHT:6,CUSTOM_PATH_MOUSE_DISTANCE_TO_EDGE_THRESHOLD:10,CUSTOM_PATH_ENDPOINT_POINT_SIZE:8,CUSTOM_PATH_CONTROL_POINT_SIZE:5,CUSTOM_PATH_CONTROL_HANDLE_WIDTH:1,CUSTOM_PATH_ANCHOR_POINT_MOUSEOVER_TOLERANCE:15,CUSTOM_PATH_INACTIVE_ANCHOR_POINT_FILL_STYLE:"rgb(255, 255, 255)",CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT:50,HOTSPOT_PATH_WITH_INTERACTIONS_STROKE_STYLE:"rgb(69,151,209)",HOTSPOT_PATH_WITHOUT_INTERACTIONS_STROKE_STYLE:"rgb(128,128,128)",HOTSPOT_PATH_GLOBAL_ALPHA:.75,TEXT_OVER_COMPONENT_DEFAULT_TEXT_SIZE:12,TEXT_OVER_COMPONENT_BACKGROUND_COLOR:"#192024",TEXT_OVER_COMPONENT_DEFAULT_TEXT_COLOR:"white",LOADING_TRANSITION_DEFAULT_TEXT:"Loading Media",LOADING_TRANSITION_DEFAULT_OPACITY:1,LOADING_TRANSITION_DEFAULT_REVERSE:!1,LOADING_TRANSITION_OPACITY_INCREMENT:.0025,LOADING_TRANSITION_DEFAULT_SHOULD_RENDER:!0,LOADING_TRANSITION_DEFAULT_SHOULD_ANIMATE:!1,LOADING_TRANSITION_WAIT_FRAMES:50,DOUBLE_CLICK_WAIT_TIME_MS:300,DOUBLE_CLICK_DETAIL:2,VERIFICATION_THAT_COPY_WAS_FROM_CEROS:"[CEROS OBJECT]",OBJECT_STATES_DEFAULT:"default",OBJECT_STATES_HOVER:"hover",OBJECT_STATES_CLICK:"click",OBJECT_STATES_COMPONENT_AFFORDANCE_OFFSET:7,DEFAULT_PAGE_NAME:"Untitled Page",COLOR_PICKER_CURSOR_STROKE_COLOR:r.default.COLORS.GREY300,COLOR_PICKER_CURSOR_STROKE_WIDTH:1,COLOR_PICKER_CURSOR_INNER_BORDER_COLOR:r.default.COLORS.WHITE,COLOR_PICKER_CURSOR_LINE_WIDTH:2};s.PAGE_TOP_OFFSET=20+s.CANVAS_BACKGROUND_TAB_HEIGHT+20,s.RULER_MAJOR=10*s.RULER_INCREMENT,s.RULER_MINOR=5*s.RULER_INCREMENT,s.AUTOPAN_MODES=[s.MODE_SELECT,s.MODE_RESIZE,s.MODE_MOVE,s.MODE_LINE,s.MODE_SHAPE,s.MODE_HTML,s.MODE_HOTSPOT,s.MODE_TEXT,s.MODE_SCRANCHOR],s.HANDLES={NORTH:"n",NORTH_WEST:"nw",NORTH_EAST:"ne",WEST:"w",EAST:"e",SOUTH:"s",SOUTH_WEST:"sw",SOUTH_EAST:"se"},s.LINE_HANDLES={ONE:1,TWO:2},s.RESIZE_MODE={BOTH:0,HORIZONTAL:1,VERTICAL:2},s.ROTATION_HANDLES=[s.HANDLES.NORTH_WEST,s.HANDLES.NORTH_EAST,s.HANDLES.SOUTH_WEST,s.HANDLES.SOUTH_EAST],e.default=s},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";e.a=function(){return[]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(174);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Object(i.a)(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(9),r=n(38),o=n(39),a=n(118);class s{constructor(t,e){s._observerInstance||s._createObserver(),this._element=t,this._callback=e,s._addElementCallback(t,e),s._observerInstance.observe(t)}destroy(){s._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){s._elementCallbacks||(s._elementCallbacks=new Map);let n=s._elementCallbacks.get(t);n||(n=new Set,s._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=s._getElementCallbacks(t);n&&(n.delete(e),n.size||(s._elementCallbacks.delete(t),s._observerInstance.unobserve(t))),s._elementCallbacks&&!s._elementCallbacks.size&&(s._observerInstance=null,s._elementCallbacks=null)}static _getElementCallbacks(t){return s._elementCallbacks?s._elementCallbacks.get(t):null}static _createObserver(){let t;t="function"==typeof r.a.window.ResizeObserver?r.a.window.ResizeObserver:u,s._observerInstance=new t(t=>{for(const e of t){const t=s._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}}s._observerInstance=null,s._elementCallbacks=null;class u{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(r.a.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new o.a(t),n=this._previousRects.get(t),i=!n||!n.isEqual(e);return this._previousRects.set(t,e),i}}Object(i.default)(u,a.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n(30),r=n(77),o=n(189),a=n(6),s=n(17),u=n(97),l=n(149),c=n(139),d=n(146),f=n(23),h=n(38);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function p(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function g(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}var m=n(59);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const v=Object(f.a)(document),y=Object(f.e)(document),_=Object(f.d)(document);class b{constructor(t,e={}){this.document=t,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new d.a,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new u.a(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of t.childNodes)this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i="$comment"===t.name?e.createComment(t.getCustomProperty("$rawContent")):t.render(e),n.bind&&this.bindElements(i,t),i;i=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(i),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(!1!==n.withChildren)for(const r of this.viewChildrenToDom(t,e,n))i.appendChild(r);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let r=0;for(const o of t.getChildren())i===r&&(yield this._getBlockFiller(e)),yield this.viewToDom(o,e,n),r++;i===r&&(yield this._getBlockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return Object(f.i)(n)&&(i+=f.c),{parent:n,offset:i}}{let n,i,r;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;r=n.childNodes[0]}else{const e=t.nodeBefore;if(i=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore),!i)return null;n=i.parentNode,r=i.nextSibling}if(Object(m.a)(r)&&Object(f.i)(r))return{parent:r,offset:f.c};return{parent:n,offset:i?p(i)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(this.isComment(t)&&e.skipComments)return null;if(Object(m.a)(t)){if(Object(f.h)(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new i.a(this.document,e)}}{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new l.default(this.document),e.bind&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),e.bind&&this.bindElements(t,n);const i=t.attributes;if(i)for(let t=i.length-1;t>=0;t--)n._setAttribute(i[t].name,i[t].value);if(this._isViewElementWithRawContent(n,e)||this.isComment(t)){const e=this.isComment(t)?t.data:t.innerHTML;return n._setCustomProperty("$rawContent",e),this._encounteredRawContentDomNodes.add(t),n}}if(!1!==e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],r=this.domToView(i,e);null!==r&&(yield r)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Object(m.a)(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),r=this.domRangeToView(i);r&&n.push(r)}return new u.a(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new s.a(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,p(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return a.a._createBefore(n);if(Object(m.a)(t)){if(Object(f.h)(t))return this.domPositionToView(t.parentNode,p(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(Object(f.i)(t)&&(i-=f.c,i=i<0?0:i),new a.a(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new a.a(e,0)}else{const n=t.childNodes[e-1],i=Object(m.a)(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new a.a(i.parent,i.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Object(f.h)(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){return t.nextSibling instanceof i.a?t.nextSibling:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof i.a?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=h.a.window,i=[];w(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),w(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),h.a.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(v):!("BR"!==t.tagName||!T(t,this.blockElements)||1!==t.parentNode.childNodes.length)||(t.isEqualNode(_)||function(t,e){return t.isEqualNode(y)&&T(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements))}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=g(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(t){switch(this.blockFillerMode){case"nbsp":return Object(f.e)(t);case"markedNbsp":return Object(f.d)(t);case"br":return Object(f.a)(t)}}_isDomSelectionPositionCorrect(t,e){if(Object(m.a)(t)&&Object(f.i)(t)&&e<f.c)return!1;if(this.isElement(t)&&Object(f.i)(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),i=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!i||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(function(t,e){return g(t).some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}(t,this.preElements))return Object(f.f)(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),r=this._checkShouldLeftTrimDomText(t,n),o=this._checkShouldRightTrimDomText(t,i);r&&(e=e.replace(/^ /,"")),o&&(e=e.replace(/ $/,"")),e=Object(f.f)(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const a=i&&this.isElement(i)&&"BR"!=i.tagName,s=i&&Object(m.a)(i)&&" "==i.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!i||a||s)&&(e=e.replace(/\u00A0$/," ")),(r||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!Object(f.i)(t)}_getTouchingInlineViewNode(t,e){const n=new c.a({startPosition:e?a.a._createAfter(t):a.a._createBefore(t),direction:e?"forward":"backward"});for(const t of n){if(t.item.is("element")&&this.inlineObjectElements.includes(t.item.name))return t.item;if(t.item.is("containerElement"))return null;if(t.item.is("element","br"))return null;if(t.item.is("$textProxy"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",i=e?"nextSibling":"previousSibling";let r=!0;do{if(!r&&t[n]?t=t[n]:t[i]?(t=t[i],r=!1):(t=t.parentNode,r=!0),!t||this._isBlockElement(t))return null}while(!Object(m.a)(t)&&"BR"!=t.tagName&&!this._isInlineObjectElement(t));return t}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(this.isComment(t))return new o.a(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new r.a(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&this._rawContentElementMatcher.match(t)}}function w(t,e){for(;t&&t!=h.a.document;)e(t),t=t.parentNode}function T(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const i={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};e.a=i},function(t,e,n){"use strict";var i=n(261),r=Object(i.a)(Object.getPrototypeOf,Object);e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(77);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.a{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=o}is(t,e=null){return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}function o(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}},function(t,e,n){"use strict";e.a=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){"use strict";var i=n(22);e.a=function(){return i.a.Date.now()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(151);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.a{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){const{schema:e,document:n}=t.model;for(const i of n.getRootNames()){const r=n.getRoot(i);if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return t.insertElement("paragraph",r),!0}return!1}function r(t,e,n){const i=n.createContext(t);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),e)}function o(t,e){const n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}n.r(e),n.d(e,"autoParagraphEmptyRoots",(function(){return i})),n.d(e,"isParagraphable",(function(){return r})),n.d(e,"wrapInParagraph",(function(){return o}))},function(t,e,n){"use strict";var i=function(){this.__data__=[],this.size=0},r=n(49);var o=function(t,e){for(var n=t.length;n--;)if(Object(r.a)(t[n][0],e))return n;return-1},a=Array.prototype.splice;var s=function(t){var e=this.__data__,n=o(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)};var u=function(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]};var l=function(t){return o(this.__data__,t)>-1};var c=function(t,e){var n=this.__data__,i=o(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function d(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}d.prototype.clear=i,d.prototype.delete=s,d.prototype.get=u,d.prototype.has=l,d.prototype.set=c;e.a=d},function(t,e,n){"use strict";var i=n(138),r=n(173),o=n(204),a=n(148);var s=function(t,e,n,i,s,u){var l=1&n,c=t.length,d=e.length;if(c!=d&&!(l&&d>c))return!1;var f=u.get(t),h=u.get(e);if(f&&h)return f==e&&h==t;var p=-1,g=!0,m=2&n?new r.a:void 0;for(u.set(t,e),u.set(e,t);++p<c;){var v=t[p],y=e[p];if(i)var _=l?i(y,v,p,e,t,u):i(v,y,p,t,e,u);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!Object(o.a)(e,(function(t,e){if(!Object(a.a)(m,e)&&(v===t||s(v,t,n,i,u)))return m.push(e)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,i,u)){g=!1;break}}return u.delete(t),u.delete(e),g},u=n(50),l=n(211),c=n(49),d=n(205),f=n(167),h=u.a?u.a.prototype:void 0,p=h?h.valueOf:void 0;var g=function(t,e,n,i,r,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new l.a(t),new l.a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(c.a)(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=d.a;case"[object Set]":var h=1&i;if(u||(u=f.a),t.size!=e.size&&!h)return!1;var g=a.get(t);if(g)return g==e;i|=2,a.set(t,e);var m=s(u(t),u(e),i,r,o,a);return a.delete(t),m;case"[object Symbol]":if(p)return p.call(t)==p.call(e)}return!1},m=n(229),v=Object.prototype.hasOwnProperty;var y=function(t,e,n,i,r,o){var a=1&n,s=Object(m.a)(t),u=s.length;if(u!=Object(m.a)(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:v.call(e,c)))return!1}var d=o.get(t),f=o.get(e);if(d&&f)return d==e&&f==t;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++l<u;){var g=t[c=s[l]],y=e[c];if(i)var _=a?i(y,g,c,e,t,o):i(g,y,c,t,e,o);if(!(void 0===_?g===y||r(g,y,n,i,o):_)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var b=t.constructor,w=e.constructor;b==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return o.delete(t),o.delete(e),h},_=n(68),b=n(5),w=n(81),T=n(103),S="[object Object]",O=Object.prototype.hasOwnProperty;var E=function(t,e,n,r,o,a){var u=Object(b.a)(t),l=Object(b.a)(e),c=u?"[object Array]":Object(_.a)(t),d=l?"[object Array]":Object(_.a)(e),f=(c="[object Arguments]"==c?S:c)==S,h=(d="[object Arguments]"==d?S:d)==S,p=c==d;if(p&&Object(w.a)(t)){if(!Object(w.a)(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new i.a),u||Object(T.a)(t)?s(t,e,n,r,o,a):g(t,e,c,n,r,o,a);if(!(1&n)){var m=f&&O.call(t,"__wrapped__"),v=h&&O.call(e,"__wrapped__");if(m||v){var E=m?t.value():t,P=v?e.value():e;return a||(a=new i.a),o(E,P,n,r,a)}}return!!p&&(a||(a=new i.a),y(t,e,n,r,o,a))},P=n(18);e.a=function t(e,n,i,r,o){return e===n||(null==e||null==n||!Object(P.a)(e)&&!Object(P.a)(n)?e!=e&&n!=n:E(e,n,i,r,t,o))}},function(t,e,n){"use strict";var i=n(191);var r=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var o=function(t){return this.__data__.has(t)};function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i.a;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o;e.a=a},function(t,e,n){"use strict";var i=n(63),r=n(119),o=n(33),a=Object(r.a)((function(t,e){Object(i.a)(e,Object(o.a)(e),t)}));e.a=a},function(t,e,n){"use strict";var i=n(104),r=n(22),o=Object(i.a)(r.a,"Map");e.a=o},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(77),r=n(1);class o extends i.a{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=a,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new r.default("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(t,e=null){return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function a(){if(s(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(s(t)>1)return null;t=t.parent}return!t||s(t)>1?null:this.childCount}function s(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}o.DEFAULT_PRIORITY=10},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p})),n.d(e,"insertText",(function(){return g})),n.d(e,"remove",(function(){return m})),n.d(e,"createViewElementFromHighlightDescriptor",(function(){return v})),n.d(e,"convertRangeSelection",(function(){return y})),n.d(e,"convertCollapsedSelection",(function(){return _})),n.d(e,"clearAttributes",(function(){return b})),n.d(e,"wrap",(function(){return w})),n.d(e,"insertElement",(function(){return T})),n.d(e,"insertUIElement",(function(){return S}));var i=n(2),r=n.n(i),o=n(147),a=n(25),s=n(176),u=n(75),l=n(273),c=n.n(l),d=n(105),f=n(1),h=n(76);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class p extends c.a{elementToElement(t){return this.add(function(t){return(t=Object(d.a)(t)).view=E(t.view,"container"),e=>{if(e.on("insert:"+t.model,T(t.view),{priority:t.converterPriority||"normal"}),t.triggerBy){if(t.triggerBy.attributes)for(const n of t.triggerBy.attributes)e._mapReconversionTriggerEvent(t.model,`attribute:${n}:${t.model}`);if(t.triggerBy.children)for(const n of t.triggerBy.children)e._mapReconversionTriggerEvent(t.model,"insert:"+n),e._mapReconversionTriggerEvent(t.model,"remove:"+n)}}}(t))}attributeToElement(t){return this.add(function(t){t=Object(d.a)(t);let e="attribute:"+(t.model.key?t.model.key:t.model);t.model.name&&(e+=":"+t.model.name);if(t.model.values)for(const e of t.model.values)t.view[e]=E(t.view[e],"attribute");else t.view=E(t.view,"attribute");const n=P(t);return i=>{i.on(e,w(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=Object(d.a)(t);let e="attribute:"+(t.model.key?t.model.key:t.model);t.model.name&&(e+=":"+t.model.name);if(t.model.values)for(const e of t.model.values)t.view[e]=C(t.view[e]);else t.view=C(t.view);const n=P(t);return i=>{var r;i.on(e,(r=n,(t,e,n)=>{const i=r(e.attributeOldValue,n),o=r(e.attributeNewValue,n);if(!i&&!o)return;if(!n.consumable.consume(e.item,t.name))return;const a=n.mapper.toViewElement(e.item),s=n.writer;if(!a)throw new f.default("conversion-attribute-to-attribute-on-text",[e,n]);if(null!==e.attributeOldValue&&i)if("class"==i.key){const t=Object(h.default)(i.value);for(const e of t)s.removeClass(e,a)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)s.removeStyle(e,a)}else s.removeAttribute(i.key,a);if(null!==e.attributeNewValue&&o)if("class"==o.key){const t=Object(h.default)(o.value);for(const e of t)s.addClass(e,a)}else if("style"==o.key){const t=Object.keys(o.value);for(const e of t)s.setStyle(e,o.value[e],a)}else s.setAttribute(o.key,o.value,a)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=Object(d.a)(t)).view=E(t.view,"ui"),e=>{e.on("addMarker:"+t.model,S(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{if(!e.item)return;if(!(e.item instanceof o.default||e.item instanceof u.a||e.item.is("$textProxy")))return;const r=A(n,e,i);if(!r)return;if(!i.consumable.consume(e.item,t.name))return;const a=i.writer,s=v(a,r),l=a.document.selection;if(e.item instanceof o.default||e.item instanceof u.a)a.wrap(l.getFirstRange(),s,l);else{const t=i.mapper.toViewRange(e.range),n=a.wrap(t,s);for(const t of n.getItems())if(t.is("attributeElement")&&t.isSimilar(s)){i.mapper.bindElementToMarker(t,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof a.default))return;const o=A(t,n,i);if(!o)return;if(!i.consumable.test(n.item,e.name))return;const s=i.mapper.toViewElement(n.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of r.a._createIn(n.item))i.consumable.consume(t.item,e.name);s.getCustomProperty("addHighlight")(s,o,i.writer),i.mapper.bindElementToMarker(s,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const r=A(t,n,i);if(!r)return;const o=v(i.writer,r),a=i.mapper.markerNameToElements(n.markerName);if(a){for(const t of a)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),o):t.getCustomProperty("removeHighlight")(t,r.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(t){const e=(t=Object(d.a)(t)).model;t.view||(t.view=n=>({group:e,name:n.substr(t.model.length+1)}));return n=>{var i;n.on("addMarker:"+e,(i=t.view,(t,e,n)=>{const r=i(e.markerName,n);if(!r)return;const o=e.markerRange;n.consumable.consume(o,t.name)&&(O(o,!1,n,e,r),O(o,!0,n,e,r),t.stop())}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+e,function(t){return(e,n,i)=>{const r=t(n.markerName,i);if(!r)return;const o=i.mapper.markerNameToElements(n.markerName);if(o){for(const t of o)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("containerElement")?(a(`data-${r.group}-start-before`,t),a(`data-${r.group}-start-after`,t),a(`data-${r.group}-end-before`,t),a(`data-${r.group}-end-after`,t)):i.writer.clear(i.writer.createRangeOn(t),t);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}function a(t,e){if(e.hasAttribute(t)){const n=new Set(e.getAttribute(t).split(","));n.delete(r.name),0==n.size?i.writer.removeAttribute(t,e):i.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function g(){return(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,r=n.mapper.toViewPosition(e.range.start),o=i.createText(e.item.data);i.insert(r,o)}}function m(){return(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),r=e.position.getShiftedBy(e.length),o=n.mapper.toViewPosition(r,{isPhantom:!0}),a=n.writer.createRange(i,o),s=n.writer.remove(a.getTrimmed());for(const t of n.writer.createRangeIn(s).getItems())n.mapper.unbindViewElement(t)}}function v(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function y(){return(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=[];for(const t of i.getRanges()){const e=n.mapper.toViewRange(t);r.push(e)}n.writer.setSelection(r,{backward:i.isBackward})}}function _(){return(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const r=n.writer,o=i.getFirstPosition(),a=n.mapper.toViewPosition(o),s=r.breakAttributes(a);r.setSelection(s)}}function b(){return(t,e,n)=>{const i=n.writer,r=i.document.selection;for(const t of r.getRanges())t.isCollapsed&&t.end.parent.isAttached()&&n.writer.mergeAttributes(t.start);i.setSelection(null)}}function w(t){return(e,n,i)=>{const r=t(n.attributeOldValue,i),a=t(n.attributeNewValue,i);if(!r&&!a)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.writer,l=s.document.selection;if(n.item instanceof o.default||n.item instanceof u.a)s.wrap(l.getFirstRange(),a);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&r&&(t=s.unwrap(t,r)),null!==n.attributeNewValue&&a&&s.wrap(t,a)}}}function T(t){return(e,n,i)=>{const r=t(n.item,i);if(!r)return;if(!i.consumable.consume(n.item,"insert"))return;const o=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,r),i.writer.insert(o,r)}}function S(t){return(e,n,i)=>{n.isOpening=!0;const r=t(n,i);n.isOpening=!1;const o=t(n,i);if(!r||!o)return;const a=n.markerRange;if(a.isCollapsed&&!i.consumable.consume(a,e.name))return;for(const t of a)if(!i.consumable.consume(t.item,e.name))return;const s=i.mapper,u=i.writer;u.insert(s.toViewPosition(a.start),r),i.mapper.bindElementToMarker(r,n.markerName),a.isCollapsed||(u.insert(s.toViewPosition(a.end),o),i.mapper.bindElementToMarker(o,n.markerName)),e.stop()}}function O(t,e,n,i,r){const o=e?t.start:t.end,a=o.nodeAfter&&o.nodeAfter.is("element")?o.nodeAfter:null,s=o.nodeBefore&&o.nodeBefore.is("element")?o.nodeBefore:null;if(a||s){let t,o;e&&a||!e&&!s?(t=a,o=!0):(t=s,o=!1);const u=n.mapper.toViewElement(t);if(u)return void function(t,e,n,i,r,o){const a=`data-${o.group}-${e?"start":"end"}-${n?"before":"after"}`,s=t.hasAttribute(a)?t.getAttribute(a).split(","):[];s.unshift(o.name),i.writer.setAttribute(a,s.join(","),t),i.mapper.bindElementToMarker(t,r.markerName)}(u,e,o,n,i,r)}!function(t,e,n,i,r){const o=`${r.group}-${e?"start":"end"}`,a=r.name?{name:r.name}:null,s=n.writer.createUIElement(o,a);n.writer.insert(t,s),n.mapper.bindElementToMarker(s,i.markerName)}(n.mapper.toViewPosition(o),e,n,i,r)}function E(t,e){return"function"==typeof t?t:(n,i)=>function(t,e,n){"string"==typeof t&&(t={name:t});let i;const r=e.writer,o=Object.assign({},t.attributes);if("container"==n)i=r.createContainerElement(t.name,o);else if("attribute"==n){const e={priority:t.priority||s.default.DEFAULT_PRIORITY};i=r.createAttributeElement(t.name,o,e)}else i=r.createUIElement(t.name,o);if(t.styles){const e=Object.keys(t.styles);for(const n of e)r.setStyle(n,t.styles[n],i)}if(t.classes){const e=t.classes;if("string"==typeof e)r.addClass(e,i);else for(const t of e)r.addClass(t,i)}return i}(t,i,e)}function P(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function C(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function A(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(54),r=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o extends i.a{constructor(t,e,n,i,r){super(r),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new o(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new o(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new r.default("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new r.default("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new r.default("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new r.default("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new o(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}},function(t,e,n){"use strict";var i=n(104),r=n(22),o=Object(i.a)(r.a,"Set");e.a=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(234)),u=i(n(484)),l=i(n(485)),c=i(n(278)),d=i(n(486)),f=i(n(238));var h=new Set;e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,n){var i=function(t,e,n){o.default.isNull(e)&&(e="full");var i=t+"|"+e;f.default.isValidCropObject(n)&&(i+="|"+f.default.createCropDimensionsString(n));return i}(t,e,n);return l.default.add(i,(function(){return s.default.getOrCreateRasterImageResource(t,e,n)}))},addVectorImage:function(t,e){return l.default.add(t,(function(){return h.has(t)?e=!0:h.add(t),new c.default(t,void 0,e,void 0,!0).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred,n={google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}};return a.default.googleFontUrl&&(n.google.api=a.default.googleFontUrl),d.default.load(n),e.promise()}))},addCustomWebFont:function(t,e,n){if(l.default.has(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var i={families:t,urls:e};return o.default.isUndefined(n)||(i.testStrings={},o.default.isObject(n)?o.default.each(t,(function(t){o.default.isUndefined(n[t])||(i.testStrings[t]=n[t])})):o.default.each(t,(function(t){i.testStrings[t]=n}))),l.default.add(e,(function(){var e=[],n={};return o.default.each(t,(function(t){var i=new r.default.Deferred;e.push(i),n[t]=i})),d.default.load({custom:i,async:!0,fontactive:function(t){n[t].resolve()},fontinactive:function(t){n[t].reject()}}),r.default.when.apply(r.default,e).promise()}))},has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=a(n(0)),l=a(n(13)),c=a(n(3)),d=a(n(24)),f=a(n(8)),h=o(n(93)),p=a(n(106)),g={tablet:{height:4,width:3},mobile:{height:16,width:9}},m={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},v={tablet:106,mobile:96,desktop:52},y={tablet:54,mobile:44,desktop:0},_={tablet:0,mobile:0,desktop:15},b=["desktop","tablet","mobile"],w={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=u.default.extend({},l.default.Events,{fullScreenMode:!1,previewerFrameSize:"desktop",triggerReload:function(){s.trigger("reload"),this.trigger(w.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){s=t},isDocVersionSet:function(){return!u.default.isUndefined(s)},doesVariantExist:function(t){return u.default.includes(u.default.keys(s.get("overrides")),t)||"desktop"===t},hasVariants:function(){return f.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return u.default.keys(s.get("overrides")).length},getExistingVariants:function(){return u.default.keys(s.get("overrides"))},getLayoutSettings:function(){return s.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(f.default.previewMode&&f.default.allowAdaptiveLayouts&&!e){var n=this.getPreviewerFrameSize(),i=v[n],r=y[n];f.default.isEditor&&(i+=_[n]);var o=t.height()-(i+r),a=Math.max(o/m[n].height,300),s="desktop"===n?t.width():a*(g[n].width/g[n].height);return{width:h.toNextMultiple(s,2),height:h.toNextMultiple(a,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(f.default.previewMode&&f.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();d.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(d.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate("desktop"))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?p.default.parseLayoutFromLocation():"desktop"},getLayoutFromQueryParam:function(){return p.default.getLayoutFromQueryParam()},hasFrameSizeOnUrl:function(){return!!p.default.parseLayoutFromLocation()},isValidVariantName:function(t){return u.default.includes(b,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).width)*(m[e].width-1)/2},getTopBottomBorderWidth:function(t,e,n){return(n||this.getExperienceContainerDimensions(t).height)*(m[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=c.default(".adaptive-layouts-frame");this.fullScreenMode?(c.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:c.default(window).width(),height:c.default(window).height()}),c.default(window).trigger("resize")):(c.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),c.default(window).trigger("resize"))},VALID_VARIANT_NAMES:b,PREVIEWER_TOP_PADDING_BY_VARIANT:v,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:m,EVENTS:w})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(55));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("https://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("https://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var n={url:t,media:e},i=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return i&&(n.description=i),o.default.appendQueryParams("https://pinterest.com/pin/create/button/",n)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("https://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontUtil=void 0;var o=r(n(0)),a=r(n(3)),s=n(85),u=function(){function t(){}return t.loadMetrics=function(t){return a.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},t.buildGoogleVariantDisplayName=function(t,e){var n={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(n+=" "+e),String(n)},t.parseGoogleVariantGuid=function(e){var n=i(e.split("|"),4),r=n[1],o=n[2],a=n[3],s=parseInt(o,10);return isNaN(s)&&(s=400),{familyName:r,fontStyle:a,weight:s,variant:t.buildGoogleVariantName(s,a).toLocaleLowerCase()}},t.parseGoogleVariantGuidAsCssStyle=function(e){var n=t.parseGoogleVariantGuid(e),i=n.fontStyle;return{fontFamily:n.familyName,fontWeight:n.weight,fontStyle:i}},t.parseGoogleVariantName=function(t){var e,n;if("regular"===(t=t.toLowerCase()))e=400,n="normal";else if("italic"===t)e=400,n="italic";else if("oblique"===t)e=400,n="oblique";else{var i=t.match(/(\d+)(italic|regular|oblique)?/i);if(!i||3!==i.length)throw"Could not parse google variant: "+t;e=parseInt(i[1],10),n=i[2]&&"regular"!==i[2]?i[2]:"normal"}return{fontWeight:e,fontStyle:n,variantName:this.buildGoogleVariantDisplayName(e,n)}},t.buildGoogleVariantGuid=function(e,n){var i=t.parseGoogleVariantName(n);return"Google|"+e+"|"+i.fontWeight+"|"+i.fontStyle},t.buildGoogleVariantGuidFromValues=function(t,e,n){return"Google|"+t+"|"+e+"|"+n},t.buildGoogleVariantName=function(t,e){var n=null;return 400===t?n="italic"===e?"italic":"oblique"===e?"oblique":"regular":(n=""+t,"italic"===e?n+="Italic":"oblique"===e&&(n+="Oblique")),n},t.getFontAPI=function(t){return o.default.startsWith(t,s.FontConstants.GOOGLE_API_ID)?s.FontConstants.GOOGLE_API_ID:t.startsWith(s.FontConstants.FONT_PLUS_UPLOADED_API_ID)?s.FontConstants.FONT_PLUS_UPLOADED_API_ID:o.default.startsWith(t,s.FontConstants.UPLOADED_API_ID)?s.FontConstants.UPLOADED_API_ID:o.default.startsWith(t,s.FontConstants.BUILTIN_API_ID)?s.FontConstants.BUILTIN_API_ID:""},t}();e.FontUtil=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.layerTargets=e.layerTargets,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(n(131).BaseInteraction);e.BaseVisibilityInteraction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTML_TAG_OPTIONS=e.TEXTPLUS_HTML_TAG_MAP=e.EHEADING_ATTRIBUTE_MAP=e.ParagraphElementEnum=e.ListElementEnum=e.TextPlusClassName=void 0,e.TextPlusClassName="ceros-text-editor",function(t){t.OL="ol",t.UL="ul",t.LI="li",t.EOL="/ol",t.EUL="/ul",t.ELI="/li"}(e.ListElementEnum||(e.ListElementEnum={})),function(t){t.P="p",t.EP="/p"}(e.ParagraphElementEnum||(e.ParagraphElementEnum={})),e.EHEADING_ATTRIBUTE_MAP={heading1:"/heading1",heading2:"/heading2",heading3:"/heading3",heading4:"/heading4",heading5:"/heading5",heading6:"/heading6"},e.TEXTPLUS_HTML_TAG_MAP={heading1:"h1",heading2:"h2",heading3:"h3",heading4:"h4",heading5:"h5",heading6:"h6",paragraph:"p"};var i=Object.keys(e.TEXTPLUS_HTML_TAG_MAP);e.HTML_TAG_OPTIONS=i.map((function(t,n){return{name:t,title:("paragraph"===t?"Paragraph":"Header "+(n+1))+" <"+e.TEXTPLUS_HTML_TAG_MAP[t]+">"}}))},function(t,e,n){"use strict";(function(t){var i=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */e.a="29.2.0";const r="object"==typeof window?window:t;if(r.CKEDITOR_VERSION)throw new i.default("ckeditor-duplicated-modules",null);r.CKEDITOR_VERSION="29.2.0"}).call(this,n(129))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(2),r=n.n(i),o=n(15),a=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends r.a{constructor(t,e){super(t,e),u.call(this)}detach(){this.stopListening()}is(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}toRange(){return new r.a(this.start,this.end)}static fromRange(t){return new s(t.start,t.end)}}function u(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&l.call(this,n)},{priority:"low"})}function l(t){const e=this.getTransformedByOperation(t),n=r.a._createFromRanges(e),i=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let a=null;if(i){"$graveyard"==n.root.rootName&&(a="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:a})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:a})}Object(a.default)(s,o.default)},function(t,e,n){"use strict";var i=n(18),r=n(64);e.a=function(t){return Object(i.a)(t)&&1===t.nodeType&&!Object(r.a)(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var i=n(77),r=n(1),o=n(121),a=n(26);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends i.a{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=l}is(t,e=null){return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof o.a||Array.from(e).length>0))throw new r.default("view-uielement-cannot-add",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function u(t){t.document.on("arrowKey",(e,n)=>function(t,e,n){if(e.keyCode==a.f.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,r=t.focusOffset,o=n.domPositionToView(e,r);if(null===o)return;let a=!1;const s=o.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(a=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(a){const e=n.viewPositionToDom(s);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}}(0,n,t.domConverter),{priority:"low"})}function l(){return null}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return"[object Range]"==Object.prototype.toString.apply(t)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i=n(104),r=Object(i.a)(Object,"create");var o=function(){this.__data__=r?r(null):{},this.size=0};var a=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},s=Object.prototype.hasOwnProperty;var u=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(e,t)?e[t]:void 0},l=Object.prototype.hasOwnProperty;var c=function(t){var e=this.__data__;return r?void 0!==e[t]:l.call(e,t)};var d=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this};function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}f.prototype.clear=o,f.prototype.delete=a,f.prototype.get=u,f.prototype.has=c,f.prototype.set=d;var h=f,p=n(171),g=n(175);var m=function(){this.size=0,this.__data__={hash:new h,map:new(g.a||p.a),string:new h}};var v=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var y=function(t,e){var n=t.__data__;return v(e)?n["string"==typeof e?"string":"hash"]:n.map};var _=function(t){var e=y(this,t).delete(t);return this.size-=e?1:0,e};var b=function(t){return y(this,t).get(t)};var w=function(t){return y(this,t).has(t)};var T=function(t,e){var n=y(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function S(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}S.prototype.clear=m,S.prototype.delete=_,S.prototype.get=b,S.prototype.has=w,S.prototype.set=T;e.a=S},function(t,e,n){"use strict";var i=n(104),r=n(22),o=Object(i.a)(r.a,"WeakMap");e.a=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamily=void 0;var r=i(n(0)),o=n(297),a=n(85),s=function(){function t(t){void 0===t&&(t={}),this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]}return t.prototype.isBuiltIn=function(){return this.api===a.FontConstants.BUILTIN_API_ID},t.prototype.isUploaded=function(){return this.api===a.FontConstants.UPLOADED_API_ID},t.prototype.isCrossAccount=function(){return this.crossAccount},t.prototype.getFamilyName=function(){return this.family},t.prototype.getVariants=function(){return this.variants},t.prototype.addVariant=function(t,e){var n=this.createVariant(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(n),n},t.prototype.createVariant=function(t,e){return void 0===e&&(e={}),new o.FontVariant(t,e)},t.prototype.updateVariant=function(t){var e=r.default.findIndex(this.variants,(function(e){return t.getGuid()===e.getGuid()}));-1===e?this.variants.push(t):this.variants[e]=t},t.prototype.getVariantsCount=function(){return this.variants.length},t.prototype.getVariantNames=function(){return r.default.map(this.variants,(function(t){return t.getName()}))},t.prototype.getCssFamilyName=function(){return this.isUploaded()&&this.variants.length>0?this.variants[0].getCssFamilyName():this.getFamilyName()},t.prototype.getGuid=function(){return this.guid},t.prototype.getVariant=function(t){return r.default.find(this.variants,(function(e){return e.getGuid()===t}))},t.prototype.getVariantByName=function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},t.prototype.getWebFontStylesLoaded=function(){return r.default.every(this.variants,"webFontStylesLoaded")},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.variants,(function(t){t.setWebFontStylesLoaded()}))},t.prototype.sortVariantsByName=function(){this.variants=r.default.sortBy(this.variants,["name"])},t.prototype.findVariantByWeightAndStyle=function(t,e){return r.default.find(this.variants,(function(n){return n.getFontWeight()===t&&n.getFontStyle()===e}))},t.prototype.findBestMatchVariant=function(t){var e=this.getVariantByName(t.getName());if(!e){var n=t.getFontWeight(),i=t.getFontStyle();null!=n&&i&&(e=this.findVariantByWeightAndStyle(n,i))}return e||(e=this.findVariantByWeightAndStyle(a.FontConstants.DEFAULT_FONT_WEIGHT,a.FontConstants.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e},t}();e.FontFamily=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractView=void 0;var a=o(n(0)),s=o(n(13)),u=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){t&&t.preventAutoBind||(this._bindModel(),this._bindCollection())},e.prototype.onClose=function(){},e.prototype.beforeClose=function(){},e.prototype.close=function(){this.beforeClose(),this.closeAllSubViews(),this.remove(),this.stopListening(),this._unbindCollection(),this.onClose(),this.trigger("close"),this.unbind()},e.prototype.registerSubView=function(t,e){return void 0===this.subViews&&(this.subViews=[]),-1===this.subViews.indexOf(t)&&(t.parentView=this,a.default.isNumber(e)?this.subViews.splice(e,0,t):this.subViews.push(t)),t},e.prototype.unregisterSubView=function(t){this.subViews=a.default.reject(this.subViews,(function(e){return e===t}))},e.prototype.closeAndCleanUpSubView=function(t){this.stopListening(t),this.unregisterSubView(t),t.close()},e.prototype.closeAllSubViews=function(){if(this.subViews)for(var t=void 0;t=this.subViews.pop();)t.close()},e.prototype.getSubViews=function(){return this.subViews||[]},e.prototype.getAllSubViews=function(){var t=[];return a.default.each(this.subViews,(function(e){t.push(e),t=t.concat(e.getAllSubViews())})),t},e.prototype.forSomeSubView=function(t){return a.default.some(this.subViews,(function(e){return t(e)||e.forSomeSubView(t)}))},e.prototype.renderSubViews=function(){a.default.each(this.getSubViews(),(function(t){t.render()}))},e.prototype.setModel=function(t,e){this._unbindModel(),this.model=t,e||this._bindModel()},e.prototype.bindModelEvents=function(){this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this)},e.prototype._bindModel=function(){this.model&&(this.bindModelEvents(),this.render())},e.prototype._unbindModel=function(){this.model&&(this.model.unbind("change",this._change,this),this.model.unbind("sync",this._sync,this),this.model.unbind("destroy",this._destroy,this),this.model.unbind("invalid",this._invalid,this))},e.prototype.setCollection=function(t,e){void 0===e&&(e=!1),this._unbindCollection(),this.collection=t,e||this._bindCollection()},e.prototype.bindCollectionEvents=function(){this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this)},e.prototype._bindCollection=function(){this.collection&&(this._unbindCollection(),this.bindCollectionEvents(),this.render())},e.prototype._unbindCollection=function(){this.collection&&(this.collection.unbind("add",this._add,this),this.collection.unbind("remove",this._remove,this),this.collection.unbind("reset",this._reset,this))},e.prototype._bindEventHandler=function(t,e,n){a.default.isFunction(n)?this.listenTo(t,e,n.bind(this)):this.listenTo(t,e,this[n].bind(this))},e.prototype._change=function(){this.render()},e.prototype._sync=function(){this.render()},e.prototype._destroy=function(){this.render()},e.prototype._invalid=function(){this.render()},e.prototype._add=function(){this.render()},e.prototype._remove=function(){this.render()},e.prototype._reset=function(){this.render()},e.prototype.height=function(){return this.$el.outerHeight()},e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.registerRadioHandler=function(t){s.default.Syphon.InputWriters.register("radio",t)},e.prototype.registerCheckboxHandler=function(t){s.default.Syphon.InputWriters.register("checkbox",t)},e.prototype.customRadioHandler=function(t,e){"1"===e?e=!0:"0"===e&&(e=!1);var n=parseInt(t.val());(e&&1===n||!e&&0===n)&&t.prop("checked",!0).trigger("change")},e.prototype.customCheckboxHandler=function(t,e){t.prop("checked",e).trigger("change")},e}(n(285).JsTsViewGlue);e.AbstractView=u,e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontCollection=void 0;var r=i(n(0)),o=n(193),a=function(){function t(t){this.fontFamilies=[],this.fontFamiliesByFamilyGuid={},this.fontFamiliesByVariantGuid={},this.fontFamiliesByApi={},t&&this.add(t)}return t.prototype.add=function(e){var n=this;if(e instanceof t)r.default.each(e.fontFamilies,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else if(e instanceof Array)r.default.each(e,(function(t){t instanceof o.FontFamily&&n.addFontFamily(t)}));else{if(!(e instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");this.addFontFamily(e)}},t.prototype.addFontFamily=function(t){var e=this;if(!(t instanceof o.FontFamily))throw new Error("Attempt to add an object to a FontCollection that is not a FontFamily.");var n=t.getGuid();if(!n)throw new Error("GUID is not defined for FontFamily");var i=this.fontFamiliesByFamilyGuid[n];if(i)r.default.each(t.getVariants(),(function(t){i.updateVariant(t);var n=t.getGuid();n&&(e.fontFamiliesByVariantGuid[n]=i)}));else{var a=t.api;if(!a)throw new Error("API is not defined for FontFamily");this.fontFamilies.push(t),this.fontFamiliesByFamilyGuid[n]=t,this.fontFamiliesByApi[a]||(this.fontFamiliesByApi[a]=[]),this.fontFamiliesByApi[a].push(t),r.default.each(t.getVariants(),(function(n){var i=n.getGuid();i&&(e.fontFamiliesByVariantGuid[i]=t)}))}},t.prototype.getTotalCount=function(){return this.fontFamilies.length},t.prototype.getTotalCountByApi=function(t){return this.fontFamiliesByApi[t]?this.fontFamiliesByApi[t].length:0},t.prototype.removeFontFamily=function(t){var e=t;if(t instanceof o.FontFamily){var n=t.getGuid();n&&(e=n)}if("string"==typeof e)return this.removeFontFamilyByFamilyGuid(e)},t.prototype.removeFontFamilyByFamilyGuid=function(t){var e=this,n=this.getFontFamilyByFamilyGuid(t);if(n)return this.fontFamilies=r.default.reject(this.fontFamilies,(function(e){return e.getGuid()===t})),delete this.fontFamiliesByFamilyGuid[t],r.default.each(n.getVariants(),(function(t){var n=t.getGuid();n&&delete e.fontFamiliesByVariantGuid[n]})),n},t.prototype.getFontFamilies=function(){return this.fontFamilies},t.prototype.getFontFamilyGuids=function(){return r.default.keys(this.fontFamiliesByFamilyGuid)},t.prototype.hasFontFamily=function(t){return!!this.getFontFamilyByFamilyGuid(t)},t.prototype.getFontFamiliesByAPI=function(t){return this.fontFamiliesByApi[t]||[]},t.prototype.getFontFamiliesByAPIMap=function(){return this.fontFamiliesByApi},t.prototype.getFontFamilyByFamilyGuid=function(t){return this.fontFamiliesByFamilyGuid[t]},t.prototype.getFontFamilyByVariantGuid=function(t){return this.fontFamiliesByVariantGuid[t]},t.prototype.getFontVariantByVariantGuid=function(t){var e=this.getFontFamilyByVariantGuid(t);return e&&e.getVariant(t)||null},t.prototype.getFontFamiliesByVariantGuids=function(e){var n=this,i=new t;return r.default.each(e,(function(t){var e=n.getFontFamilyByVariantGuid(t);e&&i.add(e)})),i},t.prototype.getSlice=function(e,n){return new t(this.fontFamilies.slice(e,n))},t.prototype.multiFilter=function(t){r.default.each(t,r.default.bind(this.filter,this))},t.prototype.setAllWebFontStylesLoaded=function(){r.default.each(this.fontFamilies,(function(t){t.setAllWebFontStylesLoaded()}))},t.prototype.filter=function(e){var n=new t;r.default.each(this.fontFamilies,r.default.bind((function(t){if("boolean"==typeof e.propertyValue){!!t[e.propertyName]===e.propertyValue&&n.addFontFamily(t)}else{var i=t[e.propertyName].toLowerCase(),r=e.propertyValue.toLowerCase();(e.exactMatch&&i===r||!e.exactMatch&&i.indexOf(r)>=0)&&n.addFontFamily(t)}}),this)),this.resetToCollection(n)},t.prototype.sort=function(t,e){var n=this;this.fontFamilies=r.default.sortBy(this.fontFamilies,(function(e){return e[t]})),r.default.each(this.fontFamiliesByApi,(function(e,i){n.fontFamiliesByApi[i]=r.default.sortBy(e,(function(e){return e[t]}))})),e&&this.fontFamilies.reverse()},t.prototype.resetToCollection=function(t){this.fontFamilies=t.fontFamilies,this.fontFamiliesByFamilyGuid=t.fontFamiliesByFamilyGuid,this.fontFamiliesByVariantGuid=t.fontFamiliesByVariantGuid,this.fontFamiliesByApi=t.fontFamiliesByApi},t}();e.FontCollection=a},function(t,e,n){"use strict";var i=n(16),r=n(168),o=n(58),a=Math.max,s=Math.min;e.a=function(t,e,n){var u,l,c,d,f,h,p=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,i=l;return u=l=void 0,p=e,d=t.apply(i,n)}function _(t){return p=t,f=setTimeout(w,e),g?y(t):d}function b(t){var n=t-h;return void 0===h||n>=e||n<0||m&&t-p>=c}function w(){var t=Object(r.a)();if(b(t))return T(t);f=setTimeout(w,function(t){var n=e-(t-h);return m?s(n,c-(t-p)):n}(t))}function T(t){return f=void 0,v&&u?y(t):(u=l=void 0,d)}function S(){var t=Object(r.a)(),n=b(t);if(u=arguments,l=this,h=t,n){if(void 0===f)return _(h);if(m)return clearTimeout(f),f=setTimeout(w,e),y(h)}return void 0===f&&(f=setTimeout(w,e)),d}return e=Object(o.a)(e)||0,Object(i.a)(n)&&(g=!!n.leading,c=(m="maxWait"in n)?a(Object(o.a)(n.maxWait)||0,e):c,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=h=l=f=void 0},S.flush=function(){return void 0===f?d:T(Object(r.a)())},S}},function(t,e,n){"use strict";var i=n(68),r=n(18);var o=function(t){return Object(r.a)(t)&&"[object Set]"==Object(i.a)(t)},a=n(47),s=n(78),u=s.a&&s.a.isSet,l=u?Object(a.a)(u):o;e.a=l},function(t,e,n){"use strict";var i=n(68),r=n(18);var o=function(t){return Object(r.a)(t)&&"[object Map]"==Object(i.a)(t)},a=n(47),s=n(78),u=s.a&&s.a.isMap,l=u?Object(a.a)(u):o;e.a=l},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}},function(t,e,n){"use strict";var i=n(88),r=n(160),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),Object(i.a)(a(t),(function(e){return o.call(t,e)})))}:r.a;e.a=s},function(t,e,n){"use strict";var i=n(211);e.a=function(t){var e=new t.constructor(t.byteLength);return new i.a(e).set(new i.a(t)),e}},function(t,e,n){"use strict";var i=n(267),r=n(264),o=n(33);e.a=function(t){return Object(i.a)(t,o.a,r.a)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(166),r=n(9),o=n(35);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a extends i.a{constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,e=null){return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}destroy(){this.stopListening()}}Object(r.default)(a,o.default)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){"use strict";e.a=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}},function(t,e,n){"use strict";var i=n(172);e.a=function(t,e){return Object(i.a)(t,e)}},function(t,e,n){"use strict";var i=n(136),r=n(261),o=Object(r.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty;e.a=function(t){if(!Object(i.a)(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){"use strict";var i=n(158),r=n(209),o=n(31),a=r.a?function(t,e){return Object(r.a)(t,"toString",{configurable:!0,enumerable:!1,value:Object(i.a)(e),writable:!0})}:o.a,s=n(257),u=Object(s.a)(a);e.a=u},function(t,e,n){"use strict";var i=n(104),r=function(){try{var t=Object(i.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();e.a=r},function(t,e,n){"use strict";var i=n(22).a["__core-js_shared__"];e.a=i},function(t,e,n){"use strict";var i=n(22).a.Uint8Array;e.a=i},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function r(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
var n}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.6
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */t.exports=function(){return n={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,n="initial",i=n,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,f={x:null,y:null},h={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var m=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(i=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},v=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=S(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(O(r)&&(d=!1),d&&n!==r&&(T("input",n=r),y("input")),d&&i!==r){var f=document.activeElement;f&&f.nodeName&&(-1===a.indexOf(f.nodeName.toLowerCase())||"button"===f.nodeName.toLowerCase()&&!A(f,"form"))&&(T("intent",i=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?n:i),P(e)},_=function(t){var e=c[t.type];"pointer"===e&&(e=S(t)),C(t),(!d&&!O(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&i!==e&&(T("intent",i=e),y("intent"))},b=function(n){n.target.nodeName?(e=n.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),n.target.classList&&n.target.classList.length&&t.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):w()},w=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},T=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},S=function(t){return"number"==typeof t.pointerType?h[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},O=function(t){var e=Date.now(),i="mouse"===t&&"touch"===n&&e-r<200;return r=e,i},E=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},P=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?n:i)},C=function(t){f.x!==t.screenX||f.y!==t.screenY?(d=!1,f.x=t.screenX,f.y=t.screenY):d=!0},A=function(t,e){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[E()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",m),window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",v,t),window.addEventListener("touchend",v))),window.addEventListener(E(),_,t),window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("focusin",b),window.addEventListener("focusout",w)}()),{ask:function(t){return"intent"===t?i:n},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,n=s.length;e<n;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=n,t.p="",t(0);function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,n}()},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(349)),l=a(n(333)),c=["player","previewer"],d=function(t){function e(e){var n=t.call(this,e)||this;return n.eventHandlerMap={},n.scrollProxyHandle=l.default,n}return r(e,t),e.prototype.sendEvent=function(t,e){this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e)},e.prototype.invokeOnParentPage=function(t){var e;t=s.default.isArray(t)?t:[t];var n=s.default.map(t,(function(t){return t.toJSON()}));null===(e=this.scrollProxyHandle)||void 0===e||e.invokeGlobalFunctions(n)},e.prototype.registerEventHandler=function(t,e){var n,i;if(this.containsAppName(t))this.eventHandlerMap[t]=e;else try{for(var r=o(c),a=r.next();!a.done;a=r.next()){var s=a.value;this.eventHandlerMap[s+"."+t]=e}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},e.prototype.containsAppName=function(t){var e=t.split(".");return s.default.includes(c,e[0])},e}(u.default);e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BlendingModes=e.BlendingModeDisplayName=e.BlendingModeName=void 0;var r,o,a=i(n(0));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var n=this.getBlendingModeChoices(),i=a.default.findIndex(n,{value:t}),r=0===i,o=i===n.length-1,u=-1===i;return e===s.PREVIOUS?u||r?null:n[i-1].value:u||o?null:n[i+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var n=e.split("."),i=n[n.length-1].toLowerCase();return l.indexOf(i)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathSVGUtil=void 0;var r=i(n(0)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var n=t,i=this.moveToStartingPoint(n[0]),r=1;r<n.length;r++)i+=this.generateCurveSection(n[r-1],n[r]);return e&&(i+=this.generateCurveSection(n[n.length-1],n[0]),i+=this.closePath()),i},t.generateCurveCoordFromPathSegList=function(t){for(var e=t,n=this.moveToStartingPoint(e.getItem(0)),i=!1,r=1;r<e.numberOfItems;r++){var o=e.getItem(r);"C"===o.pathSegTypeAsLetter&&(n+=this.generateCurveSectionFromPathItem(o)),"z"===o.pathSegTypeAsLetter&&(i=!0)}return i&&(n+=this.closePath()),n},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.generateCurveSectionFromPathItem=function(t){return"C "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialMediaInteraction=void 0;var a=n(244),s=o(n(0)),u=o(n(106)),l=o(n(55)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(157)),s=i(n(722)),u=i(n(67)),l=i(n(375)),c={CHANGE:"change",CHANGE_SELECTED:"change:selected",CHANGE_VISIBLE:"change:visible",CHANGE_LOCKED:"change:locked",CHANGE_EDITABLE:"change:editable",CHANGE_TITLE:"change:title",SELECT_ITEM:"selectItem",REFRESH_WARNINGS:"refresh:warnings",OPENED:"opened",SAVE:"save"};e.default=o.default.Model.extend({defaults:u.default.AbstractPageSubModel.defaults,view:null,includeInLayerPanel:!0,inSmartgroup:!1,selectedState:a.default.OBJECT_STATES_DEFAULT,constructor:function(t,e){(e=e||{}).inSmartgroup&&(this.inSmartgroup=!0),o.default.Model.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.selected=!1,this.options=e||{},this.modelChanges=null,this.saveHandler=null,this.oldVersion={},this.changedIPAttributes={},r.default.each(r.default.keys(t),r.default.bind((function(e){this.oldVersion[e]=t[e]}),this)),this.on("change",this.handleModelChange,this),this.on("remove",this.onRemove,this)},handleModelChange:function(t,e){if(!(e&&e.remote||this!==t)){var n=t.changedAttributes(null,{nonVariant:!0}),i=t.getPendingChanges();e&&e.doNotBuffer&&i.setDoNotBuffer(),i.add(n)}},buildOverridesWithEmptySyncedProperties:function(){throw"Models with Synced Attributes should implement this method"},buildOverridesWithEmptyProperties:function(t){void 0===t&&(t=[]);var e=r.default.cloneDeep(this.get("overrides"));return r.default.each(e,(function(e,n){r.default.each(t,(function(t){delete e[t]}))})),e},getView:function(){return this.view},setView:function(t){this.view=t},getParent:function(){return this.parent},hasParent:function(){return!!this.parent},hasGroupParent:function(){return this.hasParent()&&this.getParent().isGroup()},isIncludedInLayerPanel:function(){return this.includeInLayerPanel},isLockable:function(){return!0},getAllParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();t.push(n),e=n}return r.default.reverse(t)},getSelfAndAllParents:function(){return this.getAllParents().concat(this)},getAllGroupParents:function(){for(var t=[],e=this;e.hasParent();){var n=e.getParent();n.isGroup()&&t.push(n),e=n}return r.default.reverse(t)},getClosestParentFolder:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isFolder())return e;t=e}return null},getClosestParentGroup:function(){for(var t=this;t.hasParent();){var e=t.getParent();if(e.isGroup())return e;t=e}return null},openClosestParentGroup:function(){var t=this.getClosestParentGroup();t&&t.open()},getId:function(){return this.id},save:function(t){void 0===t&&(t=!1);var e=this.flushPendingChanges();if(0!==e.total())if(r.default.isFunction(this.saveHandler)){this.saveHandler(this,e,t);var n=e.getChanges();this.trigger(c.SAVE,this,n)}else{var i=new Error("no save handler registered!");i.stack&&console.warn(i.stack)}},onSave:function(t,e){this.on(c.SAVE,t,e)},offSave:function(t,e){this.off(c.SAVE,t,e)},onRemove:function(t,e,n){!n.moving&&this.view&&(this.stopListening(),this.view.close(),this.view=null)},destroy:function(t){if(r.default.isFunction(this.destroyHandler))this.destroyHandler(this,t),this.trigger("destroy",this,t);else{var e=new Error("no destroy handler registered!");console.warn(e.stack)}},getPendingChanges:function(){return null===this.modelChanges&&(this.modelChanges=new s.default(this)),this.modelChanges},clearPendingChanges:function(){return this.modelChanges=null,this},flushPendingChanges:function(){var t=this.getPendingChanges();return this.clearPendingChanges(),t},registerSaveHandler:function(t,e){this.saveHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},removeSaveHandler:function(){this.registerSaveHandler(null)},registerDestroyHandler:function(t,e){this.destroyHandler=r.default.isFunction(t)?r.default.bind(t,e||this):null},validate:function(t){if(r.default.isUndefined(t.id))return"invalid id"},isCopiable:function(){return!0},isSelected:function(){return this.selected},isLocked:function(){return this.get("locked")},isVisible:function(){return this.get("visible")},isEditableComponent:function(){return!1},isEditable:function(){return this.get("editable")},setVisible:function(t,e){return this.set("visible",t,e),this.trigger(c.CHANGE_VISIBLE),this},setLocked:function(t,e){return this.set("locked",t,e),this.trigger(c.CHANGE_LOCKED),this},setEditable:function(t){return this.set("editable",t),this},deselect:function(t){return this.selected?(this.selected=!1,t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED),this):this},setSelectedObjectState:function(t){this.selectedState=t,this.trigger("change-selected-state"),this.isGroup()||this.isSmartgroup()||this.isFolder()?this.getCollection().each((function(e){e.isBaseMaskObject()&&(e.view.forceRedraw=!0),e.setSelectedObjectState(t)})):this.isBaseMaskObject()&&this.forceRedraw(),this.view&&this.view.broadcast.trigger("designer:change-selected-state")},select:function(t){var e=t&&t.forceReselect;return this.selected&&!e?this:(this.selected=!0,this.trigger(c.SELECT_ITEM,this,t),t&&!0===t.silent||this.trigger(c.CHANGE_SELECTED,t),this)},isShapeComponent:function(){return!1},isAnyShapeComponent:function(){return this.isShapeComponent()||this.isCustomShapeComponent()},isFolder:function(){return!1},isImageModel:function(){return!1},isVideoModel:function(){return!1},isMediaModel:function(){return this.isVideoModel()||this.isImageModel()},isGroup:function(){return!1},isMaskGroup:function(){return!1},isInMaskGroup:function(){var t=this.getParent();return!!t&&"mask-group"===t.get("type")},isInAlphaMaskGroup:function(){var t=this.getParent();return!!t&&t.isMaskGroup()&&t.isAlphaMask()},isBaseMaskObject:function(){return!1},isMask:function(){return!1},getValidClickInteractions:function(){return{}},getValidHoverInteractions:function(){return[]},getValidViewInteractions:function(){return[]},isFolderOrGroup:function(){return this.isGroup()||this.isFolder()},isSmartgroup:function(){return!1},isObject:function(){return!1},isSyncedObject:function(){return this.inSmartgroup},isForSyncedObject:function(t){return!(!t||!t.syncedObject)||this.isSyncedObject()},hasInteractions:function(){return!1},hasInteractionsBesidesChangeState:function(){return!1},isInteractable:function(){return!this.isMask()},hasChildren:function(){return!1},hasSelectedChild:function(){return!1},isResizable:function(){return!0},isDeletable:function(){return!0},isGroupable:function(){return!0},isMoveable:function(){return!0},isUserSelectable:function(){return!0},getChildren:function(){return[]},getAllDescendants:function(){return[]},getPathPart:function(){return""},getCollection:function(){return null},changedInspectorPanelAttributes:function(){return this.changedIPAttributes},getDisplayLabel:function(){return this.type?this.type:"Object"},isCustomShapeComponent:function(){return!1},getSyncedProperties:function(){return l.default.get(o.default.Model.prototype.get.call(this,"type"))},isUploading:function(){return!1},isSyncedTextComponent:function(){return!1},isTextComponent:function(){return!1},isTextPlusComponent:function(){return!1},isImageComponent:function(){return!1},getSupported:function(){return u.default.AbstractPageSubModel.supported},supportsProperty:function(t){return-1!==this.getSupported().indexOf(t)},isCanvasBackgroundModel:function(){return!1},supportsObjectStates:function(){return!!this.objectStatesEnabled},canCopyPasteAnimations:function(){return!(this.isGroup()&&this.hasActiveBlendingMode())&&!this.isFolder()&&!this.isSmartgroup()},hasActiveBlendingMode:function(){return!1},getExistingObjectStates:function(){return[]}},{EVENTS:c})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(13)),s=i(n(312)),u=i(n(55));e.default=a.default.Model.extend({idAttribute:"slug",restBaseUrl:"/rest",etag:null,subRequestsPending:0,defaults:{},dateFields:[],parse:function(t,e){if(e&&!r.default.isUndefined(e.xhr)){var n=e.xhr.getResponseHeader("ETag");r.default.isString(n)&&n.length>0&&(this.etag=n)}return r.default.each(this.dateFields,(function(e){r.default.has(t,e)&&(t[e]=new s.default(t[e]))})),a.default.Model.prototype.parse.call(this,t,e)},save:function(t,e,n){var i;if(i=r.default.isObject(t)||r.default.isEmpty(t)?e||{}:n||{},!r.default.isUndefined(i.enforcePersistence)&&i.enforcePersistence){var s=i.persistenceErrorTrigger||"error:pre-condition-failed",u=i.error||o.default.noop;i.error=r.default.bind((function(t,e){412==e.status?t.trigger(s,t,e):u(t,e)}),this),r.default.isString(this.etag)&&(r.default.isObject(i.headers)||(i.headers={}),i.headers["If-Match"]=this.etag)}return r.default.isObject(t)||r.default.isEmpty(t)?e=i:n=i,a.default.Model.prototype.save.call(this,t,e,n)},getFieldValidationErrors:function(){return this.validationError},updateAndPersistFields:function(t,e){return(e=e||{}).patch=!0,this.save(t,e)},sync:function(t,e,n){return"patch"===t&&(t="update"),a.default.Model.prototype.sync.call(this,t,e,n)},url:function(t){return(t&&t.core?"":this.restBaseUrl)+this.replaceUrlContextVariables(a.default.Model.prototype.url.call(this))},replaceUrlContextVariables:function(t){return u.default.replaceUrlContextVariables(t)}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateManager=e.ObjectStateInputEvents=void 0;var u=s(n(157)),l=s(n(110)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s(n(358)).default);!function(t){t.ACTIVATE="objectstatemanager.activate",t.DEACTIVATE="objectstatemanager.deactivate",t.CHANGE="objectstatemanager.change",t.PREVIEW="objectstatemanager.preview",t.ADD="objectstatemanager.add",t.REMOVE="objectstatemanager.remove",t.RESET="objectstatemanager.reset"}(e.ObjectStateInputEvents||(e.ObjectStateInputEvents={}));var d=function(){function t(){this.collection=null,this.isInInteractionPreviewMode=!1,this.eventHandler=new c}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.setSelectedComponentCollection=function(e){t.getInstance().collection=e},t.setInteractionPreviewMode=function(e){t.getInstance().isInInteractionPreviewMode=e},t.getInteractionPreviewMode=function(){return!(!t.instance||!t.instance.collection)&&t.instance.isInInteractionPreviewMode},t.getSelectedState=function(){var e=t.getCollection();return e&&e.models.length>0?e.models[0].selectedState:u.default.OBJECT_STATES_DEFAULT},t.getSelectedStateName=function(){return t.getStateName(t.getSelectedState())},t.selectionHasGroupWithMixedStates=function(){var e=t.getCollection();return!!e&&e.hasGroupWithMixedStates()},t.getCollection=function(){return t.instance&&t.instance.collection?t.instance.collection:null},t.isDefaultState=function(t){return t===u.default.OBJECT_STATES_DEFAULT},t.isNonDefaultState=function(t){return!!t&&t!==u.default.OBJECT_STATES_DEFAULT},t.isInteractionState=function(t){return t===u.default.OBJECT_STATES_CLICK||t===u.default.OBJECT_STATES_HOVER},t.isUserDefinedState=function(e){return t.isNonDefaultState(e)&&!t.isInteractionState(e)},t.isDefaultStateSelected=function(){return t.isDefaultState(t.getSelectedState())},t.isNonDefaultStateSelected=function(){return t.isNonDefaultState(t.getSelectedState())},t.isInteractionStateSelected=function(){return t.isInteractionState(t.getSelectedState())},t.isUserDefinedStateSelected=function(){return t.isUserDefinedState(t.getSelectedState())},t.selectionSupportsObjectStates=function(){var e=t.getCollection();return!!e&&e.supportsObjectStates()},t.targetSupportsPreviewOnlyMode=function(t){return t.isGroup()||t.isSmartgroup()||t.isMaskGroup()},t.selectionSupportsPreviewOnlyMode=function(){if(this.getInteractionPreviewMode())return!0;var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsPreviewOnlyMode(e.models[0]))},t.targetSupportsLinkInteraction=function(t){return t.isGroup()},t.selectionSupportsLinkInteraction=function(){var e=t.getCollection();return!!e&&(!!e.onlyOneComponentSelected()&&t.targetSupportsLinkInteraction(e.models[0]))},t.getChangedAttributes=function(e){return e&&e.states&&t.isNonDefaultStateSelected()?e.states[t.getSelectedState()]:e},t.getStates=function(e){return a(t.getDefaultState(),t.getInteractionStates(e),t.getUserDefinedStates(e))},t.getDefaultState=function(){return[{title:"Default",value:u.default.OBJECT_STATES_DEFAULT}]},t.getInteractionStates=function(e){if(null===e)return[];var n=e||t.getCollection(),i=n?n.getExistingObjectStates():[],r=[{title:"Click",value:u.default.OBJECT_STATES_CLICK,stateExists:-1!==i.indexOf(u.default.OBJECT_STATES_CLICK),hasActiveProperties:!!n&&n.hasActiveStateProperties(u.default.OBJECT_STATES_CLICK)}];return"desktop"===l.default.getCurrentVariant()&&(r=a([{title:"Hover",value:u.default.OBJECT_STATES_HOVER,stateExists:-1!==i.indexOf(u.default.OBJECT_STATES_HOVER),hasActiveProperties:!!n&&n.hasActiveStateProperties(u.default.OBJECT_STATES_HOVER)}],r)),r},t.hasActiveStateProperties=function(e,n,i){var r=e||t.getCollection();return!!r&&r.hasActiveStateProperties(i,n)},t.getUserDefinedStates=function(e){if(null===e)return[];var n,i=t.getCollection();if(e&&(e.isFolderOrGroup()||e.isSmartgroup())){var r=e.getCollection().models;return t.getUserDefinedStatesForCollection(r)}if(e)n=e;else{if(!i||!i.isSingleComponentThatSupportsObjectStates()){if(i&&1===i.length&&(i.models[0].isGroup()||i.models[0].isSmartgroup())){r=i.models[0].getCollection().models;return t.getUserDefinedStatesForCollection(r)}return i&&i.length?t.getUserDefinedStatesForCollection():[]}n=i.models[0]}return n.getUserDefinedStates().map((function(t){return{title:t.title,value:t.id,hasActiveProperties:n.hasActiveStateProperties(t.id),stateExistsForAllSelections:!0}}))},t.getUserDefinedStatesForCollection=function(e){if(!e){var n=t.getCollection();if(!n)return[];e=n.models}if(!e.length)return[];var i=e.filter((function(t){return t.supportsObjectStates()||t.isMaskGroup()})).map(t.getUserDefinedStates);if(!i.length)return[];var r=[];return i.forEach((function(t){r.push.apply(r,a(t.filter((function(t){return!r.find((function(e){return e.title===t.title}))}))))})),r.map((function(t){return{title:t.title,value:t.value,hasActiveProperties:e.some((function(e){return e.hasActiveStateProperties(t.value)})),stateExistsForAllSelections:e.every((function(e){return e.stateExists(t.value)}))}})).sort((function(t,e){return t.title>e.title?1:t.title<e.title?-1:0}))},t.createUserDefinedState=function(){var e=t.getCollection();return e&&this.selectionSupportsObjectStates()?e.addUserDefinedState():null},t.getStateName=function(e){var n=t.getUserDefinedStates();switch(e){case u.default.OBJECT_STATES_DEFAULT:return"Default";case u.default.OBJECT_STATES_HOVER:return"Hover";case u.default.OBJECT_STATES_CLICK:return"Click";default:var i=n.filter((function(t){return t.value===e}))[0];return i?i.title:""}},t.trigger=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];t.getInstance().eventHandler.trigger(e,n)},t.on=function(e,n){(Array.isArray(e)?e:[e]).forEach((function(e){return t.getInstance().eventHandler.on(e,n)}))},t.off=function(e,n){t.getInstance().eventHandler.off(e,n)},t}();e.ObjectStateManager=d},function(t,e,n){"use strict";n.r(e),n.d(e,"enablePlaceholder",(function(){return r})),n.d(e,"disablePlaceholder",(function(){return o})),n.d(e,"showPlaceholder",(function(){return a})),n.d(e,"hidePlaceholder",(function(){return s})),n.d(e,"needsPlaceholder",(function(){return u})),n.d(e,"EditingController",(function(){return f.default})),n.d(e,"DataController",(function(){return p.a})),n.d(e,"Conversion",(function(){return m.a})),n.d(e,"HtmlDataProcessor",(function(){return v.default})),n.d(e,"InsertOperation",(function(){return y.a})),n.d(e,"MarkerOperation",(function(){return _.a})),n.d(e,"OperationFactory",(function(){return b.default})),n.d(e,"transformSets",(function(){return L})),n.d(e,"DocumentSelection",(function(){return G.a})),n.d(e,"Range",(function(){return x.a})),n.d(e,"LiveRange",(function(){return W.a})),n.d(e,"LivePosition",(function(){return z.a})),n.d(e,"Model",(function(){return q.a})),n.d(e,"TreeWalker",(function(){return Y.default})),n.d(e,"Element",(function(){return K.default})),n.d(e,"DomConverter",(function(){return X.a})),n.d(e,"Renderer",(function(){return J.a})),n.d(e,"ViewDocument",(function(){return Z.default})),n.d(e,"getFillerOffset",(function(){return Q.b})),n.d(e,"Observer",(function(){return tt.a})),n.d(e,"ClickObserver",(function(){return nt})),n.d(e,"DomEventObserver",(function(){return et.a})),n.d(e,"MouseObserver",(function(){return it})),n.d(e,"DowncastWriter",(function(){return rt.default})),n.d(e,"UpcastWriter",(function(){return ft})),n.d(e,"Matcher",(function(){return ht.a})),n.d(e,"DomEventData",(function(){return pt.a})),n.d(e,"StylesProcessor",(function(){return gt.StylesProcessor})),n.d(e,"addBackgroundRules",(function(){return Ht})),n.d(e,"addBorderRules",(function(){return Wt})),n.d(e,"addMarginRules",(function(){return ee})),n.d(e,"addPaddingRules",(function(){return ne})),n.d(e,"isColor",(function(){return Tt})),n.d(e,"isLineStyle",(function(){return Ot})),n.d(e,"isLength",(function(){return Pt})),n.d(e,"isPercentage",(function(){return At})),n.d(e,"isRepeat",(function(){return It})),n.d(e,"isPosition",(function(){return Mt})),n.d(e,"isAttachment",(function(){return Nt})),n.d(e,"isURL",(function(){return Lt})),n.d(e,"getBoxSidesValues",(function(){return jt})),n.d(e,"getBoxSidesValueReducer",(function(){return Ft})),n.d(e,"getBoxSidesShorthandValue",(function(){return Vt})),n.d(e,"getPositionShorthandNormalizer",(function(){return Bt})),n.d(e,"getShorthandValues",(function(){return Ut}));n(56);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const i=new WeakMap;function r(t){const{view:e,element:n,text:r,isDirectHost:o=!0,keepOnFocus:a=!1}=t,s=e.document;i.has(s)||(i.set(s,new Map),s.registerPostFixer(t=>l(s,t))),i.get(s).set(n,{text:r,isDirectHost:o,keepOnFocus:a,hostElement:o?n:null}),e.change(t=>l(s,t))}function o(t,e){const n=e.document;t.change(t=>{if(!i.has(n))return;const r=i.get(n),o=r.get(e);t.removeAttribute("data-placeholder",o.hostElement),s(t,o.hostElement),r.delete(e)})}function a(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}function s(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function u(t,e){if(!t.isAttached())return!1;if(Array.from(t.getChildren()).some(t=>!t.is("uiElement")))return!1;if(e)return!0;const n=t.document;if(!n.isFocused)return!0;const i=n.selection.anchor;return i&&i.parent!==t}function l(t,e){const n=i.get(t),r=[];let o=!1;for(const[t,i]of n)i.isDirectHost&&(r.push(t),c(e,t,i)&&(o=!0));for(const[t,i]of n){if(i.isDirectHost)continue;const n=d(t);n&&(r.includes(n)||(i.hostElement=n,c(e,t,i)&&(o=!0)))}return o}function c(t,e,n){const{text:i,isDirectHost:r,hostElement:o}=n;let l=!1;o.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,o),l=!0);return(r||1==e.childCount)&&u(o,n.keepOnFocus)?a(t,o)&&(l=!0):s(t,o)&&(l=!0),l}function d(t){if(t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}var f=n(322),h=n(305),p=n.n(h),g=n(306),m=n.n(g),v=n(324),y=n(65),_=n(98),b=n(308),w=n(66),T=n(115),S=n(28),O=n(178),E=n(51),P=n(34),C=n(83),A=n(2),x=n.n(A),I=n(4),k=n(60);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const M=new Map;function R(t,e,n){let i=M.get(t);i||(i=new Map,M.set(t,i)),i.set(e,n)}function N(t){return[t]}function D(t,e,n={}){const i=function(t,e){const n=M.get(t);return n&&n.has(e)?n.get(e):N}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function L(t,e,n){t=t.slice(),e=e.slice();const i=new j(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const r=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:r};const o=new WeakMap;for(const e of t)o.set(e,0);const a={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let s=0;for(;s<t.length;){const n=t[s],r=o.get(n);if(r==e.length){s++;continue}const a=e[r],u=D(n,a,i.getContext(n,a,!0)),l=D(a,n,i.getContext(a,n,!1));i.updateRelation(n,a),i.setOriginalOperations(u,n),i.setOriginalOperations(l,a);for(const t of u)o.set(t,r+l.length);t.splice(s,1,...u),e.splice(r,1,...l)}if(n.padWithNoOps){const n=t.length-a.originalOperationsACount,i=e.length-a.originalOperationsBCount;V(t,i-n),V(e,n-i)}return F(t,a.nextBaseVersionB),F(e,a.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:r}}class j{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const e of t)this.originalOperations.set(e,n||e)}updateRelation(t,e){switch(t.constructor){case S.a:switch(e.constructor){case E.a:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case S.a:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case P.a:switch(e.constructor){case E.a:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case S.a:if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){const i=n.end.offset-t.splitPosition.offset,r=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:i,offset:r})}}}break;case E.a:switch(e.constructor){case E.a:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case P.a:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case _.a:{const n=t.newRange;if(!n)return;switch(e.constructor){case S.a:{const i=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany),r=i.containsPosition(n.start)||i.start.isEqual(n.start),o=i.containsPosition(n.end)||i.end.isEqual(n.end);!r&&!o||i.containsRange(n)||this._setRelation(t,e,{side:r?"left":"right",path:r?n.start.path.slice():n.end.path.slice()});break}case E.a:{const i=n.start.isEqual(e.targetPosition),r=n.start.isEqual(e.deletionPosition),o=n.end.isEqual(e.deletionPosition),a=n.end.isEqual(e.sourcePosition);(i||r||o||a)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:r,wasEndBeforeMergedElement:o,wasInRightElement:a});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const r=this.originalOperations.get(t),o=this._relations.get(r);return o&&o.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),r=this.originalOperations.get(e);let o=this._relations.get(i);o||(o=new Map,this._relations.set(i,o)),o.set(r,n)}}function F(t,e){for(const n of t)n.baseVersion=e++}function V(t,e){for(let n=0;n<e;n++)t.push(new C.a(0))}function B(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const r=new x.a(t.position,t.position.getShiftedBy(t.howMany));return new w.a(r,e,i,n,0)}function U(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function H(t,e){const n=[];for(let i=0;i<t.length;i++){const r=t[i],o=new S.a(r.start,r.end.offset-r.start.offset,e,0);n.push(o);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)[0];e=e._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany)}return n}R(w.a,w.a,(t,e,n)=>{if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){const i=t.range.getDifference(e.range).map(e=>new w.a(e,t.key,t.oldValue,t.newValue,0)),r=t.range.getIntersection(e.range);return r&&n.aIsStrong&&i.push(new w.a(r,e.key,e.newValue,t.newValue,0)),0==i.length?[new C.a(0)]:i}return[t]}),R(w.a,y.a,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new w.a(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=B(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),R(w.a,E.a,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(x.a._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(e=>new w.a(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),R(w.a,S.a,(t,e)=>function(t,e){const n=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,r=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(r=t.getDifference(n),i=t.getIntersection(n)):r=[t];const o=[];for(let t of r){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),i=t.start.hasSameParentAs(n);t=t._getTransformedByInsertion(n,e.howMany,i),o.push(...t)}i&&o.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return o}(t.range,e).map(e=>new w.a(e,t.key,t.oldValue,t.newValue,t.baseVersion))),R(w.a,P.a,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new x.a(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),R(y.a,w.a,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=B(t,e.key,e.newValue);i&&n.push(i)}return n}),R(y.a,y.a,(t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t])),R(y.a,S.a,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),R(y.a,P.a,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),R(y.a,E.a,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),R(_.a,y.a,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),R(_.a,_.a,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new C.a(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),R(_.a,E.a,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),R(_.a,S.a,(t,e,n)=>{if(t.oldRange&&(t.oldRange=x.a._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=x.a._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=x.a._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),R(_.a,P.a,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=I.default._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=I.default._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=I.default._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=I.default._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),R(E.a,y.a,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),R(E.a,E.a,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new I.default(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new C.a(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,r="$graveyard"==e.targetPosition.root.rootName,o=i&&!r;if(r&&!i||!o&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new S.a(n,t.howMany,i,0)]}return[new C.a(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),R(E.a,S.a,(t,e,n)=>{const i=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new C.a(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),R(E.a,P.a,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,r=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||r||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),R(S.a,y.a,(t,e)=>{const n=x.a._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),R(S.a,S.a,(t,e,n)=>{const i=x.a._createFromPositionAndShift(t.sourcePosition,t.howMany),r=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany);let o,a=n.aIsStrong,s=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?s=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(s=!1),o=t.targetPosition.isEqual(e.targetPosition)&&s?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),U(t,e)&&U(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(r,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),H([i],o);if(r.containsPosition(t.targetPosition)&&r.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),H([i],o);const u=Object(k.default)(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==u||"extension"==u)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),H([i],o);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;const l=[],c=i.getDifference(r);for(const t of c){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==Object(k.default)(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...i)}const d=i.getIntersection(r);return null!==d&&a&&(d.start=d.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),d.end=d.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(d):1==l.length?r.start.isBefore(i.start)||r.start.isEqual(i.start)?l.unshift(d):l.push(d):l.splice(1,0,d)),0===l.length?[new C.a(t.baseVersion)]:H(l,o)}),R(S.a,P.a,(t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const r=x.a._createFromPositionAndShift(t.sourcePosition,t.howMany);if(r.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(r.start.hasSameParentAs(e.splitPosition)&&r.containsPosition(e.splitPosition)){let t=new x.a(e.splitPosition,r.end);t=t._getTransformedBySplitOperation(e);return H([new x.a(r.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const o=[r._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=r.start.isEqual(e.graveyardPosition)||r.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&o.push(x.a._createFromPositionAndShift(e.insertionPosition,1))}return H(o,i)}),R(S.a,E.a,(t,e,n)=>{const i=x.a._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new C.a(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),r=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new S.a(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),r=r._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const o=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),a=new S.a(i,1,o,0),s=a.getMovedRangeStart().path.slice();s.push(0);const u=new I.default(a.targetPosition.root,s);r=r._getTransformedByMove(i,o,1);const l=new S.a(r,e.howMany,u,0);return n.push(a),n.push(l),n}const r=x.a._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),R(T.a,y.a,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),R(T.a,E.a,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),R(T.a,S.a,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),R(T.a,T.a,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new C.a(0)];t.oldName=e.newName}return[t]}),R(T.a,P.a,(t,e)=>{const n=t.position.path,i=e.splitPosition.getParentPath();if("same"==Object(k.default)(n,i)&&!e.graveyardPosition){const e=new T.a(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),R(O.a,O.a,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new C.a(0)];t.oldValue=e.newValue}return[t]}),R(P.a,y.a,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t])),R(P.a,E.a,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new I.default(e.graveyardPosition.root,n),r=P.a.getInsertionPosition(new I.default(e.graveyardPosition.root,n)),o=new P.a(i,0,r,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),t.graveyardPosition=o.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[o,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),R(P.a,S.a,(t,e,n)=>{const i=x.a._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const r=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&r){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),r=i.path.slice();r.push(0);const o=new I.default(i.root,r);return[new S.a(n,t.howMany,o,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}const r=t.splitPosition.isEqual(e.targetPosition);if(r&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),[t];if(r&&n.abRelation&&n.abRelation.howMany){const{howMany:e,offset:i}=n.abRelation;return t.howMany+=e,t.splitPosition=t.splitPosition.getShiftedBy(i),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),[t]}),R(P.a,P.a,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new C.a(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new C.a(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,r="$graveyard"==e.splitPosition.root.rootName,o=i&&!r;if(r&&!i||!o&&n.aIsStrong){const n=[];return e.howMany&&n.push(new S.a(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new S.a(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new C.a(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new I.default(e.insertionPosition.root,n);return[t,new S.a(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=P.a.getInsertionPosition(t.splitPosition),[t]});var G=n(75),W=n(187),z=n(82),$=n(307),q=n.n($),Y=n(117),K=n(25),X=n(163),J=n(256),Z=n(225),Q=n(166),tt=n(86),et=n(101);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class nt extends et.a{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class it extends et.a{constructor(t){super(t),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}var rt=n(224),ot=n(149),at=n(77),st=n(30),ut=n(64),lt=n(6),ct=n(17),dt=n(97);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class ft{constructor(t){this.document=t}createDocumentFragment(t){return new ot.default(this.document,t)}createElement(t,e,n){return new at.a(this.document,t,e,n)}createText(t){return new st.a(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new at.a(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Object(ut.a)(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return lt.a._createAt(t,e)}createPositionAfter(t){return lt.a._createAfter(t)}createPositionBefore(t){return lt.a._createBefore(t)}createRange(t,e){return new ct.a(t,e)}createRangeOn(t){return ct.a._createOn(t)}createRangeIn(t){return ct.a._createIn(t)}createSelection(t,e,n){return new dt.a(t,e,n)}}var ht=n(146),pt=n(161),gt=n(223);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const mt=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i,vt=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i,yt=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,_t=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i,bt=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i,wt=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function Tt(t){return t.startsWith("#")?mt.test(t):t.startsWith("rgb")?vt.test(t)||yt.test(t):t.startsWith("hsl")?_t.test(t)||bt.test(t):wt.has(t.toLowerCase())}const St=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function Ot(t){return St.includes(t)}const Et=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/;function Pt(t){return Et.test(t)}const Ct=/^[+-]?[0-9]*([.][0-9]+)?%$/;function At(t){return Ct.test(t)}const xt=["repeat-x","repeat-y","repeat","space","round","no-repeat"];function It(t){return xt.includes(t)}const kt=["center","top","bottom","left","right"];function Mt(t){return kt.includes(t)}const Rt=["fixed","scroll","local"];function Nt(t){return Rt.includes(t)}const Dt=/^url\(/;function Lt(t){return Dt.test(t)}function jt(t=""){if(""===t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};const e=Ut(t),n=e[0],i=e[2]||n,r=e[1]||n;return{top:n,bottom:i,right:r,left:e[3]||r}}function Ft(t){return e=>{const{top:n,right:i,bottom:r,left:o}=e,a=[];return[n,i,o,r].every(t=>!!t)?a.push([t,Vt(e)]):(n&&a.push([t+"-top",n]),i&&a.push([t+"-right",i]),r&&a.push([t+"-bottom",r]),o&&a.push([t+"-left",o])),a}}function Vt({top:t,right:e,bottom:n,left:i}){const r=[];return i!==e?r.push(t,e,n,i):n!==t?r.push(t,e,n):e!==t?r.push(t,e):r.push(t),r.join(" ")}function Bt(t){return e=>({path:t,value:jt(e)})}function Ut(t){return t.replace(/, /g,",").split(" ").map(t=>t.replace(/,/g,", "))}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ht(t){t.setNormalizer("background",Gt),t.setNormalizer("background-color",t=>({path:"background.color",value:t})),t.setReducer("background",t=>{const e=[];return e.push(["background-color",t.color]),e}),t.setStyleRelation("background",["background-color"])}function Gt(t){const e={},n=Ut(t);for(const t of n)It(t)?(e.repeat=e.repeat||[],e.repeat.push(t)):Mt(t)?(e.position=e.position||[],e.position.push(t)):Nt(t)?e.attachment=t:Tt(t)?e.color=t:Lt(t)&&(e.image=t);return{path:"background",value:e}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Wt(t){t.setNormalizer("border",zt),t.setNormalizer("border-top",$t("top")),t.setNormalizer("border-right",$t("right")),t.setNormalizer("border-bottom",$t("bottom")),t.setNormalizer("border-left",$t("left")),t.setNormalizer("border-color",qt("color")),t.setNormalizer("border-width",qt("width")),t.setNormalizer("border-style",qt("style")),t.setNormalizer("border-top-color",Kt("color","top")),t.setNormalizer("border-top-style",Kt("style","top")),t.setNormalizer("border-top-width",Kt("width","top")),t.setNormalizer("border-right-color",Kt("color","right")),t.setNormalizer("border-right-style",Kt("style","right")),t.setNormalizer("border-right-width",Kt("width","right")),t.setNormalizer("border-bottom-color",Kt("color","bottom")),t.setNormalizer("border-bottom-style",Kt("style","bottom")),t.setNormalizer("border-bottom-width",Kt("width","bottom")),t.setNormalizer("border-left-color",Kt("color","left")),t.setNormalizer("border-left-style",Kt("style","left")),t.setNormalizer("border-left-width",Kt("width","left")),t.setExtractor("border-top",Xt("top")),t.setExtractor("border-right",Xt("right")),t.setExtractor("border-bottom",Xt("bottom")),t.setExtractor("border-left",Xt("left")),t.setExtractor("border-top-color","border.color.top"),t.setExtractor("border-right-color","border.color.right"),t.setExtractor("border-bottom-color","border.color.bottom"),t.setExtractor("border-left-color","border.color.left"),t.setExtractor("border-top-width","border.width.top"),t.setExtractor("border-right-width","border.width.right"),t.setExtractor("border-bottom-width","border.width.bottom"),t.setExtractor("border-left-width","border.width.left"),t.setExtractor("border-top-style","border.style.top"),t.setExtractor("border-right-style","border.style.right"),t.setExtractor("border-bottom-style","border.style.bottom"),t.setExtractor("border-left-style","border.style.left"),t.setReducer("border-color",Ft("border-color")),t.setReducer("border-style",Ft("border-style")),t.setReducer("border-width",Ft("border-width")),t.setReducer("border-top",Qt("top")),t.setReducer("border-right",Qt("right")),t.setReducer("border-bottom",Qt("bottom")),t.setReducer("border-left",Qt("left")),t.setReducer("border",function(){return e=>{const n=Jt(e,"top"),i=Jt(e,"right"),r=Jt(e,"bottom"),o=Jt(e,"left"),a=[n,i,r,o],s={width:t(a,"width"),style:t(a,"style"),color:t(a,"color")},u=te(s,"all");if(u.length)return u;return[...Object.entries(s).reduce((t,[e,n])=>(n&&(t.push(["border-"+e,n]),a.forEach(t=>t[e]=null)),t),[]),...te(n,"top"),...te(i,"right"),...te(r,"bottom"),...te(o,"left")]};function t(t,e){return t.map(t=>t[e]).reduce((t,e)=>t==e?t:null)}}()),t.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]),t.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]),t.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]),t.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]),t.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]),t.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]),t.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"])}function zt(t){const{color:e,style:n,width:i}=Zt(t);return{path:"border",value:{color:jt(e),style:jt(n),width:jt(i)}}}function $t(t){return e=>{const{color:n,style:i,width:r}=Zt(e),o={};return void 0!==n&&(o.color={[t]:n}),void 0!==i&&(o.style={[t]:i}),void 0!==r&&(o.width={[t]:r}),{path:"border",value:o}}}function qt(t){return e=>({path:"border",value:Yt(e,t)})}function Yt(t,e){return{[e]:jt(t)}}function Kt(t,e){return n=>({path:"border",value:{[t]:{[e]:n}}})}function Xt(t){return(e,n)=>{if(n.border)return Jt(n.border,t)}}function Jt(t,e){const n={};return t.width&&t.width[e]&&(n.width=t.width[e]),t.style&&t.style[e]&&(n.style=t.style[e]),t.color&&t.color[e]&&(n.color=t.color[e]),n}function Zt(t){const e={},n=Ut(t);for(const t of n)Pt(t)||/thin|medium|thick/.test(t)?e.width=t:Ot(t)?e.style=t:e.color=t;return e}function Qt(t){return e=>te(e,t)}function te(t,e){const n=[];if(t&&t.width&&n.push("width"),t&&t.style&&n.push("style"),t&&t.color&&n.push("color"),3==n.length){const i=n.map(e=>t[e]).join(" ");return["all"==e?["border",i]:["border-"+e,i]]}return"all"==e?[]:n.map(n=>[`border-${e}-${n}`,t[n]])}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ee(t){t.setNormalizer("margin",Bt("margin")),t.setNormalizer("margin-top",t=>({path:"margin.top",value:t})),t.setNormalizer("margin-right",t=>({path:"margin.right",value:t})),t.setNormalizer("margin-bottom",t=>({path:"margin.bottom",value:t})),t.setNormalizer("margin-left",t=>({path:"margin.left",value:t})),t.setReducer("margin",Ft("margin")),t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function ne(t){t.setNormalizer("padding",Bt("padding")),t.setNormalizer("padding-top",t=>({path:"padding.top",value:t})),t.setNormalizer("padding-right",t=>({path:"padding.right",value:t})),t.setNormalizer("padding-bottom",t=>({path:"padding.bottom",value:t})),t.setNormalizer("padding-left",t=>({path:"padding.left",value:t})),t.setReducer("padding",Ft("padding")),t.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"])}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.StylesProcessor=e.default=void 0;var d=n(41),f=function(){function t(e){u(this,t),this._styles={},this._styleProcessor=e}return c(t,[{key:"isEmpty",get:function(){var t=Object.entries(this._styles);return!Array.from(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(t){this.clear();for(var e=0,n=Array.from(function(t){var e=null,n=0,i=0,r=null,o=new Map;if(""===t)return o;";"!=t.charAt(t.length-1)&&(t+=";");for(var a=0;a<t.length;a++){var s=t.charAt(a);if(null===e)switch(s){case":":r||(r=t.substr(n,a-n),i=a+1);break;case'"':case"'":e=s;break;case";":var u=t.substr(i,a-i);r&&o.set(r.trim(),u.trim()),r=null,n=a+1}else s===e&&(e=null)}return o}(t).entries());e<n.length;e++){var i=o(n[e],2),r=i[0],a=i[1];this._styleProcessor.toNormalizedForm(r,a,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(e){return o(e,1)[0]===t}));return Array.isArray(e)}},{key:"set",value:function(t,e){if(d.isObject(t))for(var n=0,i=Object.entries(t);n<i.length;n++){var r=o(i[n],2),a=r[0],s=r[1];this._styleProcessor.toNormalizedForm(a,s,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=h(t);d.unset(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(t){return t.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!d.isObject(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles).find((function(e){return o(e,1)[0]===t}));return Array.isArray(e)?e[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty)return[];if(t)return this._styleProcessor.getStyleNames(this._styles);var e=this._getStylesEntries();return e.map((function(t){return o(t,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],e=0,n=Object.keys(this._styles);e<n.length;e++){var i=n[e];t.push.apply(t,r(this._styleProcessor.getReducedForm(i,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split(".");if(e.length>1){var n=e.splice(0,e.length-1).join("."),i=d.get(this._styles,n);if(i)!Array.from(Object.keys(i)).length&&this.remove(n)}}}]),t}();function h(t){return t.replace("-",".")}function p(t,e,n){var i=n;d.isObject(n)&&(i=d.merge({},d.get(t,e),n)),d.set(t,e,i)}e.default=f,e.StylesProcessor=function(){function t(){u(this,t),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return c(t,[{key:"toNormalizedForm",value:function(t,e,n){if(d.isObject(e))p(n,h(t),e);else if(this._normalizers.has(t)){var i=this._normalizers.get(t)(e);p(n,i.path,i.value)}else p(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return d.merge({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var n=this._extractors.get(t);if("string"==typeof n)return d.get(e,n);var i=n(t,e);if(i)return i}return d.get(e,h(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}},{key:"getStyleNames",value:function(t){var e=this,n=Array.from(this._consumables.keys()).filter((function(n){var r=e.getNormalized(n,t);return r&&"object"==i(r)?Object.keys(r).length:r})),o=new Set([].concat(r(n),r(Object.keys(t))));return Array.from(o.values())}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var n,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;this._mapStyleNames(r,[t])}}catch(t){i.e(t)}finally{i.f()}}},{key:"_mapStyleNames",value:function(t,e){var n;this._consumables.has(t)||this._consumables.set(t,[]),(n=this._consumables.get(t)).push.apply(n,r(e))}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var i=n(6),r=n(17),o=n(97),a=n(166),s=n(176),u=n(77),l=n(1),c=n(121);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class d extends u.a{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=f}is(t,e=null){return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof c.a||Array.from(e).length>0))throw new l.default("view-emptyelement-cannot-add",[this,e])}}function f(){return null}var h=n(189);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class p extends u.a{constructor(t,e,n,i){super(t,e,n,i),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=g}is(t,e=null){return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}_insertChild(t,e){if(e&&(e instanceof c.a||Array.from(e).length>0))throw new l.default("view-rawelement-cannot-add",[this,e])}}function g(){return null}var m=n(149),v=n(53),y=n(30),_=n(203),b=n(64);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class w{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createDocumentFragment(t){return new m.default(this.document,t)}createText(t){return new y.a(this.document,t)}createAttributeElement(t,e,n={}){const i=new s.default(this.document,t,e);return"number"==typeof n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e,n={}){const i=new a.a(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}createEditableElement(t,e){const n=new _.a(this.document,t,e);return n._document=this.document,n}createEmptyElement(t,e,n={}){const i=new d(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(i._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),i}createUIElement(t,e,n,i={}){const r=new h.a(this.document,t,e);return n&&(r.render=n),void 0!==i.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=i.isAllowedInsideAttributeElement),r}createRawElement(t,e,n,i={}){const r=new p(this.document,t,e);return r.render=n||(()=>{}),void 0!==i.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=i.isAllowedInsideAttributeElement),r}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Object(b.a)(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof i.a?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new l.default("view-writer-break-non-container-element",this.document);if(!e.parent)throw new l.default("view-writer-break-root",this.document);if(t.isAtStart)return i.a._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(i.a._createAfter(e),n);const o=new r.a(t,i.a._createAt(e,"end")),a=new i.a(n,0);this.move(o,a)}return i.a._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new i.a(t,e))}const r=n.getChild(e-1),o=n.getChild(e);if(!r||!o)return t;if(r.is("$text")&&o.is("$text"))return P(r,o);if(r.is("attributeElement")&&o.is("attributeElement")&&r.isSimilar(o)){const t=r.childCount;return r._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new i.a(r,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new l.default("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),a=o instanceof y.a?i.a._createAt(o,"end"):i.a._createAt(e,"end");return this.move(r.a._createIn(n),i.a._createAt(e,"end")),this.remove(r.a._createOn(n)),a}insert(t,e){(function t(e,n){for(const i of e){if(!C.some(t=>i instanceof t))throw new l.default("view-writer-insert-invalid-node-type",n);i.is("$text")||t(i.getChildren(),n)}})(e=Object(v.a)(e)?[...e]:[e],this.document);const n=e.reduce((t,e)=>{const n=t[t.length-1],i=!(e.is("uiElement")&&e.isAllowedInsideAttributeElement);return n&&n.breakAttributes==i?n.nodes.push(e):t.push({breakAttributes:i,nodes:[e]}),t},[]);let i=null,o=t;for(const{nodes:t,breakAttributes:e}of n){const n=this._insertNodes(o,t,e);i||(i=n.start),o=n.end}return i?new r.a(i,o):new r.a(t)}remove(t){const e=t instanceof r.a?t:r.a._createOn(t);if(x(e,this.document),e.isCollapsed)return new m.default(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,a=i.offset-n.offset,s=o._removeChildren(n.offset,a);for(const t of s)this._removeFromClonedElementsGroup(t);const u=this.mergeAttributes(n);return e.start=u,e.end=u.clone(),new m.default(this.document,s)}clear(t,e){x(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is("element")&&e.isSimilar(n))o=r.a._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("$textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(o=r.a._createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,r=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-r}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof s.default))throw new l.default("view-writer-wrap-invalid-attribute",this.document);if(x(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new r.a(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof s.default))throw new l.default("view-writer-unwrap-invalid-attribute",this.document);if(x(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,a=this._unwrapChildren(o,n.offset,i.offset,e),u=this.mergeAttributes(a.start);u.isEqual(a.start)||a.end.offset--;const c=this.mergeAttributes(a.end);return new r.a(u,c)}rename(t,e){const n=new a.a(this.document,t,e.getAttributes());return this.insert(i.a._createAfter(e),n),this.move(r.a._createIn(e),i.a._createAt(n,0)),this.remove(r.a._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return i.a._createAt(t,e)}createPositionAfter(t){return i.a._createAfter(t)}createPositionBefore(t){return i.a._createBefore(t)}createRange(t,e){return new r.a(t,e)}createRangeOn(t){return r.a._createOn(t)}createRangeIn(t){return r.a._createIn(t)}createSelection(t,e,n){return new o.a(t,e,n)}_insertNodes(t,e,n){let i,o;if(i=n?T(t):t.parent.is("$text")?t.parent.parent:t.parent,!i)throw new l.default("view-writer-invalid-position-container",this.document);o=n?this._breakAttributes(t,!0):t.parent.is("$text")?E(t):t;const a=i._insertChild(o.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const s=o.getShiftedBy(a),u=this.mergeAttributes(o);u.isEqual(o)||s.offset--;const c=this.mergeAttributes(s);return new r.a(u,c)}_wrapChildren(t,e,n,o){let a=e;const s=[];for(;a<n;){const e=t.getChild(a),n=e.is("$text"),r=e.is("attributeElement"),u=e.isAllowedInsideAttributeElement;if(r&&this._wrapAttributeElement(o,e))s.push(new i.a(t,a));else if(n||u||r&&S(o,e)){const n=o._clone();e._remove(),n._appendChild(e),t._insertChild(a,n),this._addToClonedElementsGroup(n),s.push(new i.a(t,a))}else r&&this._wrapChildren(e,0,e.childCount,o);a++}let u=0;for(const t of s){if(t.offset-=u,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(u++,n--)}return r.a._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let a=e;const s=[];for(;a<n;){const e=t.getChild(a);if(e.is("attributeElement"))if(e.isSimilar(o)){const r=e.getChildren(),o=e.childCount;e._remove(),t._insertChild(a,r),this._removeFromClonedElementsGroup(e),s.push(new i.a(t,a),new i.a(t,a+o)),a+=o,n+=o-1}else this._unwrapAttributeElement(o,e)?(s.push(new i.a(t,a),new i.a(t,a+1)),a++):(this._unwrapChildren(e,0,e.childCount,o),a++);else a++}let u=0;for(const t of s){if(t.offset-=u,t.offset==e||t.offset==n)continue;this.mergeAttributes(t).isEqual(t)||(u++,n--)}return r.a._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,a=this._wrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(a.start);s.isEqual(a.start)||a.end.offset--;const u=this.mergeAttributes(a.end);return new r.a(s,u)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return O(t.clone());t.parent.is("$text")&&(t=E(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const o=new r.a(t,t.getShiftedBy(1));this.wrap(o,e);const a=new i.a(n.parent,n.index);n._remove();const s=a.nodeBefore,u=a.nodeAfter;return s instanceof y.a&&u instanceof y.a?P(s,u):O(a)}_wrapAttributeElement(t,e){if(!I(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!I(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(x(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new r.a(n,n)}const o=this._breakAttributes(i,e),a=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-a,new r.a(s,o)}_breakAttributes(t,e=!1){const n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new l.default("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new l.default("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new l.default("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&A(r.parent))return t.clone();if(A(r))return t.clone();if(r.is("$text"))return this._breakAttributes(E(t),e);if(n==r.childCount){const t=new i.a(r.parent,r.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new i.a(r.parent,r.index);return this._breakAttributes(t,e)}{const t=r.index+1,o=r._clone();r.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const a=r.childCount-n,s=r._removeChildren(n,a);o._appendChild(s);const u=new i.a(r.parent,t);return this._breakAttributes(u,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function T(t){let e=t.parent;for(;!A(e);){if(!e)return;e=e.parent}return e}function S(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function O(t){const e=t.nodeBefore;if(e&&e.is("$text"))return new i.a(e,e.data.length);const n=t.nodeAfter;return n&&n.is("$text")?new i.a(n,0):t}function E(t){if(t.offset==t.parent.data.length)return new i.a(t.parent.parent,t.parent.index+1);if(0===t.offset)return new i.a(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new y.a(t.root.document,e)),new i.a(t.parent.parent,t.parent.index+1)}function P(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new i.a(t,n)}const C=[y.a,s.default,a.a,d,p,h.a];function A(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function x(t,e){const n=T(t.start),i=T(t.end);if(!n||!i||n!==i)throw new l.default("view-writer-invalid-range-container",e)}function I(t,e){return null===t.id&&null===e.id}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var i=n(270),r=n(100),o=n(9),a=n(151),s=n(1),u=n(15),l=n(76),c=n(169);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const d=Symbol("bubbling contexts");var f={fire(t,...e){try{const n=t instanceof a.a?t:new a.a(this,t),i=m(this);if(!i.size)return;if(h(n,"capturing",this),p(i,"$capture",n,...e))return n.return;const r=n.startRange||this.selection.getFirstRange(),o=r?r.getContainedElement():null,s=!!o&&Boolean(g(i,o));let u=o||function(t){if(!t)return null;const e=t.start.parent,n=t.end.parent,i=e.getPath(),r=n.getPath();return i.length>r.length?e:n}(r);if(h(n,"atTarget",u),!s){if(p(i,"$text",n,...e))return n.return;h(n,"bubbling",u)}for(;u;){if(u.is("rootElement")){if(p(i,"$root",n,...e))return n.return}else if(u.is("element")&&p(i,u.name,n,...e))return n.return;if(p(i,u,n,...e))return n.return;u=u.parent,h(n,"bubbling",u)}return h(n,"bubbling",this),p(i,"$document",n,...e),n.return}catch(t){s.default.rethrowUnexpectedError(t,this)}},_addEventListener(t,e,n){const i=Object(l.default)(n.context||"$document"),r=m(this);for(const o of i){let i=r.get(o);i||(i=Object.create(u.default),r.set(o,i)),this.listenTo(i,t,e,n)}},_removeEventListener(t,e){const n=m(this);for(const i of n.values())this.stopListening(i,t,e)}};function h(t,e,n){t instanceof c.a&&(t._eventPhase=e,t._currentTarget=n)}function p(t,e,n,...i){const r="string"==typeof e?t.get(e):g(t,e);return!!r&&(r.fire(n,...i),n.stop.called)}function g(t,e){for(const[n,i]of t)if("function"==typeof n&&n(e))return i;return null}function m(t){return t[d]||(t[d]=new Map),t[d]}var v=n(35);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y{constructor(t){this.selection=new i.a,this.roots=new r.default({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}Object(o.default)(y,f),Object(o.default)(y,v.default)},function(t,e,n){"use strict";var i=n(74);e.a=function(t,e){return e="function"==typeof e?e:void 0,Object(i.a)(t,5,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const i=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function r(t){return i.includes(t)?"rtl":"ltr"}},function(t,e,n){"use strict";var i=n(74);e.a=function(t){return Object(i.a)(t,4)}},function(t,e,n){"use strict";var i=n(267),r=n(200),o=n(21);e.a=function(t){return Object(i.a)(t,o.a,r.a)}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){let e=0;for(const n of t)e++;return e}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(25);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.default{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}toJSON(){return this.rootName}}},function(t,e,n){"use strict";var i,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(e,n,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+n+s}}function a(t,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(i.read||i)(u,l)||e(u),n)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,n){o(e,"",t(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||i.setDimensions(window.screen.width,window.screen.height),e.default=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(14)),s=i(n(8)),u=i(n(481)),l=i(n(55)),c=i(n(235)),d=i(n(236)),f=i(n(237)),h=i(n(277)),p=i(n(482)),g=i(n(278)),m=i(n(238)),v=new p.default,y=new c.default,_={getOrCreateRasterImageResource:function(t,e,n){var i=o.default.Deferred();return f.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void i.resolve(null);m.default.isValidCropObject(n)?r=m.default.createOriginalDimensionsFromCropDimensions(r,n):n=null;var o=_.getRasterImage(t,n),a=_.isUriForGif(t),s=_.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){_.shouldRequestHigherResolution(r.width,o.getWidth(),s)?i.resolve(_.createRasterImageResource(t,s,n)):i.resolve(o)})).fail(i.reject):i.resolve(_.createRasterImageResource(t,s,n))})),i.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var n=v.get(t),i=_.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return n&&(!n.ready()||n.getWidth()>=e)?n:_.createRasterImageResource(t,e);var o=_.calculateVariantDimensions(r,e,i);return n?n.ready()&&_.shouldRequestHigherResolution(r.width,n.getWidth(),o)?_.createRasterImageResource(t,o):n:_.createRasterImageResource(t,o)},getRasterImage:function(t,e){var n=v.createCacheKey(t,e);return v.get(n)},getOrCreateVectorImageResourceFactory:function(t,e,n,i,r){return r?this.createVectorImageResourceFactory(t,e,n,i,!0):y.has(t)?y.get(t):this.createVectorImageResourceFactory(t,e,n,i,!1)},createVectorImageResourceFactory:function(t,e,n,i,r){var o=_.createImageProxyUri(t),a=new g.default(o,e,n,i);return r&&y.has(t)||y.put(t,a),a},getVectorImageResourceFactory:function(t){return y.get(t)},createRasterImageResource:function(t,e,n){var i=_.createImageResourceUrl(t,e,n),r=new h.default(i),o=v.createCacheKey(t,n);return v.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var n=.05*Math.ceil(t/e/.05);return e*(n=Math.max(n,.05))},calculateVariantDimensions:function(t,e,n){if(s.default.isExported||(n?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var i=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,i)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-"gif".length)},shouldRequestHigherResolution:function(t,e,n){return r.default.isNull(n)||n>=t?e<t:(n-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(v.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,n,i){d.default.putImageInfo(t,e,n,i)},primeCacheWithVectorImageResourceFactory:function(t,e){y.put(t,e)},loadImageInfoForPage:function(t){return f.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return f.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,n){return s.default.isStudio?_.createImageProxyUri(t,e,n):s.default.isExported?_.createExportUrl(t,e):_.createMediaUrl(t,e,n)},createImageProxyUri:function(t,e,n){t+="/proxy";var i={};return r.default.isNumber(e)&&(i.width=e),r.default.isObject(n)&&(i.crop=m.default.createCropDimensionsString(n)),l.default.appendQueryParams(t,i,!0)},createMediaUrl:function(t,e,n){var i=d.default.get(t),o=r.default.get(i,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(n)&&(a.crop=m.default.createCropDimensionsString(n)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var n=d.default.get(t),i=r.default.get(n,"thumbnails");if(!r.default.isObject(i))return"";var o=u.default.getComponentImageThumbnail(i,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return v},getVectorImageResourceFactoryCache:function(){return y}};e.default=_},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=new(i(n(235)).default),a=function(t,e,n,i){return{id:t,url:e,original:{width:n,height:i}}},s={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=s.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=s.get(t),n=r.default.get(e,["original","width"],null),i=r.default.get(e,["original","height"],null);return n&&i?{width:n,height:i}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?s.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,n,i){var r=a(t,e,n,i);return o.put(t,r),r},putVideoInfo:function(t,e,n,i,r){var s=a(t,e,n,i);return s.posterFrameUri=r,o.put(t,s),s},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(236)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var n=t+"/media";e&&(n+="?imagesOnly=true");var i=r.default.ajax({url:n,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,n,i){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+i)}));return u.push(i),i},loadMedia:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var n=o.default.get(e,"url",null),i=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null),a=o.default.get(e,"posterFrameUri",null);return a?s.default.putVideoInfo(t,n,i,r,a):s.default.putImageInfo(t,n,i,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return t?s.default.has(t)||!a.default.isStudio&&!a.default.editMode?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadMedia(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise()):(e.resolve(),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),n=o.default.get(t,["original","height"]);return e&&n?{width:e,height:n}:null}))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,M:77,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(125)),a=i(n(8)),s=i(n(837)),u=i(n(839)),l=i(n(842)),c=i(n(130));t=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var n,i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,showEditorLabel:!1,overlayed:!0},i,e),u=(n=o.theme,c.default.getMostContrasting(n.backgroundColor,n.menuFgColor,n.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var d=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,showEditorLabel:o.showEditorLabel,overlayed:o.overlayed});return this.loadingViews.push(d),t.prepend(d.$el),d.render(),o.startImmediately&&d.start(),{destroy:function(){d.destroy()},start:function(){d.start()},stop:function(){d.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var n=new u.default;t.append(n.$el)},showDeletedPageWarning:function(e){var n=new l.default({module:t});n.render(),e.append(n.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AnalyticsLocalStorage=void 0;var r=i(n(347)),o=i(n(55)),a=n(516).storageFactory((function(){return window.localStorage})),s=function(){function t(){}return t.setUserConsent=function(t,e){var n=this.generateUserConsentKey(e);a.setItem(n,t.toString())},t.getUserConsent=function(t){var e=this.generateUserConsentKey(t);switch(a.getItem(e)){case"true":return!0;case"false":return!1;default:return null}},t.deleteUserConsent=function(t){var e=this.generateUserConsentKey(t);a.removeItem(e)},t.setExperienceTracker=function(t,e){var n=this.generateExperienceTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getExperienceTracker=function(t){var e=r.default.getExperienceTrackingCookieData();if((null==e?void 0:e.initial_referrer)||(null==e?void 0:e.initial_referring_domain)){this.setExperienceTracker(e,t);var n=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,n)}var i=this.generateExperienceTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteExperienceTracker=function(t){var e=o.default.getRootDomain();r.default.deleteExperienceTrackingCookie(t,e);var n=this.generateExperienceTrackerKey(t);a.removeItem(n)},t.setDomainTracker=function(t,e){var n=this.generateDomainTrackerKey(e);a.setItem(n,JSON.stringify(t))},t.getDomainTracker=function(t){var e=r.default.getDomainTrackingCookieData();if(null==e?void 0:e.user_token){this.setDomainTracker(e,t);var n=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,n)}var i=this.generateDomainTrackerKey(t),s=a.getItem(i);return s?JSON.parse(s):null},t.deleteDomainTracker=function(t){var e=o.default.getRootDomain();r.default.deleteDomainTrackingCookie(t,e),r.default.deleteDomainTrackingCookie("/",e);var n=this.generateDomainTrackerKey(t);a.removeItem(n)},t.generateUserConsentKey=function(t){return""+this.USER_CONSENT_KEY_PREFIX+t},t.generateExperienceTrackerKey=function(t){return""+this.EXPERIENCE_TRACKER_KEY_PREFIX+t},t.generateDomainTrackerKey=function(t){return""+this.DOMAIN_TRACKER_KEY_PREFIX+t},t.USER_CONSENT_KEY_PREFIX="user_consent",t.EXPERIENCE_TRACKER_KEY_PREFIX="experience_tracker",t.DOMAIN_TRACKER_KEY_PREFIX="domain_tracker",t}();e.AnalyticsLocalStorage=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]}return t.prototype.invoke=function(){var t=window,e=r.default.get(window,this.functionPath),n=this.functionPath.split(".").slice(0,-1).join(".");if(n&&(t=r.default.get(t,n)),t&&e&&"function"==typeof e)return e.apply(t,this.args)},t.prototype.toJSON=function(){return{functionPath:this.functionPath,args:this.args}},t.prototype.toString=function(){return JSON.stringify(this.toJSON())},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.moduleOptions=void 0;var o=r(n(3)),a=r(n(0)),s=r(n(24)),u=r(n(125)),l=r(n(8)),c=r(n(535)),d=r(n(182)),f=r(n(14)),h=r(n(106)),p=n(70),g=r(n(355)),m=r(n(289)),v=r(n(784)),y=r(n(141)),_=r(n(55)),b=r(n(48)),w=n(52),T=n(292),S="top",O="bottom",E="scranchor",P="component",C=null,A=null,x=null,I=null,k=null,M=null,R=null,N={id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new o.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart"},delegate:{init:function(t,e){x=t,R=e.performanceTracker;var n=this.createScaleContextOptions(x,e);A=new v.default(n);var i=this.createViewportViewOptions(x,A,e);(C=new c.default(i)).preloadMedia();var r=new g.default(x.getEnabledPageIndexes(),x.isCarousel()),o=h.default.parsePageFromLocation();k=x.getPageInfoByNumberOrSlug(o).number;var a=x.getNearestEnabledPage(k);k===a||l.default.previewMode||(s.default.info("Requesting disabled page",k),k=a),M=r.getPageIndexesToLoad(k-1),this.registerEvents()},createScaleContextOptions:function(e,n){return a.default.extend({module:t,marginTopCallback:function(){return 0},documentVersion:e},n||{})},createViewportViewOptions:function(e,n,i){return a.default.extend({module:t,documentVersion:e,scaleContext:n},i||{})},triggerExperienceLevelInteractions:function(e){e.get("interactions")&&a.default.each(e.get("interactions"),(function(e){switch(e.action){case"lightbox":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_LIGHTBOX,e)}),1e3*e.delay);break;case"product":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_PRODUCT_PANEL,e)}),1e3*e.delay);break;case"shopping-cart":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_SHOPPING_CART,e)}),1e3*e.delay)}}))},registerEvents:function(){y.default.on("sdk.experience.page.goto",a.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),y.default.on("sdk.experience.page.next",a.default.bind((function(t){this.nextPage()}),this)),y.default.on("sdk.experience.page.previous",a.default.bind((function(t){this.previousPage()}),this)),y.default.on("sdk.component.video.start",a.default.bind((function(t){this.startVideo(t.componentId)}),this)),y.default.on("sdk.component.video.stop",a.default.bind((function(t){this.stopVideo(t.componentId)}),this)),y.default.on("sdk.component.text.settext",a.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),y.default.on("sdk.component.image.seturl",a.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),y.default.on("sdk.component.image.reset",a.default.bind((function(t){this.resetImage(t.componentId)}),this)),y.default.on("sdk.component.click",a.default.bind((function(t){this.clickComponent(t.componentId)}),this)),y.default.on("sdk.component.show",a.default.bind((function(t){this.showComponent(t.componentId)}),this)),y.default.on("sdk.component.hide",a.default.bind((function(t){this.hideComponent(t.componentId)}),this)),y.default.on("sdk.layer.show",a.default.bind((function(t){this.showLayer(t.layerId)}),this)),y.default.on("sdk.layer.hide",a.default.bind((function(t){this.hideLayer(t.layerId)}),this)),y.default.on("sdk.page.animations.start",a.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.animations.pause",a.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),y.default.on("sdk.page.disable",a.default.bind((function(t){this.disablePage(t.pageNum)}),this)),y.default.on("sdk.page.enable",a.default.bind((function(t){this.enablePage(t.pageNum)}),this))},createPageViews:function(){var t=[];m.default.on(m.default.publishedEvents.PAGE_RELOAD,(function(){C.scale()})),(I=x.editorPagesManifest).each(a.default.bind((function(e,n){var i=this.createSinglePageView(e,n);t.push(i)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var n=x.getPages()[e],i=m.default.createPageView(n,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:x,scaleContext:A,isRequestedPage:e===k-1});return l.default.previewMode&&n.on("remote",function(){e===C.getCurrentPage().getPageIndex()&&C.mainContentLink.render()}.bind(this)),i},getPageViews:function(){return this.pageViews},scale:function(){C.scalePageComponents()},preloadPageMedia:function(){var t=a.default.map(x.getPages(),(function(t){return A.getPageScaleContext(t)}));x.shouldLazyLoad()?(a.default.each(M,a.default.bind((function(e,n){var i=x.getPages()[e];0===n?R.mark(R.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===n&&R.mark(R.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),s.default.debug("Lazy preloading media for page: "+(e+1));var r=0===n;i.lazyPreloadAllMedia(t[e],r)}),this)),1===M.length&&R.mark(R.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(x.getPages(),(function(e,n){a.default.includes(M,n)||(s.default.debug("Lazy preloading media for page: "+(n+1)),e.lazyPreloadAllMedia(t[n],!1))}))):(R.mark(R.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),a.default.each(M,a.default.bind((function(e,n){var i=x.getPages()[e],r=t[e];s.default.debug("Preloading visible media for page: "+(e+1)),i.preloadVisibleMedia(r,!0)}),this)),R.mark(R.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.each(x.getPages(),(function(e,n){a.default.includes(M,n)||(s.default.debug("Preloading visible media for page: "+(n+1)),e.preloadVisibleMedia(t[n],!1))})),a.default.each(x.getPages(),(function(e,n){s.default.debug("Preloading hidden media for page: "+(n+1)),e.preloadHiddenMedia(t[n])})))},renderPages:function(){this.createPageViews(),C.reset(this.pageViews,k),this.preRenderPages(),s.default.debug("Setting up the lazy preRender Defer"),a.default.defer(a.default.bind(t.startLazyPrerender,this));var e=C.showPage(k);return e.done(t.firstPageShown.resolve),e},activateFirstPage:function(){C.getBackgroundImagePromise().done(a.default.bind(C.showBackground,C));var e=C.getCurrentPage();if(C.activatePage(e),t.triggerExperienceLevelInteractions(x),window.location.hash)e.triggerScrollTo(window.location.hash);else if(!l.default.isEmbedded&&f.default.isWindows()){var n="page-"+this.getCurrentPageNumber()+"-top";e.focusArbiter.moveFocusToElement(n)}},preRenderPages:function(){R.mark(R.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=x.shouldLazyLoad()?[this.pageViews[M[0]]]:a.default.map(M,a.default.bind((function(t){return this.pageViews[t]}),this));var e=[];a.default.each(t,a.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),o.default.when.apply(o.default,e).done(a.default.bind((function(){R.mark(R.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===t.firstPageShown.state()},getFirstPageReadyPromise:function(){return t.firstPageShown},nextPage:function(){C&&C.nextPage()},previousPage:function(){C&&C.previousPage()},jumpToPage:function(t,e){C&&C.jumpToPage(t,e)},show:function(){C&&C.show()},hide:function(){C&&C.hide()},el:function(){return C?C.$el:null},getCurrentPageHeight:function(){if(C){var t=C.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return C?C.currentPageSlug:null},getCurrentPageNumber:function(){return C?C.currentPage:null},getTotalPagesNumber:function(){return I.length},getPageNameBySlug:function(t){return C?C.getPageNameBySlug(t):null},isLastPage:function(t){var e=I.length,n=I.at(e-1);return a.default.last(n.uri.split("/"))===t},isFirstPage:function(t){var e=I.at(0);return a.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var n=C.getCurrentPage(),i=this.getScrollPositionForInteraction(t,e),r=l.default.shouldReduceMotion?0:300;return b.default.hasFeature(w.FeatureFlagName.ACCESSIBILITY)&&t===S?e=p.VIEWPORT_TOP_ID:t!==S&&t!==O||(e="page-"+(n.model.pageIndex+1)+"-"+t),n.$pageContainer.animate({scrollTop:i},r,"easeOutCubic",(function(){n.focusArbiter.moveFocusToElement(e)})),{scrollPosition:i,pageHeight:n.model.getPageHeight(x),visibleHeight:n.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case S:return 0;case O:return C.getCurrentPage().model.getPageHeight(x);case E:var n=C.getCurrentPage().model.getScranchorsForCurrentVariant();return n&&a.default.has(n,e)?n[e]:(s.default.warn("Could not find scranchor for id: "+e),null);case P:var i=C.getCurrentPage().model,r=i.findLayerById(e);return r?"folder"!==r.type||(r=i.constructor.findTopmostFolderContent(r))?r.parentSmartgroup?r.y+r.parentSmartgroup.options.y:r.absoluteY:(s.default.warn("Attempted to scroll to empty folder component: "+e),null):(s.default.warn("Could not find component to scroll to: "+e),null);default:return s.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(l.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(C){var n=h.default.buildUriForPageNumber(C.currentPage),i=C.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+n,i)}},shareOnSocial:function(t,e,n){e=_.default.removeEmbedParams(e);var i=a.default.isEmpty(l.default.openGraphUrl)?e:l.default.openGraphUrl;switch(t){case"share-twitter":d.default.shareOnTwitter(i);break;case"share-linkedin":d.default.shareOnLinkedIn(i);break;case"share-pinterest":d.default.shareOnPinterest(i,n);break;case"share-facebook":d.default.shareOnFacebook(e);break;case"share-email":d.default.shareViaEmail(e)}},addClickShield:function(){C&&C.addClickShield()},removeClickShield:function(){C&&C.removeClickShield()},disableGestures:function(){a.default.isFunction(C.disableGestures)&&C.disableGestures()},enableGestures:function(){a.default.isFunction(C.enableGestures)&&C.enableGestures()},getExperienceWidth:function(){return C.getExperienceWidth()},getExperienceHeight:function(){return C.getExperienceHeight()},startVideo:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=C.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=C.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var n=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=C.getCurrentPage().findChildView(t);n&&"text"===n.type&&n.setTextFromSDK(a.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,n){var i=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),r=[t].concat(i);a.default.each(r,(function(t){var i=C.getCurrentPage().findChildView(t);if(i&&"image"===i.type)if(i.srcOverride=e,i.dimensionsOverride=n,n){var r=new Image;r.onload=function(){var t=i.$innerElement.attr("style"),e=i.$innerElement.attr("alt");i.$innerElement.remove();var n=o.default(r);n.attr("style",t).attr("alt",e),i.$innerElement=o.default(n),i.$el.append(i.$innerElement)},r.src=e}else i.$innerElement.attr("src",e)}))},resetImage:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(e);C.getCurrentPage().invokeShowAction(n)},hideLayer:function(t){var e=C.getCurrentPage(),n=e.model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(n);e.invokeHideAction(i)},clickComponent:function(t){var e=C.getCurrentPage(),n=e.model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(n);a.default.each(i,(function(t){var n=e.findChildView(t);n&&n.simulateClick()}))},showComponent:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=C.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(e);a.default.each(n,(function(t){var e=C.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=C.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=C.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleReducedMotion:function(){l.default.shouldReduceMotion=!l.default.shouldReduceMotion,o.default("#main").toggleClass("ceros-no-animate");var t=C.getCurrentPage();this.toggleAutoPlayVideos(t.childViews),l.default.shouldReduceMotion||t.restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){C.disablePage(t)},enablePage:function(t){C.enablePage(t)},isLayerVisible:function(t){return a.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))},handleAutoVideoToggle:function(t){!t.options.videoAutoPlay||!t.options.videoLoop&&t.videoHandle.ended()||(l.default.shouldReduceMotion?t.autoPause():!t.wasInsideVisibleBoundaries||!t.isAutoPaused&&t.playedOnce||t.play())},toggleAutoPlayVideos:function(t){var e,n;try{for(var r=i(t),o=r.next();!o.done;o=r.next()){var a=o.value;a instanceof T.VideoComponentView?this.handleAutoVideoToggle(a):a.childViews&&this.toggleAutoPlayVideos(a.childViews)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},startLazyPrerender:function(){s.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],n=this.getPageViews();a.default.each(M,(function(t){e.push(n[t])})),a.default.each(n,(function(t,n){a.default.includes(M,n)||e.push(t)}));var i=o.default.Deferred().resolve();return a.default.each(e,(function(t){t.isPrerendered()||(i=i.then(a.default.bind(t.startLazyPrerender,t)))})),i.then((function(){s.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),i.promise()},currentPageNumber:function(){return C.currentPage||1}};e.moduleOptions=N;t=new u.default.Module(N);e.default=t},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseURLInteraction=void 0;var s=a(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!1,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(n(131).BaseInteraction);e.BaseURLInteraction=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(20);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidSelector=e.escapeComponentId=void 0;e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")};e.isValidSelector=function(t){return void 0===t&&(t=""),-1===t.indexOf("=")}},function(t,e,n){"use strict";var i;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,f=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,h=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,m=/\d{3}/,v=/\d{1,4}/,y=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b=/Z|[\+\-]\d\d:?\d\d/i,w=/T/i,T=/[\+\-]?\d+(\.\d{1,3})?/,S=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,O=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],E=/([\+\-]|\d\d)/gi,P="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),C={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},A={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},x={},I="DDD w W M D d".split(" "),k="M D H h m s w W".split(" "),M={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return B(this.year()%100,2)},YYYY:function(){return B(this.year(),4)},YYYYY:function(){return B(this.year(),5)},gg:function(){return B(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return B(this.weekYear(),5)},GG:function(){return B(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return B(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return B(~~(this.milliseconds()/10),2)},SSS:function(){return B(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+":"+B(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function R(t,e){return function(n){return B(t.call(this,n),e)}}function N(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;I.length;)a=I.pop(),M[a+"o"]=N(M[a],a);for(;k.length;)a=k.pop(),M[a+a]=R(M[a],2);function D(){}function L(t){F(this,t)}function j(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,i=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*i,this._months=n+12*e,this._data={},this._bubble()}function F(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function V(t){return t<0?Math.ceil(t):Math.floor(t)}function B(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function U(t,e,n,i){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*n),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*n),l&&t.month(t.month()+l*n),s&&!i&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function H(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var n,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<i;n++)~~t[n]!=~~e[n]&&o++;return o+r}function W(t){return t?A[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function z(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{n(570)("./"+t)}catch(t){return o.fn._lang}return u[t]}function $(t,e){var n=5;function i(e){return t.lang().longDateFormat(e)||e}for(;n--&&h.test(e);)e=e.replace(h,i);return x[e]||(x[e]=function(t){var e,n,i,r=t.match(f);for(e=0,n=r.length;e<n;e++)M[r[e]]?r[e]=M[r[e]]:r[e]=(i=r[e]).match(/\[.*\]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var o="";for(e=0;e<n;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}(e)),x[e](t)}function q(t,e){switch(t){case"DDDD":return m;case"YYYY":return v;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return z(e._l)._meridiemParse;case"X":return T;case"Z":case"ZZ":return b;case"T":return w;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function Y(t){var e=((b.exec(t)||[])[0]+"").match(E)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function K(t,e,n){var i,r=n._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(i=z(n._l).monthsParse(e))?r[1]=i:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":n._isPm=z(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Y(e)}null==e&&(n._isValid=!1)}function X(t){var e,n,i=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];i[3]+=~~((t._tzm||0)/60),i[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(i[0],i[1],i[2]),n.setUTCHours(i[3],i[4],i[5],i[6])):(n.setFullYear(i[0],i[1],i[2]),n.setHours(i[3],i[4],i[5],i[6])),t._d=n}}function J(t){var e,n,i=t._f.match(f),r=t._i;for(t._a=[],e=0;e<i.length;e++)(n=(q(i[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(n)+n.length)),M[i[e]]&&K(i[e],n,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),X(t)}function Z(t){var e=t._i,n=c.exec(e);e===r?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n=t._i,i=S.exec(n);if(i){for(t._f="YYYY-MM-DD"+(i[2]||" "),e=0;e<4;e++)if(O[e][1].exec(n)){t._f+=O[e][0];break}b.exec(n)&&(t._f+=" Z"),J(t)}else t._d=new Date(n)}(t):H(e)?(t._a=e.slice(0),X(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function Q(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function tt(t,e,n){var i,r=n-e,a=n-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=o(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function et(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=z().preparse(e)),o.isMoment(e)?(t=F({},e))._d=new Date(+e._d):n?H(n)?function(t){var e,n,i,r,o,a=99;for(r=0;r<t._f.length;r++)(e=F({},t))._f=t._f[r],J(e),n=new L(e),o=G(e._a,n.toArray()),n._il&&(o+=n._il.length),o<a&&(a=o,i=n);F(t,i)}(t):J(t):Z(t),new L(t))}function nt(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),o.updateOffset(this),this):this._d["get"+n+e]()}}for(M.DDDD=R(M.DDD,3),D.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=o([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=o([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return tt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,n){return et({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return et({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var n,i,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(n="-"===u[1]?-1:1,s={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),i=new j(s),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new D),u[t].set(e),u[t]}(t,e):u[t]||z(t),o.duration.fn._lang=o.fn._lang=z(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),z(t)},o.isMoment=function(t){return t instanceof L},o.isDuration=function(t){return t instanceof j},o.fn=L.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return $(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=$(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return U(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return U(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,n){var i,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/i,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/i,"year"===e&&(r/=12)):(i=this-a,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?r:V(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=Y(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&U(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=tt(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=tt(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=z(t),this)}},a=0;a<P.length;a++)nt(P[a].toLowerCase().replace(/s$/,""),P[a]);function it(t){o.duration.fn[t]=function(){return this._data[t]}}function rt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in nt("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=j.prototype={_bubble:function(){var t,e,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=V(r/1e3),s.seconds=t%60,e=V(t/60),s.minutes=e%60,n=V(e/60),s.hours=n%24,o+=V(n/24),s.days=o%30,a+=V(o/30),s.months=a%12,i=V(a/12),s.years=i},weeks:function(){return V(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,o,a,u,l,c,d=+this,f=(e=d,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=n,c[3]=e>0,c[4]=i,Q.apply({},c));return t&&(f=this.lang().pastFuture(d,f)),this.lang().postformat(f)},add:function(t,e){var n=o.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=o.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},C)C.hasOwnProperty(a)&&(rt(a,C[a]),it(a.toLowerCase()));rt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(i=function(){return o}.apply(e,[]))===r||(t.exports=i)}).call(this)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathComponentView=void 0;var c=l(n(61)),d=l(n(594)),f=u(n(93)),h=n(108),p=n(294),g=n(132),m=n(144),v=l(n(143)),y=l(n(130)),_=n(374),b=l(n(214)),w=l(n(14)),T=function(t){function e(e){var n=t.call(this,e)||this;return n.hasRenderedGradient=!1,n.options=e,n}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){m.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)},e.prototype._applyRotation=function(e){this.isMaskImage()||t.prototype._applyRotation.call(this,e)},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border||{}),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype.applyMaskProperties=function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+y.default.buildStops(n.gradient.stops)+")")}},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=this.getStopElements(),i=0;this.isMaskImage()&&this.applyMaskProperties(),t.color&&n.css("stop-color",t.color),t.gradient&&(n.first().css("stop-color",t.gradient.stops[0].color),n.last().css("stop-color",t.gradient.stops[1].color),i=t.gradient.angle||0),t.color||t.gradient||n.css("stop-color","transparent"),p.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),i,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyShadow=function(t,e){return void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),this.applyDropShadow(t,e)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.getHoverTarget=function(){return this.getPointerEventsTarget()},e.prototype.render=function(){var e=this,n=this.options.width,i=this.options.height,r=this.id+"-"+this.type+"-svg",o=this.id+"-"+this.type+"-svg",a=r+"-gradient",s=a+"-stop0",u=a+"-stop1",l=r+"-custom-path-shadow-filter",f="url(#"+a+")",h=this.calculateTransform(),p=this.renderShape({fill:f,shadow:"",transform:h}),g=c.default.render(d.default,{svgName:r,componentId:o,gradientName:a,gradientStop0Name:s,gradientStop1Name:u,width:n,height:i,subview:p,fill:f,shadowName:l});if(this.isMaskImage()){var m=v.default.encodedSvgStringAsBase64(g);this.renderAsMask(m)}else this.$el.empty().html(g);t.prototype.render.call(this),this.options.ariaLabel||this.hasClickInteraction()||this.hasHoverInteraction()||this.$el.attr("aria-hidden","true"),this.isMaskImage()||this.createAnimationWithTransition(this.getSVGElement(),{placeholder:"0"},{placeholder:"0"},{duration:0,easing:_.Easing.linear,delay:0});var y=this.getShapeElement();return this.shouldTriggerClickOnKeyDown()&&(y.addClass("focusable outline-hidden"),this.hasAccessibilityFeature&&y.attr("role","button")),y.on("focus",(function(){y.addClass("outline-hidden"),"keyboard"===b.default.ask()&&(w.default.isDesktopSafari()&&e.$el.css("outline","auto"),y.removeClass("outline-hidden"))})),y.on("blur",(function(){w.default.isDesktopSafari()&&e.$el.css("outline",""),y.addClass("outline-hidden")})),this},e.prototype.renderAsMask=function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.calculateTransform=function(){if(this.isMaskImage()){this._configureAllWidthAllHeight();var t=this.options,e=t.x,n=t.y,i=t.rotation,r=t.allWidth,o=t.allHeight;if(void 0!==o&&void 0!==r)return"rotate("+i+", "+r/2+", "+o/2+") translate("+e+", "+n+")"}return null},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(e,n){if(void 0===e&&(e=this.options.x),void 0===n&&(n=this.options.y),this.isMaskImage())t.prototype._applyPosition.call(this,0,0);else{var i=this.getApplyPositionTarget();i.css("left",e+"px"),i.css("top",n+"px")}},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getShapeElement().css("transition",e),this.getShapeElement().css("transition-property",n||"none"),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getStopElements().css("transition",e),this.getStopElements().css("transition-property",n||"none")},e.prototype.getSVGElement=function(){return this.$el.find(".custom-path-component")},e.prototype.getApplyShadowTarget=function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.shouldTriggerClickOnKeyDown=function(){return this.hasClickInteraction()&&!this.isMaskImage()},e.prototype.applyTabindex=function(){this.hasClickInteraction()&&!this.isMaskImage()?this.getShapeElement().attr("tabindex",0):this.hasClickInteraction()||this.getPointerEventsTarget().attr("tabindex",-1),this.hasAccessibilityFeature&&this.shouldTriggerClickOnKeyDown()&&this.getSVGElement().removeAttr("aria-hidden"),t.prototype.applyTabindex.call(this)},e.prototype.getPointerEventsTarget=function(){return this.isMaskImage()?this.$el:this.getShapeElement()},e.prototype.applyTagOverride=function(){this.isMaskImage()&&t.prototype.applyTagOverride.call(this)},e.prototype.getShadowParams=function(t,e,n,i){void 0===e&&(e=this.options.width),void 0===n&&(n=this.options.height),void 0===i&&(i=this.options.rotation),i=i||0;var r=f.maintainOffsetWhenRotated(i,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,d=100*Math.abs(a/n)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:d,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(d)+100}},e.prototype.createAnimationWithTransition=function(t,e,n,i){if(i){var r={};Object.keys(e).forEach((function(t){r[t]={from:n[t],to:e[t]}}));var o=p.AnimateSVGUtil.animatePointsForMultiple(r),a=p.AnimateSVGUtil.getSplineStringFromEasing(i.easing),s=Object.keys(o).map((function(t){return p.AnimateSVGUtil.createAnimationElement(t,!1,o[t],a)}));t.find("animate").remove(),p.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),t,s,i)}else Object.keys(e).forEach((function(n){t.attr(n,e[n])}))},e.prototype.applyPoints=function(t,e){},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path)},e=s([g.BackboneShim({className:"custom-path-container shape"})],e)}(h.AbstractComponentView);e.AbstractCustomPathComponentView=T},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.icons=e.PendingActions=e.secureSourceElement=e.ElementApiMixin=e.DataApiMixin=e.attachToForm=e.EditorUI=e.Editor=e.ContextPlugin=e.Context=e.MultiCommand=e.Command=e.Plugin=void 0;var r=n(45);Object.defineProperty(e,"Plugin",{enumerable:!0,get:function(){return i(r).default}});var o=n(113);Object.defineProperty(e,"Command",{enumerable:!0,get:function(){return i(o).default}});var a=n(645);Object.defineProperty(e,"MultiCommand",{enumerable:!0,get:function(){return i(a).default}});var s=n(384);Object.defineProperty(e,"Context",{enumerable:!0,get:function(){return i(s).default}});var u=n(387);Object.defineProperty(e,"ContextPlugin",{enumerable:!0,get:function(){return i(u).default}});var l=n(383);Object.defineProperty(e,"Editor",{enumerable:!0,get:function(){return i(l).default}});var c=n(646);Object.defineProperty(e,"EditorUI",{enumerable:!0,get:function(){return i(c).default}});var d=n(648);Object.defineProperty(e,"attachToForm",{enumerable:!0,get:function(){return i(d).default}});var f=n(649);Object.defineProperty(e,"DataApiMixin",{enumerable:!0,get:function(){return i(f).default}});var h=n(650);Object.defineProperty(e,"ElementApiMixin",{enumerable:!0,get:function(){return i(h).default}});var p=n(651);Object.defineProperty(e,"secureSourceElement",{enumerable:!0,get:function(){return i(p).default}});var g=n(652);Object.defineProperty(e,"PendingActions",{enumerable:!0,get:function(){return i(g).default}});var m=i(n(12)),v=i(n(12)),y=i(n(12)),_=i(n(12)),b=i(n(12)),w=i(n(12)),T=i(n(12)),S=i(n(12)),O=i(n(12)),E=i(n(12)),P=i(n(12)),C=i(n(12)),A=i(n(12)),x=i(n(12)),I=i(n(12)),k=i(n(12)),M=i(n(12)),R=i(n(12)),N=i(n(12)),D=i(n(12)),L=i(n(12)),j=i(n(12)),F=i(n(12)),V=i(n(12)),B=i(n(12)),U=i(n(12)),H=i(n(12)),G=i(n(12)),W=i(n(12));e.icons={cancel:m.default,caption:v.default,check:y.default,cog:_.default,eraser:b.default,lowVision:w.default,image:T.default,alignBottom:S.default,alignMiddle:O.default,alignTop:E.default,alignLeft:P.default,alignCenter:C.default,alignRight:A.default,alignJustify:x.default,objectLeft:D.default,objectCenter:k.default,objectRight:L.default,objectFullWidth:R.default,objectInline:N.default,objectBlockLeft:I.default,objectBlockRight:M.default,objectSizeFull:j.default,objectSizeLarge:F.default,objectSizeSmall:V.default,objectSizeMedium:B.default,pencil:U.default,pilcrow:H.default,quote:G.default,threeVerticalDots:W.default}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this);var e=this.renderShapeHoverArea();e.setAttributeNS(null,"fill","none");var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttributeNS(null,"overflow","visible"),n.append(e),n.style.width="100%",n.style.height="100%",n.style.display="block",this.$el.append(n),this.renderStroke(),this},e.prototype.renderBorder=function(){},e.prototype.renderStroke=function(){var t=this.options.component.options.border;this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",t.width||0),this.getHoverAreaTarget().css("miter-limit",10)},e.prototype.getHoverAreaTarget=function(){return this.$el.find("svg >")},e}(n(445).HoverAreaComponentView);e.AbstractCustomPathHoverAreaComponentView=o},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f})),n.d(e,"SchemaContext",(function(){return h}));var i=n(1),r=n(35),o=n(9),a=n(2),s=n.n(a),u=n(4),l=n(25),c=n(27),d=n(117);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class f{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new h(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new h(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new i.default("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new i.default("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof u.default){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof l.default))throw new i.default("schema-check-merge-no-element-before",this);if(!(n instanceof l.default))throw new i.default("schema-check-merge-no-element-after",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,i])=>{if(!i)return;const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,i])=>{const r=t(n,i);"boolean"==typeof r&&(e.stop(),e.return=r)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;if(t instanceof u.default)e=t.parent;else{e=(t instanceof s.a?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new c.default("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new s.a(t);let n,i;const r=t.getAncestors().reverse().find(t=>this.isLimit(t))||t.root;"both"!=e&&"backward"!=e||(n=new d.default({boundaries:s.a._createIn(r),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new d.default({boundaries:s.a._createIn(r),startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?"elementEnd":"elementStart",i=t.value;if(i.type==e&&this.isObject(i.item))return s.a._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new s.a(i.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))P(this,n,e);else{const t=s.a._createIn(n).getPositions();for(const n of t){P(this,n.nodeBefore||n.parent,e)}}}createContext(t){return new h(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=p(e[i],i);for(const e of n)g(t,e);for(const e of n)m(t,e);for(const e of n)v(t,e);for(const e of n)y(t,e),_(t,e);for(const e of n)b(t,e),w(t,e),T(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const r of t.getItems({shallow:!0}))r.is("element")&&(yield*this._getValidRangesForRange(s.a._createIn(r),e)),this.checkAttribute(r,e)||(n.isEqual(i)||(yield new s.a(n,i)),n=u.default._createAfter(r)),i=u.default._createAfter(r);n.isEqual(i)||(yield new s.a(n,i))}}Object(o.default)(f,r.default);class h{constructor(t){if(t instanceof h)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),this._items=t.map(E)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new h([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function p(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const i of t)e[i]=n[i]}}(t,n),S(t,n,"allowIn"),S(t,n,"allowContentOf"),S(t,n,"allowWhere"),S(t,n,"allowAttributes"),S(t,n,"allowAttributesOf"),S(t,n,"allowChildren"),S(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function g(t,e){const n=t[e];for(const i of n.allowChildren){const n=t[i];n&&n.allowIn.push(e)}n.allowChildren.length=0}function m(t,e){for(const n of t[e].allowContentOf)if(t[n]){O(t,n).forEach(t=>{t.allowIn.push(e)})}delete t[e].allowContentOf}function v(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function y(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function _(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const i=t[e];if(i){const t=Object.keys(i).filter(t=>t.startsWith("is"));for(const e of t)e in n||(n[e]=i[e])}}delete n.inheritTypesFrom}function b(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function w(t,e){const n=t[e];for(const i of n.allowIn){t[i].allowChildren.push(e)}}function T(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function S(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function O(t,e){const n=t[e];return(i=t,Object.keys(i).map(t=>i[t])).filter(t=>t.allowIn.includes(n.name));var i}function E(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function P(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}},function(t,e,n){"use strict";var i=n(11),r=/[\\^$.*+?()[\]{}|]/g,o=RegExp(r.source);e.a=function(t){return(t=Object(i.a)(t))&&o.test(t)?t.replace(r,"\\$&"):t}},function(t,e,n){"use strict";var i=n(172);e.a=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?Object(i.a)(t,e,void 0,n):!!r}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(53),r=n(122);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function o(t,e,n={},o=[]){const a=n&&n.xmlns,s=a?t.createElementNS(a,e):t.createElement(e);for(const t in n)s.setAttribute(t,n[t]);!Object(r.a)(o)&&Object(i.a)(o)||(o=[o]);for(let e of o)Object(r.a)(e)&&(e=t.createTextNode(e)),s.appendChild(e);return s}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l})),n.d(e,"convertToModelFragment",(function(){return c})),n.d(e,"convertText",(function(){return d})),n.d(e,"convertSelectionChange",(function(){return f}));var i=n(146),r=n(273),o=n.n(r),a=n(105),s=n(164),u=n(170);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class l extends o.a{elementToElement(t){return this.add(h(t))}elementToAttribute(t){return this.add(function(t){m(t=Object(a.a)(t));const e=v(t,!1),n=p(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){t=Object(a.a)(t);let e=null;("string"==typeof t.view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if("class"==e||"style"==e){n={["class"==e?"classes":"styles"]:t.view.value}}else{const i=void 0===t.view.value?/[\s\S]*/:t.view.value;n={attributes:{[e]:i}}}t.view.name&&(n.name=t.view.name);return t.view=n,e}(t));m(t,e);const n=v(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const i="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":i})}}(t=Object(a.a)(t)),h(t)}(t))}dataToMarker(t){return this.add(function(t){(t=Object(a.a)(t)).model||(t.model=e=>e?t.view+":"+e:t.view);const e=g(y(t,"start")),n=g(y(t,"end"));return i=>{i.on("element:"+t.view+"-start",e,{priority:t.converterPriority||"normal"}),i.on("element:"+t.view+"-end",n,{priority:t.converterPriority||"normal"});const r=s.a.get("low"),o=s.a.get("highest"),a=s.a.get(t.converterPriority)/o;i.on("element",function(t){return(e,n,i)=>{const r="data-"+t.view;function o(e,r){for(const o of r){const r=t.model(o,i),a=i.writer.createElement("$marker",{"data-name":r});i.writer.insert(a,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}(i.consumable.test(n.viewItem,{attributes:r+"-end-after"})||i.consumable.test(n.viewItem,{attributes:r+"-start-after"})||i.consumable.test(n.viewItem,{attributes:r+"-end-before"})||i.consumable.test(n.viewItem,{attributes:r+"-start-before"}))&&(n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:r+"-end-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-after"})&&o(n.modelRange.end,n.viewItem.getAttribute(r+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-end-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:r+"-start-before"})&&o(n.modelRange.start,n.viewItem.getAttribute(r+"-start-before").split(",")))}}(t),{priority:r+a})}}(t))}}function c(){return(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}}}function d(){return(t,e,{schema:n,consumable:i,writer:r})=>{let o=e.modelCursor;if(!i.test(e.viewItem))return;if(!n.checkChild(o,"$text")){if(!Object(u.isParagraphable)(o,"$text",n))return;o=Object(u.wrapInParagraph)(o,r)}i.consume(e.viewItem);const a=r.createText(e.viewItem.data);r.insert(a,o),e.modelRange=r.createRange(o,o.getShiftedBy(a.offsetSize)),e.modelCursor=e.modelRange.end}}function f(t,e){return(n,i)=>{const r=i.newSelection,o=[];for(const t of r.getRanges())o.push(e.toModelRange(t));const a=t.createSelection(o,{backward:r.isBackward});a.isEqual(t.document.selection)||t.change(t=>{t.setSelection(a)})}}function h(t){const e=g(t=Object(a.a)(t)),n=p(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function p(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function g(t){const e=new i.a(t.view);return(n,i,r)=>{const o=e.match(i.viewItem);if(!o)return;const a=o.match;if(a.name=!0,!r.consumable.test(i.viewItem,a))return;const s=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,i.viewItem,r);s&&r.safeInsert(s,i.modelCursor)&&(r.consumable.consume(i.viewItem,a),r.convertChildren(i.viewItem,s),r.updateConversionResult(s,i))}}function m(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,r="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:r}}function v(t,e){const n=new i.a(t.view);return(i,r,o)=>{const a=n.match(r.viewItem);if(!a)return;if(!function(t,e){const n="function"==typeof t?t(e):t;if("object"==typeof n&&!p(n))return!1;return!n.classes&&!n.attributes&&!n.styles}(t.view,r.viewItem)?delete a.match.name:a.match.name=!0,!o.consumable.test(r.viewItem,a.match))return;const s=t.model.key,u="function"==typeof t.model.value?t.model.value(r.viewItem,o):t.model.value;if(null===u)return;r.modelRange||Object.assign(r,o.convertChildren(r.viewItem,r.modelCursor));(function(t,e,n,i){let r=!1;for(const o of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(o,e.key)&&(r=!0,o.hasAttribute(e.key)||i.writer.setAttribute(e.key,e.value,o));return r})(r.modelRange,{key:s,value:u},e,o)&&o.consumable.consume(r.viewItem,a.match)}}function y(t,e){const n={};return n.view=t.view+"-"+e,n.model=(e,n)=>{const i=e.getAttribute("name"),r=t.model(i,n);return n.writer.createElement("$marker",{"data-name":r})},n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var i=n(30),r=n(6),o=n(23),a=n(9),s=n(128);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function u(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function l(t){const e=t.parentNode;e&&e.removeChild(t)}var c=n(35),d=n(1),f=n(59),h=n(150),p=n(271),g=n(89);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class m{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new d.default("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;Object(o.i)(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=v(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(this.domConverter.mapViewToDom(t).childNodes),i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),r=this._diffNodeLists(n,i),o=this._findReplaceActions(r,n,i);if(-1!==o.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const r of o)if("replace"===r){const r=e.equal+e.insert,o=e.equal+e.delete,a=t.getChild(r);!a||a.is("uiElement")||a.is("rawElement")||this._updateElementMappings(a,n[o]),l(i[r]),e.equal++}else e[r]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?r.a._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Object(f.a)(e.parent)&&Object(o.i)(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Object(o.i)(t))throw new d.default("view-renderer-filler-was-lost",this);Object(o.h)(t)?t.parentNode.removeChild(t):t.data=t.data.substr(o.c),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const r=t.nodeBefore,o=t.nodeAfter;return!(r instanceof i.a||o instanceof i.a)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),r=n.data;let a=i.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(a=o.b+a),r!=a){const t=Object(p.a)(r,a);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const n of i)e.setAttribute(n,t.getAttribute(n));for(const i of n)t.hasAttribute(i)||e.removeAttribute(i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,r=this.domConverter.mapViewToDom(t).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&v(n.ownerDocument,o,i.offset);const a=this._diffNodeLists(r,o);let s=0;const c=new Set;for(const t of a)"delete"===t?(c.add(r[s]),l(r[s])):"equal"===t&&s++;s=0;for(const t of a)"insert"===t?(u(n,s,o[s]),s++):"equal"===t&&(this._markDescendantTextToSync(this.domConverter.domToView(o[s])),s++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return t=function(t,e){const n=Array.from(t);if(0==n.length||!e)return n;n[n.length-1]==e&&n.pop();return n}(t,this._fakeSelectionContainer),Object(s.a)(t,e,_.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],r=[],o=[];const a={equal:0,insert:0,delete:0};for(const u of t)"insert"===u?o.push(n[a.equal+a.insert]):"delete"===u?r.push(e[a.equal+a.delete]):(i=i.concat(Object(s.a)(r,o,y).map(t=>"equal"===t?"replace":t)),i.push("equal"),r=[],o=[]),a[u]++;return i.concat(Object(s.a)(r,o,y).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=e.getSelection(),r=e.createRange();i.removeAllRanges(),r.selectNodeContents(n),i.addRange(r)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),g.a.isGecko&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||(n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel)}_removeDomSelection(){for(const t of this.domDocuments){if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function v(t,e,n){const i=e instanceof Array?e:e.childNodes,r=i[n];if(Object(f.a)(r))return r.data=o.b+r.data,r;{const r=t.createTextNode(o.b);return Array.isArray(e)?i.splice(n,0,r):u(e,n,r),r}}function y(t,e){return Object(h.a)(t)&&Object(h.a)(e)&&!Object(f.a)(t)&&!Object(f.a)(e)&&t.nodeType!==Node.COMMENT_NODE&&e.nodeType!==Node.COMMENT_NODE&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function _(t,e,n){return e===n||(Object(f.a)(e)&&Object(f.a)(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}Object(a.default)(m,c.default)},function(t,e,n){"use strict";var i=Date.now;e.a=function(t){var e=0,n=0;return function(){var r=i(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(129))},function(t,e,n){"use strict";var i=n(46),r=Math.max;e.a=function(t,e,n){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),Object(i.a)(t,this,l)}}},function(t,e,n){"use strict";var i=n(199),r=n(96),o=n(5),a=n(81),s=n(72),u=n(103),l=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(o.a)(t),c=!n&&Object(r.a)(t),d=!n&&!c&&Object(a.a)(t),f=!n&&!c&&!d&&Object(u.a)(t),h=n||c||d||f,p=h?Object(i.a)(t.length,String):[],g=p.length;for(var m in t)!e&&!l.call(t,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(s.a)(m,g))||p.push(m);return p}},function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){"use strict";(function(t){var i=n(22),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r?i.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=s?s(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(302)(t))},function(t,e,n){"use strict";var i=n(120),r=n(165),o=n(136);e.a=function(t){return"function"!=typeof t.constructor||Object(o.a)(t)?{}:Object(i.a)(Object(r.a)(t))}},function(t,e,n){"use strict";var i=n(87),r=n(165),o=n(200),a=n(160),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(i.a)(e,Object(o.a)(t)),t=Object(r.a)(t);return e}:a.a;e.a=s},function(t,e,n){"use strict";var i=n(63),r=n(21);e.a=function(t,e){return t&&Object(i.a)(e,Object(r.a)(e),t)}},function(t,e,n){"use strict";var i=n(201);e.a=function(t,e){var n=e?Object(i.a)(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){"use strict";var i=n(87),r=n(5);e.a=function(t,e,n){var o=e(t);return Object(r.a)(t)?o:Object(i.a)(o,n(t))}},function(t,e,n){"use strict";var i=n(269),r=/^\s+/;e.a=function(t){return t?t.slice(0,Object(i.a)(t)+1).replace(r,""):t}},function(t,e,n){"use strict";var i=/\s/;e.a=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(97),r=n(9),o=n(15);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a{constructor(t=null,e,n){this._selection=new i.a,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Object(r.default)(a,o.default)},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));const a=function(t,e,n){const i=r(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const a=o(t,i),s=o(e,i),u=r(a,s,n),l=t.length-u,c=e.length-u;return{firstIndex:i,lastIndexOld:l,lastIndexNew:c}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:r}=t;if(-1===n)return Array(e).fill("equal");let o=[];n>0&&(o=o.concat(Array(n).fill("equal")));r-n>0&&(o=o.concat(Array(r-n).fill("insert")));i-n>0&&(o=o.concat(Array(i-n).fill("delete")));r<e&&(o=o.concat(Array(e-r).fill("equal")));return o}(a,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:r,lastIndexNew:o}=e;o-i>0&&n.push({index:i,type:"insert",values:t.slice(i,o)});r-i>0&&n.push({index:i+(o-i),type:"delete",howMany:r-i});return n}(e,a)}function r(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function o(t,e){return t.slice(e).reverse()}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dispatchers=e}var e,n,i;return e=t,(n=[{key:"add",value:function(t){var e,n=r(this._dispatchers);try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}return this}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=s},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function*i(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(86),r=n(161),o=n(169),a=n(26);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends i.a{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==a.f.enter){const i=new o.a(e,"enter",e.selection.getFirstRange());e.fire(i,new r.a(e,n.domEvent,{isSoft:n.shiftKey})),i.stop.called&&t.stop()}})}observe(){}}},function(t,e,n){"use strict";var i,r=n(62),o=n(210),a=(i=/[^.]+$/.exec(o.a&&o.a.keys&&o.a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";var s=function(t){return!!a&&a in t},u=n(16),l=n(152),c=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,h=d.toString,p=f.hasOwnProperty,g=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.a=function(t){return!(!Object(u.a)(t)||s(t))&&(Object(r.a)(t)?g:c).test(Object(l.a)(t))}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(331)),a=function(t,e){var n=this;o.default.call(this,e),this.url=t;var i=!0;return e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){i?(!function(){try{var t=new URL(n.url);"0"!==t.searchParams.get("imageOpt")?(t.searchParams.set("imageOpt","0"),n.url=t.toString(),n.image.src=n.url):n.resourceReady.reject()}catch(t){n.resourceReady.reject()}}(),i=!1):this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(483)),s=i(n(140)),u=i(n(235)),l=i(n(332)),c=function(t,e,n,i,a){void 0===i&&(i=l.default.randomId()),void 0===a&&(a=!1),this.url=t,this.isPlayerOrPreviewer=a,this.shouldRenameCssClassesAndIds=n,this.queue=e,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.originalAspectRatio=null,this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=n&&!a?s.default.renameCssClassesAndIds(t,i):t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(c.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getSrc:function(){return this.getOrCreateImageResource().getSrc()},getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var n=this.createObjectURL(t),i=new a.default(n);return this.putInImageResourceCache(e,i),i},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var n=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var i=s.default.createObjectURL(e);n.resolve(i)}else n.reject()}),this)),this.resourceReady.fail(n.reject),this.putInObjectUrlPromiseCache(e,n),n},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var n=this.createXMLDoc(t);if(n){var i=s.default.createBlob(n);e.resolve(i)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t,e,n){var i,o=l.default.randomId();this.shouldRenameCssClassesAndIds&&this.isPlayerOrPreviewer&&(this.xmlString=s.default.renameCssClassesAndIds(this.xmlString,o));try{i=r.default.parseXML(this.xmlString)}catch(t){}if(!i||!r.default.isXMLDoc(i))return null;s.default.handleTitle(i,e,n);var a="CerosGradient_"+o,u={angle:0,stops:[{color:"#d1d1d1"},{color:"#d1d1d1"}]};t&&(t.color?(u=s.default.colorToGradient(t.color),s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.gradient?(u=t.gradient,s.default.updateSVGColorStyle(i,"url(#"+a+")")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(i,"rgba(0,0,0,0)")),s.default.addLinearGradient(i,a,u),s.default.removeIllegalNodes(i);var c=s.default.getImageAspectRatio(i);return this.originalAspectRatio=c,c&&c.width>0&&c.height>0&&s.default.setViewportDimensions(i,c.width,c.height),i},getOriginalAspectRatio:function(){return this.originalAspectRatio},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var n=s.default.convertToXMLString(t);e.resolve(n)}else e.reject();else this.queue?this.queue.add(t,e):s.default.fetchSvg(t,e);return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(343)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(14)),o=i(n(239)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90},isSpace:function(t){return t.which===o.default.SPACE},isCharOrNumber:function(t){return a.isInteger(t)||a.isLetter(t)||a.isSpace(t)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(125)),o=i(n(8)),a=i(n(528));t=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(e){var n=o.default.themeObj.menuFgColor,i=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:t,menuBackgroundColor:i,menuForegroundColor:n,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(125)),a=i(n(8)),s=i(n(14)),u=i(n(130)),l=i(n(530));t=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,s=u.default.fromHex(i);return s.a=.1,this.chromeView=new l.default({module:t,menuBackgroundColor:o,menuBorderColor:s,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(125)),o=i(n(532));t=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(125)),a=i(n(8)),s=i(n(130)),u=i(n(142)),l=i(n(534));t=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(e){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},n,e);var i=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,u=s.default.fromHex(i);u.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:o,menuBorderColor:u,menuForegroundColor:i,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:t}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,n){var i=!n||t,r=!n||e;this.updateFlippers(i,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsTsViewGlue=void 0;var r=i(n(0)),o=i(n(13));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVELS=e.DEFAULT_ZOOM_LEVEL_INDEX=void 0;var a=o(n(358));e.DEFAULT_ZOOM_LEVEL_INDEX=0,e.ZOOM_LEVELS=[1,1.1,1.25,1.5,1.75,2,2.5,3,4];var s=function(t){function n(){var n=t.call(this)||this;return n.currentZoomLevelPosition=e.DEFAULT_ZOOM_LEVEL_INDEX,n}return r(n,t),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n.prototype.hasZoom=function(){return this.currentZoomLevelPosition!==e.DEFAULT_ZOOM_LEVEL_INDEX},n.prototype.canIncrementZoom=function(){return this.currentZoomLevelPosition!==e.ZOOM_LEVELS.length-1},n.prototype.canDecrementZoom=function(){return this.hasZoom()},n.prototype.getCurrentZoom=function(){return e.ZOOM_LEVELS[this.currentZoomLevelPosition]},n.prototype.resetZoom=function(){this.adjustZoom(e.ZOOM_LEVELS[e.DEFAULT_ZOOM_LEVEL_INDEX])},n.prototype.incrementZoom=function(){var t=this.currentZoomLevelPosition+1;t<e.ZOOM_LEVELS.length&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.decrementZoom=function(){var t=this.currentZoomLevelPosition-1;t>=e.DEFAULT_ZOOM_LEVEL_INDEX&&this.adjustZoom(e.ZOOM_LEVELS[t])},n.prototype.adjustZoom=function(t){var n=e.ZOOM_LEVELS.indexOf(t);n!=this.currentZoomLevelPosition&&(this.currentZoomLevelPosition=n,this.trigger("zoom",t))},n}(a.default);e.default=s},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var r=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.isRgba=function(t){return!!t.match(/^rgba/)},t.rgbaRegExpMatch=function(t){return t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[]},t.hexToRgbRegExpExec=function(t){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[]},t.rgb=function(t){var e=i(this.rgbaRegExpMatch(t),4),n=e[1],r=e[2],o=e[3];return{r:Number(n),g:Number(r),b:Number(o)}},t.rgba=function(t){var e=i(this.rgbaRegExpMatch(t),5),n=e[1],r=e[2],o=e[3],a=e[4];return{r:Number(n),g:Number(r),b:Number(o),a:a?Number(a):1}},t.hexToRgb=function(t){var e=i(this.hexToRgbRegExpExec(t),4),n=e[1],r=e[2],o=e[3];return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(o,16)}},t.hexToRgba=function(t){var e=i(this.hexToRgbRegExpExec(t),4),n=e[1],r=e[2],o=e[3];return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(o,16),a:1}},t.lightenDarkenColor=function(t,e){var n=this.colorToRGB(t),i=n.r,r=n.g,o=n.b;return"#"+this.intToHex(this.fixRange(i+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),n=e.r,i=e.g,r=e.b;return Math.sqrt(n*n*.299+i*i*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.colorToRGBA=function(t){return this.isRgba(t)||this.isRgb(t)?this.rgba(t):this.hexToRgba(t)},t.colorToRGBAString=function(t){var e=this.colorToRGBA(t);return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(125)),a=i(n(8)),s=n(542);t=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction",PAGE_ACTION_BRING_TO_FRONT:"page.action.bring_to_front"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(e,n){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return n=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},i,n||{}),new s.PageView(r.default.extend(n,{module:t,model:e}))}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebkitUtils=void 0;var r=n(155),o=i(n(14)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEffects=e.EffectName=void 0;var r,o=i(n(0));!function(t){t.CONTRAST="contrast",t.BRIGHTNESS="brightness",t.HUEROTATE="hue-rotate",t.SATURATE="saturate",t.SEPIA="sepia",t.INVERT="invert"}(r=e.EffectName||(e.EffectName={}));var a=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUEROTATE.NAME:return t.HUEROTATE.DEFAULT;case t.SATURATE.NAME:return t.SATURATE.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUEROTATE.NAME,this.SATURATE.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return o.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUEROTATE.NAME]=this.HUEROTATE.DEFAULT,t[this.SATURATE.NAME]=this.SATURATE.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:r.BRIGHTNESS,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:r.CONTRAST,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUEROTATE={NAME:r.HUEROTATE,MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATE={NAME:r.SATURATE,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:r.SEPIA,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:r.INVERT,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoComponentView=void 0;var c=l(n(0)),d=l(n(3)),f=l(n(24)),h=l(n(8)),p=l(n(14)),g=n(108),m=l(n(368)),v=l(n(575)),y=l(n(577)),_=l(n(55)),b=n(578),w=n(132),T=n(590),S=l(n(84)),O=h.default.mediaDomainMap?c.default.invert(h.default.mediaDomainMap):null,E=[10,20,30,40,50,60,70,80,90,100],P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoReady=!1,e.playedOnce=!1,e.isAutoPaused=!1,e.isManuallyPaused=!1,e.isRewound=!1,e.hasManualPauseDetectionBeenBound=!1,e.isMobile=!1,e}var n;return r(e,t),n=e,e.prototype.initialize=function(e){var n;t.prototype.initialize.call(this,e),this.areMediaPropertiesSet()&&(this.videoSlug=null===(n=this.options.video)||void 0===n?void 0:n.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,this.tapToPlay=void 0===this.options.tapToPlay||this.options.tapToPlay,this.muted=void 0!==this.options.muted&&this.options.muted,this.initializePoster(),h.default.previewMode&&(this.mediaLoadingScreen=new m.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),h.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype.onActivationStart=function(){var t;null===(t=this.videoTracker)||void 0===t||t.enableTracking()},e.prototype.areMediaPropertiesSet=function(){return!(!this.options.video||!this.options.poster)},e.prototype.attachMedia=function(){return s(this,void 0,Promise,(function(){var t,e,n=this;return u(this,(function(i){return t=new d.default.Deferred,this.areMediaPropertiesSet()&&(e=this.getPosterFrameResource())?e.loadNow().done((function(e){var i;n.$poster.attr("src",e.getSrc()),null===(i=n.videoHandle)||void 0===i||i.poster(e.getSrc()),t.resolve()})):t.resolve(),[2,t]}))}))},e.prototype.getPosterFrameResource=function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||f.default.warn("Poster image should have been added to resource loader during preload")),t},e.prototype.doTriggerOnScroll=function(){return!0},e.prototype.getPosterFrameSrc=function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},e.prototype.initializePoster=function(){this.$poster=d.default("<img>",{width:"100%",height:"100%",position:"absolute",top:0,left:0,alt:""}),this.$el.append(this.$poster)},e.prototype.onActivationEnd=function(){this.hidePosterAndShowVideo(),this.bindVideoElementPauseAndPlayForManualPauseDetection(),!this.canAutoplay()||this.isManuallyPaused||h.default.shouldReduceMotion||(this.play(),this.videoHandle.autoplay(!0))},e.prototype.onExitStart=function(){this.hideVideoAndShowPoster(),this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.getVideoFormats=function(){return[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}]},e.prototype.getResolvedVideoUrlForFormat=function(t){var e=this.options.videoMedia,n=null;if(e){var i=e.encodings;if(!i[t])return null;n=i[t],O&&(n=_.default.makeUrlAbsolute(n),n=_.default.replaceProtocolIfHttpsRequest(n),n=this.switchAmazonDomainInUrl(n))}return void 0===n&&(f.default.warn("Resolved video not found!",n),n=this.options.video+"/redirect/"+t),n},e.prototype.switchAmazonDomainInUrl=function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var n=e[1],i=e[2];c.default.has(O,i)&&(t=t.replace(n,O[i]))}return t},e.prototype.setVideoSources=function(){var t=this;this.getVideoFormats().forEach((function(e){var n=t.getResolvedVideoUrlForFormat(e.format);if(n){var i="video/"+e.type;"hls-playlist"!==e.format&&"dash-playlist"!==e.format||(i="application/"+e.type),t.$vid.append(d.default("<source>",{src:n,type:i}))}}))},e.prototype.isLoopForever=function(){return this.options.videoAutoPlay&&this.options.videoLoop},e.prototype.isShowControls=function(){return!this.options.videoAutoPlay||!this.options.videoHideControls},e.prototype.hideVideo=function(){this.videoHandle&&this.videoHandle.hide()},e.prototype.showVideo=function(){this.videoHandle&&this.videoHandle.show()},e.prototype.hideVideoAndShowPoster=function(){var t;this.videoHandle&&!this.getCurrentTime()&&(this.isVideoReady&&this.hideVideo(),null===(t=this.$poster)||void 0===t||t.show())},e.prototype.hidePosterAndShowVideo=function(){var t;null===(t=this.$poster)||void 0===t||t.hide(),this.isVideoReady&&this.showVideo()},e.prototype.isPlaying=function(){return!!this.videoHandle&&!this.isVideoHandleEnded()&&!this.isVideoHandlePaused()&&this.getCurrentTime()>0},e.prototype.isEnded=function(){return!!this.isVideoReady&&this.isVideoHandleEnded()},e.prototype.setCurrentTime=function(t){this.isVideoReady&&this.videoHandle.currentTime(t)},e.prototype.getCurrentTime=function(){return this.isVideoReady?this.videoHandle.currentTime():0},e.prototype.reset=function(){t.prototype.reset.call(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},e.prototype.whenLeavingVisibleBoundaries=function(){void 0===this.isPinned&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&(this.isPinned=this.parentViews.some((function(t){return t.options.fixedPosition})))),this.isPinned||(t.prototype.whenLeavingVisibleBoundaries.call(this),this.disableVideoTrackingAndAutoPlayingVideo())},e.prototype.disableVideoTrackingAndAutoPlayingVideo=function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},e.prototype.disableVideoTracking=function(){this.videoTracker&&this.videoTracker.disableTracking()},e.prototype.pauseAnyVideoAndRewindAutoPlayingVideo=function(){this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.rewindEndedAutoplayingVideo=function(){this.options.videoAutoPlay&&this.isEnded()&&(this.setCurrentTime(0),this.isRewound=!0)},e.prototype.loadAndShowVideo=function(){this.isVideoReady?this.hidePosterAndShowVideo():((p.default.isIos()||"none"===this.videoHandle.preload())&&(this.isVideoReady=!0),this.bindVideoElementPauseAndPlayForManualPauseDetection())},e.prototype.play=function(){var t=this;this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(n.EVENTS.VIDEO_READY,(function(){t.isVideoReady=!0,t.videoHandle.play()})),this.isRewound=!1},e.prototype.autoPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},e.prototype.getElementWidth=function(){return this.options.width},e.prototype.getElementHeight=function(){return this.options.height},e.prototype.render=function(){return t.prototype.render.call(this),this.isMobile=["mobile","tablet"].includes(S.default.getVariant())||p.default.mobile(),this.buildVideoElement(),this},e.prototype.buildVideoElement=function(){var t="none";this.initiallyVisible&&this.areAllParentsInitiallyVisible()&&this.options.pageView.isTop()&&(t="auto");var e={id:"vid-"+this.id,width:"100%",height:"100%",poster:this.getPosterFrameSrc(),preload:t,"webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(e.muted=!0),this.isLoopForever()&&(e.loop=!0),this.$vid=d.default("<video>",e),this.$vid.addClass("video-js vjs-default-skin vjs-big-play-centered vjs-show-big-play-button-on-pause vjs-ceros-theme"),this.isMobile&&this.$vid.addClass("video-mobile"),this.$vid.prop({controls:this.isShowControls(),muted:this.muted}),this.canAutoplay()&&this.$vid.addClass("hide-big-play-button"),this.options.closedCaptionsUrl&&(this.$vid.addClass("video-has-captions"),this.$vid.append('<track  \n            kind="captions"\n            label="Video Captions" \n            src="'+this.options.closedCaptionsUrl+'" />')),this.$poster&&(this.$poster.after(this.$vid),this.$poster.css("display","none")),this.initializeVideoJS();var n=new v.default(this.videoHandle),i=c.default.get(this.options,"videoMedia.duration");this.videoTracker=new y.default(n,i),this.configureVideoTrackerEvents(),this.configureVideoReadyEvents(),this.updateVideoJSAccessibilityFeatures()},e.prototype.applyChanges=function(e){var n;null===(n=this.videoHandle)||void 0===n||n.dispose(),this.hasManualPauseDetectionBeenBound=!1,t.prototype.applyChanges.call(this,e)},e.prototype.manuallyPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},e.prototype.isPaused=function(){return this.videoHandle.paused()},e.prototype.configureVideoTrackerEvents=function(){var t=this;this.videoTracker.on(this.videoTracker.EVENTS.PLAY,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PLAY,e)})),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,(function(e){e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,e)})),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,(function(e){E.includes(e.progressPercent)&&(e=t.addCommonVideoEventData(e),t.triggerEvent(t.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,e))})))},e.prototype.addCommonVideoEventData=function(t){return o(o({},t),{componentName:this.options.title,sdkTags:this.options.sdkTags,sdkPayload:this.options.sdkPayload})},e.prototype.bindVideoElementPauseAndPlayForManualPauseDetection=function(){var t=this;!this.hasManualPauseDetectionBeenBound&&this.videoHandle&&(this.videoHandle.on("pause",(function(){t.onVideoPause()})),this.videoHandle.on("play",(function(){t.playedOnce=!0,t.onVideoPlay()})),this.hasManualPauseDetectionBeenBound=!0)},e.prototype.onVideoPause=function(){this.isManuallyPaused=!this.isAutoPaused},e.prototype.onVideoPlay=function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},e.prototype.triggerEvent=function(t,e){var n=o({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,n)},e.prototype.canAutoplay=function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},e.prototype._applyRotation=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBorder=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._configureAction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setAriaRole=function(){this.hasAccessibilityFeature&&this.options.ariaLabel?(this.$el.attr("role","region"),this.$el.attr("tabIndex","-1")):(this.$el.removeAttr("role"),this.$el.removeAttr("tabIndex"))},e.prototype.updateVideoJSAccessibilityFeatures=function(){this.hasAccessibilityFeature&&(this.videoHandle.removeAttribute("aria-label"),this.videoHandle.removeAttribute("role"),this.videoHandle.removeAttribute("tabIndex"))},e.prototype.initializeVideoJS=function(){var t=this;this.setVideoSources();var e=this.options.pageView,n={aspectRatio:Math.floor(this.options.width)+":"+Math.floor(this.options.height),fluid:!0,getExperienceScale:function(){var t=e.getScaleContext().ratio,n=e.scaleContext.useZoom(t);return{scale:t,zoomScale:n?t:1,transformScale:n?1:t}}},i={mobile:!0,nativeTextTracks:p.default.isIphone()&&!!this.options.closedCaptionsUrl};if(this.isMobile&&this.isShowControls()){this.videoHandle=b.Video(this.$vid.get(0),n,i,(function(){p.default.isIphone()&&t.options.closedCaptionsUrl&&(d.default("track",t.$vid)[0].track.mode="disabled"),t.isVideoReady=!0;var e=new T.BigPauseButton(t.videoHandle,{clickHandler:function(){t.isAutoPaused=!1,t.videoHandle.pause()}});t.$(".vjs-big-play-button").after(e.el()),t.reorderVideoControls(),t.applyInverseScalingToVideoControls()}))}else this.videoHandle=b.Video(this.$vid.get(0),n)},e.prototype.configureVideoReadyEvents=function(){var t=this;this.$vid.on("progress load canplaythrough",(function(){t.getVideoHandleReadyState()>1&&(t.isVideoReady=!0,t.canAutoplay()&&t.hidePosterAndShowVideo(),t.trigger(n.EVENTS.VIDEO_READY),t.$vid.off("progress load canplaythrough"))}))},e.prototype.getVideoHandleReadyState=function(){return this.videoHandle.readyState()},e.prototype.isVideoHandlePaused=function(){return this.videoHandle.paused()},e.prototype.isVideoHandleEnded=function(){return this.videoHandle.ended()},e.prototype.reorderVideoControls=function(){var t=d.default('<div class="video-time-wrapper"></div>');this.$(".vjs-volume-panel").after(t),this.$(".vjs-control-bar > .vjs-time-control").appendTo(t);var e=d.default('<div class="video-left-wrapper"></div>');e.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-volume-panel, .video-time-wrapper").appendTo(e);var n=d.default('<div class="video-right-wrapper"></div>');n.appendTo(this.$(".vjs-control-bar")),this.$(".vjs-fullscreen-control, .vjs-subs-caps-button").appendTo(n)},e.prototype.applyInverseScalingToVideoControls=function(){var t=this.options.pageView.getScaleContext().ratio;this.$(".video-left-wrapper, .video-right-wrapper").css("transform","scale("+1/t+")"),this.$(".vjs-control-bar").css("height",55/t+"px"),this.$(".vjs-progress-control").css({top:8/t,height:3/t})},e.EVENTS={VIDEO_READY:"video_ready"},e=n=a([w.BackboneShim({type:"video",tagName:"div",className:null,defaults:{tapToPlay:!0,muted:!1,$vid:null}})],e)}(g.AbstractComponentView);e.VideoComponentView=P},function(t,e,n){"use strict";function i(t){if(null===t)return{top:0,left:0};var e=0,n=0;do{e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent}while(t);return{top:n,left:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointerPosition=e.findPosition=e.getBoundingClientRect=e.getOffsetPosition=void 0,e.getOffsetPosition=i,e.getBoundingClientRect=function(t,e){void 0===e&&(e=1);var n=t.getBoundingClientRect();return{top:n.top*e,left:n.left*e,width:n.width*e,height:n.height*e}},e.findPosition=function(t,e){void 0===e&&(e=1);var n=i(t),r=n.top,o=n.left;return{left:Math.round(r)*e,top:Math.round(o)*e}},e.getPointerPosition=function(t,e,n){void 0===n&&(n=1);var i={x:0,y:0},r=t.getBoundingClientRect(),o=r.top,a=r.left,s=r.width,u=r.height,l=e.pageY/n,c=e.pageX/n;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+u)/u)),i.x=Math.max(0,Math.min(1,(c-a)/s)),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnimateSVGUtil=void 0;var i=n(374),r=function(){function t(){}return t.getSplineStringFromEasing=function(t,e){return this.getSplineFromEasing(t,e).map((function(t){return t.join(" ")})).join(";")},t.getSplineFromEasing=function(t,e){var n=this.getBezierPointsForEasing(t);if(!e)return[n];switch(t){case i.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case i.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case i.Easing.easeIn:case i.Easing.easeOut:case i.Easing.linear:default:return[[0,0,n[0],n[1]],[n[2],n[3],1,1]]}},t.getBezierPointsForEasing=function(t){switch(t){case i.Easing.ease:return[.25,.1,.25,1];case i.Easing.easeIn:return[.42,0,1,1];case i.Easing.easeOut:return[0,0,.58,1];case i.Easing.easeInOut:return[.42,0,.58,1];case i.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,n){var i=t.getRotateKeyframes(e,n).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:i.map((function(t){return t.x1+"%"})).join(";"),y1:i.map((function(t){return t.y1+"%"})).join(";"),x2:i.map((function(t){return t.x2+"%"})).join(";"),y2:i.map((function(t){return t.y2+"%"})).join(";")}},t.animatePointsForMultiple=function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e.animatePointsForSingle([t[i].from,t[i].to])})),n},t.animatePointsForSingle=function(t){return t.join(";")},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t.getAngleFromGradientXY=function(t,e,n,i){var r=n-t,o=i-e;return(Math.atan2(o,r)+Math.PI/2)*(180/Math.PI)},t.createAnimationElement=function(t,e,n,i){var r=e?"0;0.5;1":"0;1",o=document.createElementNS("http://www.w3.org/2000/svg","animate");return o.setAttributeNS(null,"attributeName",t),o.setAttributeNS(null,"fill","freeze"),o.setAttributeNS(null,"keyTimes",r),o.setAttributeNS(null,"calcMode","spline"),o.setAttributeNS(null,"values",n),o.setAttributeNS(null,"keySplines",i),o},t.renderGradientAnimation=function(e,n,i,r){if(r){var o=n[0],a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=t.getAngleFromGradientXY(a.animVal.valueInSpecifiedUnits,u.animVal.valueInSpecifiedUnits,s.animVal.valueInSpecifiedUnits,l.animVal.valueInSpecifiedUnits),d=t.animateGradientRotation(c,i),f=t.getSplineStringFromEasing(r.easing,!0),h=Object.keys(d).map((function(e){return t.createAnimationElement(e,!0,d[e],f)}));t.startNewAnimations(e,n,h,r)}else{var p=t.getGradientXYFromAngle(i);n.attr("x1",p.x1+"%").attr("y1",p.y1+"%").attr("x2",p.x2+"%").attr("y2",p.y2+"%")}},t.startNewAnimations=function(t,e,n,i){var r=t&&t.length&&t[0].getCurrentTime?t[0].getCurrentTime():0;n.forEach((function(n){var o,a,s='[attributeName="'+n.getAttribute("attributeName")+'"]',u=e.find(s).last(),l=(i.delay||0)+r;n.setAttributeNS(null,"begin",l+"s");var c=i.duration||0,d=0;if(u){var f=(null===(o=u.attr("begin"))||void 0===o?void 0:o.replace("s",""))||"",h=(null===(a=u.attr("dur"))||void 0===a?void 0:a.replace("s",""))||"",p=(Number.parseFloat(f)||0)+(Number.parseFloat(h)||0)-r;p>0&&(d=p)}c-=d,n.setAttributeNS(null,"dur",c+"s"),e.find(s).remove(),t.find('[attributeName="placeholder"]').remove(),e.append(n)}))},t}();e.AnimateSVGUtil=r},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(24)),a=i(n(84)),s=i(n(375));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var n=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),i=!n&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!i;if(n){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(3)),s=i(n(8)),u=n(85),l=n(193),c=n(297),d=n(376),f=n(377),h=function(t,e,n,i){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=n/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){h(t,e,n,i)}));i.resolve(l)}else o.default.defer((function(){h(t,e,n,i)}));else r.default.info("could not find img baseline marker!")},p=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.FontConstants.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.FontConstants.DEFAULT_FONT_VARIANT_GUID}),e){var n=void 0,i=void 0;"FontPlusUploaded"===e.api?(n=d.FontPlusFamily,i=f.FontPlusVariant):(n=l.FontFamily,i=c.FontVariant);var o=new n({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new i(e.variantName,{fontFamily:o,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.FontConstants.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,n){var i=new a.default.Deferred;if(e<=1)return i.resolve(0),i.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:n+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:p(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),h(r,t,e,i),i.done((function(){r.remove()})),i.promise()},formatFamilyNameForCSS:p}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontVariant=void 0;var r=i(n(3)),o=n(85),a=function(){function t(t,e){void 0===e&&(e={}),this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent}return t.prototype.getFontFamily=function(){return this.fontFamily},t.prototype.getName=function(){return this.name},t.prototype.getFamilyName=function(){return this.familyName},t.prototype.getCssFamilyName=function(){return this.cssFamilyName},t.prototype.getFontStyle=function(){return this.fontStyle},t.prototype.getFontWeight=function(){return this.fontWeight},t.prototype.getGuid=function(){return this.guid},t.prototype.isItalic=function(){return this.fontStyle===o.FontConstants.FONT_STYLE_ITALIC},t.prototype.isUploaded=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isUploaded())},t.prototype.isBuiltIn=function(){var t;return!!(null===(t=this.fontFamily)||void 0===t?void 0:t.isBuiltIn())},t.prototype.getMetricsUrl=function(){var t=this;return this.metricsUrl?r.default.Deferred().resolve(this.metricsUrl):r.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then((function(e){return t.metricsUrl=e[0].metricsFileURL,t.metricsUrl}))},t.prototype.getMetrics=function(){var t,e=this;return this.metrics?r.default.Deferred().resolve(this.metrics):this.metricsLoadingDeferred?this.metricsLoadingDeferred.promise():(this.metricsLoadingDeferred=new r.default.Deferred,this.getMetricsUrl().then((function(t){r.default.ajax({url:t,dataType:"json",cache:!0}).done((function(t){var n;e.metrics=t,null===(n=e.metricsLoadingDeferred)||void 0===n||n.resolve(t)})).fail((function(t){var n;null===(n=e.metricsLoadingDeferred)||void 0===n||n.reject(t)}))})),(null===(t=this.metricsLoadingDeferred)||void 0===t?void 0:t.promise())||r.default.Deferred().resolve())},t.prototype.setWebFontStylesLoaded=function(){this.webFontStylesLoaded=!0},t}();e.FontVariant=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={MIN_LETTER_SPACING_VALUE:-9999,MAX_LETTER_SPACING_VALUE:99999,unitsToEms:function(t){return t/1e3},unitsToCss:function(t){return i.unitsToEms(t)+"em"},unitsToPixels:function(t,e){return i.unitsToEms(t)*e},cssToUnits:function(t){return"normal"===t?0:t?1e3*parseFloat(t):null}};e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePageURLInteraction=void 0;var a=n(244),s=o(n(106)),u=o(n(8)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(n(184).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkType=void 0;n(126);!function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.InlineLinkType||(e.InlineLinkType={}))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){const e=t.next();return e.done?null:e.value}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=i(n(9)),d=i(n(35)),f=i(n(1)),h=i(n(327)),p=i(n(329)),g=n(177),m=i(n(856)),v=n(255),y=i(n(149)),_=i(n(225)),b=i(n(224)),w=i(n(2)),T=n(170),S=i(n(324)),O=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.mapper=new h.default,this.downcastDispatcher=new p.default({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",g.insertText(),{priority:"lowest"}),this.upcastDispatcher=new m.default({schema:e.schema}),this.viewDocument=new _.default(n),this.stylesProcessor=n,this.htmlProcessor=new S.default(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new b.default(this.viewDocument),this.upcastDispatcher.on("text",v.convertText(),{priority:"lowest"}),this.upcastDispatcher.on("element",v.convertToModelFragment(),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",v.convertToModelFragment(),{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",(function(){i.fire("ready")}),{priority:"lowest"}),this.on("ready",(function(){i.model.enqueueChange("transparent",T.autoParagraphEmptyRoots)}),{priority:"lowest"})}var e,n,i;return e=t,(n=[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rootName,n=void 0===e?"main":e,i=t.trim,r=void 0===i?"empty":i;if(!this._checkIfRootsExists([n]))throw new f.default("datacontroller-get-non-existent-root",this);var o=this.model.document.getRoot(n);return"empty"!==r||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}},{key:"stringify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(t,e);return this.processor.toData(n)}},{key:"toView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();var r=w.default._createIn(t),s=new y.default(n);this.mapper.bindElements(t,s),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(r,i);var u,l=t.is("documentFragment")?Array.from(t.markers):E(t),c=a(l);try{for(c.s();!(u=c.n()).done;){var d=o(u.value,2),f=d[0],h=d[1];this.downcastDispatcher.convertMarkerAdd(f,h,i)}}catch(t){c.e(t)}finally{c.f()}return delete this.downcastDispatcher.conversionApi.options,s}},{key:"init",value:function(t){var e=this;if(this.model.document.version)throw new f.default("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new f.default("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",(function(t){for(var i=0,r=Object.keys(n);i<r.length;i++){var o=r[i],a=e.model.document.getRoot(o);t.insert(e.parse(n[o],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if("string"==typeof t?i.main=t:i=t,!this._checkIfRootsExists(Object.keys(i)))throw new f.default("datacontroller-set-non-existent-root",this);var r=n.batchType||"default";this.model.enqueueChange(r,(function(t){t.setSelection(null),t.removeSelectionAttribute(e.model.document.selection.getAttributeKeys());for(var n=0,r=Object.keys(i);n<r.length;n++){var o=r[n],a=e.model.document.getRoot(o);t.remove(t.createRangeIn(a)),t.insert(e.parse(i[o],a),a,0)}}))}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(i){return e.upcastDispatcher.convert(t,i,n)}))}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var e,n=a(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t){var e=[],n=t.root.document;if(!n)return[];var i,r=w.default._createIn(t),o=a(n.model.markers);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.getRange(),l=u.isCollapsed,c=u.start.isEqual(r.start)||u.end.isEqual(r.end);if(l&&c)e.push([s.name,u]);else{var d=r.getIntersection(u);d&&e.push([s.name,d])}}}catch(t){o.e(t)}finally{o.f()}return e}e.default=O,c.default(O,d.default)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function p(){}function g(){}function m(){}var v={};c(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==e&&n.call(_,a)&&(v=_);var b=m.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var r;i(this,"_invoke",{value:function(i,o){function a(){return new e((function(r,a){!function i(r,o,a,u){var l=f(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==s(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,u)}))}u(l.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function S(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=f(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return g.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new T(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r().mark(m),a=r().mark(v);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,o=void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(r,"string"),"symbol"===s(o)?o:String(o)),i)}var r,o}var d=i(n(1)),f=i(n(255)),h=i(n(177)),p=i(n(76)),g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._helpers=new Map,this._downcast=p.default(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=p.default(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}var e,n,i;return e=t,(n=[{key:"addAlias",value:function(t,e){var n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new d.default("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}},{key:"for",value:function(t){if(!this._helpers.has(t))throw new d.default("conversion-for-unknown-group",this);return this._helpers.get(t)}},{key:"elementToElement",value:function(t){this.for("downcast").elementToElement(t);var e,n=u(m(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").elementToElement({model:r,view:o,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToElement",value:function(t){this.for("downcast").attributeToElement(t);var e,n=u(m(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").elementToAttribute({view:o,model:r,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToAttribute",value:function(t){this.for("downcast").attributeToAttribute(t);var e,n=u(m(t));try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.model,o=i.view;this.for("upcast").attributeToAttribute({view:o,model:r})}}catch(t){n.e(t)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(t){var e=t.name,n=t.dispatchers,i=t.isDowncast;if(this._helpers.has(e))throw new d.default("conversion-group-exists",this);var r=i?new h.default(n):new f.default(n);this._helpers.set(e,r)}}])&&c(e.prototype,n),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function m(t){var e,n,i,a,s,l;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.model.values){r.next=22;break}e=u(t.model.values),r.prev=2,e.s();case 4:if((n=e.n()).done){r.next=12;break}return i=n.value,a={key:t.model.key,value:i},s=t.view[i],l=t.upcastAlso?t.upcastAlso[i]:void 0,r.delegateYield(v(a,s,l),"t0",10);case 10:r.next=4;break;case 12:r.next=17;break;case 14:r.prev=14,r.t1=r.catch(2),e.e(r.t1);case 17:return r.prev=17,e.f(),r.finish(17);case 20:r.next=23;break;case 22:return r.delegateYield(v(t.model,t.view,t.upcastAlso),"t2",23);case 23:case"end":return r.stop()}}),o,null,[[2,14,17,20]])}function v(t,e,n){var i,o,s;return r().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,{model:t,view:e};case 2:if(!n){r.next=20;break}i=u(p.default(n)),r.prev=4,i.s();case 6:if((o=i.n()).done){r.next=12;break}return s=o.value,r.next=10,{model:t,view:s};case 10:r.next=6;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),i.e(r.t0);case 17:return r.prev=17,i.f(),r.finish(17);case 20:case"end":return r.stop()}}),a,null,[[4,14,17,20]])}e.default=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(n(638)),l=i(n(855)),c=i(n(251)),d=i(n(853)),f=i(n(639)),h=i(n(35)),p=i(n(9)),g=i(n(25)),m=i(n(2)),v=i(n(4)),y=i(n(147)),_=i(n(308)),b=i(n(640)),w=i(n(382)),T=i(n(641)),S=i(n(642)),O=n(643),E=n(170),P=i(n(1)),C=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markers=new f.default,this.document=new d.default(this),this.schema=new c.default,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(t){return e.decorate(t)})),this.on("applyOperation",(function(t,e){e[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((function(t,e){if("$marker"===e.name)return!0})),O.injectSelectionPostFixer(this),this.document.registerPostFixer(E.autoParagraphEmptyRoots)}var e,n,i;return e=t,(n=[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new u.default,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){P.default.rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(t,e){try{"string"==typeof t?t=new u.default(t):"function"==typeof t&&(e=t,t=new u.default),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){P.default.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return b.default(this,t,e,n)}},{key:"deleteContent",value:function(t,e){w.default(this,t,e)}},{key:"modifySelection",value:function(t,e){T.default(this,t,e)}},{key:"getSelectedContent",value:function(t){return S.default(this,t)}},{key:"hasContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof g.default?m.default._createIn(t):t;if(n.isCollapsed)return!1;var i=e.ignoreWhitespaces,r=void 0!==i&&i,a=e.ignoreMarkers,s=void 0!==a&&a;if(!s){var u,l=o(this.markers.getMarkersIntersectingRange(n));try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.affectsData)return!0}}catch(t){l.e(t)}finally{l.f()}}var d,f=o(n.getItems());try{for(f.s();!(d=f.n()).done;){var h=d.value;if(this.schema.isContent(h)){if(!h.is("$textProxy"))return!0;if(!r)return!0;if(-1!==h.data.search(/\S/))return!0}}}catch(t){f.e(t)}finally{f.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new v.default(t,e,n)}},{key:"createPositionAt",value:function(t,e){return v.default._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return v.default._createAfter(t)}},{key:"createPositionBefore",value:function(t){return v.default._createBefore(t)}},{key:"createRange",value:function(t,e){return new m.default(t,e)}},{key:"createRangeIn",value:function(t){return m.default._createIn(t)}},{key:"createRangeOn",value:function(t){return m.default._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new y.default(t,e,n)}},{key:"createBatch",value:function(t){return new u.default(t)}},{key:"createOperationFromJSON",value:function(t){return _.default.fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var e=this._pendingChanges[0].batch;this._currentWriter=new l.default(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=C,p.default(C,h.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var i=n(66),r=n(65),o=n(98),a=n(28),s=n(83),u=n(54),l=n(115),c=n(178),d=n(34),f=n(51);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const h={};h[i.a.className]=i.a,h[r.a.className]=r.a,h[o.a.className]=o.a,h[a.a.className]=a.a,h[s.a.className]=s.a,h[u.a.className]=u.a,h[l.a.className]=l.a,h[c.a.className]=c.a,h[d.a.className]=d.a,h[f.a.className]=f.a;class p{static fromJSON(t,e){return h[t.__className].fromJSON(t,e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"supportedOptions",(function(){return r})),n.d(e,"isSupported",(function(){return o})),n.d(e,"isDefault",(function(){return a})),n.d(e,"normalizeAlignmentOptions",(function(){return s}));var i=n(44);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
const r=["left","right","center","justify"];function o(t){return r.includes(t)}function a(t,e){return"rtl"==e.contentLanguageDirection?"right"===t:"left"===t}function s(t){const e=t.map(t=>{let e;return e="string"==typeof t?{name:t}:t,e}).filter(t=>{const e=!!r.includes(t.name);return e||Object(i.logWarning)("alignment-config-name-not-recognized",{option:t}),e}),n=e.filter(t=>!!t.className).length;if(n&&n<e.length)throw new i.CKEditorError("alignment-config-classnames-are-missing",{configuredOptions:t});return e.forEach((e,n,r)=>{const o=r.slice(n+1);if(o.some(t=>t.name==e.name))throw new i.CKEditorError("alignment-config-name-already-defined",{option:e,configuredOptions:t});if(e.className){if(o.some(t=>t.className==e.className))throw new i.CKEditorError("alignment-config-classname-already-defined",{option:e,configuredOptions:t})}}),e}},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(95));e.defaults=i(i({},s.defaults),{title:"External Form",x:100,y:100,width:400,height:100,formId:"",formName:""}),e.supported=["width","x","y","fixedPosition","interactions","formId","formName","sdkTags","sdkPayload"]},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(247)),s=i(n(220)),u=i(n(402)),l=i(n(312)),c=i(n(403)),d={},f="commerceIntegration",h="eloquaIntegration",p="marketoIntegration",g="chartblocksIntegration",m="googleTagManagerIntegration",v="hubspotIntegration",y="embeddedPlayerSdk",_="whiteLabeling",b="analyticsTracking",w="issueExport",T="concurrentLogins",S="adaptiveLayouts";e.default=s.default.extend({urlRoot:"/{api-version}/accounts",defaults:{organizationId:""},dateFields:["startDate","endDate","gracePeriodEndDate"],accountManager:null,supportsFeature:function(t){return!0===this.get(t)},hasCommerceIntegration:function(){return this.supportsFeature(f)},hasEloquaIntegration:function(){return this.supportsFeature(h)},hasMarketoIntegration:function(){return this.supportsFeature(p)},hasChartblocksIntegration:function(){return this.supportsFeature(g)},hasGoogleTagManagerIntegration:function(){return this.supportsFeature(m)},hasHubspotIntegration:function(){return this.supportsFeature(v)},hasEmbeddedPlayerSdk:function(){return this.supportsFeature(y)},hasWhiteLabeling:function(){return this.supportsFeature(_)},hasAnalyticsTracking:function(){return this.supportsFeature(b)},hasIssueExport:function(){return this.supportsFeature(w)},hasConcurrentLogins:function(){return this.supportsFeature(T)},hasAdaptiveLayouts:function(){return this.supportsFeature(S)},isUnlimitedUsers:function(){return 0===this.get("usersLimit")},isUnlimitedOpens:function(){return 0===this.get("opensPerMonth")},isUnlimitedPageViews:function(){return 0===this.get("pageViewsPerMonth")},isLimitedOnPageViews:function(){return"page-views"===this.getPricingPlanLimit()},isLimitedOnOpens:function(){return"opens"===this.getPricingPlanLimit()},getPricingPlanLimit:function(){return this.get("pricingPlanLimit")},getTrialDaysLeft:function(){var t=a.default().startOf("day"),e=a.default(this.get("endDate")).endOf("day"),n=Math.ceil(e.diff(t,"days",!0));return Math.clamp(n,0,n)},isTrialExpired:function(){return this.get("trial")&&0===this.getTrialDaysLeft()},isPublishingDisabled:function(){return this.get("disablePublishing")},isInternal:function(){return this.get("isInternal")},getAccountManager:function(){return this.accountManager},setAccountManager:function(t){this.accountManager=t},getAccountManagerName:function(){var t=this.getAccountManager(),e="";return t&&(e=t.get("title")),e},parse:function(t){return t.accountManager&&r.default.isObject(t.accountManager)&&(this.accountManager=new u.default(t.accountManager)),t.contractStartDate&&(t.contractStartDate=new l.default(t.contractStartDate)),t.contractEndDate&&(t.contractEndDate=new l.default(t.contractEndDate)),t.initialSubscriptionContractStartDate&&(t.initialSubscriptionContractStartDate=new l.default(t.initialSubscriptionContractStartDate)),s.default.prototype.parse.call(this,t)},checkAvailability:function(){var t=o.default.Deferred(),e=this.get("slug");return r.default.has(d,e)?t.resolve(d[e]).promise():(o.default.ajax({url:this.url()+"/slug",type:"GET",processData:!1,success:function(n,i){d[e]=!1,t.resolve(!1)},error:function(n,i,r){404==n.status?(d[e]=!0,t.resolve(!0)):t.reject(n,i,r)}}),t.promise())},validateAccount:function(t,e){var n=[],i={title:"Account Name",slug:"Account URL",startDate:"Start Date",endDate:"End Date for Admin Access",gracePeriodEndDate:"End Date for Published Content",accountManagerMemberId:"Account Manager"};return e||(i.memberEmail="Owner Email",i.memberTitle="Owner Name"),r.default.each(t,(function(e,o){if(!i[o]||null!==e&&""!==e)if("memberEmail"===o){/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||n.push(new c.default(o,"Not a valid email address"))}else"startDate"===o||"endDate"===o||"gracePeriodEndDate"===o?a.default(e).isValid()||n.push(new c.default(o,"Not a valid date")):"contractStartDate"===o||"contractEndDate"===o||"initialSubscriptionContractStartDate"===o?e&&""!==e&&(a.default(e).isValid()||n.push(new c.default(o,"Not a valid date"))):"publishedExperienceLimit"!==o&&"publishedExperienceOpensThreshold"!==o&&"currentArr"!==o||""===e||r.default.isInteger(r.default.toNumber(e))||n.push(new c.default(o,"Not a valid number"));else n.push(new c.default(o,"Required"));t.gracePeriodEndDate&&t.endDate&&a.default(t.gracePeriodEndDate).unix()<a.default(t.endDate).unix()&&n.push(new c.default("gracePeriodEndDate","Must be later than admin access end date"))})),n},resetDatesToMidnight:function(){var t=this.setDateToMidnight(this.get("startDate")),e=this.setDateToMidnight(this.get("endDate")),n=this.setDateToMidnight(this.get("contractStartDate")),i=this.setDateToMidnight(this.get("contractEndDate")),r=this.setDateToMidnight(this.get("initialSubscriptionContractStartDate")),o=this.setDateToMidnight(this.get("gracePeriodEndDate"));this.set("startDate",t),this.set("endDate",e),this.set("contractStartDate",n),this.set("contractEndDate",i),this.set("initialSubscriptionContractStartDate",r),this.set("gracePeriodEndDate",o)},setDateToMidnight:function(t){return t?l.default(t).startOf("day"):null}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(247)),a={toString:function(){return this.isValid()?this.format("D MMMM, YYYY"):""},toDateDbString:function(){return this.isValid()?this.format("YYYY-MM-DD"):""}};e.default=function(t){var e=o.default.apply(this,arguments);return e&&r.default.extend(e,a)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionModel=void 0;var s=a(n(0)),u=a(n(13)),l=n(738),c=n(406),d=n(408),f=n(409),h=n(410),p=n(411),g=n(412),m=n(111),v=n(413),y=n(414),_=n(420),b=n(421),w=n(422),T=n(423),S=n(415),O=n(416),E=n(417),P=n(419),C=n(424),A=n(425),x=n(426),I=n(433),k=n(427),M=n(428),R=n(429),N=n(430),D=n(431),L=n(432),j=n(314),F=n(132),V=n(407),B=n(434),U=n(435),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={delay:0,repeat:!0},e.saveHandler=function(){},e.destroyHandler=function(){},e}var n;return r(e,t),n=e,e.prototype.initialize=function(e,n){if(e=e||{},!(n=n||{}).collection)throw new Error("Must instantiate interaction model with collection");this.createSubModelForData(e),t.prototype.initialize.call(this,{trigger:e.trigger},n)},e.prototype.unload=function(){this.destroyActionModel()},e.prototype.createSubModelForData=function(t){var e=t.action,n=s.default.clone(t);delete n.trigger,delete n.action,delete n.delay,delete n.repeat,this.createActionModel(e,n)},e.prototype.setFromObject=function(t){if(s.default.isEqual(t,this.toJSON()))return this;this.createSubModelForData(t);var e=this.get("trigger"),n=this.getDelay(),i=this.getRepeat();return this.set({trigger:t.trigger,delay:t.delay,repeat:t.repeat}),e===t.trigger&&n===t.delay&&i===t.repeat&&this.trigger("change",this),this},e.prototype.clear=function(e){return this.destroyActionModel(),t.prototype.clear.call(this,e)},e.prototype.toJSON=function(){return this.isHoverInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.HOVER},this.actionModel?this.actionModel.toJSON():{}):this.isClickInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.CLICK},this.actionModel?this.actionModel.toJSON():{}):this.isSubmitInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.SUBMIT},this.actionModel?this.actionModel.toJSON():{}):this.isOnViewInteraction()?s.default.extend({trigger:n.TRIGGER_TYPES.ONVIEW,delay:this.getDelay(),repeat:this.getRepeat()},this.actionModel?this.actionModel.toJSON():{}):{}},e.prototype.propagateChangeEvent=function(){this.trigger("change",this)},e.prototype.createActionModel=function(t,e){this.destroyActionModel(),t&&(this.actionModel=l.ActionModelFactory.createModelForActionType(t,e,{parentInteraction:this}),this.actionModel.on("change",this.propagateChangeEvent,this))},e.prototype.destroyActionModel=function(){this.actionModel&&(this.actionModel.off("change",this.propagateChangeEvent,this),this.actionModel=null)},e.prototype.setSaveHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.saveHandler=t},e.prototype.setDestroyHandler=function(t,e){e&&(t=s.default.bind(t,e)),this.destroyHandler=t},e.prototype.save=function(){if(!s.default.isFunction(this.saveHandler))throw new Error("Trying to save InteractionModel but a save handler was never set");if(!this.isValid())throw new Error("Trying to save an invalid InteractionModel");this.saveHandler(this),this.trigger("save",this)},e.prototype.destroy=function(){if(!s.default.isFunction(this.destroyHandler))throw new Error("Trying to destroy InteractionModel but a destroy handler was never set");this.destroyHandler(this),this.trigger("destroy",this)},e.prototype.getTrigger=function(){return this.get("trigger")},e.prototype.isClickInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.CLICK},e.prototype.isHoverInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.HOVER},e.prototype.isOnViewInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.ONVIEW},e.prototype.isSubmitInteraction=function(){return this.get("trigger")===n.TRIGGER_TYPES.SUBMIT},e.prototype.setTrigger=function(t){if(this.getTrigger()!==t){if(!s.default.includes(n.TRIGGER_TYPES,t))throw new Error("Can't set trigger value of ["+t+"]");this.set("trigger",t)}},e.prototype.setHover=function(){this.setTrigger(n.TRIGGER_TYPES.HOVER)},e.prototype.setOnView=function(){this.setTrigger(n.TRIGGER_TYPES.ONVIEW)},e.prototype.setClick=function(){this.setTrigger(n.TRIGGER_TYPES.CLICK)},e.prototype.setSubmit=function(){this.setTrigger(n.TRIGGER_TYPES.SUBMIT)},e.prototype.clearTrigger=function(){this.set("trigger",null)},e.prototype.setDelay=function(t){this.set("delay",t)},e.prototype.getDelay=function(){var t=this.get("delay");return s.default.isUndefined(t)&&(t=this.defaults.delay),t},e.prototype.setRepeat=function(t){this.set("repeat",t)},e.prototype.getRepeat=function(){var t=this.get("repeat");return s.default.isUndefined(t)&&(t=this.defaults.repeat),t},e.prototype.setActionType=function(t){this.actionModel&&this.actionModel.getActionType()===t||(this.createActionModel(t),this.trigger("change",this),this.trigger("change:action",this))},e.prototype.getAction=function(){return this.actionModel},e.prototype.getActionType=function(){return this.actionModel?this.actionModel.getActionType():null},e.prototype.isScrollToInteraction=function(){return this.actionModel instanceof c.ScrollToActionModel},e.prototype.isScrollToObjectInteraction=function(){return this.actionModel instanceof V.ScrollToObjectActionModel},e.prototype.isNextPageInteraction=function(){return this.actionModel instanceof d.NextPageActionModel},e.prototype.isPrevPageInteraction=function(){return this.actionModel instanceof f.PrevPageActionModel},e.prototype.isGotoPageInteraction=function(){return this.actionModel instanceof h.GotoPageActionModel},e.prototype.isEnableDisablePageInteraction=function(){return this.actionModel instanceof p.EnableDisablePageActionModel},e.prototype.isUrlInteraction=function(){return this.actionModel instanceof g.UrlActionModel},e.prototype.isCanvasTargetsInteraction=function(){return this.actionModel instanceof m.AbstractCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsInteraction=function(){return this.actionModel instanceof v.ShowCanvasTargetsActionModel},e.prototype.isShowCanvasTargetsOnHoverInteraction=function(){return this.actionModel instanceof y.ShowCanvasTargetsOnHoverActionModel},e.prototype.isHideCanvasTargetsInteraction=function(){return this.actionModel instanceof _.HideCanvasTargetsActionModel},e.prototype.isToggleCanvasTargetsInteraction=function(){return this.actionModel instanceof b.ToggleCanvasTargetsActionModel},e.prototype.isShowAndStayVisibleCanvasTargetsInteraction=function(){return this.actionModel instanceof T.ShowAndStayVisibleCanvasTargetsActionModel},e.prototype.isHideAndStayHiddenCanvasTargetsInteraction=function(){return this.actionModel instanceof w.HideAndStayHiddenCanvasTargetsActionModel},e.prototype.isShowOnlyInteraction=function(){return this.actionModel instanceof S.ShowOnlyActionModel},e.prototype.isHideOnlyInteraction=function(){return this.actionModel instanceof O.HideOnlyActionModel},e.prototype.isCycleNextInteraction=function(){return this.actionModel instanceof E.CycleNextActionModel},e.prototype.isCyclePreviousInteraction=function(){return this.actionModel instanceof P.CyclePreviousActionModel},e.prototype.isLightboxInteraction=function(){return this.actionModel instanceof C.LightboxActionModel},e.prototype.isProductInteraction=function(){return this.actionModel instanceof A.ProductActionModel},e.prototype.isShoppingCartInteraction=function(){return this.actionModel instanceof x.ShoppingCartActionModel},e.prototype.isFullscreenInteraction=function(){return this.actionModel instanceof I.FullscreenActionModel},e.prototype.isEmailInteraction=function(){return this.actionModel instanceof k.EmailActionModel},e.prototype.isFacebookInteraction=function(){return this.actionModel instanceof M.FacebookActionModel},e.prototype.isTwitterInteraction=function(){return this.actionModel instanceof R.TwitterActionModel},e.prototype.isPinterestInteraction=function(){return this.actionModel instanceof N.PinterestActionModel},e.prototype.isLinkedInInteraction=function(){return this.actionModel instanceof D.LinkedInActionModel},e.prototype.isBringToFrontInteraction=function(){return this.actionModel instanceof B.BringToFrontActionModel},e.prototype.isResetPositionsInteraction=function(){return this.actionModel instanceof U.ResetPositionsActionModel},e.prototype.isChangeStateInteraction=function(){return this.actionModel instanceof L.ChangeStateActionModel},e.prototype.isPageNumberAwareInteraction=function(){return this.actionModel instanceof j.PageNumberAwareAction},e.prototype.isValid=function(){return!!s.default.includes(n.TRIGGER_TYPES,this.get("trigger"))&&(!!this.actionModel&&this.actionModel.isValid())},e.prototype.isRepeatable=function(){return this.isOnViewInteraction()&&(this.isCanvasTargetsInteraction()&&!this.isCycleNextInteraction()&&!this.isCyclePreviousInteraction()||this.isBringToFrontInteraction())},e.prototype.getValidFullHierarchyTargets=function(){return this.collection.getAncestorFullHierarchyCollection()},e.prototype.getValidScranchorTargets=function(){return this.collection.getAncestorScranchorCollection()},e.prototype.getValidPageTargets=function(){return this.collection.getAncestorPageCollection()},e.TRIGGER_TYPES={CLICK:"click",HOVER:"hover",ONVIEW:"view",SUBMIT:"submit"},e=n=o([F.BackboneShim({defaults:{delay:0,repeat:!0}})],e)}(u.default.Model);e.InteractionModel=H},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PageNumberAwareAction=void 0;var o=n(71),a=n(739),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getValidPageTargets=function(){return this.parentInteraction.getValidPageTargets()},e.prototype._calculateUpdatedPageNumberOnMove=function(t,e,n){return a.PageTargetInteractionUtils.calculateUpdatedPageNumberOnMove(t,e,n)},e}(o.AbstractActionModel);e.PageNumberAwareAction=s},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractFontAPI=void 0;var s=a(n(0)),u=a(n(3)),l=n(195),c=n(183),d=n(439),f=n(751),h=function(){function t(){}return t.prototype.execute=function(t){var e=this,n=u.default.Deferred();return this.fontCollection?n.resolve(this.filterFontsInMemory(t)):u.default.getJSON(this.FONT_URL).then((function(i){e.fontCollection=new l.FontCollection(e.parseResults(i)),n.resolve(e.filterFontsInMemory(t))})),n.promise()},t.prototype.filterFontsInMemory=function(t){var e=new l.FontCollection(this.fontCollection);return e.multiFilter(t.filters),e},t.prototype.loadFamiliesByFamilyGuids=function(t,e){var n=this,i=new l.FontCollection;return s.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByFamilyGuid(t);e&&i.add(e)}})),u.default.Deferred().resolve(i).promise()},t.prototype.loadFamiliesByVariantGuids=function(t,e){var n=this,i=new l.FontCollection;return s.default.each(t,(function(t){if(n.belongsToAPI(t)){var e=n.fontCollection.getFontFamilyByVariantGuid(t);e&&i.add(e)}})),u.default.Deferred().resolve(i).promise()},t.prototype.belongsToAPI=function(t){return c.FontUtil.getFontAPI(t)===this.ID},t.prototype.updateMetrics=function(t){return u.default.Deferred().resolve()},t.prototype.loadFontPlusCharacterSetsByVariantGuid=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u,l,h,p,g,m,v,y,_,b,w,T,S,O,E,P,C;return r(this,(function(r){switch(r.label){case 0:e=[],n=[],i=new Map,a=function(t){var r;r=f.isGoogleVariantTuple(t)?c.FontUtil.buildGoogleVariantGuid(t.familyName,t.variant):t;var o=s.loadedFontPlusCharacterSets.get(r);if(!o){var a=new Promise((function(t,e){i.set(r,{resolve:t,reject:e})}));s.loadedFontPlusCharacterSets.set(r,a),n.push(t),o=a}e.push(o)},s=this;try{for(u=o(t),l=u.next();!l.done;l=u.next())h=l.value,a(h)}catch(t){O={error:t}}finally{try{l&&!l.done&&(E=u.return)&&E.call(u)}finally{if(O)throw O.error}}if(!(n.length>0))return[3,5];p={additionalInfo:""},g=new Map,r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.getFontPlusCharacterSets(n)];case 2:m=r.sent();try{for(v=o(m),y=v.next();!y.done;y=v.next())_=y.value,(b=d.FontPlusManager.responseToFontPlusCharacterSet(_)).rangeCharArray=d.FontPlusManager.generateUnicodeRange(b.unicodeRange),w=b.variantGuid,(T=g.get(w))&&T.length>0?g.set(w,T.concat(b)):g.set(w,[b])}catch(t){P={error:t}}finally{try{y&&!y.done&&(C=v.return)&&C.call(v)}finally{if(P)throw P.error}}return[3,5];case 3:return S=r.sent(),p=S,console.error(p),[3,5];case 4:return i.forEach((function(t,e){var n=g.get(e);n?t.resolve(n):(p.additionalInfo="Error loading character sets for guid: "+e,t.reject(p))})),[7];case 5:return[2,Promise.all(e).then((function(t){return t.reduce((function(t,e){return t.concat(e)}),[])}))]}}))}))},t}();e.AbstractFontAPI=h},function(t,e,n){"use strict";function i(t){if(t){var e=null==t?void 0:t.getAncestors().find((function(t){return t.is("attributeElement")&&t.hasAttribute("href")&&t.hasAttribute("data-type")&&t.hasAttribute("data-newtab")}));return e||void 0}}Object.defineProperty(e,"__esModule",{value:!0}),e.isSelectionInsideOneLinkOrNotIncludeAnyLink=e.isSelectionInsideOneLink=void 0,e.isSelectionInsideOneLink=function(t){var e,n=null===(e=t.getFirstRange())||void 0===e?void 0:e.getTrimmed(),r=i(null==n?void 0:n.start),o=i(null==n?void 0:n.end);return!(!r||!o||r!=o)&&r},e.isSelectionInsideOneLinkOrNotIncludeAnyLink=function(t){var e,n=null===(e=t.getFirstRange())||void 0===e?void 0:e.getTrimmed(),r=i(null==n?void 0:n.start),o=i(null==n?void 0:n.end);return!(!r||!o||r!=o)||!r&&!o}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightCommand=e.getBiggestFontSize=void 0;var s=n(85),u=n(183),l=n(126),c=n(127),d=a(n(109)),f=n(127),h=l.VIEW_DEFAULTS.AUTO_LEADING,p=s.FontConstants.DEFAULT_FONT_VARIANT_GUID,g=function(t){return parseInt(t.getAttribute("fontSize"))||l.TEXT_DEFAULT_FONT_SIZE},m=function(t){return t&&t.getAttribute("fontFamily")||{cssFamilyName:(e=u.FontUtil.parseGoogleVariantGuid(p)).familyName,fontStyle:e.variant,fontWeight:""+e.weight};var e};e.getBiggestFontSize=function(t){var e,n,i=l.TEXT_DEFAULT_FONT_SIZE;try{for(var r=o(t.getChildren()),a=r.next();!a.done;a=r.next()){var s=a.value,u=g(s);i=u>i?u:i}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i};var v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.applyAttributeForRange=function(t,e,n){var i=this;f.getInlineElementsFromRanges(e).forEach((function(e){return i.applyAttribute(t,e,n)}))},n.prototype.applyAttributeForSelection=function(t,e,n){var i,r,o=null===(r=null===(i=e.getFirstRange())||void 0===i?void 0:i.start)||void 0===r?void 0:r.parent;o&&o.is("element")&&this.applyAttribute(t,o,n)},n.prototype.applyAttribute=function(t,n,i){if(null==i||parseInt(i)===h)t.removeAttribute(this.attributeKey,n);else{var r=n.getChild(0),o=0===n.index,a=parseInt(i),s=o?function(t,e,n){var i=c.getFontBaseLine(t);return Math.ceil(i-(e-n)/2)}(m(r),a,e.getBiggestFontSize(n)):"auto";t.setAttribute(this.attributeKey,{lineHeight:a,baseOffset:s},n)}},n}(d.default);e.LineHeightCommand=v},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_MODES=void 0;var s=a(n(125)),u=a(n(14)),l=a(n(106)),c=a(n(0)),d=a(n(3)),f=a(n(141)),h=o(n(246));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};t=new s.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(e,n,i,r,o){var a={mode:e,pageNumber:null,pageSlug:null,layoutSlug:i,title:r,hash:o};return e===t.PAGE_MODES.NUMBER?a.pageNumber=n:a.pageSlug=n,a},getCurrentHistoryState:function(){var e=t.getWindowContext();if(e.history&&e.history.state&&e.history.state.mode)return e.history.state;var n=l.default.parsePageFromLocation(),i=c.default.isString(n)?t.PAGE_MODES.SLUG:t.PAGE_MODES.NUMBER,r=l.default.parseLayoutFromLocation(),o=e.document.title,a=e.location.hash;return t.buildHistoryState(i,n,r,o,a)},navigateTo:function(e,n,i,r){var o=t.getWindowContext(),a=h.escapeComponentId(o.location.hash).replace(/\/$/,""),s=h.isValidSelector(a);a=a&&s&&d.default(a).parents(".page-viewport").hasClass("top")?o.location.hash:void 0;var f=l.default.buildUri(e,n,i,a);if(f){r||(r=o.document.title);var p=s?o.location.href:t.getUrlWithoutHash();if(c.default.endsWith(p,f)&&null!==o.history.state)document.title=r;else{if(u.default.html5()&&o.history&&o.history.pushState){var g=t.buildHistoryState(e,n,i,r,a);s||!o.location.hash||c.default.endsWith(f,o.location.hash)||(f+=o.location.hash),o.history.pushState(g,r,f)}document.title=r}}},navigateToPageNumber:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.NUMBER,e,i,n)},navigateToLayout:function(e){var n=t.getCurrentHistoryState(),i=n.mode,r=i===t.PAGE_MODES.NUMBER?n.pageNumber:n.pageSlug,o=n.title;t.navigateTo(i,r,e,o)},navigateToPageSlug:function(e,n){var i=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.SLUG,e,i,n)},bindPopstate:c.default.once((function(){t.getWindowContext().onpopstate=function(e){e.state&&e.state.mode&&f.default.trigger(t.publishedEvents.POPSTATE,e.state)}})),getWindowContext:function(){return window},getUrlWithoutHash:function(){var e=t.getWindowContext();return e.location.href.replace(e.location.hash,"")}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(125)),a=i(n(8)),s=i(n(14)),u=i(n(142)),l=i(n(786)),c=i(n(55));t=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:t}),this.registerEvents(),this},showLightbox:function(t,e,n,i){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:n,showCloseButton:i,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var n=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(n=!0);var i,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),i=n?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",i);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return e=c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};e.default=function(t,e){var n;void 0===t&&(t="");var r=function(t,e){return e<(t=parseInt(t,10).toString(16)).length?t.slice(t.length-e):e>t.length?new Array(e-t.length+1).join("0")+t:t};return i.uniqidSeed||(i.uniqidSeed=Math.floor(123456789*Math.random())),i.uniqidSeed++,n=t,n+=r(parseInt((new Date).getTime()/1e3,10),8),n+=r(i.uniqidSeed,5),e&&(n+=(10*Math.random()).toFixed(8).toString()),n}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(234)),s=i(n(99)),u=i(n(143)),l=i(n(140));e.default=s.default.extend({firstRender:!0,zoom:1,shouldUpdateFromZoomChange:!1,forceCreateNewVectorImageResourceFactory:!1,initialize:function(t,e){s.default.prototype.initialize.call(this,t,e),this.isVectorBased()&&(this.forceCreateNewVectorImageResourceFactory=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImage=r.default.debounce(r.default.bind(this.updateRenderedImageNow,this),500)},getImageUri:function(){throw"getImageUri is abstract"},getImageResourceToRender:function(){var t=this.getImageUri();if(!t)return null;if(this.firstRender){var e=!1;return this.isVectorBased()&&(e=!this.hasCurrentConvertedVectorImageUri()),this.updateRenderedImageNow(e),this.firstRender=!1,null}return this.shouldUpdateFromZoomChange&&(this.updateRenderedImage(),this.shouldUpdateFromZoomChange=!1),this.isVectorBased()?this.getVectorImageResourceToRender():a.default.getRasterImage(t,this.get("crop"))},getVectorImageResourceToRender:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());return t||(t=a.default.getVectorImageResourceFactory(this.getImageUri()))?t.getImageResource(this.getStyleForVectorImageResourceFactory()):null},getVectorImageResourceFactoryIfExists:function(){var t=a.default.getVectorImageResourceFactory(this.getConvertedVectorImageUri());if(t)return t;var e=a.default.getVectorImageResourceFactory(this.getImageUri());return e||void 0},hasRendered:function(){return!this.firstRender},setZoom:function(t){t>this.zoom&&!this.isVectorBased()&&(this.shouldUpdateFromZoomChange=!0),this.zoom=t},getZoom:function(){return this.zoom},updateRenderedImageNow:function(t){if(!this.getImageUri())return o.default.Deferred().resolve(null).promise();if(this.isVectorBased()){var e=this.updateRenderedVectorImage(t);return t&&this.saveConvertedVectorImage(e),e}return this.updateRenderedRasterImage()},saveConvertedVectorImage:function(t){var e=this;this.wasConvertedThisLoad||(this.wasConvertedThisLoad=!0,t.then((function(t){var n;null===(n=e.options.page)||void 0===n||n.getSvgReupload().uploadFile(t,e)})))},hasCurrentConvertedVectorImageUri:function(){return l.default.hasCurrentConvertedVectorImageUri(this.get("convertedVectorImageVersion"),this.get("convertedVectorImage"))},getConvertedVectorImageUri:function(){return this.get("convertedVectorImage")},setConvertedVectorImageUri:function(t){this.set("convertedVectorImageVersion",l.default.VECTOR_IMAGE_CONVERSION_VERSION),this.set("convertedVectorImage",t),this.save()},updateRenderedVectorImage:function(t){var e,n=this.getImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue(),r=a.default.getOrCreateVectorImageResourceFactory(n,i,t,this.get("id"),this.forceCreateNewVectorImageResourceFactory);return this.forceCreateNewVectorImageResourceFactory=!1,r.getOrCreateImageResource(this.getStyleForVectorImageResourceFactory()).getPromise()},updateRenderedRasterImage:function(){var t=this.getImageUri(),e=this.get("width")*this.zoom,n=u.default.calculateWidthForDevicePixelRatio(e);return a.default.getOrCreateRasterImageResource(t,n,this.get("crop"))},forceRedraw:function(){this.trigger("forceRedraw")},getStyleForVectorImageResourceFactory:function(){var t=r.default.cloneDeep(this.get("background"));return t.backgroundHasBeenSet=this.get("backgroundHasBeenSet"),t},setMediaUploadPromise:function(t){this.uploadPromise=t},isUploading:function(){return this.uploadPromise&&"pending"===this.uploadPromise.state()},cancelUpload:function(t){this.uploadPromise.reject(t)}},{constrainInitialGettyMediaSize:function(t,e,n){var i=.7*n,r=i/(t/e);return{width:Math.round(i),height:Math.round(r)}}})},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Z}));var i=n(203);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const r=Symbol("rootName");class o extends i.a{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}get rootName(){return this.getCustomProperty(r)}set rootName(t){this._setCustomProperty(r,t)}set _name(t){this.name=t}}var a=n(225),s=n(224),u=n(256),l=n(163),c=n(6),d=n(17),f=n(97),h=n(86),p=n(23),g=n(253);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class m extends h.a{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const n of t)if("childList"===n.type){const t=e.mapDomToView(n.target);if(t&&(t.is("uiElement")||t.is("rawElement")))continue;t&&!this._isBogusBrMutation(n)&&i.add(t)}for(const r of t){const t=e.mapDomToView(r.target);if((!t||!t.is("uiElement")&&!t.is("rawElement"))&&"characterData"===r.type){const t=e.findCorrespondingViewText(r.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Object(p.f)(r.target),node:t}):!t&&Object(p.i)(r.target)&&i.add(e.mapDomToView(r.target.parentNode))}}const r=[];for(const t of n.values())this.renderer.markToSync("text",t.node),r.push(t);for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),o=Array.from(e.domChildrenToView(n,{withChildren:!1}));Object(g.a)(i,o,s)||(this.renderer.markToSync("children",t),r.push({type:"children",oldChildren:i,newChildren:o,node:t}))}const o=t[0].target.ownerDocument.getSelection();let a=null;if(o&&o.anchorNode){const t=e.domPositionToView(o.anchorNode,o.anchorOffset),n=e.domPositionToView(o.focusNode,o.focusOffset);t&&n&&(a=new f.a(t),a.setFocus(n))}function s(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}r.length&&(this.document.fire("mutations",r,a),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}var v=n(101),y=n(26);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class _ extends v.a{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Object(y.a)(this)}})}}var b=n(196);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class w extends h.a{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Object(b.a)(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new f.a(e.getRanges(),{backward:e.isBackward,fake:!1});t!=y.f.arrowleft&&t!=y.f.arrowup||n.setTo(n.getFirstPosition()),t!=y.f.arrowright&&t!=y.f.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class T extends h.a{constructor(t){super(t),this.mutationObserver=t.getObserver(m),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Object(b.a)(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",(t,n)=>{this._handleSelectionChange(n,e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(0!=i.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(i)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(i))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class S extends v.a{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.change(()=>{}),50)}),e.on("blur",(n,i)=>{const r=e.selection.editableElement;null!==r&&r!==i.target||(e.isFocused=!1,t.change(()=>{}))})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class O extends v.a{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */class E extends v.a{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}var P=n(169),C=n(328);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class A extends h.a{constructor(t){super(t),this.document.on("keydown",(t,e)=>{if(this.isEnabled&&Object(C.isArrowKeyCode)(e.keyCode)){const n=new P.a(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,e),n.stop.called&&t.stop()}})}observe(){}}var x=n(35),I=n(9),k=n(190),M=n(39),R=n(59);function N({target:t,viewportOffset:e=0}){const n=U(t);let i=n,r=null;for(;i;){let o;o=H(i==n?t:r),L(o,()=>G(t,i));const a=G(t,i);if(D(i,a,e),i.parent!=i){if(r=i.frameElement,i=i.parent,!r)return}else i=null}}function D(t,e,n){const i=e.clone().moveBy(0,n),r=e.clone().moveBy(0,-n),o=new M.a(t).excludeScrollbarsAndBorders();if(![r,i].every(t=>o.contains(t))){let{scrollX:a,scrollY:s}=t;F(r,o)?s-=o.top-e.top+n:j(i,o)&&(s+=e.bottom-o.bottom+n),V(e,o)?a-=o.left-e.left+n:B(e,o)&&(a+=e.right-o.right+n),t.scrollTo(a,s)}}function L(t,e){const n=U(t);let i,r;for(;t!=n.document.body;)r=e(),i=new M.a(t).excludeScrollbarsAndBorders(),i.contains(r)||(F(r,i)?t.scrollTop-=i.top-r.top:j(r,i)&&(t.scrollTop+=r.bottom-i.bottom),V(r,i)?t.scrollLeft-=i.left-r.left:B(r,i)&&(t.scrollLeft+=r.right-i.right)),t=t.parentNode}function j(t,e){return t.bottom>e.bottom}function F(t,e){return t.top<e.top}function V(t,e){return t.left<e.left}function B(t,e){return t.right>e.right}function U(t){return Object(k.a)(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function H(t){if(Object(k.a)(t)){let e=t.commonAncestorContainer;return Object(R.a)(e)&&(e=e.parentNode),e}return t.parentNode}function G(t,e){const n=U(t),i=new M.a(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new M.a(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:N,scrollAncestorsToShowTarget:function(t){L(H(t),()=>new M.a(t))}});var W=n(189),z=n(1),$=n(89);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class q{constructor(t){this.document=new a.default(t),this.domConverter=new l.a(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new u.a(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new s.default(this.document),this.addObserver(m),this.addObserver(T),this.addObserver(S),this.addObserver(_),this.addObserver(w),this.addObserver(O),this.addObserver(A),$.a.isAndroid&&this.addObserver(E),Object(p.g)(this),Object(W.b)(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:e,value:r}of Array.from(t.attributes))i[e]=r,"class"===e?this._writer.addClass(r.split(" "),n):this._writer.setAttribute(e,r,n);this._initialDomRootAttributes.set(t,i);const r=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};r(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(r)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const n of this._observers.values())n.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const t in n)e.setAttribute(t,n[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&N({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new z.default("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){z.default.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return c.a._createAt(t,e)}createPositionAfter(t){return c.a._createAfter(t)}createPositionBefore(t){return c.a._createBefore(t)}createRange(t,e){return new d.a(t,e)}createRangeOn(t){return d.a._createOn(t)}createRangeIn(t){return d.a._createIn(t)}createSelection(t,e,n){return new f.a(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Object(I.default)(q,x.default);var Y=n(327),K=n(329),X=n(177),J=n(255);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Z{constructor(t,e){this.model=t,this.view=new q(e),this.mapper=new Y.default,this.downcastDispatcher=new K.default({mapper:this.mapper,schema:t.schema});const n=this.model.document,i=n.selection,r=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(n.differ,r,t),this.downcastDispatcher.convertSelection(i,r,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",Object(J.convertSelectionChange)(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",Object(X.insertText)(),{priority:"lowest"}),this.downcastDispatcher.on("remove",Object(X.remove)(),{priority:"low"}),this.downcastDispatcher.on("selection",Object(X.clearAttributes)(),{priority:"high"}),this.downcastDispatcher.on("selection",Object(X.convertRangeSelection)(),{priority:"low"}),this.downcastDispatcher.on("selection",Object(X.convertCollapsedSelection)(),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new o(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}Object(I.default)(Z,x.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return f}));var i=n(113),r=n.n(i),o=n(274);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a extends r.a{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const i=n.isCollapsed,r=n.getFirstRange(),a=r.start.parent,u=r.end.parent,l=a==u;if(i){const i=Object(o.a)(t.schema,n.getAttributes());s(t,e,r.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(r.start.isAtStart&&r.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),l?s(t,e,n.focus):i&&e.setSelection(u,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),r=i.start.parent,o=i.end.parent;if((u(r,t)||u(o,t))&&r!==o)return!1;return!0}(t.schema,e.selection)}}function s(t,e,n){const i=e.createElement("softBreak");t.insertContent(i,n),e.setSelection(i,"after")}function u(t,e){return!t.is("rootElement")&&(e.isLimit(t)||u(t.parent,e))}var l=n(275),c=n(45),d=n.n(c);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class f extends d.a{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,r=i.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,{writer:e})=>e.createEmptyElement("br")}),i.addObserver(l.a),t.commands.add("shiftEnter",new a(t)),this.listenTo(r,"enter",(e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class i{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}var r=n(163);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class o{constructor(t){this._domParser=new DOMParser,this._domConverter=new r.a(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new i}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}registerRawContentMatcher(t){this._domConverter.registerRawContentMatcher(t)}useFillerType(t){this._domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment();let i=e.firstChild;for(;!i.isSameNode(e.documentElement);){const t=i;i=i.nextSibling,t.nodeType==Node.COMMENT_NODE&&n.appendChild(t)}const r=e.body.childNodes;for(;r.length>0;)n.appendChild(r[0]);return n}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var i=n(76),r=n(1);function o(t,e,n=1){if("number"!=typeof n)throw new r.default("translation-service-quantity-not-a-number",null,{quantity:n});const i=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===i&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const o=e.id||e.string;if(0===i||!function(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}(t,o))return 1!==n?e.plural:e.string;const a=window.CKEDITOR_TRANSLATIONS[t].dictionary,s=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||(t=>1===t?0:1);if("string"==typeof a[o])return a[o];const u=Number(s(n));return a[o][u]}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var a=n(227);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Object(a.a)(this.uiLanguage),this.contentLanguageDirection=Object(a.a)(this.contentLanguage),this.t=(t,e)=>this._t(t,e)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){e=Object(i.default)(e),"string"==typeof t&&(t={string:t});const n=!!t.plural?e[0]:1;return function(t,e){return t.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)}(o(this.uiLanguage,t,n),e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(45),r=n.n(i),o=n(113),a=n.n(o),s=n(274);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class u extends a.a{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,i){const r=n.isCollapsed,o=n.getFirstRange(),a=o.start.parent,u=o.end.parent;if(i.isLimit(a)||i.isLimit(u))return void(r||a!=u||t.deleteContent(n));if(r){const t=Object(s.a)(e.model.schema,n.getAttributes());l(e,o.start),e.setSelectionAttribute(t)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd),r=a==u;t.deleteContent(n,{leaveUnmerged:i}),i&&(r?l(e,n.focus):e.setSelection(u,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function l(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}var c=n(275);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d extends r.a{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(c.a),t.commands.add("enter",new u(t)),this.listenTo(n,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(4),r=n(2),o=n.n(r),a=n(6),s=n(17),u=n(30),l=n(15),c=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class d{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),r=this._viewToModelMapping.get(n),o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=i.default._createAt(r,o)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const e of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(e);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new o.a(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new s.a(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t)}if(t.is("$text"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,i=0,r=0,o=0;if(t.is("$text"))return new a.a(t,e);for(;r<e;)n=t.getChild(o),i=this.getModelLength(n),r+=i,o++;return r==e?this._moveViewPositionToTextNode(new a.a(t,o)):this.findPositionIn(n,e-(r-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof u.a?new a.a(e,e.data.length):n instanceof u.a?new a.a(n,0):t}}Object(c.default)(d,l.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"env",(function(){return i.a})),n.d(e,"diff",(function(){return r.a})),n.d(e,"mix",(function(){return o.default})),n.d(e,"EmitterMixin",(function(){return a.default})),n.d(e,"ObservableMixin",(function(){return s.default})),n.d(e,"CKEditorError",(function(){return u.default})),n.d(e,"logError",(function(){return u.logError})),n.d(e,"logWarning",(function(){return u.logWarning})),n.d(e,"ElementReplacer",(function(){return l})),n.d(e,"createElement",(function(){return c.a})),n.d(e,"DomEmitterMixin",(function(){return d.a})),n.d(e,"global",(function(){return f.a})),n.d(e,"getDataFromElement",(function(){return h})),n.d(e,"Rect",(function(){return p.a})),n.d(e,"ResizeObserver",(function(){return g.a})),n.d(e,"setDataInElement",(function(){return m.default})),n.d(e,"toUnit",(function(){return v.a})),n.d(e,"keyCodes",(function(){return y.f})),n.d(e,"getCode",(function(){return y.a})),n.d(e,"parseKeystroke",(function(){return y.g})),n.d(e,"getEnvKeystrokeText",(function(){return y.b})),n.d(e,"isArrowKeyCode",(function(){return y.d})),n.d(e,"getLocalizedArrowKeyCodeDirection",(function(){return y.c})),n.d(e,"isForwardArrowKeyCode",(function(){return y.e})),n.d(e,"getLanguageDirection",(function(){return _.a})),n.d(e,"Locale",(function(){return b.default})),n.d(e,"Collection",(function(){return w.default})),n.d(e,"first",(function(){return T.default})),n.d(e,"FocusTracker",(function(){return S.default})),n.d(e,"KeystrokeHandler",(function(){return O.default})),n.d(e,"toArray",(function(){return E.default})),n.d(e,"toMap",(function(){return P.a})),n.d(e,"priorities",(function(){return C.a})),n.d(e,"uid",(function(){return A.a})),n.d(e,"version",(function(){return x.a}));var i=n(89),r=n(128),o=n(9),a=n(15),s=n(35),u=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class l{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}var c=n(254),d=n(118),f=n(38);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function h(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}var p=n(39),g=n(162),m=n(303),v=n(102),y=n(26),_=n(227),b=n(325),w=n(100),T=n(304),S=n(79),O=n(112),E=n(76),P=n(114),C=n(164),A=n(80),x=n(186)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(90);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=o(e),t instanceof i.a&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=o(e),t instanceof i.a&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=o(e),t instanceof i.a&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const r=n.get(e);return void 0===r?null:r}revert(t,e){e=o(e),t instanceof i.a&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let r,o;return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),o=r.get(e),o||(o=new Map,r.set(e,o)),o.set(n,i),i}}function o(t){const e=t.split(":");return"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}var a=n(2),s=n.n(a),u=n(4),l=n(15),c=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class d{constructor(t){this.conversionApi=Object.assign({dispatcher:this},t),this._reconversionEventsMapping=new Map}convertChanges(t,e,n){for(const e of t.getMarkersToRemove())this.convertMarkerRemove(e.name,e.range,n);const i=this._mapChangesWithAutomaticReconversion(t);for(const t of i)"insert"===t.type?this.convertInsert(s.a._createFromPositionAndShift(t.position,t.length),n):"remove"===t.type?this.convertRemove(t.position,t.length,t.name,n):"reconvert"===t.type?this.reconvertElement(t.element,n):this.convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,n);for(const t of this.conversionApi.mapper.flushUnboundMarkerNames()){const i=e.get(t).getRange();this.convertMarkerRemove(t,i,n),this.convertMarkerAdd(t,i,n)}for(const e of t.getMarkersToAdd())this.convertMarkerAdd(e.name,e.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of Array.from(t).map(h))this._convertInsertWithAttributes(e);this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,r){this.conversionApi.writer=r,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:"+e);for(const r of t){const t={item:r.item,range:s.a._createFromPositionAndShift(r.previousPosition,r.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire("attribute:"+e,t)}this._clearConversionApi()}reconvertElement(t,e){const n=s.a._createOn(t);this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);const i=this.conversionApi.mapper,r=i.toViewElement(t);e.remove(r),this._convertInsertWithAttributes({item:t,range:n});const o=i.toViewElement(t);for(const n of s.a._createIn(t)){const{item:t}=n,r=p(t,i);r?r.root!==o.root&&e.move(e.createRangeOn(r),i.toViewPosition(u.default._createBefore(t))):this._convertInsertWithAttributes(h(n))}i.unbindViewElement(r),this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!f(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,o=new r;if(o.add(e,i),this.conversionApi.consumable=o,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),o.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const r={item:n,range:s.a._createOn(n),markerName:t,markerRange:e};this.fire(i,r,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(t,e){this._reconversionEventsMapping.set(e,t)}_createInsertConsumable(t){const e=new r;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new r;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new r;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const e of t.getAttributeKeys())n.add(t,"attribute:"+e);return n}_testAndFire(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(function(t,e){const n=e.item.name||"$text";return`${t}:${n}`}(t,e),e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(t){this._testAndFire("insert",t);for(const e of t.item.getAttributeKeys())t.attributeKey=e,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(e),this._testAndFire("attribute:"+e,t)}_mapChangesWithAutomaticReconversion(t){const e=new Set,n=[];for(const i of t.getChanges()){const t=i.position||i.range.start,r=t.parent;if(Object(u.getTextNodeAtPosition)(t,r)){n.push(i);continue}const o="attribute"===i.type?Object(u.getNodeAfterPosition)(t,r,null):r;if(o.is("$text")){n.push(i);continue}let a;if(a="attribute"===i.type?`attribute:${i.attributeKey}:${o.name}`:`${i.type}:${i.name}`,this._isReconvertTriggerEvent(a,o.name)){if(e.has(o))continue;e.add(o),n.push({type:"reconvert",element:o})}else n.push(i)}return n}_isReconvertTriggerEvent(t,e){return this._reconversionEventsMapping.get(t)===e}}function f(t,e,n){const i=e.getRange(),r=Array.from(t.getAncestors());r.shift(),r.reverse();return!r.some(t=>{if(i.containsItem(t)){return!!n.toViewElement(t).getCustomProperty("addHighlight")}})}function h(t){return{item:t.item,range:s.a._createFromPositionAndShift(t.previousPosition,t.length)}}function p(t,e){if(t.is("textProxy")){const n=e.toViewPosition(u.default._createBefore(t)).parent;return n.is("$text")?n:null}return e.toViewElement(t)}Object(c.default)(d,l.default)},function(t,e,n){"use strict";(function(){window.Modernizr=function(t,e,n){var i,r,o={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d={},f=[],h=f.slice,p=function(t,n,i,r){var o,u,l,c,d=e.createElement("div"),f=e.body,h=f||e.createElement("body");if(parseInt(i,10))for(;i--;)(l=e.createElement("div")).id=r?r[i]:s+(i+1),d.appendChild(l);return o=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(f?d:h).innerHTML+=o,h.appendChild(d),f||(h.style.background="",h.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(h)),u=n(d,t),f?d.parentNode.removeChild(d):(h.parentNode.removeChild(h),a.style.overflow=c),!!u},g={}.hasOwnProperty;function m(t){l.cssText=t}function v(t,e){return typeof t===e}for(var y in r=v(g,"undefined")||v(g.call,"undefined")?function(t,e){return e in t&&v(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=h.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,n.concat(h.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(h.call(arguments)))};return i}),d.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},d.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},d.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},d)r(d,y)&&(i=y.toLowerCase(),o[i]=d[y](),f.push((o[i]?"":"no-")+i));return o.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&o.addTest(i,t[i]);else{if(t=t.toLowerCase(),o[t]!==n)return o;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),o[t]=e}return o},m(""),u=null,function(t,e){var n,i,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s=0,u={};function l(){var t=h.elements;return"string"==typeof t?t.split(" "):t}function c(t){var e=u[t._html5shiv];return e||(e={},s++,t._html5shiv=s,u[s]=e),e}function d(t,n,r){return n||(n=e),i?n.createElement(t):(r||(r=c(n)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function f(t){t||(t=e);var r=c(t);return!h.shivCSS||n||r.hasCSS||(r.hasCSS=!!function(t,e){var n=t.createElement("p"),i=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",i.insertBefore(n.lastChild,i.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),i||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return h.shivMethods?d(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(h,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",n="hidden"in t,i=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){n=!0,i=!0}}();var h={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:i,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:f,createElement:d,createDocumentFragment:function(t,n){if(t||(t=e),i)return t.createDocumentFragment();for(var r=(n=n||c(t)).frag.cloneNode(),o=0,a=l(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=h,f(e)}(this,e),o._version="2.6.2",o._prefixes=c,o.testStyles=p,o}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a={textareaFitContent:function(t,e){e=e||{};var n=function(){t.height(0);var n=t.prop("scrollHeight")+2;e.min&&(n=Math.max(e.min,n)),e.max&&(n=Math.min(e.max,n)),t.height(n).toggle().toggle()};(t=o.default(t)).on("input",n),r.default.defer(n)},selectAllOrDragTextInInput:function(t){var e=function(){this.select()};o.default(t.target).one("mouseup",e),setTimeout((function(){o.default(t.target).off("mouseup",e)}),500)},randomId:function(){return"id"+Math.random().toString(16).substr(2,9)}};e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(13)),s=i(n(142)),u=i(n(233)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),f=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,l.length)===l)switch(e.event.substr(l.length)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},h=function(t,e){var n=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(n,"*")},p=null,g=function(){h(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",f)},announceScrollTo:function(t){h(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){h(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){h(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){h(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(107);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(107),r=n(494),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(339)),s),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(o)})),t.exports=u}).call(this,n(338))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],c=!1,d=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&h())}function h(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++d<e;)u&&u[d].run();d=-1,e=l.length}u=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";var i=n(107),r=n(495),o=n(335),a=n(497),s=n(500),u=n(501),l=n(340);t.exports=function(t){return new Promise((function(e,c){var d=t.data,f=t.headers;i.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",g=t.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}var m=a(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),o(m,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};r(e,c,i),h=null}},h.onabort=function(){h&&(c(l("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(l("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(l(e,t,"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var v=n(502),y=(t.withCredentials||u(m))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in h&&i.forEach(f,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete f[e]:h.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),c(t),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(t,e,n){"use strict";var i=n(496);t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},function(t,e,n){"use strict";var i=n(107);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(o,(function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])})),i.forEach(a,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}));var s=r.concat(o).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return i.forEach(u,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(3)),s=i(n(14)),u=i(n(8)),l=i(n(13)),c=i(n(181)),d=i(n(506)),f=i(n(508)),h=i(n(240)),p=i(n(282)),g=i(n(281)),m=i(n(284)),v=i(n(243)),y=i(n(319)),_=i(n(283)),b=null,w=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),n=a.default("#main");p.default.shouldShow()&&n.append('<div id="chrome"></div>'),n.append('<div id="viewport"></div>'),n.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(this.getViewportModule().el()),a.default("#flippers").replaceWith(this.getFlippersModule().el()),a.default("#lightbox").replaceWith(y.default.el()),a.default("#main").append(g.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(p.default.el()),p.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView()},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},initPreviewerSelectionView:function(){return new d.default({el:".previewer-selection-header"})},initPreviewerFrameView:function(){return new f.default({el:".adaptive-layouts-frame"})},showDocument:function(){p.default.shouldShow()&&(p.default.show(),p.default.initiallyHidden()&&p.default.hide()),g.default.shouldShow()&&g.default.show(),a.default("#main").addClass("document"),this.getViewportModule().show(),this.getFlippersModule().show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},getViewportModule:function(){return v.default},getFlippersModule:function(){return m.default},showEditorSignposting:function(){},hideEditorSignposting:function(t){},showLoadingExperience:function(){b=h.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode&&!u.default.isEditor,showEditorLabel:u.default.isEditor,overlayed:!1}),u.default.isEditor&&this.showEditorSignposting()},hideLoadingExperience:function(){b?b.destroy():r.default.warn("Showing document but never showed the loading experience"),u.default.isEditor&&this.hideEditorSignposting(3e3)},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),_.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(_.default.el())}});e.default=w},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=i(n(0)),s=i(n(125)),u=i(n(510));t=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(346)),u=i(n(14)),l=i(n(55)),c=i(n(513)),d=i(n(514)),f=i(n(347)),h=i(n(349)),p=n(241),g=n(517),m=["player.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],v=function(t){h.default.call(this,t),this.options=t||{},this.hasUserConsentForAnalytics=t.hasUserConsentForAnalytics||!1,this.domain=l.default.getRootDomain(),this.path=l.default.getExperiencePath(),this.cerosUserCookiePath="/",this.environmentData=new c.default,void 0!==t.hasUserConsentForAnalytics&&(this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied()),this.userEmail=null,this.fullName=null,this.userSlug=null,this.clientVersion=10,this.userToken=null,this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:s.default.generate()},this.eventQueue=new d.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,o.default.bind((function(t){this.trackEvents(t,!1)}),this))};(v.prototype=Object.create(h.default.prototype)).constructor=v,o.default.extend(v.prototype,{applyUserConsentGranted:function(){if(this.hasUserConsentForAnalytics=!0,this.isPlayerOrPreviewer()){var t=this.getDomainTrackingData();this.setDomainTracker(t),this.setInitialReferrerInExperienceTracker()}},applyUserConsentDenied:function(){this.hasUserConsentForAnalytics=!1,this.isPlayerOrPreviewer()&&(this.userToken=null,p.AnalyticsLocalStorage.deleteDomainTracker(this.path),p.AnalyticsLocalStorage.deleteExperienceTracker(this.path))},setUser:function(t,e,n){if(!this.isPlayerOrPreviewer()){this.userEmail=t,this.fullName=e,this.userSlug=n;var i=g.StringUtils.getEmailDomain(t);i?this.setCerosUserCookie({emailDomain:i}):this.deleteCerosUserCookie()}},setInitialReferrerInExperienceTracker:function(){if(this.isPlayerOrPreviewer()&&this.options.trackInitialReferrer){var t=p.AnalyticsLocalStorage.getExperienceTracker(this.path);if(o.default.isUndefined(null==t?void 0:t.initial_referrer)||o.default.isUndefined(null==t?void 0:t.initial_referring_domain)){var e=this.environmentData.getData();t={initial_referrer:e.referrer||null,initial_referring_domain:e.referring_domain||null},this.setExperienceTracker(t)}}},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var n=o.default.extend({},{event_slug:s.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return n=o.default.omitBy(n,o.default.isNull)},track:function(t,e){var n=this.getEvent(t,e);return o.default.includes(m,n.event_name)?(this.eventQueue.addEvent(n),r.default.Deferred().resolve()):this.trackEvents([n],!0)},trackEvents:function(t,e){if(!this.isEnabled())return r.default.Deferred().resolve();if(!a.default.analyticsUrl)return r.default.Deferred().resolve();if(!t||0===t.length)return r.default.Deferred().resolve();var n=this.getDomainTrackingData();this.isPlayerOrPreviewer()&&this.setDomainTracker(n);var i=this.getCommonProps(n),o=this.getExtendedCommonProps();e&&(t=t.concat(this.eventQueue.popEvents()));var s={common:i,extended_common:o,events:t},u=a.default.analyticsUrl+"?data="+this.encodeData(s);return this._sendTrackingRequest(u,0)},getDomainTrackingData:function(){return{user_token:this.getUserToken()}},getCommonProps:function(t){var e={account_slug:a.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug};return this.isPlayerOrPreviewer()&&(e=o.default.extend(e,{user_consent:this.hasUserConsentForAnalytics})),o.default.omitBy(e,o.default.isNull)},getExtendedCommonProps:function(){var t=this.environmentData.getData();if(this.options.envPropertyList&&(t=o.default.pick(t,this.options.envPropertyList)),this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getExperienceTracker(this.path);t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:null==e?void 0:e.initial_referrer,initial_referring_domain:null==e?void 0:e.initial_referring_domain})}else t=o.default.extend(t,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,email:this.userEmail,full_name:this.fullName});return o.default.omitBy(t,o.default.isNull)},_handleTrackingError:function(t,e,n,i){var r=this;i<3?setTimeout((function(){r._sendTrackingRequest(n,i)}),3e3):3!==i||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:n}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var n=this,i=new r.default.Deferred;if(u.default.isIE9OrEarlier()&&"http:"===location.protocol){var o=new Image;o.crossOrigin="Anonymous",o.src=t+"&_="+Math.random(),o.onload=function(){i.resolve()},o.onerror=function(){i.resolve()}}else r.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).done((function(){i.resolve()})).fail((function(r,o,a){n._handleTrackingError(r,a,t,++e),i.resolve()}));return i},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},getUserToken:function(){if(this.userToken)return this.userToken;var t=null;if(this.isPlayerOrPreviewer()){var e=p.AnalyticsLocalStorage.getDomainTracker(this.path);t=e?e.user_token:null}return t||(t=this.generateUserToken()),this.userToken=t,this.userToken},generateUserToken:function(){return s.default.generate()},setDomainTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setDomainTracker(t,this.path)},setExperienceTracker:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&p.AnalyticsLocalStorage.setExperienceTracker(t,this.path)},setCerosUserCookie:function(t){f.default.setCerosUserCookie(t,this.cerosUserCookiePath,this.domain)},deleteCerosUserCookie:function(){f.default.deleteCerosUserCookie(this.cerosUserCookiePath,this.domain)},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerOrPreviewer:function(){return!a.default.isAdmin&&!a.default.isStudio}}),e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=navigator.userAgent;e.default={generate:(i=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return i()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,n,i=r,o=[],a=0;function s(t,e){var n,i=0;for(n=0;n<e.length;n++)i|=o[n]<<8*n;return t^i}for(e=0;e<i.length;e++)n=i.charCodeAt(e),o.unshift(255&n),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+i()})}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(232)),o=n(515),a=n(348);e.default={setUserConsentCookie:function(t,e,n){this.setCookie(o.CookieName.USER_CONSENT,t,e,n,!1)},setExperienceTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,n,!1)},setDomainTrackingCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,n,!1)},setCerosUserCookie:function(t,e,n){this.setCookie(o.CookieName.CEROS_USER,t,e,n,!0)},getUserConsentCookie:function(){return this.getCookieData(o.CookieName.USER_CONSENT)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCerosUserCookie:function(){return this.getCookieData(o.CookieName.CEROS_USER)},deleteUserConsentCookie:function(t,e){this.deleteCookie(o.CookieName.USER_CONSENT,t,e)},deleteExperienceTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e)},deleteDomainTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e)},deleteCerosUserCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_USER,t,e)},getCookieData:function(t){var e=r.default.get(t);if(e){var n=decodeURIComponent(e);try{return JSON.parse(n)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,n,i,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:n||"/",domain:i||"",samesite:"lax",secure:o})},deleteCookie:function(t,e,n){r.default.remove(t,{path:e||"/",domain:n||""})},parseError:function(t,e){var n=(new Date).getTime();n-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=n)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var r=i(n(0)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t.keysToSnakeCase=function(e){var n=r.default.cloneDeep(e);return n=r.default.mapKeys(n,(function(t,e){return r.default.snakeCase(e)})),r.default.mapValues(n,(function(e){return r.default.isPlainObject(e)?t.keysToSnakeCase(e):r.default.isArray(e)?r.default.map(e,t.keysToSnakeCase):e}))},t.getPropName=function(t,e){return e(Object.keys(t).reduce((function(t,e){var n=e;return t[n]=n,t}),{}))},t}();e.DataUtils=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=function(){function t(t){this.options=t||{},this.enabled=!!t.enabled}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.applyUserConsentGranted=function(){},t.prototype.applyUserConsentDenied=function(){},t.prototype.sendEvent=function(t,e){return r.default.Deferred().resolve()},t.prototype.updateScale=function(t){},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=function(){this.startTime=null};a.prototype=r.default.extend(a.prototype,o.default.Events,{EVENTS:{PERFORMANCE_MARK:"performance_mark"},MARKS:{PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},optionalProperties:{},setOptionalProperties:function(t){return this.optionalProperties=t,this},_getDateNow:function(){return new Date(Date.now())},startTracking:function(t){this.startTime=t||this._getDateNow().getTime();var e=r.default.extend({},this.optionalProperties,{performance_marker_name:"start-tracking",performance_marker_time:0});this.trigger(this.EVENTS.PERFORMANCE_MARK,e)},mark:function(t){if(null===this.startTime)return!1;var e=this._getDateNow().getTime()-this.startTime;if(e<0||e>18e5)return!1;var n=r.default.extend({},this.optionalProperties,{performance_marker_name:t,performance_marker_time:e});return this.trigger(this.EVENTS.PERFORMANCE_MARK,n),!0}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=function(){this.lastUserActivityTime=null,this.timerId=null,this.paused=!1,this.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.registerUserActivity()}),this))};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{USER_ACTIVITY_PING:"user-activity-ping"},PAGE_PING_INTERVAL_MILLIS:5e3,USER_INACTIVITY_TIMEOUT_MILLIS:3e4,pause:function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},registerUserActivity:function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},registerUserActivityIfNotPaused:function(){this.paused||this.registerUserActivity()},startTimer:function(){this.logDebug("Starting page ping timer");var t=r.default.bind((function(){this.timerId=setTimeout(r.default.bind((function(){this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.setPostEventFireData(),this.shouldStartPagePingEventTimer()?t():(this.logDebug("Stopping page pings. User is not active."),this.timerId=null)}),this),this.PAGE_PING_INTERVAL_MILLIS),this.timerStartTime=Date.now()}),this);t()},getDwellTimeEventData:function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},setPostEventFireData:function(){},shouldStartPagePingEventTimer:function(){return this.isUserActive()},isUserActive:function(){return new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},isRunning:function(){return null!==this.timerId},logDebug:function(t){console.debug(t)}}),e.default=a},function(t,e,n){"use strict";var i;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),_=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function T(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function O(t,e,n){m(A(e),(function(e){t.addEventListener(e,n,!1)}))}function E(t,e,n){m(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function P(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function C(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function x(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function I(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];x(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function M(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}}var R=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var D="ontouchstart"in r,L=void 0!==M(r,"PointerEvent"),j=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],V=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){T(t.options.enable,[t])&&n.handler(e)},this.init()}function U(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e));r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=G(i);e.timeStamp=h(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=q(s,u),e.distance=$(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y});e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=z(e.deltaX,e.deltaY);var l=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,d=i,$(d[0],d[1],V)/$(c[0],c[1],V)):1,e.rotation=a?function(t,e){return q(e[1],e[0],V)+q(t[1],t[0],V)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=W(s,u,l);i=c.x,r=c.y,n=f(c.x)>f(c.y)?c.x:c.y,o=z(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var c,d;var p=t.element;P(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function W(t,e,n){return{x:e/t||0,y:n/t||0}}function z(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function $(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function q(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(K,B,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=Q,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Z="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,B,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=X[i],o=J[t.pointerType]||t.pointerType,a="touch"==o,s=x(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function it(t,e){var n=I(t.touches),i=I(t.changedTouches);return 12&e&&(n=k(n.concat(i),"identifier",!0)),[n,i]}b(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function at(t,e){var n=I(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=I(t.changedTouches),s=[],u=this.target;if(o=n.filter((function(t){return P(t.target,u)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[k(o.concat(s),"identifier",!0),s]:void 0}b(ot,B,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){B.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(st,B,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ut.call(this,e,n);else if(r&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=M(c.style,"touchAction"),ft=void 0!==dt,ht=function(){if(!ft)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&ht[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){T(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(C(t,"none"))return"none";var e=C(t,"pan-x"),n=C(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(C(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=C(i,"none")&&!ht.none,o=C(i,"pan-y")&&!ht["pan-y"],a=C(i,"pan-x")&&!ht["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){gt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function wt(){_t.apply(this,arguments)}function Tt(){gt.apply(this,arguments),this._timer=null,this._input=null}function St(){_t.apply(this,arguments)}function Ot(){_t.apply(this,arguments)}function Et(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Pt(t,e){return(e=e||{}).recognizers=S(e.recognizers,Pt.defaults.preset),new Ct(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===x(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+mt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!T(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(Tt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),b(St,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Ot,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(Et,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Pt.VERSION="2.0.8",Pt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[wt,{enable:!1},["rotate"]],[Ot,{direction:6}],[bt,{direction:6},["swipe"]],[Et],[Et,{event:"doubletap",taps:2},["tap"]],[Tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ct(t,e){var n;this.options=u({},Pt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(L?tt:j?ot:D?st:K))(n,U),this.touchAction=new pt(this,this.options.touchAction),At(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function At(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,(function(r,o){n=M(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ct.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=x(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(A(t),(function(t){e?n[t]&&n[t].splice(x(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Pt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ct,Input:B,TouchAction:pt,TouchInput:ot,MouseInput:K,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:_t,Tap:Et,Pan:bt,Swipe:Ot,Pinch:wt,Rotate:St,Press:Tt,on:O,off:E,each:m,merge:_,extend:y,assign:u,inherit:b,bindFn:w,prefixed:M}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Pt,void 0===(i=function(){return Pt}.call(e,n,e,t))||(t.exports=i)}(window,document)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(r.default.isObject(n))for(var i in n)r.default.isFunction(n[i])?t[i]=r.default.bind(n[i],t):t[i]=n[i]}}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),o=e-i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,n=null,i=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(n=r,i=!0,!1):e>t?(n=r,!1):void 0}),this)),i?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===n&&(n=e.length),e.splice(n,0,t));var o,a=[],s=n;for(o=0;o<this.lookBehind;o++){if(-1===--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=n,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[n],a,u)},combinePageIndexArrays:function(t,e,n){for(var i=[t],o=0;o<n.length||o<e.length;)o<n.length&&i.push(n[o]),o<e.length&&i.push(e[o]),o++;return r.default.uniq(i)}},e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectInteraction=void 0;var u=n(357),l=s(n(0)),c=s(n(48)),d=n(52),f=function(t){function e(e,n){var i=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(i,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),n)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToInteraction=void 0;var a=o(n(0)),s=n(244),u=n(70),l=o(n(8)),c=o(n(48)),d=n(52),f=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scrollTargetType=e.scrollTargetType||"",i.scrollTargetScranchor=e.scrollTargetScranchor,i}return r(e,t),e.prototype.constructUrl=function(){var t=c.default.hasFeature(d.FeatureFlagName.ACCESSIBILITY);if(!l.default.isEmbedded)return t&&"top"===this.scrollTargetType?"#"+u.VIEWPORT_TOP_ID:"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=function(){function t(){r.default.extend(this,o.default.Events)}return t.prototype.on=function(t,e,n){},t.prototype.off=function(t,e,n){},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.bind=function(t,e,n){},t.prototype.unbind=function(t,e,n){},t.prototype.once=function(t,e,n){},t.prototype.listenTo=function(t,e,n){},t.prototype.listenToOnce=function(t,e,n){},t.prototype.stopListening=function(t,e,n){},t}();e.default=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPageChildView=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isComponent=function(){return this._isComponent},e}(o(n(547)).default);e.AbstractPageChildView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(3)),a=i(n(0)),s=i(n(13)),u=i(n(551)),l=i(n(353)),c=i(n(552)),d=n(290),f=i(n(553)),h="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.useSrOnlyClassInsteadDisplayChange=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(h,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&(this.useSrOnlyClassInsteadDisplayChange?this.$el.addClass("sr-only"):this.$el.hide()),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(h).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return f.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop},keepVisibleForScreenReaders:function(){this.useSrOnlyClassInsteadDisplayChange=!0},restoreHideBehavior:function(){this.useSrOnlyClassInsteadDisplayChange=!1}}),e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleBoundaries=void 0;var i=function(){function t(t,e,n,i){this.hasXBoundaries=!1,this.topY=t,this.bottomY=e,null!=n&&null!=i&&(this.hasXBoundaries=!0,this.leftX=n,this.rightX=i)}return t.prototype.getEntryAnimationVisibleBoundaries=function(e,n){var i=this.topY,r=this.bottomY,o=this.leftX,a=this.rightX;return i>0&&(i+=50),r<e&&(r-=50),this.hasXBoundaries&&(o>0&&(o+=50),a<n&&(a-=50)),new t(i,r,o,a)},t}();e.VisibleBoundaries=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FocusArbiter=void 0;var s=a(n(3)),u=a(n(214)),l=o(n(246)),c=n(70),d=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var n=this.pageView.model.constructor.findTopmostFolderContent(e);if(n)return this.pageView.$pageContainer.find("#"+l.escapeComponentId(n.id))}return s.default()},t.prepareTargetOutlineForFocus=function(e){return("keyboard"!==u.default.ask()||!e.is("button, a")&&isNaN(Number(e.attr("tabindex"))))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var n=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),n?e.attr("aria-hidden",n):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(e){if(e){var n,i="#"+l.escapeComponentId(e);(n=i==="#"+c.VIEWPORT_TOP_ID?s.default(i):this.pageView.$pageContainer.find(i)).length||(n=this.searchFoldersForTarget(e)),n.length&&(n=this.prepareTargetOpacityForFocus(n),n=t.prepareTargetOutlineForFocus(n),(n=this.prepareTargetTabIndexForFocus(n)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectState=void 0;var i=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.deltaX&&0!==this.config.deltaX||void 0!==this.config.deltaY&&0!==this.config.deltaY},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return(this.hasPositionChange()||void 0!==this.config.deltaX2&&0!==this.config.deltaX2||void 0!==this.config.deltaY2&&0!==this.config.deltaY2)&&(this.config.deltaX!==this.config.deltaX2||this.config.deltaY!==this.config.deltaY2)},t.prototype.hasLineHeightChange=function(){return void 0!==this.config.leading},t.prototype.hasPathChange=function(){return void 0!==this.config.path},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e),lineHeight:this.compareProperty(t.prototype.hasLineHeightChange,e),path:this.compareProperty(t.prototype.hasPathChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t.prototype.getChangedPropertiesToTransition=function(t){var e=[];return t.background&&e.push("stop-color","background-color","background-image"),t.border&&e.push("border-width","border-color","border-style","border-radius","border"),t.dimension&&e.push("width","height","transform"),(t.effects||t.shadow)&&e.push("filter","-webkit-filter"),(t.flip||t.rotation)&&e.push("transform"),t.font&&e.push("color","font-weight","font-style","font-size"),t.justify&&e.push("text-align"),t.opacity&&e.push("opacity"),(t.position||t.border)&&e.push("left","top"),t.shadow&&e.push("box-shadow"),t.stroke&&e.push("stroke","stroke-width"),t.lineHeight&&e.push("line-height"),(t.path||t.linePosition)&&e.push("d"),e.join(", ")},t}();e.ObjectState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(108);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){o.AbstractComponentView.prototype.onAttach.call(this),this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var n=this.getModule(),i=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.SUBMIT);n.trigger(n.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(i)})),r.default.isEmpty(i)||r.default.each(i,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(3)),a=i(n(0)),s=n(367),u=i(n(48)),l=n(52),c=n(573),d=n(155);e.default=s.AbstractImageComponentView.extend({type:"image",image:null,srcOverride:null,canvasImage:null,dimensionsOverride:!1,initialize:function(){this.imageReadyPromises={},s.AbstractImageComponentView.prototype.initialize.call(this)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},getApplyBorderTarget:function(){return this.$innerElement},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.setSrc(t,e),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$innerElement.on("load",a.default.bind((function(){this.addAltText(this.$innerElement),e.resolve()}),this)),this.$innerElement.on("error",a.default.bind((function(){this.addAltText(this.$innerElement)}),this)),this.setSrc(t,e),e.promise())},shouldRenderMaskOnCanvas:function(){return 0!==this.options.rotation||1!==this.options.opacity||this.isFlipped()},setSrc:function(t,e){var n=this;this.isMaskImage()?this.shouldRenderMaskOnCanvas()?this.getAlphaMaskCanvas().renderAndReturnMask(t,this.options).then((function(t){n.applyAsMask(t,e)})):this.applyAsMask(t,e):this.$innerElement.attr("src",t)},getAlphaMaskCanvas:function(){return this.canvasImage||(this.canvasImage=new c.AlphaMaskCanvasImage),this.canvasImage},applyAsMask:function(t,e){var n="url("+t+")",i=this.options,r=i.allHeight,o={"-webkit-mask-image":n,"mask-image":n,"-webkit-mask-repeat":"no-repeat","-webkit-mask-size":i.allWidth+"px "+r+"px"};this.$el.css(o),this._applyPosition(),this._applyDimensions(),e.resolve()},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},applyTransitionToTarget:function(t,e){var n=this.getApplyShadowTarget();n.css("transition",t),n.css("transition-property",e||"none"),this.$el.css("transition",t),this.$el.css("transition-property",e||"none"),this.$innerElement.css("transition",t),this.$innerElement.css("transition-property",e||"none"),s.AbstractImageComponentView.prototype.applyTransitionToTarget.call(this,t,e)},_applyRotation:function(t){this.isMaskImage()||((t=a.default.isNil(t)?this.options.rotation:t)||0===t)&&d.CssUtils.setTransformToElement(this.$el,{rotate:t})}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageComponentView=void 0;var a=o(n(0)),s=o(n(3)),u=o(n(14)),l=n(108),c=n(155),d=o(n(8)),f=o(n(368)),h=n(290),p=n(144),g=function(t){function e(e){var n=t.call(this,e)||this;return n.effects=e.effects,n.shadow=e.shadow,n.imageLoader=e.imageLoader,n.blendingMode=e.blendingMode,n.dimensionsOverride=!1,n.initialEffectsApplied=!1,n.$innerElement=null,n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),d.default.previewMode&&(this.mediaLoadingScreen=new f.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},e.prototype.isBaseMaskObject=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.isInMask=function(){return!!this.options.maskInfo},e.prototype.render=function(){if(a.default.isNull(this.$innerElement)&&(this.$innerElement=s.default("<img/>"),this.$innerElement.css("display","block"),this.hasShadow(this.options.shadow)?u.default.isIos()&&this.options.shadow.blur&&c.CssUtils.setTransformToElement(this.$innerElement,{translateZ:0}):(u.default.isDesktopSafari()&&h.WebkitUtils.hardwareAccelerateTransform(this.$innerElement),u.default.isIos()&&this.options.fixedPosition&&h.WebkitUtils.hardwareAccelerateTransform(this.$innerElement)),this.isMaskImage()||this.$el.append(this.$innerElement)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$innerElement,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),t.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),d.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),!a.default.isNil(this.effects)){var e=!a.default.isEqual(this.effects,this.options.effects);e&&(this.effects=this.options.effects),this._applyImageEffects(this.effects,this.shadow,e)}return a.default.isNil(this.blendingMode)||this._applyBlendingMode(this.blendingMode),this},e.prototype.callObjectStateInvoker=function(t,e){p.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e)},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype._applyImageEffects=function(t,e,n){var i=this;e||(e=this.shadow);var r=c.CssUtils.convertShadowObjectToCssFilter(e,0);t=a.default.isNil(t)?this.effects:t;var o=this.getApplyShadowTarget(),s=o.css("filter"),u="";if(s&&!u){var l=s.match(/drop-shadow\(.*\)/g);l&&(u=l[0])}if(!a.default.isNil(t)){var d=c.CssUtils.computeEffect(t,n);this.applyDefaultEffects(o,u,n,this.initialEffectsApplied),a.default.defer((function(){return i.setFilter(o,d,r)}))}},e.prototype.applyDefaultEffects=function(t,e,n,i){if(n&&!i){var r=c.CssUtils.getCurrentEffects(t),o=c.CssUtils.computeEffect(r,!0);this.setFilter(t,o,e),this.initialEffectsApplied=!0}},e.prototype.setFilter=function(t,e,n){t.css("filter",e+" "+n),t.css("-webkit-filter",e+" "+n)},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,n=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;this.isMaskImage()||c.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:n}})},e.prototype._applyBlendingMode=function(t){if(t=a.default.isNil(t)?this.blendingMode:t,this.isBaseMaskObject()){var e=this.getMaskGroup();if(e.length>0&&e[0].isAlphaMask())e[0].getMaskView().$el.css("mix-blend-mode",t);else this.$innerElement.parent().css("mix-blend-mode",t)}else this.$innerElement.parent().css("mix-blend-mode",t)},e.prototype.hasBlendingMode=function(){return!a.default.isNil(this.blendingMode)},e.prototype._applyDimensions=function(e,n){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,n)},e.prototype._applyPosition=function(e,n,i){this.isMaskImage()?t.prototype._applyPosition.call(this,0,0):t.prototype._applyPosition.call(this,e,n,i)},e.prototype.getApplyDimensionsTarget=function(){return this.isMaskImage()?this.$el:this.$innerElement},e.prototype.getApplyShadowTarget=function(){return this.$innerElement},e.prototype.getHoverTarget=function(){return this.isInMask()?this.getMaskGroup()[0].$el:this.$innerElement},e.prototype.getMaskGroup=function(){var t;return this.parentViews.length>0&&(null===(t=this.parentViews[0].parentViews)||void 0===t?void 0:t.length)>0?this.parentViews[0].parentViews:this.parentViews},e.prototype.getAnimateElements=function(t){return t.find("animate, animateTransform")},e.prototype.getSvgChildren=function(){var t;return null===(t=this.$innerElement)||void 0===t?void 0:t.find("path, polygon, circle, rect, ellipse")},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.isBaseMaskObject()||this.getPointerEventsTarget().css("pointer-events","auto")},e}(l.AbstractComponentView);e.AbstractImageComponentView=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(61)),o=i(n(116)),a=i(n(572));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformableGroupView=void 0;var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e.prototype.getCurrentHighestZIndex=function(){var e,n=null===(e=this.childViews)||void 0===e?void 0:e.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})),i=t.prototype.getCurrentHighestZIndex.call(this),r=(null==n?void 0:n.getCurrentHighestZIndex())||-1;return i>r?i:r},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(o(n(593)).default);e.AbstractTransformableGroupView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=n(370);e.default=s.AbstractTransformableGroupView.extend({initialize:function(){s.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},render:function(){s.AbstractTransformableGroupView.prototype.render.call(this),this.renderSROnlyText()},renderSROnlyText:function(){if(this.hasAccessibilityFeature){if(a.default.previewMode){var t=this.$el.children(":first");t.hasClass("group-sr-only-text")&&t.remove()}if(this.options.screenReaderOnlyText){var e=r.default("<p>").addClass("sr-only group-sr-only-text").text(this.options.screenReaderOnlyText);this.$el.prepend(e)}}},addParentView:function(t){s.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),n=this.$el.css("top"),i=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",n),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",i+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeComponentView=void 0;var f=d(n(61)),h=d(n(373)),p=n(248),g=n(217),m=d(n(14)),v=u(n(93)),y=n(294),_=n(144),b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e.maxPoints=0,e.currentPath="",e}return r(e,t),e.prototype.renderShape=function(t){var e,n,i,r=this;if(void 0===t&&(t={}),this.options.path){var a=this.options.path.length,s=(null===(e=this.options.states)||void 0===e?void 0:e.length)?this.options.states.reduce((function(t,e){var n,i;return((null===(n=t.config.path)||void 0===n?void 0:n.length)||0)>((null===(i=e.config.path)||void 0===i?void 0:i.length)||0)?t:e})):void 0;this.maxPoints=Math.max(a,(null===(n=null==s?void 0:s.config.path)||void 0===n?void 0:n.length)||0),this.options.path=this.forcePathToUseMaxPoints(this.options.path,this.options.isClosedPath),null===(i=this.options.states)||void 0===i||i.forEach((function(t){t.config.path&&(t.config.path=r.forcePathToUseMaxPoints(t.config.path,t.config.isClosedPath))}))}var u=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return this.currentPath=u,f.default.render(h.default,o({path:u},t))},e.prototype.renderShapeHoverArea=function(){var t=g.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"path",t),e},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.applyPath=function(t,e,n){void 0===t&&(t=this.options.path),void 0===e&&(e=this.options.isClosedPath),void 0===n&&(n=this.options.transition);var i=g.CustomPathSVGUtil.generateCurveCoords(t,e);if(m.default.isBrowserChrome()||m.default.edge)this.getShapeElement().css("d","path('"+i+"')");else{if(n){var r=this.getShapeElement(),o=r[0].animatedPathSegList;o&&(this.currentPath=g.CustomPathSVGUtil.generateCurveCoordFromPathSegList(o));var a=y.AnimateSVGUtil.animatePointsForSingle([this.currentPath,i]),s=y.AnimateSVGUtil.createAnimationElement("d",!1,a,y.AnimateSVGUtil.getSplineStringFromEasing(n.easing));y.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),r,[s],n)}else this.getShapeElement().attr("d",i);this.currentPath=i}},e.prototype.forcePathToUseMaxPoints=function(t,e){var n=this.maxPoints-t.length;if(0===n)return t;for(var i=c(t),r=t.length,o=n/r%1,a=Math.floor(n/r),s=function(t){var n=t===i.length,r=n&&e,o=i[t-1],a=n?r?i[0]:o:i[t],s=v.splitBezierCurveAtPoint(o,a,.5),u=[s.left,s.center];n||u.push(s.right),i.splice.apply(i,c([t-1,n?3:2],u)),r&&i.splice(0,1,s.right)},u=0,l=0,d=1;d<=r;d++){if((l+=o)>=.5)s(u+d),u++,l--;for(var f=0;f<a;f++){s(u+d),u++}if(d===r&&u<n)s(u+d),u++}return i},e.prototype.callObjectStateInvoker=function(t,e){_.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(p.AbstractCustomPathComponentView);e.CustomShapeComponentView=b},function(t,e,n){"use strict";n.r(e),e.default='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  transform="{{transform}}"\n  >\n  </path>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,function(t){t.ease="ease",t.linear="linear",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out"}(e.Easing||(e.Easing={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=void 0;var i={"text-component":["title","textContent","editable"],"text-plus-component":["title","textContent","editable","listDefinitions"]};e.get=function(t){return i[t]||[]},e.default={get:e.get}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusFamily=void 0;var o=n(193),a=n(85),s=n(377),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isUploaded=function(){return this.api===a.FontConstants.FONT_PLUS_UPLOADED_API_ID},e.prototype.createVariant=function(t,e){return void 0===e&&(e={}),new s.FontPlusVariant(t,e)},e}(o.FontFamily);e.FontPlusFamily=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusVariant=void 0;var a=n(297),s=o(n(3)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getMetricsUrl=function(){return s.default.Deferred().resolve("")},e.prototype.getMetrics=function(){return s.default.Deferred().resolve({})},e}(a.FontVariant);e.FontPlusVariant=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(24)),s=i(n(180)),u=i(n(296)),l=n(183),c=function(t){var e=this;this.initVariants=function(t){e.variants=[];var n=function(t){var n=e.getVariant(t);e.variants.push(n)},i=function(t,n){r.default.each(n,(function(n){var i=r.default.extend({},t,n),o=e.getVariant(i);e.variants.push(o)}))};t.defaultSpan&&n(t.defaultSpan),i(t.defaultSpan,t.textSpans),r.default.each(t.states,r.default.bind((function(e){var o=e.config||e;o.defaultSpan&&n(r.default.extend({},t.defaultSpan,o.defaultSpan)),o.textSpans&&i(o.defaultSpan||t.defaultSpan,o.textSpans)}),e)),e.variants=r.default.uniq(e.variants),e.resources=null},this.initVariants(t)};r.default.extend(c.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger("variant-loaded",t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=e}else{var n=t.getFontFamily().getFamilyName()+":"+l.FontUtil.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),i=s.default.addGoogleWebFont(n);i.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),i.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=i}}),this)))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},reload:function(t){this.initVariants(t),this.loadNow()},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(n){t.call(e,n)})),this.on("variant-loaded",t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on("variant-failed",t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&(r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state())}),this))}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkProcessor=void 0;var s=a(n(3)),u=a(n(0)),l=n(126),c=a(n(141)),d=n(380),f=n(301),h=n(287),p=n(246),g=n(20),m=function(){function t(t,e){void 0===e&&(e=[]),this.textComponent=t,this.allTextSpans=e}return t.prototype.decorateLinks=function(t,e){for(var n=0;n<this.allTextSpans.length;++n){if(this.allTextSpans[n].hyperlink&&!this.isLinkContinuation(n)){var i=this.compileLinkSpans(n),o=this.prepareLinkSplice(i,n,e),a=t.splice.apply(t,r(o));t.splice(o[0],0,this.decorateLink(a.join(""),i[0]))}}return t.join("")},t.prototype.decorateLink=function(t,e){var n=this.interactionForLink(e.hyperlink),i=n.domTagOverride;if(!i)return t;var r=s.default("<"+i.tagName+">",i.attributes).addClass("span-at-"+e.index).addClass("inline-link").html(t);return this.activateClickEvents(n,e),this.activateHoverEvents(e),r.get(0).outerHTML},t.prototype.activateClickEvents=function(t,e){var n=this,i="#"+p.escapeComponentId(this.textComponent.options.id)+" .span-at-"+e.index;this.textComponent.options.pageView.$pageContainer.off("click",i).on({click:function(e){e.preventDefault();var i=n.textComponent.addComponentAndClickDataToEvent({},e);t.triggerAction(i),c.default.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_CLICKED,i),n.textComponent.module.trigger(n.textComponent.module.publishedEvents.PAGE_COMPONENT_INTERACTION,i)}},i)},t.prototype.activateHoverEvents=function(t){var e="#"+p.escapeComponentId(this.textComponent.options.id)+" .span-at-"+t.index;this.textComponent.options.pageView.$pageContainer.off("hover",e).on({mouseenter:function(t){t.preventDefault();s.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=s.default(e);if(!n.attr("data-original-color")){var i=n.css("color"),r=h.ColorUtils.isLight(i)?h.ColorUtils.darken(i,35):h.ColorUtils.lighten(i,35);n.attr("data-original-color",i),n.css("color",r)}}))},mouseleave:function(t){t.preventDefault(),s.default(t.target).parent(".inline-link").find("span").each((function(t,e){var n=s.default(e);if(n.attr("data-original-color")){var i=n.attr("data-original-color");n.css("color",i),n.removeAttr("data-original-color")}}))}},e)},t.prototype.interactionForLink=function(t){var e={trigger:"click"};return t.type===f.InlineLinkType.PAGE?"next"===t.location||"prev"===t.location?"next"===t.location?e.action=g.ActionTypes.nextPage:e.action=g.ActionTypes.prevPage:(e.action=g.ActionTypes.gotoPage,e.pageTarget=parseInt(t.location)):t.type===f.InlineLinkType.POSITION?(e.action=g.ActionTypes.scrollTo,"top"===t.location||"bottom"===t.location?e.scrollTargetType=t.location:(e.scrollTargetType="scranchor",e.scrollTargetScranchor=t.location)):t.type===f.InlineLinkType.OBJECT?(e.action=g.ActionTypes.scrollToObject,e.layerTargets=[this.textComponent.options.parentSmartgroup?this.textComponent.options.parentSmartgroup.id+"|"+t.location:t.location]):(e.action=g.ActionTypes.url,e.url=t.location,e.urlOpenInNewWindow=t.newTab),new(d.InteractionFactory.constructorFor(e.action))(e,this.textComponent.options.pageView)},t.prototype.isLinkContinuation=function(t){if(this.isLoneNewLineAfterLink(this.allTextSpans[t])&&this.allTextSpans[t-1]&&this.allTextSpans[t-1].hyperlink)return!0;var e=1;return this.isLoneNewLineAfterLink(this.allTextSpans[t-1])&&++e,!!this.allTextSpans[t].hyperlink&&u.default.isEqual(this.allTextSpans[t].hyperlink,u.default.get(this.allTextSpans[t-e],"hyperlink"))},t.prototype.compileLinkSpans=function(t){var e=[],n=u.default.get(this.allTextSpans,t+".hyperlink");if(!n)return e;var i=t;do{e.push(this.allTextSpans[i]),this.isLoneNewLineAfterLink(this.allTextSpans[i+1])&&++i}while(u.default.isEqual(n,u.default.get(this.allTextSpans[++i],"hyperlink")));return e},t.prototype.prepareLinkSplice=function(t,e,n){var i;if(n===l.TextRenderMode.PARAGRAPH){for(var r=0,o=0;o<t.length-1;++o)t[o].index+t[o].length!==t[o+1].index&&++r;i=[e,t.length+r]}else i=n===l.TextRenderMode.LINE?[e,t.length]:this.prepareCharacterModeLinkSplice(t);return i.concat(u.default.fill(new Array(i[1]-1),""))},t.prototype.prepareCharacterModeLinkSplice=function(t){var e=this,n=t.reduce((function(t,e){return t+e.length}),0),i=this.countUnrenderedWhiteSpaceInRange(0,t[0].index),r=t.reduce((function(t,n){return e.countUnrenderedWhiteSpaceInRange(n.index,n.length)+t}),0),o=t[0].index-i;return[o,o+n-r-o]},t.prototype.countUnrenderedWhiteSpaceInRange=function(t,e){var n,i,r=u.default.get(this.textComponent.glyphMetrics,"lines")||[],a=/^\s*$/g,s=0,l=0;try{for(var c=o(r),d=c.next();!d.done;d=c.next()){var f=d.value;if(!((s+=f.length)<t)){var h=u.default.map(f,"ch").join(""),p=Math.max(t,s-f.length),g=Math.min(t+e,s);if(h.match(a)?l+=g-Math.max(t,p):l+=this.countNewLinesInRange(p,g-p),s>=t+e)break}}}catch(t){n={error:t}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l},t.prototype.countNewLinesInRange=function(t,e){return this.textComponent.options.textContent.substr(t,e).split("\n").length-1},t.prototype.isLoneNewLineAfterLink=function(t){return!!t&&!t.hyperlink&&1===t.length&&"\n"===this.textComponent.options.textContent.charAt(t.index)},t}();e.InlineLinkProcessor=m},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFactory=void 0;var r=n(0),o=n(606),a=n(607),s=n(608),u=n(609),l=n(610),c=n(611),d=n(612),f=n(613),h=n(357),p=n(614),g=n(615),m=n(616),v=n(617),y=n(618),_=n(619),b=n(620),w=n(621),T=n(622),S=n(623),O=n(624),E=n(625),P=n(626),C=n(356),A=n(627),x=n(628),I=n(629),k=n(20),M=n(631),R=n(632),N=function(){function t(){}return t.constructorFor=function(t){switch(t){case k.ActionTypes.nextPage:return a.NextPageInteraction;case k.ActionTypes.prevPage:return p.PreviousPageInteraction;case k.ActionTypes.gotoPage:return f.GoToPageInteraction;case k.ActionTypes.url:return o.GoToURLInteraction;case k.ActionTypes.scrollTo:return h.ScrollToInteraction;case k.ActionTypes.scrollToObject:return C.ScrollToObjectInteraction;case k.ActionTypes.changeState:return I.ChangeStateInteraction;case k.ActionTypes.showOnly:return w.ShowComponentInteraction;case k.ActionTypes.hideOnly:return b.HideComponentInteraction;case k.ActionTypes.toggleCanvasTargets:return m.ToggleLayersInteraction;case k.ActionTypes.enableDisablePage:return T.PageVisibilityInteraction;case k.ActionTypes.lightbox:return S.LightboxVisibilityInteraction;case k.ActionTypes.product:return O.ProductPanelVisibilityInteraction;case k.ActionTypes.shoppingCart:return E.ShoppingCartVisibilityInteraction;case k.ActionTypes.fullscreen:return P.FullScreenInteraction;case k.ActionTypes.showCanvasTargetsOnHover:case k.ActionTypes.showCanvasTargets:case k.ActionTypes.showAndStayVisibleCanvasTargets:return _.ShowLayersInteraction;case k.ActionTypes.hideCanvasTargets:case k.ActionTypes.hideAndStayHiddenCanvasTargets:return g.HideLayersInteraction;case k.ActionTypes.cycleNext:return y.CycleNextInteraction;case k.ActionTypes.cyclePrevious:return v.CyclePreviousInteraction;case k.ActionTypes.email:return u.ShareEmailInteraction;case k.ActionTypes.facebook:return l.ShareFacebookInteraction;case k.ActionTypes.twitter:return d.ShareTwitterInteraction;case k.ActionTypes.pinterest:return c.SharePinterestInteraction;case k.ActionTypes.linkedin:return s.ShareLinkedInInteraction;case k.ActionTypes.toggleReducedMotion:return A.ToggleReducedMotionInteraction;case k.ActionTypes.bringToFront:return x.BringToFrontInteraction;case k.ActionTypes.resetPositions:return R.ResetPositionsInteraction;default:return M.InvalidInteraction}},t.initializeInteractions=function(e,n,o){var a,s,u=[];if(!r.get(e,"length"))return u;var l=e.some((function(t){return"click"===t.trigger&&"bring-to-front"===t.action})),c=e.some((function(t){return"click"===t.trigger&&"change-state"===t.action}));try{for(var d=i(e),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.trigger&&h.action){h.hasSiblingThatIsABringToFrontClickInteraction=l,h.hasSiblingThatIsAChangeStateClickInteraction=c;var p=new(t.constructorFor(h.action))(h,n);p.setOptionalParameters(o),u.push(p)}}}catch(t){a={error:t}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}return u},t}();e.InteractionFactory=N},function(t,e,n){"use strict";var i,r;Object.defineProperty(e,"__esModule",{value:!0}),e.labelsForBringToFrontReverseOptions=e.BringToFrontReverseOption=void 0,function(t){t.unhover="on-unhover",t.resetOthers="reset-others",t.resetPositionsAndStates="reset-positions-and-states",t.resetPositions="reset-positions"}(r=e.BringToFrontReverseOption||(e.BringToFrontReverseOption={})),e.labelsForBringToFrontReverseOptions=((i={})[r.unhover]="On unhover",i[r.resetOthers]="Reset Others",i[r.resetPositionsAndStates]="Object Positions & States",i[r.resetPositions]="Object Positions Only",i)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var i=n(82),r=n(2),o=n.n(r),a=n(75);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function s(t,e,n={}){if(e.isCollapsed)return;const r=e.getFirstRange();if("$graveyard"==r.root.rootName)return;const o=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();if(i.start.parent==i.end.parent)return!1;return t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),l(t,t.createPositionAt(n,0),e)}(t,e);const[a,s]=function(t){const e=t.root.document.model,n=t.start;let r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){const n=function(t){const e=t.parent,n=e.root.document.model.schema,i=e.getAncestors({parentFirst:!0,includeSelf:!0});for(const t of i){if(n.isLimit(t))return null;if(n.isBlock(t))return t}}(r);if(n&&r.isTouching(e.createPositionAt(n,0))){const n=e.createSelection(t);e.modifySelection(n,{direction:"backward"});const i=n.getLastPosition(),o=e.createRange(i,r);e.hasContent(o,{ignoreMarkers:!0})||(r=i)}}return[i.a.fromPosition(n,"toPrevious"),i.a.fromPosition(r,"toNext")]}(r);a.isTouching(s)||t.remove(t.createRange(a,s)),n.leaveUnmerged||(!function(t,e,n){const i=t.model;if(!u(t.model.schema,e,n))return;const[r,o]=function(t,e){const n=t.getAncestors(),i=e.getAncestors();let r=0;for(;n[r]&&n[r]==i[r];)r++;return[n[r],i[r]]}(e,n);if(!r||!o)return;!i.hasContent(r,{ignoreMarkers:!0})&&i.hasContent(o,{ignoreMarkers:!0})?function t(e,n,i,r){const o=n.parent,a=i.parent;if(o==r||a==r)return;n=e.createPositionAfter(o),(i=e.createPositionBefore(a)).isEqual(n)||e.insert(o,i);for(;n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}if(i=e.createPositionBefore(a),function(t,e){const n=e.nodeBefore,i=e.nodeAfter;n.name!=i.name&&t.rename(n,i.name);t.clearAttributes(n),t.setAttributes(Object.fromEntries(i.getAttributes()),n),t.merge(e)}(e,i),!u(e.model.schema,n,i))return;t(e,n,i,r)}(t,e,n,r.parent):function t(e,n,i,r){const o=n.parent,a=i.parent;if(o==r||a==r)return;n=e.createPositionAfter(o),(i=e.createPositionBefore(a)).isEqual(n)||e.insert(a,n);e.merge(n);for(;i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}if(!u(e.model.schema,n,i))return;t(e,n,i,r)}(t,e,n,r.parent)}(t,a,s),o.removeDisallowedAttributes(a.parent.getChildren(),t)),c(t,e,a),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(o,a)&&l(t,a,e),a.detach(),s.detach()})}function u(t,e,n){const i=e.parent,r=n.parent;return i!=r&&(!t.isLimit(i)&&!t.isLimit(r)&&function(t,e,n){const i=new o.a(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(e,n,t))}function l(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),c(t,n,t.createPositionAt(i,0))}function c(t,e,n){e instanceof a.a?t.setSelection(n):e.setTo(n)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n(384)),u=i(n(385)),l=i(n(322)),c=i(n(386)),d=i(n(637)),f=i(n(305)),h=i(n(306)),p=i(n(307)),g=i(n(644)),m=i(n(35)),v=i(n(9)),y=i(n(1)),_=n(223),b=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this._context=n.context||new s.default({language:n.language}),this._context._addEditor(this,!n.context);var i=Array.from(this.constructor.builtinPlugins||[]);this.config=new u.default(n,this.constructor.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new c.default(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new d.default,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new p.default;var r=new _.StylesProcessor;this.data=new f.default(this.model,r),this.editing=new l.default(this.model,r),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new h.default([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new g.default(this),this.keystrokes.listenTo(this.editing.view.document)}var e,n,i;return e=t,(n=[{key:"initPlugins",value:function(){var t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[],r=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(i),n,r)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((function(e){return t.once("ready",e)}))),e.then((function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()})).then((function(){return t.plugins.destroy()})).then((function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()})).then((function(){return t._context._removeEditor(t)}))}},{key:"execute",value:function(){try{var t;return(t=this.commands).execute.apply(t,arguments)}catch(t){y.default.rethrowUnexpectedError(t,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=b,v.default(b,m.default)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(n(385)),l=i(n(100)),c=i(n(386)),d=i(n(325)),f=i(n(1)),h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=new u.default(e,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new c.default(this,n);var i=this.config.get("language")||{};this.locale=new d.default({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new l.default,this._contextOwner=null}var e,n,i;return e=t,i=[{key:"create",value:function(t){var e=this;return new Promise((function(n){var i=new e(t);n(i.initPlugins().then((function(){return i})))}))}}],(n=[{key:"initPlugins",value:function(){var t,e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[],i=o(e.concat(n));try{for(i.s();!(t=i.n()).done;){var r=t.value;if("function"!=typeof r)throw new f.default("context-initplugins-constructor-only",null,{Plugin:r});if(!0!==r.isContextPlugin)throw new f.default("context-initplugins-invalid-plugin",null,{Plugin:r})}}catch(t){i.e(t)}finally{i.f()}return this.plugins.init(e,[],n)}},{key:"destroy",value:function(){var t=this;return Promise.all(Array.from(this.editors,(function(t){return t.destroy()}))).then((function(){return t.plugins.destroy()}))}},{key:"_addEditor",value:function(t,e){if(this._contextOwner)throw new f.default("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}},{key:"_removeEditor",value:function(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var t,e={},n=o(this.config.names());try{for(n.s();!(t=n.n()).done;){var i=t.value;["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i))}}catch(t){n.e(t)}finally{n.f()}return e}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=h},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));var i=n(64),r=n(226),o=n(188);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a{constructor(t,e){this._config={},e&&this.define(s(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,r=!1){if(Object(i.a)(e))return void this._setObjectToTarget(t,e,r);const o=e.split(".");e=o.pop();for(const e of o)Object(i.a)(t[e])||(t[e]={}),t=t[e];if(Object(i.a)(n))return Object(i.a)(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!Object(i.a)(t[e])){t=null;break}t=t[e]}return t?s(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}function s(t){return Object(r.a)(t,u)}function u(t){return Object(o.a)(t)?t:void 0}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function p(){}function g(){}function m(){}var v={};c(v,s,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==e&&n.call(_,s)&&(v=_);var b=m.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,u)}))}u(l.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function S(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=f(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return g.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new T(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,l,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){l=!0,r=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(1)),p=i(n(15)),g=i(n(9)),m=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];d(this,e),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var r,o=u(n);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.pluginName&&this._availablePlugins.set(a.pluginName,a)}}catch(t){o.e(t)}finally{o.f()}this._contextPlugins=new Map;var l,c=u(i);try{for(c.s();!(l=c.n()).done;){var f=s(l.value,2),h=f[0],p=f[1];this._contextPlugins.set(h,p),this._contextPlugins.set(p,h),h.pluginName&&this._availablePlugins.set(h.pluginName,h)}}catch(t){c.e(t)}finally{c.f()}}var n,i,r;return n=e,(i=[{key:t,value:a().mark((function t(){var e,n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=u(this._plugins),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=10;break}if("function"!=typeof(i=n.value)[0]){t.next=8;break}return t.next=8,i;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"get",value:function(t){var e=this._plugins.get(t);if(!e){var n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new h.default("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}},{key:"has",value:function(t){return this._plugins.has(t)}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=this,r=this._context;g(t),v(t);var a=t.filter((function(t){return!f(t,e)})),s=o(m(a));S(s,n);var l=w(s);return T(l,"init").then((function(){return T(l,"afterInit")})).then((function(){return l}));function c(t){return"function"==typeof t}function d(t){return c(t)&&t.isContextPlugin}function f(t,e){return e.some((function(e){return e===t||p(t)===e||p(e)===t}))}function p(t){return c(t)?t.pluginName||t.name:t}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;t.forEach((function(t){c(t)&&(e.has(t)||(e.add(t),t.pluginName&&!i._availablePlugins.has(t.pluginName)&&i._availablePlugins.set(t.pluginName,t),t.requires&&g(t.requires,e)))}))}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.map((function(t){return c(t)?t:i._availablePlugins.get(t)})).reduce((function(t,n){return e.has(n)?t:(e.add(n),n.requires&&(v(n.requires,n),m(n.requires,e).forEach((function(e){return t.add(e)}))),t.add(n))}),new Set)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.map((function(t){return c(t)?t:i._availablePlugins.get(t)||t})).forEach((function(t){y(t,e),_(t,e),b(t,e)}))}function y(t,e){if(!c(t)){if(e)throw new h.default("plugincollection-soft-required",r,{missingPlugin:t,requiredBy:p(e)});throw new h.default("plugincollection-plugin-not-found",r,{plugin:t})}}function _(t,e){if(d(e)&&!d(t))throw new h.default("plugincollection-context-required",r,{plugin:p(t),requiredBy:p(e)})}function b(t,n){if(n&&f(t,e))throw new h.default("plugincollection-required",r,{plugin:p(t),requiredBy:p(n)})}function w(t){return t.map((function(t){var e=i._contextPlugins.get(t)||new t(r);return i._add(t,e),e}))}function T(t,e){return t.reduce((function(t,n){return n[e]?i._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t}),Promise.resolve())}function S(t,e){var n,r=u(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("function"!=typeof o)throw new h.default("plugincollection-replace-plugin-invalid-type",null,{pluginItem:o});var a=o.pluginName;if(!a)throw new h.default("plugincollection-replace-plugin-missing-name",null,{pluginItem:o});if(o.requires&&o.requires.length)throw new h.default("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:a});var s=i._availablePlugins.get(a);if(!s)throw new h.default("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:a});var l=t.indexOf(s);if(-1===l){if(i._contextPlugins.has(s))return;throw new h.default("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:a})}if(s.requires&&s.requires.length)throw new h.default("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:a});t.splice(l,1,o),i._availablePlugins.set(a,o)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"destroy",value:function(){var t,e=[],n=u(this);try{for(n.s();!(t=n.n()).done;){var i=s(t.value,2)[1];"function"!=typeof i.destroy||this._contextPlugins.has(i)||e.push(i.destroy())}}catch(t){n.e(t)}finally{n.f()}return Promise.all(e)}},{key:"_add",value:function(t,e){this._plugins.set(t,e);var n=t.pluginName;if(n){if(this._plugins.has(n))throw new h.default("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}])&&f(n.prototype,i),r&&f(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(Symbol.iterator);e.default=m,g.default(m,p.default)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n(35)),s=i(n(9)),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e}var e,n,i;return e=t,i=[{key:"isContextPlugin",get:function(){return!0}}],(n=[{key:"destroy",value:function(){this.stopListening()}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=u,s.default(u,a.default)},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.styleStringToObject=e.removeBodyChild=e.appendBodyChild=e.getElementHeight=e.getElementTop=e.createElement=void 0;var a=o(n(0));e.createElement=function(t,e,n){var i=document.createElement(t);return Object.entries(e||{}).forEach((function(t){var e=r(t,2),n=e[0],o=e[1];return i.style[n]=o})),n&&(i.innerText=n),i},e.getElementTop=function(t){return t.getBoundingClientRect().top},e.getElementHeight=function(t){var e=t.getBoundingClientRect();return e.bottom-e.top},e.appendBodyChild=function(t){document.body.appendChild(t)},e.removeBodyChild=function(t){document.body.removeChild(t)},e.styleStringToObject=function(t){return t.replace(/;$/,"").split(";").reduce((function(t,e){var n,o=r(e.replace(/\s/g,"").split(":"),2),s=o[0],u=o[1];return i(i({},t),((n={})[a.default.camelCase(s)]=u,n))}),{})}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(45)),s=n(94),u=o(n(109)),l=n(156),c=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(s.TextPlusCommands.UNDERLINE,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"text-decoration":/[\s\S]+/}},model:{key:s.TextPlusCommands.UNDERLINE,value:l.renderUpcastAttribute(s.TextPlusStyleAttributes.UNDERLINE)}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.UNDERLINE,view:function(t,e){return e.writer.createAttributeElement("span",{style:s.TextPlusStyleAttributes.UNDERLINE+":"+(t?"underline":"none")},{priority:7})}}),e.commands.add("UnderlinePlus",new u.default(e,s.TextPlusCommands.UNDERLINE)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.UNDERLINE}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"UnderlinePlus"},enumerable:!1,configurable:!0}),e}(a.default);e.default=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(45)),s=o(n(109)),u=n(94),l=n(156),c=n(667),d=n(668),f=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(u.TextPlusCommands.FONT_COLOR,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:u.TextPlusCommands.FONT_COLOR,value:l.renderUpcastAttribute(u.TextPlusStyleAttributes.FONT_COLOR)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"strong",styles:{color:/[\s\S]+/}},model:{key:u.TextPlusCommands.FONT_COLOR,value:l.renderUpcastAttribute(u.TextPlusStyleAttributes.FONT_COLOR)}}),e.conversion.for("downcast").attributeToElement({model:u.TextPlusCommands.FONT_COLOR,view:l.renderDowncastElement(u.TextPlusStyleAttributes.FONT_COLOR)}),e.commands.add(u.TextPlusCommandNames.FONT_COLOR,new s.default(e,u.TextPlusCommands.FONT_COLOR)),e.commands.add(u.TextPlusCommands.FONT_COLOR_RETAIN_OPACITY,new c.FontColorPlusUpdateColorRetainOpacityCommand(e,u.TextPlusCommands.FONT_COLOR)),e.commands.add(u.TextPlusCommands.FONT_COLOR_OPACITY,new d.FontColorPlusUpdateOpacityCommand(e,u.TextPlusCommands.FONT_COLOR)),e.model.schema.extend("$text",{allowAttributes:u.TextPlusCommands.FONT_COLOR}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontColorPlus"},enumerable:!1,configurable:!0}),e}(a.default);e.default=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(670)),f=i(n(671)),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"Paragraph"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model;t.commands.add("paragraph",new d.default(t)),t.commands.add("insertParagraph",new f.default(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:function(t,e){var n=e.writer;return l.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(i(n(45)).default);e.default=h,h.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"])},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));var i=n(10);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class r extends i.Command{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of r)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusFactory=e.LINK_PLUS_PLUGIN_NAME=void 0;var s=n(249),u=n(222),l=n(94),c=a(n(697)),d=a(n(176)),f=n(316),h=n(442),p=n(394);e.LINK_PLUS_PLUGIN_NAME="LinkPlus",e.LinkPlusFactory=function(t,n){return function(i){function a(t){var e=i.call(this,t)||this;return t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:["href","data-type","data-newtab"]},model:{key:l.TextPlusCommands.LINK,value:function(t,e){var n=t.getAttribute("href"),i=t.getAttribute("data-type"),r=t.getAttribute("data-newtab");return n&&i&&void 0!==r?{type:i,location:n,newTab:"true"===r}:null}}}),t.conversion.for("downcast").attributeToElement({model:l.TextPlusCommands.LINK,view:function(t,e){var n=e.writer;return t?n.createAttributeElement("a",o({href:t.location,"data-type":t.type,"data-newtab":t.newTab?"true":"false"},t.newTab&&{target:"_blank"})):n.createAttributeElement("a",{href:"","data-type":"url","data-newtab":"false",target:"_self"})}}),e.registerCommands(t),t.model.schema.extend("$text",{allowAttributes:l.TextPlusCommands.LINK}),e}return r(a,i),a.prototype.init=function(){var t=this;this.editor.editing.view.addObserver(u.ClickObserver);var e=this.editor.editing.view.document;this.listenTo(e,"click",(function(){var e=t.editor.editing.view.document.selection,n=f.isSelectionInsideOneLink(e);if(!1===n&&p.isLinkPlusPopoverViewOpen()&&c.default.closePopover(),n instanceof d.default){var i=t.editor.commands.get(l.TextPlusCommandNames.LINK_PLUS_UI);i instanceof c.default&&i.execute({type:n.getAttribute("data-type"),location:n.getAttribute("href"),newTab:"true"===n.getAttribute("data-newtab")},!0)}}))},a.prototype.registerCommands=function(i){i.commands.add(e.LINK_PLUS_PLUGIN_NAME,new h.LinkPlusCommand(i,l.TextPlusCommands.LINK)),i.commands.add(l.TextPlusCommandNames.LINK_PLUS_UI,new c.default(i,l.TextPlusCommands.LINK,t,n))},Object.defineProperty(a,"pluginName",{get:function(){return"LinkPlus"},enumerable:!1,configurable:!0}),a}(s.Plugin)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusPopoverView=e.isLinkPlusPopoverViewOpen=void 0;var a=o(n(3)),s=o(n(61)),u=n(698),l=o(n(703)),c=n(704),d=o(n(55)),f=n(396),h=n(393),p=n(442),g=n(127),m=n(755);e.isLinkPlusPopoverViewOpen=function(){return!!document.getElementById(v.uiContainerId)};var v=function(t){function e(n,i,r,o){var a=t.call(this,{id:e.uiContainerId,className:"popover",events:e.events,appendTo:i.appendTo})||this;return a.typeContainerId="textplus-hyperlink-type-container",a.secondaryInputId="textplus-hyperlink-secondary-input",a.secondaryInputContainerId="textplus-hyperlink-secondary-input-container",a.newWindowCheckboxContainerId="textplus-hyperlink-tab-checkbox-container",a.newWindowCheckboxId="textplus-new-tab-checkbox",a.saveButtonId="textplus-hyperlink-save-btn",a.deleteButtonId="textplus-hyperlink-delete-btn",a.disabledButtonClass="disabled",a.currentArrowDirection=c.PositionDirection.BOTTOM,r?a.isEditing=!0:(a.isEditing=!1,r={type:f.LinkPlusType.URL,location:"",newTab:!1}),a.editor=n,a.optionsSource=i,a.originalLinkConfig=r,a.currentLinkType=a.originalLinkConfig.type,a.anchorElement=o,a}return r(e,t),e.prototype.renderForm=function(t,e,n){void 0===n&&(n=!1),this.setContents(s.default.render(l.default,{hyperlinkType:"",hyperlinkLocation:""})),this.$el.css({position:"absolute"}),this.$el.attr({tabindex:0}),this.renderLinkTypeDropdown(),this.renderSecondaryInput(),this.onSecondaryInputChange(),this.isEditing&&this.$("#"+this.deleteButtonId).removeClass("hidden"),this.positionPopover(t,e),n&&this.focusUrlInput()},e.prototype.focusUrlInput=function(){var t=this;setTimeout((function(){var e=document.getElementById(t.secondaryInputId);null==e||e.focus()}),1)},e.prototype.closePopover=function(){var e=this.editor.model;e.change((function(t){e.markers.has(g.SELECTION_MARKER)&&t.removeMarker(g.SELECTION_MARKER)})),this.editor.editing.view.focus(),t.prototype.closePopover.call(this)},e.prototype.positionPopover=function(t,e){var n=(this.$el.outerWidth()||0)/2,i=(this.$el.outerHeight()||0)/2,r=this.$el.outerHeight()||0,o=this.$el.outerWidth()||0,a=t.width/2,s=t.height/2,u=c.PositionDirection.BOTTOM,l={top:t.bottom+10+"px",left:t.left-n+a+"px"};t.bottom+r>window.innerHeight-e.bottomMargin?(u=c.PositionDirection.TOP,l.top=t.top-r-10+"px"):t.left-n+a<e.leftMargin?(u=c.PositionDirection.RIGHT,l.left=t.right+10+"px",l.top=t.top-i+s+"px"):t.left-n+a+o>window.innerWidth-e.rightMargin&&(u=c.PositionDirection.LEFT,l.left=t.left-o-10+"px",l.top=t.top-i+s+"px"),this.currentArrowDirection=u,this.$el.css(l),this.$("#textplus-hyperlink-popover-arrow").addClass(u+"-of-target")},e.prototype.getCurrentLinkConfig=function(){return{type:this.currentLinkType,location:this.getCurrentLinkLocation(),newTab:this.currentLinkType===f.LinkPlusType.URL&&this.$("#"+this.newWindowCheckboxId).prop("checked")||!1}},e.prototype.getCurrentLinkLocation=function(){var t;if(this.subViews[1])return null!==(t=this.subViews[1].value)&&void 0!==t?t:"";var e=this.$("#"+this.secondaryInputId).val();return e?d.default.filterUrl(e):""},e.prototype.getUiContainer=function(){return document.getElementById(e.uiContainerId)},e.prototype.getSecondaryInputContainer=function(){return document.getElementById(this.secondaryInputContainerId)},e.prototype.renderLinkTypeDropdown=function(){var t=this.getUiContainer();if(t){var e=this.registerSubView(new u.TextDropdownWidgetView({header:"Link type",choices:this.optionsSource.linkTypeOptions,scrollParent:a.default(t),value:this.currentLinkType})),n=this.$("#"+this.typeContainerId);e.render().$el.appendTo(n),this.listenTo(e,e.EVENTS.CHANGE,this.onTypeChange.bind(this))}},e.prototype.renderGotoUrlUi=function(t){var e;void 0===t&&(t="");var n=this.getSecondaryInputContainer();if(n){var i=a.default('\n      <label for="'+this.secondaryInputId+'">'+(null!==(e=this.optionsSource.urlLabelText)&&void 0!==e?e:"URL")+'</label>\n      <input id="'+this.secondaryInputId+'" type="text" value="'+encodeURI(t)+'" />\n    '),r=a.default('\n      <div id="'+this.newWindowCheckboxContainerId+'">\n          <input id="'+this.newWindowCheckboxId+'" type="checkbox" /><label for="'+this.newWindowCheckboxId+'">Open in new window</label>\n      </div>\n    ');n.innerHTML="",i.appendTo(n),r.appendTo(n);var o=this.originalLinkConfig.newTab;this.$("#"+this.secondaryInputContainerId).off("change input").on("change input",this.onSecondaryInputChange.bind(this)),this.$("#"+this.newWindowCheckboxId).prop("checked",o)}},e.prototype.renderGotoPageUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.pageOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Page"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.renderGotoPositionUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.positionOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Anchor"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.renderGotoObjectUi=function(t){void 0===t&&(t="");var e=this.getUiContainer();if(e){var n=this.getSecondaryInputContainer();if(n){var i=this.registerSubView(new u.TextDropdownWidgetView({id:this.secondaryInputId,choices:this.optionsSource.objectOptions,value:t,scrollParent:a.default(e),scrollable:!0,header:"Select Object"}));n.innerHTML="",i.render().$el.appendTo(n),this.listenTo(i,i.EVENTS.CHANGE,this.onSecondaryInputChange.bind(this))}}},e.prototype.handleSecondaryInputFocus=function(){},e.prototype.onTypeChange=function(t){this.currentLinkType=t.value,this.renderSecondaryInput(),this.onSecondaryInputChange()},e.prototype.onSecondaryInputChange=function(){var t=this.$("#"+this.saveButtonId),e=this.getCurrentLinkLocation();e&&""!==e?t.addClass("button-active").removeClass(this.disabledButtonClass):t.removeClass("button-active").addClass(this.disabledButtonClass)},e.prototype.renderSecondaryInput=function(){this.getSubViews().slice(1).forEach(this.closeAndCleanUpSubView.bind(this));var t=this.currentLinkType===this.originalLinkConfig.type?this.originalLinkConfig.location:"";switch(this.currentLinkType){case f.LinkPlusType.URL:this.renderGotoUrlUi(t);break;case f.LinkPlusType.PAGE:var e=parseInt(t);this.renderGotoPageUi(isNaN(e)?t:e);break;case f.LinkPlusType.POSITION:this.renderGotoPositionUi(t);break;case f.LinkPlusType.OBJECT:this.renderGotoObjectUi(t)}switch(this.currentLinkType){case f.LinkPlusType.URL:break;case f.LinkPlusType.PAGE:case f.LinkPlusType.POSITION:case f.LinkPlusType.OBJECT:this.$el.focus()}},e.prototype.handleSubmitOnEnter=function(t){"Enter"===t.key&&this.handleSubmit()},e.prototype.handleSubmit=function(){if(!this.$("#"+this.saveButtonId).hasClass(this.disabledButtonClass)){var t=this.editor.commands.get(h.LINK_PLUS_PLUGIN_NAME);t instanceof p.LinkPlusCommand&&(this.isEditing?t.updateLink(this.getCurrentLinkConfig()):t.createLink(this.getCurrentLinkConfig()),this.closePopover())}},e.prototype.handleDelete=function(){if(!this.$("#"+this.deleteButtonId).hasClass("hidden")){var t=this.editor.commands.get(h.LINK_PLUS_PLUGIN_NAME);t instanceof p.LinkPlusCommand&&(t.removeLink(),this.closePopover())}},e.prototype.onNonPopoverClose=function(n){var i=a.default(n.target).parents().add(a.default(n.target));i.is("#text-plus-link-options")||i.is("#"+e.uiContainerId)||n.target&&n.target==this.anchorElement||t.prototype.onNonPopoverClose.call(this,n)},e.events={"click #textplus-hyperlink-save-btn":"handleSubmit","click #textplus-hyperlink-delete-btn":"handleDelete","click #textplus-hyperlink-secondary-input":"handleSecondaryInputFocus",keyup:"handleSubmitOnEnter"},e.uiContainerId="textplus-hyperlink-popover",e}(m.AbstractPopoverView);e.LinkPlusPopoverView=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COLORS:{DUSTY_GRAY:"#999999",CEROS_BLUE:"#05c3de",CEROS_RED:"#f6323e",CEROS_GOLD:"#EFB16B",CASTLE_ROCK:"#192024",LAVA_STONE:"#282f36",PEBBLE:"#353D43",PEBBLE_70P:"rgba(53, 61, 67, 0.7)",RIVER_BED:"#47535B",COAL:"#161A1F",PEWTER:"#414B51",ASH:"#5f6568",WHITE:"#FFFFFF",ALIEN:"#00ffb4",MAGENTA:"#FF00FF",PINK:"#FF75FF",RED:"#FF0000",HYPERLINK_BLUE:"#0000FF",GREY200:"#E9EBEC",GREY200_70P:"rgba(233, 235, 236, 0.7)",GREY300:"#DCDFE1",GREY400:"#979A9B",PRIMARY_BLUE:"#1B00FB",PRIMARY_BLUE_ACTIVE:"#040B97",PRIMARY_BLUE_ALT:"#0D99FF",BLACK:"#000000"}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusModel=e.TEXT_PLUS_EVENTS=e.LinkPlusType=e.BoxMode=void 0;var f=d(n(99)),h=s(n(399)),p=n(126),g=d(n(219)),m=d(n(0)),v=d(n(110)),y=n(185),_=n(439),b=n(85),w=n(221),T=n(126);!function(t){t.FIXEDSIZE="fixedsize",t.AUTOWIDTH="autowidth",t.AUTOHEIGHT="autoheight"}(e.BoxMode||(e.BoxMode={})),function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.LinkPlusType||(e.LinkPlusType={})),e.TEXT_PLUS_EVENTS={FONTS_LOADED:"fonts:loaded",FONT_COLOR_CHANGED_RETAIN_OPACITY:"textplus:font-color-changed-retain-opacity"};var S=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i.objectStatesEnabled=!0,i.fontPlusData=[],i.getLeadingFromLines=function(t){var e=u(t,1)[0];return e&&void 0!==(null==e?void 0:e.leading)?e.leading:T.VIEW_DEFAULTS.AUTO_LEADING},i.layerDictionaryAndHierarchyService=n.layerDictionaryAndHierarchyService,i}return r(n,t),n.prototype.shouldLoadFonts=function(){return!!this.getTextContent()},n.prototype.initialize=function(t,n){f.default.prototype.initialize.call(this,t,n),this.on(e.TEXT_PLUS_EVENTS.FONT_COLOR_CHANGED_RETAIN_OPACITY,(function(t){window.designer.documentVersion.textPlusDefaults.setDefaultSpan({fontColor:t})}))},n.prototype.defaults=function(){return h.defaults},n.prototype.variantDefaults=function(){return m.default.cloneDeep(h.variantDefaults)},n.prototype.isTextPlusComponent=function(){return!0},n.prototype.isEditableComponent=function(){return!this.isSyncedObject()},n.prototype.areFontsReady=function(){return this.isFontLoaded()},n.prototype.forceProcessFonts=function(){this.processFonts()},n.prototype.setFontsLoading=function(){this.setFontPlusData()},n.prototype.setFontsReady=function(){this.trigger(e.TEXT_PLUS_EVENTS.FONTS_LOADED),this.fontPlusData.forEach((function(t){return t.loaded=!0}))},n.prototype.getObjectStateSupportedProperties=function(){return h.objectStateSupportedProperties},n.prototype.getFontPlusData=function(){return this.fontPlusData},n.prototype.manualSaveAttributes=function(){return h.manualSaveAttributes},n.prototype.saveEditorData=function(t,e,n,i,r){void 0===r&&(r=v.default.getCurrentVariant()),this.saveData(t,e,i,r,n)},n.prototype.saveEditorTextData=function(t,e,n,i){void 0===i&&(i=v.default.getCurrentVariant()),this.saveData(t,e,n,i)},n.prototype.saveData=function(t,e,n,i,r){this.canSave()&&(this.saveTextContent(t,i),this.saveSpanData(e,i,r),this.saveDefinitionData(n,i),this.processFonts(),"true"==window.localStorage.getItem("DEBUG_TEXT_PLUS")&&this.debugTextPlusModel(this,n))},n.prototype.canSave=function(){return!!this.saveHandler},n.prototype.setWithSmartGroupsAndVariants=function(t,e,n){!this.inSmartgroup&&n?this.set(t,e,{variant:n}):this.set(t,e)},n.prototype.saveTextContent=function(t,e){this.updateTitle(t),this.setWithSmartGroupsAndVariants("textContent",t,e)},n.prototype.saveSpanData=function(t,e,n){w.ObjectStateManager.isDefaultStateSelected()&&this.setWithSmartGroupsAndVariants("textSpans",t,e),n&&this.setIfNotEqual("defaultSpan",n,e)},n.prototype.saveDefinitionData=function(t,e){var n=t.lists,i=t.headings,r=t.lines;this.setWithSmartGroupsAndVariants("listDefinitions",m.default.filter(n,(function(t){return t.attributes.listElementType==y.ListElementEnum.LI})),e),this.setWithSmartGroupsAndVariants("headingDefinitions",i,e),this.setWithSmartGroupsAndVariants("lines",r,e)},n.prototype.setIfNotEqual=function(t,e,n){var i=this.get(t,n?{variant:n}:void 0);m.default.isEqual(i,e)||this.setWithSmartGroupsAndVariants(t,e,n)},n.prototype.isFontLoaded=function(){return!!this.fontPlusData.length&&!this.fontPlusData.find((function(t){return!t.loaded}))},n.prototype.debugTextPlusModel=function(t,e){var n,i,r,o,a,s;console.group("Data Model"),console.group("textContent"),console.log(t.get("textContent")),console.groupEnd(),console.groupCollapsed("textSpans"),console.log(t.get("textSpans")),console.groupEnd(),console.groupCollapsed("defaultSpan"),console.table(t.get("defaultSpan"),["value"]),console.groupEnd(),console.groupCollapsed("model attributes"),console.table(this.attributes,["value"]),console.groupEnd(),console.groupCollapsed("element definitions"),console.log(e),console.groupCollapsed("Lists");try{for(var u=l(e.lists),c=u.next();!c.done;c=u.next()){var d=c.value;console.log("    ".repeat(d.attributes.listIndent)+d.attributes.listElementType)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}console.groupEnd(),console.groupCollapsed("Paragraphs");try{for(var f=l(e.paragraphs),h=f.next();!h.done;h=f.next()){var p=h.value;console.log(p.attributes.paragraphElementType)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}console.groupEnd(),console.groupCollapsed("Headings");try{for(var g=l(e.headings),m=g.next();!m.done;m=g.next()){var v=m.value;console.log(v.attributes.headingElementType)}}catch(t){a={error:t}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}console.groupEnd(),console.groupEnd(),console.groupEnd()},n.prototype.getListDefinitions=function(t){return this.getWithSmartGroupsAndVariants("listDefinitions",t)},n.prototype.getHeadings=function(t){return this.getWithSmartGroupsAndVariants("headings",t)},n.prototype.setDefaultVariant=function(t){var e=this.getDefaultSpan();e.variantGuid=t,this.setWithSmartGroupsAndVariants("defaultSpan",e)},n.prototype.getTextData=function(){return this.get("textData")},n.prototype.getStates=function(){return this.get("states")},n.prototype.getTextContent=function(t){return this.getWithSmartGroupsAndVariants("textContent",t)},n.prototype.getSelectedState=function(){return this.getStates()[w.ObjectStateManager.getSelectedState()]||{}},n.prototype.getDisplayLabel=function(){return this.title},n.prototype.updateTitle=function(t){var e=this;if("Text"!==t&&t.length>0){var n=this.formatStringAsTitle(t);if(this.set("title",n),this.isSyncedTextComponent()){var i=this.getLayoutVariants(),r=v.default.getCurrentVariant();i.forEach((function(t){t!==r&&e.set("title",n,{variant:t})}))}this.trigger(g.default.EVENTS.CHANGE_TITLE)}else this.set("title","Text")},n.prototype.formatStringAsTitle=function(t){return t.slice(0,p.MAX_TITLE_LENGTH).replace(/\n/g," ")},n.prototype.getVariantGuidsInUse=function(){return m.default.chain(this.getLayoutVariants()).flatMap(this.getLayoutVariantSpans.bind(this)).map("variantGuid").uniq().compact().value()},n.prototype.getLayoutVariants=function(){return["desktop"].concat(v.default.getExistingVariants())},n.prototype.getLayoutVariantSpans=function(t){return m.default.concat(this.get("defaultSpan",{variant:t})||[],this.get("textSpans",{variant:t})||[])},n.prototype.processFonts=function(){var t=this;this.setFontPlusData(),_.FontPlusManager.getInstance().processSingleModel(this).then((function(){t.save()}))},n.prototype.setFontPlusData=function(){var t,e,n,i,r,o,a,s=this.get("defaultSpan"),u=this.getPlainTextData(),d=[];d.push({variantGuid:s.variantGuid,content:u,loaded:!1});var f=this.get("textSpans");try{for(var h=l(f),p=h.next();!p.done;p=h.next()){var g=p.value,m=u.substring(g.index,g.index+g.length);d.push({variantGuid:null!==(a=g.variantGuid)&&void 0!==a?a:s.variantGuid,content:m,loaded:!1})}}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}1===d.length&&""===d[0].content&&d[0].variantGuid===s.variantGuid&&(d[0].content="a");var v=new Map;try{for(var y=l(this.fontPlusData),_=y.next();!_.done;_=y.next()){(T=_.value).content=c(new Set(T.content)).join(""),v.set(T.variantGuid,T)}}catch(t){n={error:t}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}try{for(var b=l(d),w=b.next();!w.done;w=b.next()){var T=w.value,S=v.get(T.variantGuid);S&&(T.loaded=S.loaded)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}this.fontPlusData=d},n.prototype.getWithSmartGroupsAndVariants=function(t,e){return!this.inSmartgroup&&e?this.get(t,{variant:e}):this.get(t)},n.prototype.getPlainTextData=function(){return this.get("textContent")},n.prototype.getDefaultSpan=function(t){return this.getWithSmartGroupsAndVariants("defaultSpan",t)},n.prototype.getTextSpans=function(t){return this.getWithSmartGroupsAndVariants("textSpans",t)},n.prototype.getDefaultFontColor=function(){return this.getDefaultSpan().fontColor},n.prototype.getDefaultFontSize=function(){return this.getDefaultSpan().fontSize},n.prototype.getDefaultUnderline=function(){return!!this.getDefaultSpan().underline},n.prototype.getDefaultLetterSpacing=function(){return this.getDefaultSpan().letterSpacing},n.prototype.getLines=function(t){return this.getWithSmartGroupsAndVariants("lines",t)},n.prototype.getDefaultJustify=function(){return this.get("justify")},n.prototype.getDefaultTextCase=function(){return this.getDefaultSpan().textCase||""},n.prototype.getDefaultVariant=function(){return this.getDefaultSpan().variantGuid||b.FontConstants.DEFAULT_FONT_VARIANT_GUID},n.prototype.getSupported=function(){return h.supported},n.prototype.isSyncedTextComponent=function(){return this.getLayoutVariants().length>1&&!0===this.nonVariantGet("synced")},n.prototype.existsOnMultipleVariants=function(){return this.layerDictionaryAndHierarchyService.isComponentUsedInMultipleVariants(this.id)},n.prototype.buildOverridesWithEmptySyncedProperties=function(){var t=this,e=m.default.cloneDeep(this.get("overrides"));return m.default.each(e,(function(e){m.default.each(t.getSyncedProperties(),(function(t){delete e[t]}))})),e},n}(f.default);e.TextPlusModel=S},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var r=i(n(0)),o=i(n(157));e.defaults={type:null,title:"Object",x:0,y:0,width:100,height:100,fixedPosition:!1,preserveAspectRatio:!1,opacity:1,rotation:0,visible:!0,locked:!1,background:{},backgroundHasBeenSet:!1,border:{},animations:[],exitAnimations:[],interactions:[],shadow:{},animationsRepeatAll:!1,animationsReplayOnScroll:!1,sdkTags:[],sdkPayload:"",showHoverCursor:!1,overrides:{},states:{},selectedState:o.default.OBJECT_STATES_DEFAULT,userDefinedStates:[],transition:null},e.supported=r.default.union(r.default.difference(Object.keys(e.defaults),["type","id","visible","locked"]),["corner-radius"]),e.objectStateSupportedProperties=["x","y","width","height","rotation","opacity","preserveAspectRatio","transition"]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForMaskGroupShape=e.supportedMaskGroupSquareShape=e.supportedMaskGroupShape=e.supported=e.supportedSquare=e.defaults=void 0;var c=l(n(0)),d=a(n(95)),f=n(70);e.defaults=i(i(i({},d.defaults),f.MODEL_DEFAULTS),{title:"Shape",shape:null,pathData:null}),e.supportedSquare=c.default.union(Object.keys(e.defaults),d.supported),e.supported=c.default.without(e.supportedSquare,"corner-radius"),e.supportedMaskGroupShape=c.default.without(u(e.supported,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.supportedMaskGroupSquareShape=c.default.without(u(e.supportedSquare,["mustHaveFill","singleCornerRadius","noStroke"]),"animations","animationsRepeatAll","animationsReplayOnScroll","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedPropertiesForMaskGroupShape=[],e.objectStateSupportedProperties=c.default.union(d.objectStateSupportedProperties,["border","background","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.manualSaveAttributes=e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(0)),l=a(n(95)),c=n(126),d=n(85),f=a(n(70));e.defaults=i(i(i({},l.defaults),c.TEXT_PLUS_MODEL_DEFAULTS),f.MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"#000000",fontSize:c.TEXT_DEFAULT_FONT_SIZE,variantGuid:d.FontConstants.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,synced:!1}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported,["textData","defaultSpan","synced","paddingTop","paddingRight","paddingBottom","paddingLeft","textTransform","justify","textSpans","listDefinitions","hiddenFromScreenReaders","headings"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["defaultSpan","textSpans","justify","leading"]),e.manualSaveAttributes=["paddingTop","paddingRight","paddingBottom","paddingLeft"]},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(219)),s=i(n(110)),u=i(n(730)),l=i(n(67)),c=i(n(731)),d=a.default.extend({defaults:l.default.AbstractPageObjectModel.defaults,variantDefaults:null,objectStatesEnabled:!1,constructor:function(t,e){t=t||{},this.setParentModel(a.default),a.default.prototype.constructor.call(this,t,e)},initialize:function(t,e){this.bindVariantAttributeChangeEvents(),a.default.prototype.initialize.call(this,t,e)},getSupported:function(){return l.default.AbstractPageObjectModel.supported},getObjectStateSupportedProperties:function(){return l.default.AbstractPageObjectModel.objectStateSupportedProperties},isResizable:function(){return!0},mustBeConstrained:function(){return!1},isConstrained:function(){return this.mustBeConstrained()||this.get("preserveAspectRatio")},isObject:function(){return!0},hasInteractions:function(){var t=this.get("interactions");return o.default.isArray(t)&&t.length>0},hasInteractionsBesidesChangeState:function(){var t=this.get("interactions").filter((function(t){return"change-state"!==t.action}));return o.default.isArray(t)&&t.length>0},updateInteractionPageNumbersOnAdd:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnAdd(t)}))},updateInteractionPageNumbersOnMove:function(t,e){this.forEachVariantInteractions((function(n){n.updateInteractionPageNumbersOnMove(t,e)}))},updateInteractionPageNumbersOnDelete:function(t){this.forEachVariantInteractions((function(e){e.updateInteractionPageNumbersOnDelete(t)}))},supportsObjectStates:function(){return this.objectStatesEnabled},supportsObjectStatesForProperty:function(t){return this.getObjectStateSupportedProperties().indexOf(t)>-1},forEachVariantInteractions:function(t){this.forAttributeOnEachVariant("interactions",o.default.bind((function(e,n){var i=this._buildInteractionCollectionThatWillUpdateOnChanges(e,{variant:n});t(i,n)}),this))},removeReferencesToDescendant:function(t){if(this.hasInteractions()){var e=[];o.default.each(this.get("interactions"),(function(n){var i=r.default.extend(!0,{},n);i.layerTargets?(i.layerTargets=o.default.difference(i.layerTargets,t),i.layerTargets.length>0&&e.push(i)):e.push(i)})),this.set({interactions:e})}},reconcileJSONForCurrentVariant:function(t){var e=a.default.prototype.toJSON.call(this);return e=s.default.reconcileJSONForCurrentVariant(e,this),!0===t&&(e=u.default.cloneDeep(e)),e},forAttributeOnEachVariant:function(t,e){var n={desktop:this.get(t,{variant:"desktop"})};o.default.each(s.default.getExistingVariants(),o.default.bind((function(e){n[e]=this.get(t,{variant:e,doNotFallbackToDesktop:!0})}),this)),o.default.each(n,(function(t,n){o.default.isUndefined(t)||e(t,n)}))}});o.default.extend(d.prototype,c.default),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(13)),s=i(n(311)),u=i(n(724)),l=i(n(8)),c=i(n(404)),d={slug:null,account:null,userAccounts:null,accountsFeatureFlagsCollection:null,getActiveAccountSlug:function(){var t=this.getActiveAccount();return!!t&&t.get("slug")},getActiveAccount:function(){var t=l.default.accountSlug;return this.getUserAccounts().get(t)},setActiveAccountSlug:function(t,e){var n=this,i=new r.default.Deferred;return i.fail(o.default.bind((function(){e&&"function"==typeof e.error&&e.error.call(this)}),this)),t?(this.addToAccountIfSuperUserFirstAccess(t).then((function(){var e=c.default.getCurrentUser();e.get("lastAccessedAccountSlug")!=t&&e.updateAndPersistFields({lastAccessedAccountSlug:t},{silent:!0}),l.default.absorb({accountSlug:t})})).then((function(){return u.default.getInstanceForAccount(n.getActiveAccountSlug()).fetch()})).then((function(){var r=n.getUserAccounts().get(t);n.trigger("currentaccount:switched",r,n),e&&"function"==typeof e.success&&e.success.call(n,r),i.resolve()})).fail(i.reject),i):(i.reject(),i)},addToAccountIfSuperUserFirstAccess:function(t){var e=new r.default.Deferred,n=c.default.getCurrentUser();if(this.getUserAccounts().get(t))e.resolve();else if(n.get("isSuperuser")){var i=new s.default({slug:t});i.fetch().done((function(){c.default.inviteMemberToAccount(n,i,!1).done((function(){n.fetch().done(e.resolve).fail(e.reject)})).fail(e.reject)})).fail((function(){e.reject()}))}else e.reject();return e.promise()},getUserAccounts:function(){return c.default.getCurrentUser().getAccounts()},currentUserHasAccount:function(t){return!!c.default.getCurrentUser().get("isSuperuser")||this.getUserAccounts().get(t)},getFirstAccountSlug:function(){var t=this.getUserAccounts();return t.length>0&&t.first().get("slug")},getFallbackAccountSlug:function(t){if(!t)return!1;var e=c.default.getCurrentUser().get("lastAccessedAccountSlug");if(!o.default.isUndefined(e)&&t!=e&&this.currentUserHasAccount(e))return e;var n=this.getFirstAccountSlug();return!(!n||t==n)&&n},navigateAccount:function(t,e){"/"!=t.charAt(0)&&(t="/"+t),a.default.history.navigate("/account/"+this.getActiveAccountSlug()+t,e)}};o.default.extend(d,a.default.Events),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(220)),a=i(n(723));e.default=o.default.extend({urlRoot:"/{api-version}/members",defaults:{title:null,contactInformation:null,ghosting:!1},save:function(t,e,n){return!1},getAccountMemberUri:function(){return this.replaceUrlContextVariables("/{api-version}/account/{account-slug}/account-members/"+this.id)},getAccountMember:function(t){return this.accountMember?this.accountMember:this.fetchAccountMember(t)},fetchAccountMember:function(t){var e=new a.default({slug:this.id});return e.on("change",r.default.bind((function(t){this.accountMember=t}),this)),t&&"function"==typeof t&&e.on("change",t),e.fetch(),e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){this.getField=function(){return t},this.getMessage=function(){return e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(13)),s=i(n(727)),u={currentUser:null,getCurrentUserSlug:function(){return this.currentUser?this.currentUser.get("slug"):null},getCurrentUser:function(){return this.currentUser},fetchCurrentUser:function(){var t=new s.default,e=new r.default.Deferred;return t.fetch().done(o.default.bind((function(){this.currentUser=t,e.resolve(this.currentUser)}),this)).fail(e.reject),e},signin:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/signin",eventName:"currentuser:signin"}))},checkPasswordResetToken:function(t){return r.default.ajax({url:"/rest/v1/process/reset-password",type:"GET",data:{token:t}})},checkConfirmMemberToken:function(t){return r.default.ajax({url:"/rest/v1/process/confirm-member",data:{token:t},type:"GET",dataType:"json"})},sendPasswordResetEmail:function(t){return r.default.ajax({url:"/rest/v1/process/send-password-reset",type:"POST",data:JSON.stringify({email:t}),processData:!1,contentType:"application/json"})},resetPassword:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/reset-password",eventName:"currentuser:resetpassword"}))},confirmMember:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/confirm-member"}))},getAuthUser:function(t){return r.default.ajax({url:"/rest/v1/process/get-auth-user",type:"GET",data:{token:t}})},linkUser:function(t){this._post(o.default.extend(t,{url:"/rest/v1/process/link-user"}))},inviteMemberToAccount:function(t,e,n){return n=!1===n?0:1,r.default.ajax({url:"/rest/v1/account/"+e.get("slug")+"/invite-member",type:"POST",data:JSON.stringify({email:t.get("email"),title:t.get("title"),sendInvitationEmail:n})})},_post:function(t){r.default.ajax({url:t.url,type:"POST",data:JSON.stringify(t.data),processData:!1,contentType:"application/json",success:o.default.bind((function(e,n,i){t.eventName&&this.trigger(t.eventName,"UserManager"),t.success&&"function"==typeof t.success&&t.success(e,n,i)}),this),error:function(e,n,i){t.error&&"function"==typeof t.error&&t.error(e,n,i)}})}};o.default.extend(u,a.default.Events),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={buildPropertyObject:function(t,e){var n;return r.default.isObject(t)||((n={})[t]=e,t=n),t}};e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToActionModel=void 0;var s=a(n(0)),u=n(71),l=n(29),c=n(20),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCROLL_TARGET_TYPES={TOP:"top",BOTTOM:"bottom",SCRANCHOR:"scranchor"},e}return r(e,t),e.prototype.getValidScranchorTargets=function(){return this.parentInteraction.getValidScranchorTargets()},e.prototype.isValid=function(){return!!s.default.includes(this.SCROLL_TARGET_TYPES,this.get("scrollTargetType"))&&!(this.isScrollToScranchor()&&!this.getScranchorModel())},e.prototype.isScrollToTop=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.TOP},e.prototype.isScrollToBottom=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.BOTTOM},e.prototype.isScrollToScranchor=function(){return this.get("scrollTargetType")===this.SCROLL_TARGET_TYPES.SCRANCHOR},e.prototype.getScranchorId=function(){return this.isScrollToScranchor()?this.get("scrollTargetScranchor"):null},e.prototype.getScranchorModel=function(){var t=null,e=this.getScranchorId();return e&&(t=this.getValidScranchorTargets().get(e)),t},e.prototype.getScranchorIndex=function(){return this.getValidScranchorTargets().indexOf(this.getScranchorModel())},e.prototype.setScrollToTop=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.TOP})},e.prototype.setScrollToBottom=function(){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.BOTTOM})},e.prototype.setScrollToScranchor=function(t){this.set({scrollTargetType:this.SCROLL_TARGET_TYPES.SCRANCHOR,scrollTargetScranchor:t})},e=o([l.ActionModelOptions({actionType:c.ActionTypes.scrollTo,defaults:{scrollTargetType:null,scrollTargetScranchor:null}})],e)}(u.AbstractActionModel);e.ScrollToActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectActionModel=void 0;var s=n(111),u=a(n(48)),l=n(52),c=n(29),d=n(20),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(l.FeatureFlagName.ACCESSIBILITY)&&t.prototype.isValid.call(this)},e=o([c.ActionModelOptions({actionType:d.ActionTypes.scrollToObject,defaults:{supportsMultipleTargets:!1}})],e)}(s.AbstractCanvasTargetsActionModel);e.ScrollToObjectActionModel=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.nextPage})],e)}(a.AbstractActionModel);e.NextPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PrevPageActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.prevPage})],e)}(a.AbstractActionModel);e.PrevPageActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GotoPageActionModel=void 0;var s=a(n(0)),u=n(314),l=n(29),c=n(20),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.isPageTargetValid()},e.prototype.isPageTargetValid=function(){var t=this.get("pageTarget");return!!t&&(!!s.default.isNumber(t)&&(!(t<1)&&!(t>this.getValidPageTargets().length)))},e.prototype.getGotoPageNum=function(){return this.get("pageTarget")},e.prototype.getDeletedGotoPageNum=function(){return this.get("deletedPageTarget")},e.prototype.setGotoPage=function(t){this.set("pageTarget",t),this.unset("deletedPageTarget")},e.prototype.setDeletedGotoPage=function(t){this.set("deletedPageTarget",t)},e.prototype.handlePageAdd=function(t){var e=this.getGotoPageNum();e>=t&&this.setGotoPage(e+1)},e.prototype.handlePageMove=function(t,e){var n=this.getGotoPageNum(),i=this._calculateUpdatedPageNumberOnMove(n,t,e);n!==i&&this.setGotoPage(i)},e.prototype.handlePageDelete=function(t){var e=this.getGotoPageNum();e===t?(this.setGotoPage(null),this.setDeletedGotoPage(e)):e>t&&this.setGotoPage(e-1)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.gotoPage,defaults:{pageTarget:null}})],e)}(u.PageNumberAwareAction);e.GotoPageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EnableDisablePageActionModel=void 0;var s=a(n(0)),u=n(314),l=n(29),c=n(20),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.serializePageTargets=function(t){var e=s.default(t).keys().map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e})).value(),n=s.default.reduce(e,(function(t,e){return t.length&&s.default.last(s.default.last(t))===e-1||t.push([]),s.default.last(t).push(e),t}),[]);return s.default.map(n,(function(t){switch(t.length){case 1:return t[0];case 2:return t[0]+", "+t[1];default:return t[0]+"-"+s.default.last(t)}})).join(", ")},e.prototype.parsePageTargets=function(t,e){var n=this,i={},r=!1;return s.default.isNil(t)||""===(t=t.replace(/\s/g,""))?[]:(s.default.each(t.split(","),s.default.bind((function(t){var o=t.split("-");switch(o.length){case 1:var a=parseInt(t,10);a&&n.isPageInRange(a)?i[a]=e:r=!0;break;case 2:var u=parseInt(o[0],10),l=parseInt(o[1],10);u&&l&&n.isPageInRange(u)&&n.isPageInRange(l)?s.default.each(s.default.range(u,l+1),(function(t){i[t]=e})):r=!0;break;default:r=!0}}),this)),r?null:i)},e.prototype.isPageInRange=function(t){return s.default.inRange(t,1,this.parentInteraction.getValidPageTargets().length+1)},e.prototype.isValid=function(){return this.arePageTargetsValid()},e.prototype.arePageTargetsValid=function(){var t=this;return!s.default.isEmpty(this.get("pageTargets"))&&s.default.every(this.get("pageTargets"),s.default.bind((function(e,n){return t.isPageInRange(n)}),this))},e.prototype.getEnablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"))},e.prototype.getDisablePageTargetsOnly=function(){return s.default.pickBy(this.get("pageTargets"),(function(t){return!t}))},e.prototype.hasEnablePageTargets=function(){return!s.default.isEmpty(this.getEnablePageTargetsOnly())},e.prototype.hasDisablePageTargets=function(){return!s.default.isEmpty(this.getDisablePageTargetsOnly())},e.prototype.getEnablePageTargetsAsString=function(){return this.serializePageTargets(this.getEnablePageTargetsOnly())},e.prototype.getDisablePageTargetsAsString=function(){return this.serializePageTargets(this.getDisablePageTargetsOnly())},e.prototype.setEnablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!0);e&&this.set("pageTargets",s.default.extend(this.getDisablePageTargetsOnly(),e))},e.prototype.setDisablePageTargetsFromString=function(t){var e=this.parsePageTargets(t,!1);e&&this.set("pageTargets",s.default.extend(this.getEnablePageTargetsOnly(),e))},e.prototype.handlePageMove=function(t,e){var n=this,i=this.get("pageTargets"),r={},o=!1;s.default.each(i,s.default.bind((function(i,a){var u=s.default.toNumber(a),l=n._calculateUpdatedPageNumberOnMove(u,t,e);r[l]=i,o=o||u!==l}),this)),o&&this.set("pageTargets",r)},e.prototype.handlePageAdd=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>=t?(n[o+1]=e,i=!0):n[o]=e})),i&&this.set("pageTargets",n)},e.prototype.handlePageDelete=function(t){var e=this.get("pageTargets"),n={},i=!1;s.default.each(e,(function(e,r){var o=s.default.toNumber(r);o>t?(n[o-1]=e,i=!0):o<t?n[o]=e:i=!0})),i&&this.set("pageTargets",n)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.enableDisablePage,defaults:{pageTargets:{}}})],e)}(u.PageNumberAwareAction);e.EnableDisablePageActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UrlActionModel=void 0;var s=a(n(0)),u=n(71),l=n(29),c=n(20),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!(!this.has("url")||s.default.isEmpty(this.get("url")))&&!!s.default.isBoolean(this.get("urlOpenInNewWindow"))},e.prototype.filterUrl=function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t},e.prototype.getUrl=function(){return this.get("url")},e.prototype.setUrl=function(t){this.set("url",t)},e.prototype.getUrlOpenInNewWindow=function(){return this.get("urlOpenInNewWindow")},e.prototype.setUrlOpenInNewWindow=function(t){this.set("urlOpenInNewWindow",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.url,defaults:{url:null,urlOpenInNewWindow:!1}})],e)}(u.AbstractActionModel);e.UrlActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowCanvasTargetsOnHoverActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getCreateHoverArea=function(){return this.get("createHoverArea")},e.prototype.setCreateHoverArea=function(t){this.set("createHoverArea",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.showCanvasTargetsOnHover,defaults:{createHoverArea:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowCanvasTargetsOnHoverActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOnlyActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.showOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.ShowOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideOnlyActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideOnly})],e)}(a.AbstractCanvasTargetsActionModel);e.HideOnlyActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextActionModel=void 0;var a=n(418),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cycleNext})],e)}(a.AbstractContainerTargetsActionModel);e.CycleNextActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractContainerTargetsActionModel=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return t.prototype.isCanvasTargetTypeValid.call(this,e)&&(e.isGroup()||e.isFolder())},e}(n(111).AbstractCanvasTargetsActionModel);e.AbstractContainerTargetsActionModel=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousActionModel=void 0;var a=n(418),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultDelay=function(){return 2},e=o([s.ActionModelOptions({actionType:u.ActionTypes.cyclePrevious})],e)}(a.AbstractContainerTargetsActionModel);e.CyclePreviousActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideCanvasTargetsActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.HideCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleCanvasTargetsActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.toggleCanvasTargets})],e)}(a.AbstractCanvasTargetsActionModel);e.ToggleCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.HideAndStayHiddenCanvasTargetsActionModel=void 0;var a=n(111),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([s.ActionModelOptions({actionType:u.ActionTypes.hideAndStayHiddenCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.HideAndStayHiddenCanvasTargetsActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowAndStayVisibleCanvasTargetsActionModel=void 0;var a=n(29),s=n(20),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getResetWhenScrolledOffscreen=function(){return this.get("resetWhenScrolledOffscreen")},e.prototype.setResetWhenScrolledOffscreen=function(t){this.set("resetWhenScrolledOffscreen",t)},e=o([a.ActionModelOptions({actionType:s.ActionTypes.showAndStayVisibleCanvasTargets,defaults:{resetWhenScrolledOffscreen:!1,supportsMultipleTargets:!0}})],e)}(n(111).AbstractCanvasTargetsActionModel);e.ShowAndStayVisibleCanvasTargetsActionModel=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxActionModel=void 0;var s=a(n(0)),u=n(71),l=n(29),c=n(20),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LIGHTBOX_MAX_DIMENSION=2e3,e}return r(e,t),e.prototype.isValid=function(){return!(!this.has("lightboxUrl")||s.default.isEmpty(this.get("lightboxUrl")))&&(!!this.isLightboxDimensionValid(this.get("lightboxHeight"))&&!!this.isLightboxDimensionValid(this.get("lightboxWidth")))},e.prototype.isLightboxDimensionValid=function(t){return!!t&&t>0&&t<=this.LIGHTBOX_MAX_DIMENSION},e.prototype.filterLightboxUrl=function(t){if(-1!==t.indexOf(".")){var e=t.trim().toLowerCase();if(0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("//"))return"http://"+t}return t},e.prototype.getLightboxUrl=function(){return this.get("lightboxUrl")},e.prototype.getLightboxWidth=function(){return this.get("lightboxWidth")},e.prototype.getLightboxHeight=function(){return this.get("lightboxHeight")},e.prototype.getLightboxHasCloseButton=function(){return this.get("lightboxHasCloseButton")},e.prototype.setLightboxUrl=function(t){this.set("lightboxUrl",t)},e.prototype.setLightboxHeight=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox height is invalid "+t);this.set("lightboxHeight",t)},e.prototype.setLightboxWidth=function(t){if(!this.isLightboxDimensionValid(t))throw new Error("Lightbox width is invalid "+t);this.set("lightboxWidth",t)},e.prototype.setLightboxHasCloseButton=function(t){this.set("lightboxHasCloseButton",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.lightbox,defaults:{lightboxUrl:null,lightboxWidth:720,lightboxHeight:576,lightboxHasCloseButton:!0}})],e)}(u.AbstractActionModel);e.LightboxActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProductActionModel=void 0;var s=a(n(0)),u=n(71),l=n(29),c=n(20),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return this.has("productPanelId")&&!s.default.isEmpty(this.get("productPanelId"))},e.prototype.getProductPanelId=function(){return this.get("productPanelId")},e.prototype.setProductPanelId=function(t){this.set("productPanelId",t)},e=o([l.ActionModelOptions({actionType:c.ActionTypes.product,defaults:{productPanelId:null}})],e)}(u.AbstractActionModel);e.ProductActionModel=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.shoppingCart})],e)}(a.AbstractActionModel);e.ShoppingCartActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.EmailActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.email})],e)}(a.AbstractActionModel);e.EmailActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.facebook})],e)}(a.AbstractActionModel);e.FacebookActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.TwitterActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.twitter})],e)}(a.AbstractActionModel);e.TwitterActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.PinterestActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.pinterest})],e)}(a.AbstractActionModel);e.PinterestActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedInActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.linkedin})],e)}(a.AbstractActionModel);e.LinkedInActionModel=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateActionModel=void 0;var a=n(111),s=n(221),u=n(29),l=n(20),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isCanvasTargetTypeValid=function(e){return!!s.ObjectStateManager.targetSupportsPreviewOnlyMode(e)||(!!e.isFolder()||!!e.supportsObjectStates()&&t.prototype.isCanvasTargetTypeValid.call(this,e))},e.prototype.getStateDisplayName=function(){var t=this.getState(),e=this.getCanvasTargetModels()[0],n=s.ObjectStateManager.getStates(e).find((function(e){return e.value===t}));return n?n.title:""},e.prototype.getState=function(){return this.get("state")},e.prototype.setState=function(t){this.set("state",t)},e.prototype.getLockState=function(){return this.get("lockState")},e.prototype.setLockState=function(t){this.set("lockState",t)},e.prototype.getDisableHoverArea=function(){return this.get("disableHoverArea")||!1},e.prototype.setDisableHoverArea=function(t){this.set("disableHoverArea",t)},e.prototype.getTrigger=function(){return this.parentInteraction.getTrigger()},e.prototype.shouldHaveDisableHoverArea=function(){return"click"===this.getTrigger()},e.prototype.shouldHaveLockState=function(){return"view"!==this.getTrigger()&&"default"!==this.getState()},e=o([u.ActionModelOptions({actionType:l.ActionTypes.changeState,defaults:{state:"default",layerTargets:null,autogenerated:!1,supportsMultipleTargets:!0,lockState:!0}})],e)}(a.AbstractCanvasTargetsActionModel);e.ChangeStateActionModel=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.FullscreenActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e=o([s.ActionModelOptions({actionType:u.ActionTypes.fullscreen})],e)}(a.AbstractActionModel);e.FullscreenActionModel=l},function(t,e,n){"use strict";var i,r,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontActionModel=void 0;var u=n(71),l=n(29),c=n(20),d=n(381),f=s(n(48)),h=n(52),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isValid=function(){return f.default.hasFeature(h.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getReverseOption=function(t){return this.get(t)},e.prototype.setReverseOption=function(t,e){this.set(t,e)},e.prototype.shouldUseClickOptions=function(){return"click"===this.parentInteraction.getTrigger()},e=a([l.ActionModelOptions({actionType:c.ActionTypes.bringToFront,defaults:(r={},r[d.BringToFrontReverseOption.unhover]=!0,r[d.BringToFrontReverseOption.resetOthers]=!1,r)})],e)}(u.AbstractActionModel);e.BringToFrontActionModel=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsActionModel=void 0;var s=n(20),u=n(29),l=n(111),c=a(n(48)),d=n(52),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return c.default.hasFeature(d.FeatureFlagName.POSITION_INTERACTIONS)&&t.prototype.isValid.call(this)},e.prototype.getResetObjectStates=function(){return this.get("resetObjectStates")},e.prototype.setResetObjectStates=function(t){this.set("resetObjectStates",t)},e=o([u.ActionModelOptions({actionType:s.ActionTypes.resetPositions,defaults:{resetObjectStates:!1,supportsMultipleTargets:!0}})],e)}(l.AbstractCanvasTargetsActionModel);e.ResetPositionsActionModel=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(742)),u=i(n(743)),l=i(n(437)),c=i(n(745)),d=!1,f="Unknown session ID",h="Op apply failed",p="Request failed",g="General network error",m="stopped",v="connect failed",y=function(){l.default.setOffline(),d&&(d.disconnect(),d=!1)},_={},b={},w=0,T=function(){var t=w++;return b[t]=l.default.push({label:"ShareJSConnection::sentOps"}),t},S=function(t){b[t].resolve(),delete b[t]},O=function(t,e){var n=!1;return o.default.isArray(_[t])&&(n=o.default.some(_[t],(function(t){return e.match(t)}))),n},E={fatalErrorOccurred:!1,initialize:function(){!function(){if(d)return d;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(d=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",E.showError),d.on(v,(function(){E.showError(v)})),d.on(m,(function(){E.showError(m)})),s.default.canBypassErrorDialogs()||u.default.registerObserver((function(){y()})),r.default(window).on("unload",(function(){y()}));var t=sharejs.Doc.prototype.flush;sharejs.Doc.prototype.flush=function(){var e=this.name,n=this.pendingOp,i=!!d&&o.default.some(n,(function(t){var n=t.p.join(".");return!O(e,n)}));if(i){var r=T();this.pendingCallbacks.push((function(t,e){S(r)}))}return t.apply(this,arguments)}}()},getConnection:function(){return d},addToStatusBlacklist:function(t,e){o.default.isEmpty(_[t])&&(_[t]=[]),_[t].push(e)},showError:function(t){var e="",n=null;if(t&&("string"==typeof t?e=t:"string"==typeof t.message&&(e=t.message,n=t)),e){if(e===f)return!1;if(-1!==e.indexOf(h)||o.default.includes([p,g,m,v],e))return c.default.getInstance().show(),!0}return window.onerror(e,null,null,null,n),y(),this.fatalErrorOccurred=!0,!0},handleError:function(t,e){throw t.metadata=o.default.extend({},t.metadata,e),E.showError(t),t},wrapCallback:function(t,e){return t?function(){try{return t.apply(this,arguments)}catch(t){E.handleError(t,o.default.extend({},e,{callerArgs:Array.prototype.slice.call(arguments)}))}}:t},addDocListener:function(t,e,n){var i={snapshot:t.snapshot,docName:t.name,event:e},r=this.wrapCallback(n,i);t.on(e,r)}};e.default=E},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(13)),s=function(t){this.options=r.default.extend({debug:!1,history:100},t||{}),this.queue=[],this.isOnline=!0},u="pending";s.prototype=r.default.extend(a.default.Events,{push:function(t){if(!this.isOnline)throw new Error("Queue is Offline");var e=new o.default.Deferred,n={_c:t,_d:e,_t:new Date};return this.options.debug&&(console.debug("COMMAND PUSHED: "+t.label),e.done((function(){console.debug("COMMAND DONE: "+t.label)})),e.fail((function(){console.debug("COMMAND FAILED: "+t.label)}))),this.queue.push(n),this.trigger("add",{command:t,promise:e.promise()}),e.always(r.default.bind((function(){this.fireEvents()}),this)),e},fireEvents:function(){this.isOnline&&(this.trigger("complete"),this.isEmpty()&&this.trigger("empty"),this.purge())},isEmpty:function(){return r.default.every(this.queue,(function(t){return t._d.state()!==u}))},getPendingCount:function(){return r.default.reduce(this.queue,(function(t,e){return t+(e._d.state()===u?1:0)}),0)},getCompleteCount:function(){return this.queue.length-this.getPendingCount()},setOffline:function(){this.trigger("offline"),this.isOnline=!1},purge:function(){if(null!==this.options.history&&!(this.queue.length<=this.options.history))for(var t=this.queue.length-this.options.history,e=0;t-- >0;)"resolved"===this.queue[e]._d.state()&&this.queue.splice(e,1),e++},_dump:function(){r.default.each(this.queue,(function(t,e){console.debug(e+".  "+t._d.state()+"  "+JSON.stringify(t._c)+"  "+t._t)}))}}),e.default=new s({debug:!1})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={getValidValueForOptions:function(t,e,n){var i=e;if(n){if(n.shouldAdjustValue)if(n.decimalPlaces){var o=Math.pow(10,n.decimalPlaces);i=Math.round(o*(t+e))/o}else i=t+e;!r.default.isNil(n.minValue)&&i<n.minValue&&(i=n.minValue),!r.default.isNil(n.maxValue)&&i>n.maxValue&&(i=n.maxValue)}return i},getValidOpacityValueForOptions:function(t,e,n){return this.getValidValueForOptions(t*n.maxValue,e,n)/n.maxValue},isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontPlusManager=void 0;var l=u(n(440)),c=n(183),d=function(){function t(){this.characterSetsByFamilyGuid=new Map,this.characterSetsFetchingPromises=new Map,this.alreadyComputedCharArray=new Map,this.charToCharSets=new Map,this.alreadyProcessedCharToCharSets=new Set}return t.getInstance=function(){return t.instance=t.instance||new t,t.instance},t.prototype.processModels=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u;return r(this,(function(r){switch(r.label){case 0:e=[];try{for(n=o(t),i=n.next();!i.done;i=n.next())a=i.value,e.push(this.processSingleModel(a))}catch(t){s={error:t}}finally{try{i&&!i.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[4,Promise.all(e)];case 1:return r.sent(),[2]}}))}))},t.prototype.processSingleModel=function(t){return i(this,void 0,Promise,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return e=this.createFontPlusDataSet([t]),[4,this.processFontPlusData(s(e.values()))];case 1:return n.sent(),t.setFontsReady(),[2]}}))}))},t.prototype.createFontPlusDataSet=function(t){var e,n,i,r,a=new Set;try{for(var s=o(t),u=s.next();!u.done;u=s.next()){var l=u.value;try{for(var c=(i=void 0,o(l.getFontPlusData())),d=c.next();!d.done;d=c.next()){var f=d.value;a.add(f)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a},t.prototype.processFontPlusData=function(t){return i(this,void 0,Promise,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return[4,this.processVariantGroup(t)];case 1:return e=n.sent(),[4,this.getBase64Strings(e)];case 2:return n.sent(),[2]}}))}))},t.prototype.processVariantGroup=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,u,c,d,f,h,p,g;return r(this,(function(r){switch(r.label){case 0:return e=s(new Set(t.map((function(t){return t.variantGuid})))),n=[],e.length>0?[4,l.default.loadFontPlusCharacterSetsByVariantGuid(e)]:[3,9];case 1:if(!(i=r.sent()))return[3,9];r.label=2;case 2:r.trys.push([2,7,8,9]),a=o(i),u=a.next(),r.label=3;case 3:return u.done?[3,6]:(c=u.value,f=(d=n).concat,[4,this.processCharSetGroup(t,c)]);case 4:n=f.apply(d,[r.sent()]),r.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return h=r.sent(),p={error:h},[3,9];case 8:try{u&&!u.done&&(g=a.return)&&g.call(a)}finally{if(p)throw p.error}return[7];case 9:return[2,s(new Set(n))]}}))}))},t.responseToFontPlusCharacterSet=function(t){var e,n;return{base64FileUrl:t.base64FileUrl,creationDate:t.creationDate,cssFamilyName:null!==(e=t.cssFamilyName)&&void 0!==e?e:t.familyName,fontPlusUploadVariantsId:t.fontPlusUploadVariantsId,id:t.id,language:t.language,unicodeRange:t.unicodeRange,version:t.version,woff2FileUrl:t.woff2FileUrl,woffFileUrl:t.woffFileUrl,variantGuid:null!==(n=t.variantGuid)&&void 0!==n?n:c.FontUtil.buildGoogleVariantGuid(t.familyName,t.variant),rangeCharArray:t.rangeCharArray,base64Content:t.base64Content,isLoading:!1}},t.prototype.processCharSetGroup=function(e,n){return i(this,void 0,Promise,(function(){var i,a,u,l,c,d,f,h,p,g,m,v,y,_,b,w,T,S,O,E,P,C,A,x,I,k,M;return r(this,(function(r){switch(r.label){case 0:i=[],a=new Set;try{for(u=o(n),l=u.next();!l.done;l=u.next())if(S=l.value,!this.alreadyProcessedCharToCharSets.has(S.variantGuid)){a.add(S.variantGuid),void 0===S.rangeCharArray&&((c=t.responseToFontPlusCharacterSet(S)).rangeCharArray=t.generateUnicodeRange(S.unicodeRange),S=c),d=S.rangeCharArray;try{for(C=void 0,f=o(d),h=f.next();!h.done;h=f.next())p=h.value,g=this.charToCharSets.get(p)||[],this.charToCharSets.set(p,g.concat(S))}catch(t){C={error:t}}finally{try{h&&!h.done&&(A=f.return)&&A.call(f)}finally{if(C)throw C.error}}}}catch(t){E={error:t}}finally{try{l&&!l.done&&(P=u.return)&&P.call(u)}finally{if(E)throw E.error}}this.alreadyProcessedCharToCharSets=new Set(s(this.alreadyProcessedCharToCharSets,a));try{for(m=o(e),v=m.next();!v.done;v=m.next())for(y=v.value,_=0;_<y.content.length;_++){b=y.content[_];try{for(k=void 0,w=o(this.charToCharSets.get(b)||[]),T=w.next();!T.done;T=w.next())S=T.value,O=t.getMapKey(y.variantGuid,S.language),S.rangeCharArray.has(b)&&this.processChar(O,S,b)&&i.push(O)}catch(t){k={error:t}}finally{try{T&&!T.done&&(M=w.return)&&M.call(w)}finally{if(k)throw k.error}}}}catch(t){x={error:t}}finally{try{v&&!v.done&&(I=m.return)&&I.call(m)}finally{if(x)throw x.error}}return i.length<1?[4,this.loadAnyCharSetIfNoCharactersMatch(e)]:[3,2];case 1:return[2,r.sent()];case 2:return[2,i]}}))}))},t.prototype.loadAnyCharSetIfNoCharactersMatch=function(e){return i(this,void 0,Promise,(function(){var n,i,a,s,u,c,d,f,h,p,g,m,v,y,_,b,w,T,S;return r(this,(function(r){switch(r.label){case 0:n=[],r.label=1;case 1:r.trys.push([1,6,7,8]),i=o(e),a=i.next(),r.label=2;case 2:return a.done?[3,5]:(s=a.value,[4,l.default.loadFontPlusCharacterSetsByVariantGuid([s.variantGuid])]);case 3:u=r.sent(),c=t.getMapKey(s.variantGuid,"NO_MATCHING_CHARACTER_SETS");try{for(b=void 0,d=o(u),f=d.next();!f.done;f=d.next()){h=f.value;try{for(T=void 0,p=o(h),g=p.next();!g.done;g=p.next())if(m=g.value){m.unicodeRange="U+0-10FFFF",this.characterSetsByFamilyGuid.set(c,m),n.push(c);break}}catch(t){T={error:t}}finally{try{g&&!g.done&&(S=p.return)&&S.call(p)}finally{if(T)throw T.error}}}}catch(t){b={error:t}}finally{try{f&&!f.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}}r.label=4;case 4:return a=i.next(),[3,2];case 5:return[3,8];case 6:return v=r.sent(),y={error:v},[3,8];case 7:try{a&&!a.done&&(_=i.return)&&_.call(i)}finally{if(y)throw y.error}return[7];case 8:return[2,n]}}))}))},t.prototype.processChar=function(t,e,n){var i=this.characterSetsByFamilyGuid.has(t),r=t.includes(e.variantGuid);!i&&r&&this.characterSetsByFamilyGuid.set(t,e);var o,a=this.alreadyComputedCharArray.get(n);return o=a&&!a.includes(t)?s(a,[t]):a||[t],this.alreadyComputedCharArray.set(n,o),r},t.getMapKey=function(t,e){return e?t+"--"+e:t},t.prototype.getBase64Strings=function(t){return i(this,void 0,Promise,(function(){var e,n,i,a,s,u,l,c;return r(this,(function(r){switch(r.label){case 0:e=[],n=function(t){var n=i.characterSetsFetchingPromises.get(t);if(n)e.push(n);else{var r=i.characterSetsByFamilyGuid.get(t);if(r){r.isLoading=!0;var o=fetch(r.base64FileUrl).then((function(t){return t.text()})).then((function(t){r.base64Content=t,r.isLoading=!1}));i.characterSetsFetchingPromises.set(t,o),e.push(o)}}},i=this;try{for(a=o(t),s=a.next();!s.done;s=a.next())u=s.value,n(u)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=a.return)&&c.call(a)}finally{if(l)throw l.error}}return[4,Promise.all(e)];case 1:return r.sent(),[2]}}))}))},t.generateUnicodeRange=function(t){var e,n,i=new Set,r=t.split(","),a=/U\+([0-9a-fA-F]+)\-([0-9a-fA-F]+)/,u=/U\+([0-9a-fA-F]+)/;try{for(var l=o(r),c=l.next();!c.done;c=l.next()){var d=c.value,f=(d=d.trim()).match(a);if(f&&f.length>2){for(var h=parseInt("0x"+f[1]),p=parseInt("0x"+f[2]),g=[],m=h;m<=p;m++)g.push(String.fromCharCode(m));i=new Set(s(i,g))}else{var v=d.match(u);if(v&&v.length>0){var y=parseInt("0x"+v[1]);i.add(String.fromCharCode(y))}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return i},t.prototype.getCharacterSetsByModel=function(e){var n,i,r,a,s,u,l,c,d,f,h=this,p=[],g=new Set,m=e.getVariantGuidsInUse();try{for(var v=o(e.fontPlusData),y=v.next();!y.done;y=v.next()){var _=y.value;try{for(var b=(r=void 0,o(_.content)),w=b.next();!w.done;w=b.next()){var T=w.value;g.has(T)||g.add(T)}}catch(t){r={error:t}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(r)throw r.error}}}}catch(t){n={error:t}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var S=function(e){var n=t.getMapKey(e,"NO_MATCHING_CHARACTER_SETS"),i=h.characterSetsByFamilyGuid.get(n);i&&p.indexOf(i)<0&&p.push(i)};try{for(var O=o(g),E=O.next();!E.done;E=O.next()){T=E.value;var P=this.alreadyComputedCharArray.get(T);if(P&&P.length>0)try{for(var C=(l=void 0,o(P)),A=C.next();!A.done;A=C.next()){var x=A.value,I=x.split("--")[0];if(m.indexOf(I)>-1){var k=this.characterSetsByFamilyGuid.get(x);k&&p.indexOf(k)<0?p.push(k):S(I)}}}catch(t){l={error:t}}finally{try{A&&!A.done&&(c=C.return)&&c.call(C)}finally{if(l)throw l.error}}}}catch(t){s={error:t}}finally{try{E&&!E.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}if(0===p.length)try{for(var M=o(m),R=M.next();!R.done;R=M.next()){S(R.value)}}catch(t){d={error:t}}finally{try{R&&!R.done&&(f=M.return)&&f.call(M)}finally{if(d)throw d.error}}return p},t}();e.FontPlusManager=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(749)),s=n(195),u=n(85),l=function(){this.setAPIManager(new a.default)};l.prototype={FILTER:{CATEGORY:"category",NAME:"family"},SORT:{ALPHABETICAL:"family"},setAPIManager:function(t){return this.apiManager=t,this},execute:function(t,e){var n=new o.default.Deferred,i=[],a=new s.FontCollection,u=this.filterAPIs(this.apiManager.getAPIs(),e);return r.default.each(u,(function(e){var n=e.execute(t);n.done((function(t){a.add(t)})),i.push(n)})),o.default.when.apply(o.default,i).done((function(){t.sortPropertyName&&a.sort(t.sortPropertyName,t.isDescending()),n.resolve(a)})).fail((function(){n.reject()})),n.promise()},filterAPIs:function(t,e){return r.default.omit(t,e)},loadFamiliesByVariantGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByVariantGuids(t,e):(new o.default.Deferred).resolve(new s.FontCollection)},loadFontPlusCharacterSetsByVariantGuid:function(t){return t&&0!==t.length?this.apiManager.loadFontPlusCharacterSetsByVariantGuid(t):Promise.resolve([])},loadFamiliesByFamilyGuids:function(t,e){return t&&0!==t.length?this.apiManager.loadFamiliesByFamilyGuids(t,e):(new o.default.Deferred).resolve(new s.FontCollection)},loadFontVariant:function(t,e){return this.loadFamiliesByVariantGuids([t],e).then((function(e){return e.getFontVariantByVariantGuid(t)}))},getMetrics:function(t){return this.loadFontVariant(t).then((function(t){return t.getMetrics()}))},loadMetricsForDefaultFont:function(){return this.getMetrics(u.FontConstants.DEFAULT_FONT_VARIANT_GUID)},updateMetrics:function(t){return t&&0!==t.length?this.apiManager.updateMetrics(t):(new o.default.Deferred).resolve()}};var c=null;e.default=(null===c&&(c=new l),c)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UploadedFontAPI=void 0;var a=o(n(0)),s=o(n(3)),u=o(n(8)),l=n(193),c=n(195),d=n(315),f=n(85),h=o(n(55)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=f.FontConstants.UPLOADED_API_ID,e.FONTLOADER_KEY="custom",e.FONT_URL="/rest/v1/account/"+u.default.accountSlug+"/font-upload",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.parseResults=function(t){return this.createFontCollection(t)},e.prototype.buildWebLoaderObjectForFamilies=function(t){var e=this,n=[],i="",r=[];return a.default.each(t.getFontFamilies(),(function(t,o){t.api===e.ID&&(""!==i&&(i+=","),i+=t.getGuid(),a.default.each(t.variants,(function(t){t.cssFamilyName&&n.push(t.cssFamilyName)})),(o+1)%20==0&&(r.push(h.default.appendQueryParams(e.FONT_URL+"/css",{family:i})),i=""))})),i&&r.push(h.default.appendQueryParams(this.FONT_URL+"/css",{family:i})),{families:n,urls:r}},e.prototype.loadFamiliesByFamilyGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByFamilyGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{familyGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.loadFamiliesByVariantGuids=function(t,e){var n,i=this,r=new c.FontCollection;return 0===(n=e?t:a.default.filter(t,(function(t){var e=i.fontCollection.getFontFamilyByVariantGuid(t);return!e||(r.add(e),!1)}))).length?s.default.Deferred().resolve(r):s.default.post(this.FONT_URL,{variantGuids:n}).then((function(t){var e=i.createFontCollection(t);return i.fontCollection.add(e),r.add(e),r}))},e.prototype.createFontCollection=function(t){var e=this,n=new c.FontCollection;return a.default.each(t,(function(t){var i=n.getFontFamilyByFamilyGuid(t.guid);i||(i=e.createFamily(t.familyName,t.guid,t.crossAccount)),a.default.each(t.variants,(function(t){e.addVariant(i,t)})),i.sortVariantsByName(),n.addFontFamily(i)})),n},e.prototype.createFamily=function(t,e,n){return new l.FontFamily({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},e.prototype.addVariant=function(t,e){return t.addVariant(e.variantName,{familyName:t.family,fontWeight:f.FontConstants.DEFAULT_FONT_WEIGHT,fontStyle:f.FontConstants.DEFAULT_FONT_STYLE,guid:e.guid,metricsUrl:e.metricsFileURL,cssFamilyName:e.cssFamilyName})},e.prototype.getFontPlusCharacterSets=function(t){return Promise.resolve([])},e}(d.AbstractFontAPI);e.UploadedFontAPI=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusCommand=void 0;var a=o(n(109)),s=o(n(389)),u=o(n(390)),l=n(94),c=n(316),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.createLink=function(n){var i,r,o=this.editor.commands.get(s.default.pluginName),a=this.editor.commands.get(u.default.pluginName);null===(i=o)||void 0===i||i.execute(!0,!0),null===(r=a)||void 0===r||r.execute(e.LinkColor,!0),t.prototype.execute.call(this,n,!0)},e.prototype.updateLink=function(e){var n=this.editor.editing.view,i=this.editor.editing.mapper,r=n.document.selection,o=c.isSelectionInsideOneLink(r);if(o){var a=this.editor.model,s=i.toModelRange(n.createRangeOn(o)),u=Array.from(a.schema.getValidRanges([s],l.TextPlusCommands.LINK));t.prototype.execute.call(this,e,!0,u)}},e.prototype.removeLink=function(){var e,n,i=this.editor.editing.view,r=this.editor.editing.mapper,o=i.document.selection,a=c.isSelectionInsideOneLink(o);if(a){var d=this.editor.commands.get(s.default.pluginName),f=this.editor.commands.get(u.default.pluginName),h=this.editor.model,p=r.toModelRange(i.createRangeOn(a)),g=Array.from(h.schema.getValidRanges([p],l.TextPlusCommands.LINK));null===(e=d)||void 0===e||e.execute(!1,!0,g),null===(n=f)||void 0===n||n.execute(void 0,!0,g),t.prototype.execute.call(this,void 0,!0,g)}},e.LinkColor="#0000FF",e}(a.default);e.LinkPlusCommand=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type||this.isMaskGroup()},t.prototype.isMaskGroup=function(){return this.model&&"mask-group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var r=new Map;e.default={find:function(t,e){return r.has(t)||function(t){r.set(t,new Map);var e=function(n){var o,a;try{for(var s=i(n),u=s.next();!u.done;u=s.next()){var l=u.value;r.get(t).set(l.id,l),l.childViews&&e(l.childViews)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}};e(t)}(t),r.get(t).get(e)||null},reset:function(){r.clear()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentView=void 0;var s=n(132),u=a(n(194)),l=n(155),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.id="hover-area-"+n.options.component.id,n.disabled=!1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.$el.attr("id",this.id),this.$el.css("pointer-events","none"),this.$el.css("position","absolute"),void 0!==this.options.component.zIndex&&this.setZIndex(this.options.component.zIndex+1),this.setWidthAndHeight(),this.updatePosition(),this.updateRotation(),this.renderBorder(),this},e.prototype.renderBorder=function(){var t=this.options.component.options.border;t&&(t.width&&(this.$el.css("borderWidth",t.width+"px"),this.$el.css("borderStyle","solid"),this.$el.css("borderColor","transparent")),this.$el.css("borderRadius",this.options.component.getBorderRadius(t)))},e.prototype.setInitialZIndex=function(t){this.setZIndex(t),this.zIndex=t,this.currentZIndex=t},e.prototype.setZIndex=function(t){this.$el.css("z-index",t),this.currentZIndex=t},e.prototype.setWidthAndHeight=function(){this.$el.css("width",this.options.component.options.width),this.$el.css("height",this.options.component.options.height)},e.prototype.updatePosition=function(){this.$el.css("left",this.options.component.options.x+"px"),this.$el.css("top",this.options.component.options.y+"px")},e.prototype.updateRotation=function(){this.options.component.options.rotation&&l.CssUtils.setTransformToElement(this.$el,{rotate:this.options.component.options.rotation})},e.prototype.isDisabled=function(){return this.disabled},e.prototype.disableHoverArea=function(t){this.disabled=!0,this.deactivate(),t._configureInteractions()},e.prototype.enableHoverArea=function(t){this.activate(),this.disabled=!1,t._configureInteractions()},e.prototype.activate=function(){this.getHoverAreaTarget().css("pointer-events","all")},e.prototype.deactivate=function(){this.getHoverAreaTarget().css("pointer-events","none")},e.prototype.isHovered=function(t){var e=this.getHoverAreaTarget()[0];return!!((null==e?void 0:e.matches(":hover"))||t&&t.target&&t.target===e)},e.prototype.getHoverAreaTarget=function(){return this.$el},e=o([s.BackboneShim({className:"hover-area"})],e)}(u.default);e.HoverAreaComponentView=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(24)),s=i(n(125)),u=i(n(8)),l=i(n(141)),c=i(n(106)),d=i(n(447)),f=i(n(84)),h=i(n(295)),p=i(n(55)),g=n(241),m=["sdk.experience.analytics.get.user.consent","sdk.experience.analytics.user.consent.granted","sdk.experience.analytics.user.consent.denied","sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],v=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},y=function(t,e){var n={name:"ceros.sdk.player:"+t,version:"1.1.0",params:e};u.default.isEmbedded&&v(parent,n),v(window,n)},_=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf("ceros.sdk.player:")){var e,n,i={};try{i=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(i.name){if(i.name=(e=i.name,n=new RegExp("^ceros.sdk.player:"),e.replace(n,"")),-1===m.indexOf(i.name))return void a.default.debug("Received message that is not an SDK event: "+i.name);l.default.trigger(i.name,i.params)}}},b=function(){var t={},e=function(e,n,i){i&&!o.default.isEmpty(i)&&o.default.each(i,(function(i){t[i]||(t[i]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[i][e].push(n)}))};this.addPageTags=function(t,n){e("pages",t,n)},this.addSyncedObjectTags=function(t,n){e("syncedObjects",t,n),e("smartgroups",t,n)},this.addLayerTags=function(t,n){e("layers",t,n)},this.addComponentTags=function(t,n){e("components",t,n)},this.getTags=function(){return t}};t=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,n){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",_);var i=this.buildExperienceData(t,e,n);this.experienceID=t.get("slug"),this.registerEvents(),y("ready",i)}},buildExperienceData:function(t,e,n){var i=new b,r=this.buildPages(e,i),o=this.buildSyncedObjects(e.get("smartgroups"),i),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:i.getTags(),userToken:n};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var n=[],i=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=i.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),n.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),n},buildPages:function(t,e){var n=[];return o.default.each(t.getPages(),o.default.bind((function(i,r){var o=[];i.get("layerHierarchies")&&(o=this.buildLayers(i.get("layerHierarchies")[f.default.getVariant()],e,i.getSlug(),i.get("layerDictionary"))),n.push({pageSlug:i.getSlug(),pageNumber:i.getPageIndex()+1,payload:i.getSdkPayload(),tags:i.getSdkTags(),layers:o,width:i.getPageWidth(t),height:i.getPageHeight(t),enabled:!i.getDisabled()}),e.addPageTags(i.getSlug(),i.getSdkTags())}),this)),n},buildLayers:function(t,e,n,i,r){var s=[],u=this;return t&&o.default.each(t,(function(t){var l=function t(s){var l=s.items,c=o.default.cloneDeep(i[s.id]);if(c){if(r&&(c.parentSmartGroup=r),h.default.reconcileComponentForCurrentVariant(c),c.items=l,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:n,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(e){var n=t(e);n&&d.push(n)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:n,type:c.type}}return u.buildComponent(c,e,n)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:s})}(t);l&&s.push(l)})),s},buildComponent:function(t,e,n){var i,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":i="hotspot";break;case"image-component":i="image";break;case"line-component":i="line";break;case"shape-component":i="shape";break;case"text-component":i="text";break;case"video-widget":i="video"}var o={id:r,type:i,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:n};return"text"===i&&(o.textContent=t.textContent),"image"===i&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this)),l.default.on("sdk.experience.analytics.get.user.consent",o.default.bind((function(){this.getUserConsentForAnalytics()}),this))},announcePageChanged:function(t){y("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){y("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){y("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),y("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";y("context.value.response",{variableName:t,variableValue:e})},getUserConsentForAnalytics:function(){var t=p.default.getExperiencePath(),e=g.AnalyticsLocalStorage.getUserConsent(t);y("user.consent",{consent:e,experienceId:this.experienceID})},announceScrollTo:function(t){y("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){y("timed.interaction.fired",t)},getNewTagMap:function(){return new b}}});e.default=t},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(13)),s=i(n(8)),u=i(n(24)),l=i(n(279)),c=i(n(788)),d=i(n(378)),f=i(n(449)),h=i(n(450)),p=i(n(791)),g=i(n(236)),m=i(n(237)),v=i(n(84)),y=i(n(295)),_=n(792),b=n(830),w=i(n(48)),T=i(n(8)),S=i(n(832)),O=i(n(834)),E=i(n(836)),P=i(n(110)),C=n(456),A={},x=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex,this.layerOpBuilder=null,this.layerDocPersister=null,this.layerDictionaryAndHierarchyService=null},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),n=t.getExperienceHeight();return e>n?e:n},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,n){if(e)throw u.default.error(e),t.reject(e),Error(e);w.default.isEditorEnabled()&&(this.layerOpBuilder=new _.EditorLayerOpBuilder(n),this.layerDocPersister=new b.EditorLayerDocPersister(n,this.layerOpBuilder),this.layerDictionaryAndHierarchyService=new S.default({layerDictionary:new O.default({doc:n}),layerHierarchies:new E.default({doc:n}),layerSaveHandler:function(){},layerOpBuilder:this.layerOpBuilder}),P.default.setDocumentVersion({doc:n})),n.on("remoteop",o.default.bind((function(t){this._processRemoteOps(n,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(n),this.setDocSnapshotAndReconciledLayers(n.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,n)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var n=this,i=[],r=v.default.getVariant();return o.default.reduce(t,(function(t,i){var a=o.default.cloneDeep(e[i.id]);return a&&(y.default.reconcileComponentForVariant(r,a),i.items&&i.items.length>0&&(a.items=n.reconcileLayers(i.items,e)),t.push(a)),t}),i),n.setReconciledVariant(r),i},getScranchorsForCurrentVariant:function(){var t=v.default.getVariant(),e=this.get("scranchors");"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e);return e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[v.default.getVariant()],e=this.get("layerDictionary"),n=this.reconcileLayers(t,e);this.set("layers",n)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return m.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,n=t||e.get("layers")||[];o.default.each(n,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?e.resolveSmartgroupsAndMedia(t.items):e.resolveObjectMedia(t),t})),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.triggerReload(t)}),this))},resolveSmartgroupReference:function(t){var e=this,n=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);n?t.layers=o.default.map(n.layerHierarchies.desktop,o.default.bind((function(i){return i=function i(a){var s=n.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=x.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,i):e.resolveObjectInSmartgroup(a,t.id),a}(i)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return x.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":if(e=g.default.get(t.convertedVectorImage||t.image),T.default.previewMode&&t.convertedVectorImage&&!e){var n=g.default.get(t.image);n&&(e=n)}e&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":if((e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video),t.closedCaption){var i=g.default.get(t.closedCaption);i&&(t.closedCaptionsUrl=i.url)}break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode();break;case"text-plus-component":t.fontLoader=new d.default(t)}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var n={},i=!1,o=!1,a=0;a<e.length;a++){var s=e[a];if(h.default.isLayerHierarchiesMoveOrDelete(s))o=!0;else if(!h.default.isLayerDictionaryDelete(s)&&!h.default.isBlacklistedPagePropertyForPreviewOps(s)){var u=h.default.getComponentFromOp(t,s);if(u&&delete A[u.id],h.default.isMediaReloadRequiredForComponent(s,u)){i=!0;break}!u||h.default.isPageReloadRequiredForComponent(s,u)?o=!0:n[u.id]=JSON.parse(JSON.stringify(u))}}i?this.refetchMedia(t):o?this.triggerPageReload(t):window.cerosContext.isEditor?r.default(document).trigger(C.EditorPageReloadEvent.PAGE_MODEL_REMOTE,[this,t,n]):this.triggerEventForEachComponent(n)},triggerEventForEachComponent:function(t){o.default.each(t,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},triggerReload:function(t){window.cerosContext.isEditor?r.default(document).trigger(C.EditorPageReloadEvent.PAGE_MODEL_RELOAD,[this,t]):this.trigger("reload")},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var n=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[v.default.getVariant()]),e.layerDictionary);this.set("layers",n)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.triggerReload(t)},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var n=e||this.get("layerDictionary"),i=o.default.filter(n,"smartgroupId");return o.default.reduce(i,o.default.bind((function(e,n){var i=this.getSmartgroupLayerDictionary(n.smartgroupId);return o.default.some(i,(function(e){return e.id===t}))&&e.push(x.buildSmartgroupInstanceObjectId(n.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!A.hasOwnProperty(t)){var e=function(n){for(var i=0;i<o.default.get(n,"length");++i){if(n[i].id===t)return n[i];if(n[i].items||n[i].layers){var r=n[i].items||n[i].layers,a=e(r);if(a)return a}}return null};A[t]=e(this.get("layers"))}return A[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(x.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,n=0;n<o.default.get(t,"items.length",0);++n){var i=t.items[n];"folder"===i.type&&(i=x.findTopmostFolderContent(i)),e?i.y===e.y?e=i.y<e.y?i:e:i.y<e.y&&(e=i):e=i}return e}});o.default.extend(x.prototype,f.default),e.default=x},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(24)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(84));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var n=this.get("overrides");return r.default.get(n,[e,t])}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(84)),a=i(n(451)),s=i(n(8)),u=["image","background","backgroundHasBeenSet","crop"],l=["video","poster"],c=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var n=this.getLayerTypeFromLayer(e);if(r.default.includes(["smartgroup_definition","folder","group"],n)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t)){return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this))}return!1},isMediaReloadRequiredForOp:function(t,e){var n=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,n)},someOpPropertySuchThat:function(t,e){var n=o.default.getVariant();if("desktop"===n)return e(this.getPropertyNameFromPath(t.p));var i=this.getPropertyNamesFromOverridesOp(t,n);return r.default.some(i,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;if(this.isComponentCreation(t))return!0;if(this.isComponentUpdate(t)){var n=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(n=!0)})),this.someOpPropertySuchThat(t,(function(t){"video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"mask-group"===e.type||"blendingMode"===t||"fixedPosition"===t?n=!0:"image-component"!==e.type||!r.default.get(e,"maskInfo.maskedObjectId")||"flipHorizontal"!==t&&"flipVertical"!==t?("editable"===t||s.default.editMode&&"text-component"===e.type&&"textSpans"===t)&&(n=!0):n=!0})),n}throw"Wrong Op Type passed"}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&(2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od))},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&("layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi))},isComponentUpdate:function(t){return!!r.default.isArray(t.p)&&(!!a.default.isUpdateForLazyAddedField(t)||!(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var n=t.oi[e],i=t.od[e],o=r.default.union(r.default.keys(n),r.default.keys(i));return r.default.filter(o,(function(t){return!r.default.isEqual(n[t],i[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var n=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,n)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?"smartgroup_definition":void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(u,e):"video-widget"===t.type&&r.default.includes(l,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(c,t.p[0]))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(291),a=n(216),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),n=s[e];t.od&&!t.oi?t.oi=n:t.oi&&!t.od&&(t.od=n)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(320)),s=i(n(110)),u=i(n(451)),l=[],c=null;function d(){if(l.length>0){var t=l.shift(),e=o.default.map(t.ops,(function(e){return e.batchId=t.batchId,e}));t.doc.submitOp(e,(function(){t.promise.resolve()})),clearTimeout(c),c=null,l.length>0&&(c=o.default.defer(d))}}e.default={submitOpsInBatches:function(t,e){var n=a.default(),i=o.default.chunk(e,100),s=[];return o.default.each(i,(function(e){var i=r.default.Deferred();s.push(i),l.push({batchId:n,doc:t,ops:e,promise:i})})),t.emit("batch:start",n),null===c&&d(),r.default.when.apply(r.default,s).done((function(){t.emit("batch:done",n)})).fail((function(){t.emit("batch:fail",n)})),s},isDocVersionVariantCreateOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isDocVersionVariantDeleteOp:function(t,e){return!(!e.isDocumentModel()||1!==t.p.length||"overrides"!==t.p[0])&&o.default.keys(t.oi).length<o.default.keys(t.od).length},isPageVariantCreateOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length>o.default.keys(t.od).length},isPageVariantDeleteOp:function(t,e){return!e.isDocumentModel()&&1===t.p.length&&"overrides"===t.p[0]&&o.default.keys(t.oi).length<o.default.keys(t.od).length},getCreatedVariantName:function(t){return o.default.difference(o.default.keys(t.oi),o.default.keys(t.od))[0]},getDeletedVariantName:function(t){return o.default.difference(o.default.keys(t.od),o.default.keys(t.oi))[0]},getPropertyBeingUpdatedInAPageDocOp:function(t){return this.isOpUpdatingOverrides(t)&&1!==t.p.length?t.p[2]:t.p[0]},isOpUpdatingOverrides:function(t){return"overrides"===t.p[0]},isOpForDifferentLayout:function(t,e){return!!s.default.adaptiveLayoutsEnabled()&&(this.isOpUpdatingOverrides(t)&&t.p.length>1?t.p[1]!==e:"desktop"!==e)},isLayerDictionaryInsertionOrDeletionOp:function(t){return!u.default.isUpdateForLazyAddedField(t)&&(t.p.indexOf("layerDictionary")>-1&&(o.default.isUndefined(t.od)||o.default.isUndefined(t.oi)))},isLayerHierarchyOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerHierarchies")&&t.p[1]!==e},isLayerDictionaryOpForDifferentLayout:function(t,e){return 0===t.p.indexOf("layerDictionary")&&this.getChangedVariant(t)!==e},getChangedVariant:function(t){var e="desktop";if(!s.default.adaptiveLayoutsEnabled())return e;if(0===t.p.indexOf("layerDictionary")){var n=t.p.indexOf("overrides");if(-1===n)return e;-1!==n&&t.p.length>n+1?e=t.p[n+1]:this.isLayerDictionaryInsertionOrDeletionOp(t)?(t.oi&&(e=o.default.keys(t.oi)[0]),t.od&&(e=o.default.keys(t.od)[0])):t.p.length===n+1&&o.default.each(t.oi,(function(n,i){if(t.od&&!o.default.isEqual(n,t.od[i]))return e=i,!1}))}else 0===t.p.indexOf("layerHierarchies")&&(e=t.p[1]);return e},isLayerDictionaryWholeObjectChangeOp:function(t){return 0===t.p.indexOf("layerDictionary")&&2===t.p.length||2===t.p.indexOf("layerDictionary")&&4===t.p.length},isDocVersionPageCreateOrDeleteOp:function(t){return!!t&&(2===t.p.length&&"editorPagesManifest"===t.p[0]&&o.default.isNumber(t.p[1])&&(!o.default.isUndefined(t.li)||!o.default.isUndefined(t.ld)))},isSyncedPropertyChangeFromList:function(t,e){return!!t&&(0===t.p.indexOf("layerDictionary")&&3===t.p.length&&e.indexOf(t.p[2])>-1||void 0)},setOpValues:function(t,e,n){var i=e.element[e.key];o.default.isArray(e.element)?(t.li=n,o.default.isUndefined(i)||(t.ld=i)):o.default.isObject(e.element)&&(t.oi=n,o.default.isUndefined(i)||(t.od=i))},opPathStartsWith:function(t,e){var n=t.join("/")+"/",i=e.join("/")+"/";return 0===n.indexOf(i)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(796)),a=i(n(8)),s=i(n(67)),u=i(n(99)),l=["viewportHeight","viewportWidth","scaleExperienceType"],c=["pageHeight","overHeight"];e.default=u.default.extend({defaults:s.default.CanvasBackgroundModel.defaults,initialize:function(){u.default.prototype.initialize.apply(this,arguments)},set:function(t,e,n){var i={};"object"==typeof t?(i=t,n=e):i[t]=e,this.changedIPAttributes={};var o=r.default.keys(i),a=r.default.difference(o,l.concat(c)),s=r.default.intersection(o,l),d=r.default.pick(i,a);u.default.prototype.set.apply(this,[d,n]);var f=i.overHeight||i.pageHeight||i.height;if(f&&this.setPageOverheight(f),this.documentVersion){var h=r.default.pick(i,s);this.documentVersion.set(h,n)}return o.length>0&&this.notifyChange(i,n),this},get:function(t){switch(t){case"width":case"viewportWidth":return this.documentVersion?this.documentVersion.getExperienceWidth():u.default.prototype.get.apply(this,arguments);case"viewportHeight":return this.documentVersion?this.documentVersion.getExperienceHeight():u.default.prototype.get.apply(this,arguments);case"scaleExperienceType":return this.documentVersion?this.documentVersion.getScaleExperienceType():u.default.prototype.get.apply(this,arguments);case"height":case"pageHeight":return this.page&&this.documentVersion?this.page.getPageHeight(this.documentVersion):u.default.prototype.get.apply(this,arguments);default:return u.default.prototype.get.apply(this,arguments)}},isIncludedInLayerPanel:function(){return!0},setPageOverheight:function(t){this.page&&(this.page.setOverHeight(t),o.default.trackOverHeight({experience_title:a.default.experienceName}))},notifyChange:function(t,e){e=e||{},t=r.default.pick(t,l.concat(c));var n=r.default.keys(t);this.changedIPAttributes=t,n&&n.length>0&&t&&(r.default.each(n,r.default.bind((function(n){this.trigger("change:"+n,this,t[n],e)}),this)),this.trigger("change",this,e))},setPage:function(t){this.page||(this.page=t,this.documentVersion=this.page.documentVersion,this.page.setCanvasBackgroundModel(this),this.page.on("change",r.default.bind(this.onPageChange,this)),this.documentVersion.on("change",r.default.bind(this.onDocumentVersionChange,this)))},onPageChange:function(t,e){var n=r.default.pick(t.changedAttributes(),c);n.overHeight&&(n.pageHeight=n.overHeight,delete n.overHeight),this.notifyChange(n,e)},onDocumentVersionChange:function(t,e){var n=r.default.pick(t.changedAttributes(),l);this.notifyChange(n,e)},setFromCanvasBackgroundModel:function(t){var e=this.getSupported(),n={};r.default.each(e,(function(e){n[e]=t.get(e)})),this.set(n),this.save()},getSupported:function(){return s.default.CanvasBackgroundModel.supported},getDisplayLabel:function(){return"Canvas Settings"},isResizable:function(){return!1},isDeletable:function(){return!1},isCopiable:function(){return!1},isGroupable:function(){return!1},isMoveable:function(){return!1},isUserSelectable:function(){return!1},isFocusable:function(){return!1},isLockable:function(){return!1},isVisible:function(){return!0},setVisible:function(){return this},isInteractable:function(){return!1},highlight:function(){return this.rubberBandHighlighted=!1,this},isCanvasBackgroundModel:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(99)),a=n(313);e.default=o.default.extend({defaults:r.default.AbstractFormModel.defaults,getSupported:function(){return r.default.AbstractFormModel.supported},getSupportedInteractionTriggers:function(){return[a.InteractionModel.TRIGGER_TYPES.SUBMIT]},getDisplayLabel:function(){return"External Form"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathModel=void 0;var c=l(n(0)),d=u(n(93)),f=l(n(157)),h=l(n(99)),p=l(n(67)),g=n(814),m=n(132),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDrawingALineFromEndpoint=!0,e.MINIMUM_WIDTH=1,e.MINIMUM_HEIGHT=1,e}var n;return r(e,t),n=e,e.prototype.addEdgePointAsPathPoint=function(t){if(null===t)return 0;var e=this.get("path").slice(),n=t.index;return e.splice(n,0,g.CustomPathUtils.convertEdgePointToPath(t)),this.set({path:e}),n},e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.isResizable=function(){return!0},e.prototype.mustBeConstrained=function(){return!0},e.prototype.findClosestEndpoint=function(t){for(var e=Number.MAX_VALUE,n=0,i=this.get("path"),r=0;r<i.length;r++){var o=d.distance(i[r],t);o<e&&(n=r,e=o)}return n},e.prototype.addPoint=function(t){var e,n=this.get("path").slice(),i={x:Math.round(t.x),y:Math.round(t.y)};return this.isDrawingALineFromEndpoint?(n.push(i),e=n.length-1):(n.unshift(i),e=0),this.set({path:n}),e},e.prototype.addPointToPath=function(t,e){return t.push({x:e.x,y:e.y}),t},e.prototype.updateControlPointsForNewEndpoint=function(t){var e=this.get("path").slice(),n=this.getPreviewSegmentStartingPointIndex(e),i=e[n].x,r=e[n].y,o=t.x-i,a=t.y-r;e[n]=this.getUpdatedControlPointForNewEndpoint(e[n],i,r,o,a),this.set({path:e})},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return this.isDrawingALineFromEndpoint?(t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r):(t.cx1=e+i,t.cy1=n+r,t.cx2=e-i,t.cy2=n-r),t},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return this.isDrawingALineFromEndpoint?t.length-1:0},e.prototype.getPreviewSegmentEndingPointIndex=function(t){return this.isDrawingALineFromEndpoint?0:t.length-1},e.prototype.moveEndpoint=function(t){var e=t.getWhichPoint(),n=t.getEndPoint().x-t.getStartPoint().x,i=t.getEndPoint().y-t.getStartPoint().y,r=t.getPath(),o=c.default.cloneDeep(r);o[e].x=Math.round(r[e].x+n),o[e].y=Math.round(r[e].y+i),g.CustomPathUtils.hasControlPoints(r[e])&&(o[e].cx1=Math.round((r[e].cx1||0)+n),o[e].cy1=Math.round((r[e].cy1||0)+i),o[e].cx2=Math.round((r[e].cx2||0)+n),o[e].cy2=Math.round((r[e].cy2||0)+i)),this.set({path:o})},e.prototype.moveControlPoint=function(t){var e=t.getEndPoint().x-t.getStartPoint().x,n=t.getEndPoint().y-t.getStartPoint().y,i=t.getWhichPoint(),r=t.getWhichControlPoint(),o="cx"+r,a="cy"+r,s=t.getPath(),u=c.default.cloneDeep(s);if(g.CustomPathUtils.hasControlPoints(s[i])){var l=s[i][o]||0,f=s[i][a]||0;if(u[i][o]=Math.round(l+e),u[i][a]=Math.round(f+n),t.shouldMoveBothControlPoints()){var h={x1:s[i].x,y1:s[i].y,x2:s[i][o]||0,y2:s[i][a]||0},p=d.lineLength(h),m={x1:u[i].x,y1:u[i].y,x2:u[i][o]||0,y2:u[i][a]||0},v=d.lineLength(m),y=Math.angleBetweenLines(h,m),_=1==r?2:1,b="cx"+_,w="cy"+_,T=Math.rotateCoord(s[i][b]||0,s[i][w]||0,s[i].x,s[i].y,-1*y);u[i][b]=T.x,u[i][w]=T.y;var S={x1:u[i].x,y1:u[i].y,x2:u[i][b]||0,y2:u[i][w]||0},O=d.lineLength(S),E=v-p;u[i][b]=Math.round(u[i][b]||+E*(u[i][b]||0-s[i].x)/O),u[i][w]=Math.round(u[i][w]||+E*(u[i][w]||0-s[i].y)/O)}}this.set({path:u})},e.prototype.removeSelectedEndpoint=function(t,e){var n=this.get("path").slice();return n.length-1<=1?(e.removeLayers([this]),!1):(n.splice(t,1),this.set({path:n}),this.calculateAndSaveExtents(),!0)},e.prototype.toggleControlPointsForEndpoint=function(t){var e=this.get("path").slice(),n=(e=c.default.cloneDeep(e))[t];g.CustomPathUtils.hasControlPoints(e[t])?(n.oldCx1=n.cx1,n.oldCx2=n.cx2,n.oldCy1=n.cy1,n.oldCy2=n.cy2,delete n.cx1,delete n.cx2,delete n.cy1,delete n.cy2):n.oldCx1?(n.cx1=n.oldCx1,n.cx2=n.oldCx2,n.cy1=n.oldCy1,n.cy2=n.oldCy2):(n.cx1=n.x-f.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cx2=n.x+f.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy1=n.y-f.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT,n.cy2=n.y+f.default.CUSTOM_PATH_DEFAULT_DISTANCE_FOR_NEW_CONTROL_POINT),this.set({path:e})},e.prototype.calculateAndSaveExtents=function(t){void 0===t&&(t=c.default.cloneDeep(this.get("path"))),this.updateExtents(this.get("x"),this.get("y"),t),this.save()},e.prototype.updateExtents=function(t,e,i,r){var o=n.calculateExtents(t,e,i),a={x:o.x,y:o.y,width:o.width,height:o.height,path:o.path};this.set(a,{silent:r})},e.prototype.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation=function(t){var e=this,n=this.getTopLeft(),i=this.transformPointFromRotatedPageCoordinateSpace(n,t);this.get("path").forEach((function(r){var o=e.transformPointFromRotatedPageCoordinateSpace(d.Point.sum(n,new d.Point(r.x,r.y)),t);if(r.x=o.x-i.x,r.y=o.y-i.y,!c.default.isUndefined(r.cx1)&&!c.default.isUndefined(r.cy1)){var a=d.Point.sum(n,new d.Point(r.cx1,r.cy1)),s=e.transformPointFromRotatedPageCoordinateSpace(a,t);r.cx1=s.x-i.x,r.cy1=s.y-i.y}if(!c.default.isUndefined(r.cx2)&&!c.default.isUndefined(r.cy2)){var u=d.Point.sum(n,new d.Point(r.cx2,r.cy2)),l=e.transformPointFromRotatedPageCoordinateSpace(u,t);r.cx2=l.x-i.x,r.cy2=l.y-i.y}}));this.updateExtents(i.x,i.y,this.get("path"),!0)},e.prototype.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation=function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),i=this.transformPointToRotatedPageCoordinateSpace(this.getTopLeft(),t);e.x=i.x,e.y=i.y;for(var r=e.path,o=0;o<r.length;o++){var a=r[o],s=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.x,a.y)),t);if(a.x=s.x-i.x,a.y=s.y-i.y,!c.default.isUndefined(a.cx1)&&!c.default.isUndefined(a.cy1)){var u=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx1,a.cy1)),t);a.cx1=u.x-i.x,a.cy1=u.y-i.y}if(!c.default.isUndefined(a.cx2)&&!c.default.isUndefined(a.cy2)){var l=this.transformPointToRotatedPageCoordinateSpace(d.Point.sum(this.getTopLeft(),new d.Point(a.cx2,a.cy2)),t);a.cx2=l.x-i.x,a.cy2=l.y-i.y}}var f=n.calculateExtents(e.x,e.y,r);return e.x=f.x,e.y=f.y,e.width=f.width,e.height=f.height,e.path=f.path,e},e.prototype.roundTransformableAttributes=function(){h.default.prototype.roundTransformableAttributes.call(this);var t=[];this.get("path").forEach((function(e){t.push(c.default.mapValues(e,Math.round))})),this.set("path",t)},e.prototype.resizeAttributes=function(t,e){e=e||t;var n=c.default.cloneDeep(this.get("path"));n.forEach((function(n){n.x=n.x*t,n.y=n.y*e,g.CustomPathUtils.hasControlPoints(n)&&(n.cx1=n.cx1*t,n.cy1=n.cy1*e,n.cx2=n.cx2*t,n.cy2=n.cy2*e)})),this.set("path",n)},e.calculateExtents=function(t,e,n){for(var i=g.CustomPathUtils.calculateBoundingBox(t,e,n),r=-1*Math.round(i.minX-t),o=-1*Math.round(i.minY-e),a=c.default.cloneDeep(n),s=0;s<a.length;s++)a[s].x+=r,a[s].y+=o,c.default.isUndefined(a[s].cx1)||(a[s].cx1=(a[s].cx1||0)+r),c.default.isUndefined(a[s].cy1)||(a[s].cy1=(a[s].cy1||0)+o),c.default.isUndefined(a[s].cx2)||(a[s].cx2=(a[s].cx2||0)+r),c.default.isUndefined(a[s].cy2)||(a[s].cy2=(a[s].cy2||0)+o);return{x:Math.round(i.minX),y:Math.round(i.minY),width:Math.round(i.maxX-i.minX),height:Math.round(i.maxY-i.minY),path:a}},e.prototype.setWidthWhileMaintainingCanvasLeft=function(t,e,n){var i=this.get("width"),r=t*(this.get("height")/i);this.setDimensionsWhileMaintainingCanvasTopLeft(t,r,n)},e.prototype.setHeightWhileMaintainingCanvasTop=function(t,e,n){var i=t*(this.get("width")/this.get("height"));this.setDimensionsWhileMaintainingCanvasTopLeft(i,t,n)},e.prototype.setDimensionsWhileMaintainingCanvasTopLeft=function(e,n,i){e>this.MINIMUM_WIDTH&&n>this.MINIMUM_HEIGHT&&(this.resizeAttributes(e/this.get("width"),n/this.get("height")),t.prototype.setDimensionsWhileMaintainingCanvasTopLeft.call(this,Math.round(e),Math.round(n),i),this.updateExtents(this.get("x"),this.get("y"),this.get("path")))},e.prototype.getObjectStateSupportedProperties=function(){return p.default.CustomShapeModel.objectStateSupportedProperties},e=n=s([m.BackboneShim({objectStatesEnabled:!0})],e)}(h.default);e.AbstractCustomPathModel=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorPageReloadEvent=void 0,function(t){t.PAGE_MODEL_RELOAD="EditorPageReloadEventPageModelReload",t.PAGE_MODEL_REMOTE="EditorPageReloadEventPageModelRemote",t.DOCUMENT_VERSION_MODEL_RELOAD="EditorPageReloadEventDocumentVersionModelReload",t.DOCUMENT_VERSION_MODEL_SHOUT="EditorPageReloadEventDocumentVersionModelShout",t.EDITABLE_AREA_DESELECTED="EditorPageReloadEventEditableAreaDeselected"}(e.EditorPageReloadEvent||(e.EditorPageReloadEvent={}))},,,,,,,,,,function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3));n(467),n(330),n(468),n(472),n(473),n(476),n(477);var o=i(n(478)),a=n(848);n(849),r.default((function(){a.SecurityUtils.removeWindowEval(),o.default.run()}))},function(t,e,n){"use strict";(function(t){Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,n,i){return t*n+e*i},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return!(t+n<r)&&(!(t>r+a)&&(!(e+i<o)&&!(e>o+s)))},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),n=arguments[1].getX(),i=arguments[1].getY(),r=arguments[2]);var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=n,e+=i,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,n,i,r,o,a,s,u){var l=t+n/2,c=e+i/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),f=d.x,h=d.y,p=(d=Math.rotateCoord(t+n,e,l,c,r)).x,g=d.y,m=(d=Math.rotateCoord(t,e+i,l,c,r)).x,v=d.y,y=(d=Math.rotateCoord(t+n,e+i,l,c,r)).x,_=d.y,b=o,w=o+s,T=a,S=a+u;if(f<b&&p<b&&m<b&&y<b)return!1;if(f>w&&p>w&&m>w&&y>w)return!1;if(h<T&&g<T&&v<T&&_<T)return!1;if(h>S&&g>S&&v>S&&_>S)return!1;var O=-1*(g-h),E=p-f,P=Math.dot(O,E,b-f,T-h),C=Math.dot(O,E,w-f,T-h),A=Math.dot(O,E,b-f,S-h),x=Math.dot(O,E,w-f,S-h);return!(P<=0&&C<=0&&A<=0&&x<=0)&&(O=-1*(_-g),E=y-p,P=Math.dot(O,E,b-p,T-g),C=Math.dot(O,E,w-p,T-g),A=Math.dot(O,E,b-p,S-g),x=Math.dot(O,E,w-p,S-g),!(P<=0&&C<=0&&A<=0&&x<=0)&&(O=-1*(v-_),E=m-y,P=Math.dot(O,E,b-y,T-_),C=Math.dot(O,E,w-y,T-_),A=Math.dot(O,E,b-y,S-_),x=Math.dot(O,E,w-y,S-_),!(P<=0&&C<=0&&A<=0&&x<=0)&&(O=-1*(h-v),E=f-m,P=Math.dot(O,E,b-m,T-v),C=Math.dot(O,E,w-m,T-v),A=Math.dot(O,E,b-m,S-v),x=Math.dot(O,E,w-m,S-v),!(P<=0&&C<=0&&A<=0&&x<=0))))},Math.angleBetweenLines=function(t,e){var n={x:t.x2-t.x1,y:t.y2-t.y1},i={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(n.x,n.y,i.x,i.y),o=n.x*i.y-n.y*i.x;return Math.atan2(o,r)},t.Math=Math}).call(this,n(129))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));n(470),n(471),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout((function(){e(i+r)}),r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,n,i,r,o,a){return a?t>=n-r/2&&t<=n-r/2+r&&e>=i-o/2&&e<=i-o/2+o:t>=n&&t<=n+r&&e>=i&&e<=i+o},Math.boxhit=function(t,e,n,i,r,o,a,s){return(t>=r&&t<=r+a||t+n>=r&&t+n<=r+a)&&(e>=o&&e<=o+s||e+i>=o&&e+i<=o+s)},Math.clamp=function(t,e,n){return t<e?e:t>n?n:t},Math.rotateCoord=function(t,e,n,i,r){var o=t-n,a=e-i;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=n,y:e+=i}},Math.pointInPoly=function(t,e,n){var i,r,o=!1,a=t.length;for(i=0,r=a-1;i<a;r=i++)t[i].y>n!=t[r].y>n&&e<(t[r].x-t[i].x)*(n-t[i].y)/(t[r].y-t[i].y)+t[i].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function n(){}return n.prototype=t,new n}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,n){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var i=null;return{send:function(n,o){var a="",s=(e.dataType||"").toLowerCase();i=new XDomainRequest,/^\d+$/.test(e.timeout)&&(i.timeout=e.timeout),i.ontimeout=function(){o(500,"timeout")},i.onload=function(){var t="Content-Length: "+i.responseText.length+"\r\nContent-Type: "+i.contentType,e={code:200,message:"success"},n={text:i.responseText};try{if("html"===s||/text\/html/i.test(i.contentType))n.html=i.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(i.contentType))try{n.json=JSON.parse(i.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(i.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(i.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+i.responseText;n.xml=r}}catch(t){throw t}finally{o(e.code,e.message,n,t)}},i.onprogress=function(){},i.onerror=function(){o(500,"error",{text:i.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),i.open(t.type,t.url),i.send(a)},abort:function(){i&&i.abort()}}}}))}e.default=r.default},function(t,e,n){"use strict";var i,r;r=e,void 0===(i=function(){!function(t){if(t.atob)try{t.atob(" ")}catch(e){t.atob=function(t){var e=function(e){return t(String(e).replace(/[\t\n\f\r ]+/g,""))};return e.original=t,e}(t.atob)}else{var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;t.btoa=function(t){for(var n,i,r,o,a="",s=0,u=(t=String(t)).length%3;s<t.length;){if((i=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(o=t.charCodeAt(s++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");a+=e.charAt((n=i<<16|r<<8|o)>>18&63)+e.charAt(n>>12&63)+e.charAt(n>>6&63)+e.charAt(63&n)}return u?a.slice(0,u-3)+"===".substring(u):a},t.atob=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!n.test(t))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(3&t.length));for(var i,r,o,a="",s=0;s<t.length;)i=e.indexOf(t.charAt(s++))<<18|e.indexOf(t.charAt(s++))<<12|(r=e.indexOf(t.charAt(s++)))<<6|(o=e.indexOf(t.charAt(s++))),a+=64===r?String.fromCharCode(i>>16&255):64===o?String.fromCharCode(i>>16&255,i>>8&255):String.fromCharCode(i>>16&255,i>>8&255,255&i);return a}}}(r)}.apply(e,[]))||(t.exports=i)},function(t,e,n){"use strict";var i,r;i=[n(3)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,n=Math.sqrt,i=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=2*o/3,l=2*o/4.5;function c(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return i(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-n(1-e(t,2))},easeOutCirc:function(t){return n(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-n(1-e(2*t,2)))/2:(n(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*i((10*t-10.75)*u)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*i((10*t-.75)*u)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*i((20*t-11.125)*l)/2:e(2,-20*t+10)*i((20*t-11.125)*l)/2+1},easeInBack:function(t){return 2.70158*t*t*t-a*t*t},easeOutBack:function(t){return 1+2.70158*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-c(1-t)},easeOutBounce:c,easeInOutBounce:function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2}})}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(14)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;if(l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,!r.default.support.linearGradient){r.default.cssNumber[s]=!0;r.default.cssHooks[s]={set:function(t,e){var n=c.exec(e);if(o.default.isEmpty(n))t.style[s]=e;else{n[0];var i=n[4],r=n[5],u=n[6],l=n[7],d=n[8];t.style[s]=function(t,e,n,i,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+("linear-gradient("+(n=90-parseInt(n,10))+"deg,"+i+" "+r+"%,"+o+" "+s+"%)")}(0,0,i,r,u,l,d)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)));e.default={isMobile:r}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,n={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(Edg)\/([0-9.]*)/))?(n.name=o,n.version=e[2],n.engine=s):(e=t.match(/(Firefox)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(n.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",n.version=e[2],n.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(n.name=e[1],n.version=e[2],n.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))&&(n.name=e[1],n.version=e[2],n.engine=u),r.default.isNull(n.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(n.engine=s),n}};e.default=l},function(t,e,n){(function(t){!function(e){"use strict";!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(78),n(81),n(83),n(85),n(86),n(87),n(88),n(90),n(91),n(93),n(101),n(102),n(103),n(104),n(112),n(113),n(115),n(116),n(117),n(119),n(120),n(121),n(122),n(123),n(124),n(126),n(127),n(128),n(129),n(135),n(136),n(138),n(139),n(140),n(144),n(145),n(147),n(148),n(150),n(151),n(152),n(153),n(154),n(161),n(163),n(164),n(165),n(167),n(168),n(170),n(171),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(186),n(187),n(189),n(191),n(192),n(193),n(194),n(195),n(197),n(199),n(201),n(202),n(204),n(205),n(207),n(208),n(209),n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(231),n(232),n(233),n(234),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(261),n(263),n(264),n(265),n(266),n(268),n(271),n(272),n(273),n(274),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(348),n(349),n(350),n(351),n(352),n(353),n(355),n(357),n(358),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(392),n(395),n(396),n(397),n(398),n(400),n(401),n(403),n(404),n(405),n(406),n(407),n(408),n(410),n(411),n(412),n(413),n(415),n(416),n(417),n(418),n(419),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(484),n(485),n(486),n(487),n(488),n(492),t.exports=n(491)},function(t,e,n){var i=n(2),r=n(3),o=n(23),a=n(5),s=n(45),u=n(6),l=n(15),c=n(46),d=n(14),f=n(20),h=n(47),p=n(9),g=n(13),m=n(8),v=n(48),y=n(50),_=n(36),b=n(52),w=n(43),T=n(4),S=n(19),O=n(7),E=n(18),P=n(21),C=n(22),A=n(29),x=n(31),I=n(30),k=n(53),M=n(54),R=n(55),N=n(56),D=n(27),L=n(57).forEach,j=A("hidden"),F=k("toPrimitive"),V=D.set,B=D.getterFor("Symbol"),U=Object.prototype,H=r.Symbol,G=r.JSON,W=G&&G.stringify,z=T.f,$=S.f,q=b.f,Y=O.f,K=C("symbols"),X=C("op-symbols"),J=C("string-to-symbol-registry"),Z=C("symbol-to-string-registry"),Q=C("wks"),tt=r.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&u((function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=z(U,e);i&&delete U[e],$(t,e,n),i&&t!==U&&$(U,e,i)}:$,it=function(t,e){var n=K[t]=v(H.prototype);return V(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},rt=s&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ot=function(t,e,n){t===U&&ot(X,e,n),f(t);var i=g(e,!0);return f(n),l(K,i)?(n.enumerable?(l(t,j)&&t[j][i]&&(t[j][i]=!1),n=v(n,{enumerable:m(0,!1)})):(l(t,j)||$(t,j,m(1,{})),t[j][i]=!0),nt(t,i,n)):$(t,i,n)},at=function(t,e){f(t);var n=p(e),i=y(n).concat(ct(n));return L(i,(function(e){a&&!st.call(n,e)||ot(t,e,n[e])})),t},st=function(t){var e=g(t,!0),n=Y.call(this,e);return!(this===U&&l(K,e)&&!l(X,e))&&(!(n||!l(this,e)||!l(K,e)||l(this,j)&&this[j][e])||n)},ut=function(t,e){var n=p(t),i=g(e,!0);if(n!==U||!l(K,i)||l(X,i)){var r=z(n,i);return!r||!l(K,i)||l(n,j)&&n[j][i]||(r.enumerable=!0),r}},lt=function(t){var e=q(p(t)),n=[];return L(e,(function(t){l(K,t)||l(x,t)||n.push(t)})),n},ct=function(t){var e=t===U,n=q(e?X:p(t)),i=[];return L(n,(function(t){!l(K,t)||e&&!l(U,t)||i.push(K[t])})),i};s||(P((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===U&&n.call(X,t),l(this,j)&&l(this[j],e)&&(this[j][e]=!1),nt(this,e,m(1,t))};return a&&et&&nt(U,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",(function(){return B(this).tag})),O.f=st,S.f=ot,T.f=ut,_.f=b.f=lt,w.f=ct,a&&($(H.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),o||P(U,"propertyIsEnumerable",st,{unsafe:!0})),M.f=function(t){return it(k(t),t)}),i({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),L(y(Q),(function(t){R(t)})),i({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(J,e))return J[e];var n=H(e);return J[e]=n,Z[n]=e,n},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(l(Z,t))return Z[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt,getOwnPropertySymbols:ct}),i({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(h(t))}}),G&&i({target:"JSON",stat:!0,forced:!s||u((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(d(e)||void 0!==t)&&!rt(t))return c(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!rt(e))return e}),i[1]=e,W.apply(G,i)}}),H.prototype[F]||E(H.prototype,F,H.prototype.valueOf),N(H,"Symbol"),x[j]=!0},function(t,e,n){var i=n(3),r=n(4).f,o=n(18),a=n(21),s=n(25),u=n(32),l=n(44);t.exports=function(t,e){var n,c,d,f,h,p=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(c in e){if(f=e[c],d=t.noTargetGet?(h=r(n,c))&&h.value:n[c],!l(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(t.sham||d&&d.sham)&&o(f,"sham",!0),a(n,c,f,t)}}},function(e,n){var i=function(t){return t&&t.Math==Math&&t};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()},function(t,e,n){var i=n(5),r=n(7),o=n(8),a=n(9),s=n(13),u=n(15),l=n(16),c=Object.getOwnPropertyDescriptor;e.f=i?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(6);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(10),r=n(12);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(6),r=n(11),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(5),r=n(6),o=n(17);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(3),r=n(14),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(5),r=n(19),o=n(8);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(5),r=n(16),o=n(20),a=n(13),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(3),r=n(22),o=n(18),a=n(15),s=n(25),u=n(26),l=n(27),c=l.get,d=l.enforce,f=String(u).split("toString");r("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),d(n).source=f.join("string"==typeof e?e:"")),t!==i?(u?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=n:o(t,e,n)):l?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u.call(this)}))},function(t,e,n){var i=n(23),r=n(24);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.3",mode:i?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){var i=n(3),r=n(25),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,n){var i=n(3),r=n(18);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(22);t.exports=i("native-function-to-string",Function.toString)},function(t,e,n){var i,r,o,a=n(28),s=n(3),u=n(14),l=n(18),c=n(15),d=n(29),f=n(31),h=s.WeakMap;if(a){var p=new h,g=p.get,m=p.has,v=p.set;i=function(t,e){return v.call(p,t,e),e},r=function(t){return g.call(p,t)||{}},o=function(t){return m.call(p,t)}}else{var y=d("state");f[y]=!0,i=function(t,e){return l(t,y,e),e},r=function(t){return c(t,y)?t[y]:{}},o=function(t){return c(t,y)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var i=n(3),r=n(26),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,n){var i=n(22),r=n(30),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(15),r=n(33),o=n(4),a=n(19);t.exports=function(t,e){for(var n=r(e),s=a.f,u=o.f,l=0;l<n.length;l++){var c=n[l];i(t,c)||s(t,c,u(e,c))}}},function(t,e,n){var i=n(34),r=n(36),o=n(43),a=n(20);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(35),r=n(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){t.exports=n(3)},function(t,e,n){var i=n(37),r=n(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(15),r=n(9),o=n(38).indexOf,a=n(31);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(a,n)&&i(s,n)&&l.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var i=n(9),r=n(39),o=n(41),a=function(t){return function(e,n,a){var s,u=i(e),l=r(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var i=n(40),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(40),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(6),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(6);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(11);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(12);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(20),r=n(49),o=n(42),a=n(31),s=n(51),u=n(17),l=n(29)("IE_PROTO"),c=function(){},d=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),d=t.F;n--;)delete d.prototype[o[n]];return d()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=i(t),n=new c,c.prototype=null,n[l]=t):n=d(),void 0===e?n:r(n,e)},a[l]=!0},function(t,e,n){var i=n(5),r=n(19),o=n(20),a=n(50);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,u=0;s>u;)r.f(t,n=i[u++],e[n]);return t}},function(t,e,n){var i=n(37),r=n(42);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(34);t.exports=i("document","documentElement")},function(t,e,n){var i=n(9),r=n(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(3),r=n(22),o=n(30),a=n(45),s=i.Symbol,u=r("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,n){e.f=n(53)},function(t,e,n){var i=n(35),r=n(15),o=n(54),a=n(19).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var i=n(19).f,r=n(15),o=n(53)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(58),r=n(10),o=n(47),a=n(39),s=n(60),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,d=6==t,f=5==t||d;return function(h,p,g,m){for(var v,y,_=o(h),b=r(_),w=i(p,g,3),T=a(b.length),S=0,O=m||s,E=e?O(h,T):n?O(h,0):void 0;T>S;S++)if((f||S in b)&&(y=w(v=b[S],S,_),t))if(e)E[S]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(E,v)}else if(c)return!1;return d?-1:l||c?c:E}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,n){var i=n(59);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var i=n(14),r=n(46),o=n(53)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(2),r=n(5),o=n(3),a=n(15),s=n(14),u=n(19).f,l=n(32),c=o.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new c(t):void 0===t?c():c(t);return""===t&&(d[e]=!0),e};l(f,c);var h=f.prototype=c.prototype;h.constructor=f;var p=h.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:f})}},function(t,e,n){n(55)("asyncIterator")},function(t,e,n){n(55)("hasInstance")},function(t,e,n){n(55)("isConcatSpreadable")},function(t,e,n){n(55)("iterator")},function(t,e,n){n(55)("match")},function(t,e,n){n(55)("matchAll")},function(t,e,n){n(55)("replace")},function(t,e,n){n(55)("search")},function(t,e,n){n(55)("species")},function(t,e,n){n(55)("split")},function(t,e,n){n(55)("toPrimitive")},function(t,e,n){n(55)("toStringTag")},function(t,e,n){n(55)("unscopables")},function(t,e,n){var i=n(2),r=n(6),o=n(46),a=n(14),s=n(47),u=n(39),l=n(76),c=n(60),d=n(77),f=n(53)("isConcatSpreadable"),h=!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),p=d("concat"),g=function(t){if(!a(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!h||!p},{concat:function(t){var e,n,i,r,o,a=s(this),d=c(a,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(g(o=-1===e?a:arguments[e])){if(f+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,f++)n in o&&l(d,f,o[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,f++,o)}return d.length=f,d}})},function(t,e,n){var i=n(13),r=n(19),o=n(8);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var i=n(6),r=n(53)("species");t.exports=function(t){return!i((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var i=n(2),r=n(79),o=n(80);i({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,e,n){var i=n(47),r=n(41),o=n(39),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),u=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,d=a((void 0===c?s:r(c,s))-l,s-u),f=1;for(l<u&&u<l+d&&(f=-1,l+=d-1,u+=d-1);d-- >0;)l in n?n[u]=n[l]:delete n[u],u+=f,l+=f;return n}},function(t,e,n){var i=n(53),r=n(48),o=n(18),a=i("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,r(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var i=n(2),r=n(57).every;i({target:"Array",proto:!0,forced:n(82)("every")},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(6);t.exports=function(t,e){var n=[][t];return!n||!i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(2),r=n(84),o=n(80);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,n){var i=n(47),r=n(41),o=n(39);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:r(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){var i=n(2),r=n(57).filter;i({target:"Array",proto:!0,forced:!n(77)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(57).find,o=n(80),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){var i=n(2),r=n(57).findIndex,o=n(80),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){var i=n(2),r=n(89),o=n(47),a=n(39),s=n(40),u=n(60);i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),i=u(e,0);return i.length=r(i,e,e,n,0,void 0===t?1:s(t)),i}})},function(t,e,n){var i=n(46),r=n(39),o=n(58),a=function(t,e,n,s,u,l,c,d){for(var f,h=u,p=0,g=!!c&&o(c,d,3);p<s;){if(p in n){if(f=g?g(n[p],p,e):n[p],l>0&&i(f))h=a(t,e,f,r(f.length),h,l-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=f}h++}p++}return h};t.exports=a},function(t,e,n){var i=n(2),r=n(89),o=n(47),a=n(39),s=n(59),u=n(60);i({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),i=a(n.length);return s(t),(e=u(n,0)).length=r(e,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){var i=n(2),r=n(92);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,n){var i=n(57).forEach,r=n(82);t.exports=r("forEach")?function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){var i=n(2),r=n(94);i({target:"Array",stat:!0,forced:!n(100)((function(t){Array.from(t)}))},{from:r})},function(t,e,n){var i=n(58),r=n(47),o=n(95),a=n(96),s=n(39),u=n(76),l=n(98);t.exports=function(t){var e,n,c,d,f,h=r(t),p="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,y=0,_=l(h);if(v&&(m=i(m,g>2?arguments[2]:void 0,2)),null==_||p==Array&&a(_))for(n=new p(e=s(h.length));e>y;y++)u(n,y,v?m(h[y],y):h[y]);else for(f=(d=_.call(h)).next,n=new p;!(c=f.call(d)).done;y++)u(n,y,v?o(d,m,[c.value,y],!0):c.value);return n.length=y,n}},function(t,e,n){var i=n(20);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(53),r=n(97),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},function(t,e){t.exports={}},function(t,e,n){var i=n(99),r=n(97),o=n(53)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(11),r=n(53)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(53)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var i=n(2),r=n(38).includes,o=n(80);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){var i=n(2),r=n(38).indexOf,o=n(82),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf");i({target:"Array",proto:!0,forced:s||u},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(2)({target:"Array",stat:!0},{isArray:n(46)})},function(t,e,n){var i=n(9),r=n(80),o=n(97),a=n(27),s=n(105),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:i(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var i=n(2),r=n(106),o=n(108),a=n(110),s=n(56),u=n(18),l=n(21),c=n(53),d=n(23),f=n(97),h=n(107),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};t.exports=function(t,e,n,c,h,y,_){r(n,e,c);var b,w,T,S=function(t){if(t===h&&A)return A;if(!g&&t in P)return P[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},O=e+" Iterator",E=!1,P=t.prototype,C=P[m]||P["@@iterator"]||h&&P[h],A=!g&&C||S(h),x="Array"==e&&P.entries||C;if(x&&(b=o(x.call(new t)),p!==Object.prototype&&b.next&&(d||o(b)===p||(a?a(b,p):"function"!=typeof b[m]&&u(b,m,v)),s(b,O,!0,!0),d&&(f[O]=v))),"values"==h&&C&&"values"!==C.name&&(E=!0,A=function(){return C.call(this)}),d&&!_||P[m]===A||u(P,m,A),f[e]=A,h)if(w={values:S("values"),keys:y?A:S("keys"),entries:S("entries")},_)for(T in w)(g||E||!(T in P))&&l(P,T,w[T]);else i({target:e,proto:!0,forced:g||E},w);return w}},function(t,e,n){var i=n(107).IteratorPrototype,r=n(48),o=n(8),a=n(56),s=n(97),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,l,!1,!0),s[l]=u,t}},function(t,e,n){var i,r,o,a=n(108),s=n(18),u=n(15),l=n(53),c=n(23),d=l("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(i=r):f=!0),null==i&&(i={}),c||u(i,d)||s(i,d,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var i=n(15),r=n(47),o=n(29),a=n(109),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var i=n(6);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var i=n(20),r=n(111);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=n(2),r=n(10),o=n(9),a=n(82),s=[].join,u=r!=Object,l=a("join",",");i({target:"Array",proto:!0,forced:u||l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){var i=n(2),r=n(114);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,n){var i=n(9),r=n(40),o=n(39),a=n(82),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=l||c?function(t){if(l)return u.apply(this,arguments)||0;var e=i(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,n){var i=n(2),r=n(57).map;i({target:"Array",proto:!0,forced:!n(77)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(6),o=n(76);i({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var i=n(2),r=n(118).left;i({target:"Array",proto:!0,forced:n(82)("reduce")},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(59),r=n(47),o=n(10),a=n(39),s=function(t){return function(e,n,s,u){i(n);var l=r(e),c=o(l),d=a(l.length),f=t?d-1:0,h=t?-1:1;if(s<2)for(;;){if(f in c){u=c[f],f+=h;break}if(f+=h,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=h)f in c&&(u=n(u,c[f],f,l));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var i=n(2),r=n(118).right;i({target:"Array",proto:!0,forced:n(82)("reduceRight")},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(46),o=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){var i=n(2),r=n(14),o=n(46),a=n(41),s=n(39),u=n(9),l=n(76),c=n(77),d=n(53)("species"),f=[].slice,h=Math.max;i({target:"Array",proto:!0,forced:!c("slice")},{slice:function(t,e){var n,i,c,p=u(this),g=s(p.length),m=a(t,g),v=a(void 0===e?g:e,g);if(o(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(p,m,v);for(i=new(void 0===n?Array:n)(h(v-m,0)),c=0;m<v;m++,c++)m in p&&l(i,c,p[m]);return i.length=c,i}})},function(t,e,n){var i=n(2),r=n(57).some;i({target:"Array",proto:!0,forced:n(82)("some")},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(59),o=n(47),a=n(6),s=n(82),u=[].sort,l=[1,2,3],c=a((function(){l.sort(void 0)})),d=a((function(){l.sort(null)})),f=s("sort");i({target:"Array",proto:!0,forced:c||!d||f},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),r(t))}})},function(t,e,n){n(125)("Array")},function(t,e,n){var i=n(34),r=n(19),o=n(53),a=n(5),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(2),r=n(41),o=n(40),a=n(39),s=n(47),u=n(60),l=n(76),c=n(77),d=Math.max,f=Math.min;i({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var n,i,c,h,p,g,m=s(this),v=a(m.length),y=r(t,v),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=v-y):(n=_-2,i=f(d(o(e),0),v-y)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(m,i),h=0;h<i;h++)(p=y+h)in m&&l(c,h,m[p]);if(c.length=i,n<i){for(h=y;h<v-i;h++)g=h+n,(p=h+i)in m?m[g]=m[p]:delete m[g];for(h=v;h>v-i+n;h--)delete m[h-1]}else if(n>i)for(h=v-i;h>y;h--)g=h+n-1,(p=h+i-1)in m?m[g]=m[p]:delete m[g];for(h=0;h<n;h++)m[h+y]=arguments[h+2];return m.length=v-i+n,c}})},function(t,e,n){n(80)("flat")},function(t,e,n){n(80)("flatMap")},function(t,e,n){var i=n(2),r=n(3),o=n(130),a=n(125),s=o.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e,n){var i=n(3),r=n(5),o=n(131).NATIVE_ARRAY_BUFFER,a=n(18),s=n(132),u=n(6),l=n(133),c=n(40),d=n(39),f=n(134),h=n(36).f,p=n(19).f,g=n(84),m=n(56),v=n(27),y=v.get,_=v.set,b=i.ArrayBuffer,w=b,T=i.DataView,S=i.Math,O=i.RangeError,E=S.abs,P=S.pow,C=S.floor,A=S.log,x=S.LN2,I=function(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?P(2,-24)-P(2,-77):0,d=t<0||0===t&&1/t<0?1:0,f=0;for((t=E(t))!=t||t===1/0?(r=t!=t?1:0,i=u):(i=C(A(t)/x),t*(o=P(2,-i))<1&&(i--,o*=2),(t+=i+l>=1?c/o:c*P(2,1-l))*o>=2&&(i++,o/=2),i+l>=u?(r=0,i=u):i+l>=1?(r=(t*o-1)*P(2,e),i+=l):(r=t*P(2,l-1)*P(2,e),i=0));e>=8;a[f++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[f++]=255&i,i/=256,s-=8);return a[--f]|=128*d,a},k=function(t,e){var n,i=t.length,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=i-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-1/0:1/0;n+=P(2,e),c-=a}return(l?-1:1)*n*P(2,c-e)},M=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},R=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return I(t,23,4)},j=function(t){return I(t,52,8)},F=function(t,e){p(t.prototype,e,{get:function(){return y(this)[e]}})},V=function(t,e,n,i){var r=f(+n),o=y(t);if(r+e>o.byteLength)throw O("Wrong index");var a=y(o.buffer).bytes,s=r+o.byteOffset,u=a.slice(s,s+e);return i?u:u.reverse()},B=function(t,e,n,i,r,o){var a=f(+n),s=y(t);if(a+e>s.byteLength)throw O("Wrong index");for(var u=y(s.buffer).bytes,l=a+s.byteOffset,c=i(+r),d=0;d<e;d++)u[l+d]=c[o?d:e-d-1]};if(o){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var U,H=(w=function(t){return l(this,w),new b(f(t))}).prototype=b.prototype,G=h(b),W=0;G.length>W;)(U=G[W++])in w||a(w,U,b[U]);H.constructor=w}var z=new T(new w(2)),$=T.prototype.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(T.prototype,{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},{unsafe:!0})}else w=function(t){l(this,w,"ArrayBuffer");var e=f(t);_(this,{bytes:g.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},T=function(t,e,n){l(this,T,"DataView"),l(t,w,"DataView");var i=y(t).byteLength,o=c(e);if(o<0||o>i)throw O("Wrong offset");if(o+(n=void 0===n?i-o:d(n))>i)throw O("Wrong length");_(this,{buffer:t,byteLength:n,byteOffset:o}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},r&&(F(w,"byteLength"),F(T,"buffer"),F(T,"byteLength"),F(T,"byteOffset")),s(T.prototype,{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return M(V(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return M(V(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return k(V(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return k(V(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){B(this,1,t,R,e)},setUint8:function(t,e){B(this,1,t,R,e)},setInt16:function(t,e){B(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){B(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){B(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){B(this,8,t,j,e,arguments.length>2?arguments[2]:void 0)}});m(w,"ArrayBuffer"),m(T,"DataView"),t.exports={ArrayBuffer:w,DataView:T}},function(t,e,n){var i,r=n(5),o=n(3),a=n(14),s=n(15),u=n(99),l=n(18),c=n(21),d=n(19).f,f=n(108),h=n(110),p=n(53),g=n(30),m=o.DataView,v=m&&m.prototype,y=o.Int8Array,_=y&&y.prototype,b=o.Uint8ClampedArray,w=b&&b.prototype,T=y&&f(y),S=_&&f(_),O=Object.prototype,E=O.isPrototypeOf,P=p("toStringTag"),C=g("TYPED_ARRAY_TAG"),A=!(!o.ArrayBuffer||!m),x=A&&!!h&&"Opera"!==u(o.opera),I=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M=function(t){return a(t)&&s(k,u(t))};for(i in k)o[i]||(x=!1);if((!x||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},x))for(i in k)o[i]&&h(o[i],T);if((!x||!S||S===O)&&(S=T.prototype,x))for(i in k)o[i]&&h(o[i].prototype,S);if(x&&f(w)!==S&&h(w,S),r&&!s(S,P))for(i in I=!0,d(S,P,{get:function(){return a(this)?this[C]:void 0}}),k)o[i]&&l(o[i],C,i);A&&h&&f(v)!==O&&h(v,O),t.exports={NATIVE_ARRAY_BUFFER:A,NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:I&&C,aTypedArray:function(t){if(M(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(E.call(T,t))return t}else for(var e in k)if(s(k,i)){var n=o[e];if(n&&(t===n||E.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,e,n){if(r){if(n)for(var i in k){var a=o[i];a&&s(a.prototype,t)&&delete a.prototype[t]}S[t]&&!n||c(S,t,n?e:x&&_[t]||e)}},exportStatic:function(t,e,n){var i,a;if(r){if(h){if(n)for(i in k)(a=o[i])&&s(a,t)&&delete a[t];if(T[t]&&!n)return;try{return c(T,t,n?e:x&&y[t]||e)}catch(t){}}for(i in k)!(a=o[i])||a[t]&&!n||c(a,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||s(k,e)},isTypedArray:M,TypedArray:T,TypedArrayPrototype:S}},function(t,e,n){var i=n(21);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i=n(40),r=n(39);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){var i=n(2),r=n(131);i({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(t,e,n){var i=n(2),r=n(6),o=n(130),a=n(20),s=n(41),u=n(39),l=n(137),c=o.ArrayBuffer,d=o.DataView,f=c.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(l(this,c))(u(r-i)),h=new d(this),p=new d(o),g=0;i<r;)p.setUint8(g++,h.getUint8(i++));return o}})},function(t,e,n){var i=n(20),r=n(59),o=n(53)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(2),r=n(130);i({global:!0,forced:!n(131).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(t,e,n){n(2)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var i=n(2),r=n(141);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(t,e,n){var i=n(6),r=n(142).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+r(o(t),n?6:4,0)+"-"+r(this.getUTCMonth()+1,2,0)+"-"+r(this.getUTCDate(),2,0)+"T"+r(this.getUTCHours(),2,0)+":"+r(this.getUTCMinutes(),2,0)+":"+r(this.getUTCSeconds(),2,0)+"."+r(e,3,0)+"Z"}:u},function(t,e,n){var i=n(39),r=n(143),o=n(12),a=Math.ceil,s=function(t){return function(e,n,s){var u,l,c=String(o(e)),d=c.length,f=void 0===s?" ":String(s),h=i(n);return h<=d||""==f?c:(u=h-d,(l=r.call(f,a(u/f.length))).length>u&&(l=l.slice(0,u)),t?c+l:l+c)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){var i=n(40),r=n(12);t.exports="".repeat||function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(13);i({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(18),r=n(146),o=n(53)("toPrimitive"),a=Date.prototype;o in a||i(a,o,r)},function(t,e,n){var i=n(20),r=n(13);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!==t)}},function(t,e,n){var i=n(21),r=Date.prototype,o=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&i(r,"toString",(function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,n){n(2)({target:"Function",proto:!0},{bind:n(149)})},function(t,e,n){var i=n(59),r=n(14),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("C,a","return new C("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=o.call(arguments,1),a=function(){var i=n.concat(o.call(arguments));return this instanceof a?s(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var i=n(14),r=n(19),o=n(108),a=n(53)("hasInstance"),s=Function.prototype;a in s||r.f(s,a,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(5),r=n(19).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){n(2)({global:!0},{globalThis:n(3)})},function(t,e,n){var i=n(3);n(56)(i.JSON,"JSON",!0)},function(t,e,n){var i=n(155),r=n(160);t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r,!0)},function(t,e,n){var i=n(2),r=n(3),o=n(44),a=n(21),s=n(156),u=n(158),l=n(133),c=n(14),d=n(6),f=n(100),h=n(56),p=n(159);t.exports=function(t,e,n,g,m){var v=r[t],y=v&&v.prototype,_=v,b=g?"set":"add",w={},T=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof v||!(m||y.forEach&&!d((function(){(new v).entries().next()})))))_=n.getConstructor(e,t,g,b),s.REQUIRED=!0;else if(o(t,!0)){var S=new _,O=S[b](m?{}:-0,1)!=S,E=d((function(){S.has(1)})),P=f((function(t){new v(t)})),C=!m&&d((function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)}));P||((_=e((function(e,n){l(e,_,t);var i=p(new v,e,_);return null!=n&&u(n,i[b],i,g),i}))).prototype=y,y.constructor=_),(E||C)&&(T("delete"),T("has"),g&&T("get")),(C||O)&&T(b),m&&y.clear&&delete y.clear}return w[t]=_,i({global:!0,forced:_!=v},w),h(_,t),m||n.setStrong(_,t,g),_}},function(t,e,n){var i=n(31),r=n(14),o=n(15),a=n(19).f,s=n(30),u=n(157),l=s("meta"),c=0,d=Object.isExtensible||function(){return!0},f=function(t){a(t,l,{value:{objectID:"O"+ ++c,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},onFreeze:function(t){return u&&h.REQUIRED&&d(t)&&!o(t,l)&&f(t),t}};i[l]=!0},function(t,e,n){var i=n(6);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var i=n(20),r=n(96),o=n(39),a=n(58),s=n(98),u=n(95),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,c,d){var f,h,p,g,m,v,y,_=a(e,n,c?2:1);if(d)f=t;else{if("function"!=typeof(h=s(t)))throw TypeError("Target is not iterable");if(r(h)){for(p=0,g=o(t.length);g>p;p++)if((m=c?_(i(y=t[p])[0],y[1]):_(t[p]))&&m instanceof l)return m;return new l(!1)}f=h.call(t)}for(v=f.next;!(y=v.call(f)).done;)if("object"==typeof(m=u(f,_,y.value,c))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,n){var i=n(14),r=n(110);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},function(t,e,n){var i=n(19).f,r=n(48),o=n(132),a=n(58),s=n(133),u=n(158),l=n(105),c=n(125),d=n(5),f=n(156).fastKey,h=n(27),p=h.set,g=h.getterFor;t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,i){s(t,c,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=i&&u(i,t[l],t,n)})),h=g(e),m=function(t,e,n){var i,r,o=h(t),a=v(t,e);return a?a.value=n:(o.last=a={index:r=f(e,!0),key:e,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),d?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},v=function(t,e){var n,i=h(t),r=f(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return o(c.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=h(this),n=v(this,t);if(n){var i=n.next,r=n.previous;delete e.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),e.first==n&&(e.first=i),e.last==n&&(e.last=r),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=h(this),i=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),o(c.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&i(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(t,e,n){var i=e+" Iterator",r=g(e),o=g(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var i=n(2),r=n(162),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;i({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:r(t-1+s(t-1)*s(t+1))}})},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var i=n(2),r=Math.asinh,o=Math.log,a=Math.sqrt;i({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,n){var i=n(2),r=Math.atanh,o=Math.log;i({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var i=n(2),r=n(166),o=Math.abs,a=Math.pow;i({target:"Math",stat:!0},{cbrt:function(t){return r(t=+t)*a(o(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var i=n(2),r=Math.floor,o=Math.log,a=Math.LOG2E;i({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-r(o(t+.5)*a):32}})},function(t,e,n){var i=n(2),r=n(169),o=Math.cosh,a=Math.abs,s=Math.E;i({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=r(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e){var n=Math.expm1,i=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:i(t)-1}:n},function(t,e,n){var i=n(2),r=n(169);i({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(t,e,n){n(2)({target:"Math",stat:!0},{fround:n(172)})},function(t,e,n){var i=n(166),r=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=r(t),c=i(t);return o<l?c*(o/l/s+1/a-1/a)*l*s:(n=(e=(1+s/a)*o)-(e-o))>u||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(2),r=Math.hypot,o=Math.abs,a=Math.sqrt;i({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,i,r=0,s=0,u=arguments.length,l=0;s<u;)l<(n=o(arguments[s++]))?(r=r*(i=l/n)*i+1,l=n):r+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*a(r)}})},function(t,e,n){var i=n(2),r=n(6),o=Math.imul;i({target:"Math",stat:!0,forced:r((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LOG10E;i({target:"Math",stat:!0},{log10:function(t){return r(t)*o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{log1p:n(162)})},function(t,e,n){var i=n(2),r=Math.log,o=Math.LN2;i({target:"Math",stat:!0},{log2:function(t){return r(t)/o}})},function(t,e,n){n(2)({target:"Math",stat:!0},{sign:n(166)})},function(t,e,n){var i=n(2),r=n(6),o=n(169),a=Math.abs,s=Math.exp,u=Math.E;i({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,n){var i=n(2),r=n(169),o=Math.exp;i({target:"Math",stat:!0},{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n(56)(Math,"Math",!0)},function(t,e,n){var i=n(2),r=Math.ceil,o=Math.floor;i({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:r)(t)}})},function(t,e,n){var i=n(5),r=n(3),o=n(44),a=n(21),s=n(15),u=n(11),l=n(159),c=n(13),d=n(6),f=n(48),h=n(36).f,p=n(4).f,g=n(19).f,m=n(184).trim,v=r.Number,y=v.prototype,_="Number"==u(f(y)),b=function(t){var e,n,i,r,o,a,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>r)return NaN;return parseInt(o,i)}return+l};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,T=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof T&&(_?d((function(){y.valueOf.call(n)})):"Number"!=u(n))?l(new v(b(e)),n,T):b(e)},S=i?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;S.length>O;O++)s(v,w=S[O])&&!s(T,w)&&g(T,w,p(v,w));T.prototype=y,y.constructor=T,a(r,"Number",T)}},function(t,e,n){var i=n(12),r="["+n(185)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){n(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(2)({target:"Number",stat:!0},{isFinite:n(188)})},function(t,e,n){var i=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&i(t)}},function(t,e,n){n(2)({target:"Number",stat:!0},{isInteger:n(190)})},function(t,e,n){var i=n(14),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){n(2)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(2),r=n(190),o=Math.abs;i({target:"Number",stat:!0},{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(2)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(2)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(2),r=n(196);i({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=r(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var i=n(2),r=n(198);i({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(t,e,n){var i=n(3),r=n(184).trim,o=n(185),a=i.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var n=r(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var i=n(2),r=n(40),o=n(200),a=n(143),s=n(6),u=1..toFixed,l=Math.floor,c=function(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)};i({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,n,i,s,u=o(this),d=r(t),f=[0,0,0,0,0,0],h="",p="0",g=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*f[n],f[n]=i%1e7,i=l(i/1e7)},m=function(t){for(var e=6,n=0;--e>=0;)n+=f[e],f[e]=l(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==f[t]){var n=String(f[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),n*=4503599627370496,(e=52-e)>0){for(g(0,n),i=d;i>=7;)g(1e7,0),i-=7;for(g(c(10,i,1),0),i=e-1;i>=23;)m(1<<23),i-=23;m(1<<i),g(1,1),m(2),p=v()}else g(0,n),g(1<<-e,0),p=v()+a.call("0",d);return p=d>0?h+((s=p.length)<=d?"0."+a.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d)):h+p}})},function(t,e,n){var i=n(11);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){var i=n(2),r=n(6),o=n(200),a=1..toPrecision;i({target:"Number",proto:!0,forced:r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))},{toPrecision:function(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(t,e,n){var i=n(2),r=n(203);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){var i=n(5),r=n(6),o=n(50),a=n(43),s=n(7),u=n(47),l=n(10),c=Object.assign;t.exports=!c||r((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||"abcdefghijklmnopqrst"!=o(c({},e)).join("")}))?function(t,e){for(var n=u(t),r=arguments.length,c=1,d=a.f,f=s.f;r>c;)for(var h,p=l(arguments[c++]),g=d?o(p).concat(d(p)):o(p),m=g.length,v=0;m>v;)h=g[v++],i&&!f.call(p,h)||(n[h]=p[h]);return n}:c},function(t,e,n){n(2)({target:"Object",stat:!0,sham:!n(5)},{create:n(48)})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(23),r=n(3),o=n(6);t.exports=i||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r[t]}))},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:n(49)})},function(t,e,n){var i=n(2),r=n(5);i({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:n(19).f})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(59),u=n(19);r&&i({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var i=n(2),r=n(211).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},function(t,e,n){var i=n(5),r=n(50),o=n(9),a=n(7).f,s=function(t){return function(e){for(var n,s=o(e),u=r(s),l=u.length,c=0,d=[];l>c;)n=u[c++],i&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var i=n(2),r=n(157),o=n(6),a=n(14),s=n(156).onFreeze,u=Object.freeze;i({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!r},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,n){var i=n(2),r=n(158),o=n(76);i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,n){o(e,t,n)}),void 0,!0),e}})},function(t,e,n){var i=n(2),r=n(6),o=n(9),a=n(4).f,s=n(5),u=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var i=n(2),r=n(5),o=n(33),a=n(9),s=n(4),u=n(76);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,i=a(t),r=s.f,l=o(i),c={},d=0;l.length>d;)void 0!==(n=r(i,e=l[d++]))&&u(c,e,n);return c}})},function(t,e,n){var i=n(2),r=n(6),o=n(52).f;i({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,n){var i=n(2),r=n(6),o=n(47),a=n(108),s=n(109);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(2)({target:"Object",stat:!0},{is:n(219)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isExtensible;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isFrozen;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(6),o=n(14),a=Object.isSealed;i({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var i=n(2),r=n(47),o=n(50);i({target:"Object",stat:!0,forced:n(6)((function(){o(1)}))},{keys:function(t){return o(r(t))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.get}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(5),o=n(206),a=n(47),s=n(13),u=n(108),l=n(4).f;r&&i({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),i=s(t,!0);do{if(e=l(n,i))return e.set}while(n=u(n))}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.preventExtensions;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){var i=n(2),r=n(14),o=n(156).onFreeze,a=n(157),s=n(6),u=Object.seal;i({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,n){n(2)({target:"Object",stat:!0},{setPrototypeOf:n(110)})},function(t,e,n){var i=n(21),r=n(230),o=Object.prototype;r!==o.toString&&i(o,"toString",r,{unsafe:!0})},function(t,e,n){var i=n(99),r={};r[n(53)("toStringTag")]="z",t.exports="[object z]"!==String(r)?function(){return"[object "+i(this)+"]"}:r.toString},function(t,e,n){var i=n(2),r=n(211).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,n){var i=n(2),r=n(196);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(t,e,n){var i=n(2),r=n(198);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(t,e,n){var i,r,o,a,s=n(2),u=n(23),l=n(3),c=n(35),d=n(235),f=n(21),h=n(132),p=n(56),g=n(125),m=n(14),v=n(59),y=n(133),_=n(11),b=n(158),w=n(100),T=n(137),S=n(236).set,O=n(238),E=n(239),P=n(241),C=n(240),A=n(242),x=n(237),I=n(27),k=n(44),M=n(53)("species"),R="Promise",N=I.get,D=I.set,L=I.getterFor(R),j=d,F=l.TypeError,V=l.document,B=l.process,U=l.fetch,H=B&&B.versions,G=H&&H.v8||"",W=C.f,z=W,$="process"==_(B),q=!!(V&&V.createEvent&&l.dispatchEvent),Y=k(R,(function(){var t=j.resolve(1),e=function(){},n=(t.constructor={})[M]=function(t){t(e,e)};return!(($||"function"==typeof PromiseRejectionEvent)&&(!u||t.finally)&&t.then(e)instanceof n&&0!==G.indexOf("6.6")&&-1===x.indexOf("Chrome/66"))})),K=Y||!w((function(t){j.all(t).catch((function(){}))})),X=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},J=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;O((function(){for(var r=e.value,o=1==e.state,a=0;i.length>a;){var s,u,l,c=i[a++],d=o?c.ok:c.fail,f=c.resolve,h=c.reject,p=c.domain;try{d?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),l=!0)),s===c.promise?h(F("Promise-chain cycle")):(u=X(s))?u.call(s,f,h):f(s)):h(r)}catch(t){p&&!l&&p.exit(),h(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)}))}},Z=function(t,e,n){var i,r;q?((i=V.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:n},(r=l["on"+t])?r(i):"unhandledrejection"===t&&P("Unhandled promise rejection",n)},Q=function(t,e){S.call(l,(function(){var n,i=e.value;if(tt(e)&&(n=A((function(){$?B.emit("unhandledRejection",i,t):Z("unhandledrejection",t,i)})),e.rejection=$||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(l,(function(){$?B.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)}))},nt=function(t,e,n,i){return function(r){t(e,n,r,i)}},it=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=2,J(t,e,!0))},rt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw F("Promise can't be resolved itself");var r=X(n);r?O((function(){var i={done:!1};try{r.call(n,nt(rt,t,i,e),nt(it,t,i,e))}catch(n){it(t,i,n,e)}})):(e.value=n,e.state=1,J(t,e,!1))}catch(n){it(t,{done:!1},n,e)}}};Y&&(j=function(t){y(this,j,R),v(t),i.call(this);var e=N(this);try{t(nt(rt,this,e),nt(it,this,e))}catch(t){it(this,e,t)}},(i=function(t){D(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(j.prototype,{then:function(t,e){var n=L(this),i=W(T(this,j));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=$?B.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&J(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=N(t);this.promise=t,this.resolve=nt(rt,t,e),this.reject=nt(it,t,e)},C.f=W=function(t){return t===j||t===o?new r(t):z(t)},u||"function"!=typeof d||(a=d.prototype.then,f(d.prototype,"then",(function(t,e){var n=this;return new j((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof U&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return E(j,U.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:j}),p(j,R,!1,!0),g(R),o=c[R],s({target:R,stat:!0,forced:Y},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),s({target:R,stat:!0,forced:u||Y},{resolve:function(t){return E(u&&this===o?j:this,t)}}),s({target:R,stat:!0,forced:K},{all:function(t){var e=this,n=W(e),i=n.resolve,r=n.reject,o=A((function(){var n=v(e.resolve),o=[],a=0,s=1;b(t,(function(t){var u=a++,l=!1;o.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,o[u]=t,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(t){var e=this,n=W(e),i=n.reject,r=A((function(){var r=v(e.resolve);b(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(t,e,n){var i=n(3);t.exports=i.Promise},function(t,e,n){var i,r,o,a=n(3),s=n(6),u=n(11),l=n(58),c=n(51),d=n(17),f=n(237),h=a.location,p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,_=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},T=function(t){return function(){w(t)}},S=function(t){w(t.data)},O=function(t){a.postMessage(t+"",h.protocol+"//"+h.host)};p&&g||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(_),_},g=function(t){delete b[t]},"process"==u(m)?i=function(t){m.nextTick(T(t))}:y&&y.now?i=function(t){y.now(T(t))}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(f)?(o=(r=new v).port2,r.port1.onmessage=S,i=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(O)?i="onreadystatechange"in d("script")?function(t){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(T(t),0)}:(i=O,a.addEventListener("message",S,!1))),t.exports={set:p,clear:g}},function(t,e,n){var i=n(34);t.exports=i("navigator","userAgent")||""},function(t,e,n){var i,r,o,a,s,u,l,c,d=n(3),f=n(4).f,h=n(11),p=n(236).set,g=n(237),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,_="process"==h(v),b=f(d,"queueMicrotask"),w=b&&b.value;w||(i=function(){var t,e;for(_&&(t=v.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},_?a=function(){v.nextTick(i)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,u=document.createTextNode(""),new m(i).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,a=function(){c.call(l,i)}):a=function(){p.call(d,i)}),t.exports=w||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},function(t,e,n){var i=n(20),r=n(14),o=n(240);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var i=n(59),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(3);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){var i=n(2),r=n(59),o=n(240),a=n(242),s=n(158);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),i=n.resolve,u=n.reject,l=a((function(){var n=r(e.resolve),o=[],a=0,u=1;s(t,(function(t){var r=a++,s=!1;o.push(void 0),u++,n.call(e,t).then((function(t){s||(s=!0,o[r]={status:"fulfilled",value:t},--u||i(o))}),(function(t){s||(s=!0,o[r]={status:"rejected",reason:t},--u||i(o))}))})),--u||i(o)}));return l.error&&u(l.value),n.promise}})},function(t,e,n){var i=n(2),r=n(23),o=n(235),a=n(34),s=n(137),u=n(239),l=n(21);i({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(6),u=r("Reflect","apply"),l=Function.apply;i({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,n){return o(t),a(n),u?u(t,e,n):l.call(t,e,n)}})},function(t,e,n){var i=n(2),r=n(34),o=n(59),a=n(20),s=n(14),u=n(48),l=n(149),c=n(6),d=r("Reflect","construct"),f=c((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),h=!c((function(){d((function(){}))})),p=f||h;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var r=n.prototype,c=u(s(r)?r:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(13),s=n(19);i({target:"Reflect",stat:!0,forced:n(6)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(t,e,n){o(t);var i=a(e,!0);o(n);try{return s.f(t,i,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(2),r=n(20),o=n(4).f;i({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(r(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var i=n(2),r=n(14),o=n(20),a=n(15),s=n(4),u=n(108);i({target:"Reflect",stat:!0},{get:function t(e,n){var i,l,c=arguments.length<3?e:arguments[2];return o(e)===c?e[n]:(i=s.f(e,n))?a(i,"value")?i.value:void 0===i.get?void 0:i.get.call(c):r(l=u(e))?t(l,n,c):void 0}})},function(t,e,n){var i=n(2),r=n(5),o=n(20),a=n(4);i({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var i=n(2),r=n(20),o=n(108);i({target:"Reflect",stat:!0,sham:!n(109)},{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var i=n(2),r=n(20),o=Object.isExtensible;i({target:"Reflect",stat:!0},{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){n(2)({target:"Reflect",stat:!0},{ownKeys:n(33)})},function(t,e,n){var i=n(2),r=n(34),o=n(20);i({target:"Reflect",stat:!0,sham:!n(157)},{preventExtensions:function(t){o(t);try{var e=r("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(2),r=n(20),o=n(14),a=n(15),s=n(19),u=n(4),l=n(108),c=n(8);i({target:"Reflect",stat:!0},{set:function t(e,n,i){var d,f,h=arguments.length<4?e:arguments[3],p=u.f(r(e),n);if(!p){if(o(f=l(e)))return t(f,n,i,h);p=c(0)}if(a(p,"value")){if(!1===p.writable||!o(h))return!1;if(d=u.f(h,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=i,s.f(h,n,d)}else s.f(h,n,c(0,i));return!0}return void 0!==p.set&&(p.set.call(h,i),!0)}})},function(t,e,n){var i=n(2),r=n(20),o=n(111),a=n(110);a&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){r(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){var i=n(5),r=n(3),o=n(44),a=n(159),s=n(19).f,u=n(36).f,l=n(259),c=n(260),d=n(21),f=n(6),h=n(125),p=n(53)("match"),g=r.RegExp,m=g.prototype,v=/a/g,y=/a/g,_=new g(v)!==v;if(i&&o("RegExp",!_||f((function(){return y[p]=!1,g(v)!=v||g(y)==y||"/a/i"!=g(v,"i")})))){for(var b=function(t,e){var n=this instanceof b,i=l(t),r=void 0===e;return!n&&i&&t.constructor===b&&r?t:a(_?new g(i&&!r?t.source:t,e):g((i=t instanceof b)?t.source:t,i&&r?c.call(t):e),n?this:m,b)},w=function(t){t in b||s(b,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},T=u(g),S=0;T.length>S;)w(T[S++]);m.constructor=b,b.prototype=m,d(r,"RegExp",b)}h("RegExp")},function(t,e,n){var i=n(14),r=n(11),o=n(53)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(20);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(2),r=n(262);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,n){var i,r,o=n(260),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(t){var e,n,i,r,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(e=u.lastIndex),i=a.call(u,t),l&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),c&&i&&i.length>1&&s.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=u},function(t,e,n){var i=n(5),r=n(19),o=n(260);i&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,e,n){var i=n(21),r=n(20),o=n(6),a=n(260),s=RegExp.prototype,u=s.toString,l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c="toString"!=u.name;(l||c)&&i(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){var i=n(155),r=n(160);t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,n){var i=n(2),r=n(267).codeAt;i({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,e,n){var i=n(40),r=n(12),o=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var i=n(2),r=n(39),o=n(269),a=n(12),s=n(270),u="".endsWith,l=Math.min;i({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(t){var e=String(a(this));o(t);var n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:l(r(n),i),c=String(t);return u?u.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,n){var i=n(259);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(53)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var i=n(2),r=n(41),o=String.fromCharCode,a=String.fromCodePoint;i({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(2),r=n(269),o=n(12);i({target:"String",proto:!0,forced:!n(270)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(267).charAt,r=n(27),o=n(105),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var i=n(275),r=n(20),o=n(39),a=n(12),s=n(276),u=n(277);i("match",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var d,f=[],h=0;null!==(d=u(a,l));){var p=String(d[0]);f[h]=p,""===p&&(a.lastIndex=s(l,o(a.lastIndex),c)),h++}return 0===h?null:f}]}))},function(t,e,n){var i=n(18),r=n(21),o=n(6),a=n(53),s=n(262),u=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var f=a(t),h=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=h&&!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[f](""),!e}));if(!h||!p||"replace"===t&&!l||"split"===t&&!c){var g=/./[f],m=n(f,""[t],(function(t,e,n,i,r){return e.exec===s?h&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),r(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),d&&i(RegExp.prototype[f],"sham",!0)}}},function(t,e,n){var i=n(267).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i=n(11),r=n(262);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){var i=n(2),r=n(106),o=n(12),a=n(39),s=n(59),u=n(20),l=n(99),c=n(259),d=n(260),f=n(18),h=n(6),p=n(53),g=n(137),m=n(276),v=n(27),y=n(23),_=p("matchAll"),b=v.set,w=v.getterFor("RegExp String Iterator"),T=RegExp.prototype,S=T.exec,O="".matchAll,E=!!O&&!h((function(){"a".matchAll(/./)})),P=r((function(t,e,n,i){b(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:i,done:!1})}),"RegExp String",(function(){var t=w(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,i=function(t,e){var n,i=t.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(t,e)))throw TypeError("Incorrect exec result");return n}return S.call(t,e)}(e,n);return null===i?{value:void 0,done:t.done=!0}:t.global?(""==String(i[0])&&(e.lastIndex=m(n,a(e.lastIndex),t.unicode)),{value:i,done:!1}):(t.done=!0,{value:i,done:!1})})),C=function(t){var e,n,i,r,o,s,l=u(this),c=String(t);return e=g(l,RegExp),void 0===(n=l.flags)&&l instanceof RegExp&&!("flags"in T)&&(n=d.call(l)),i=void 0===n?"":String(n),r=new e(e===RegExp?l.source:l,i),o=!!~i.indexOf("g"),s=!!~i.indexOf("u"),r.lastIndex=a(l.lastIndex),new P(r,c,o,s)};i({target:"String",proto:!0,forced:E},{matchAll:function(t){var e,n,i,r=o(this);if(null!=t){if(c(t)&&!~String(o("flags"in T?t.flags:d.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(E)return O.apply(r,arguments);if(void 0===(n=t[_])&&y&&"RegExp"==l(t)&&(n=C),null!=n)return s(n).call(t,r)}else if(E)return O.apply(r,arguments);return e=String(r),i=new RegExp(t,"g"),y?C.call(i,e):i[_](e)}}),y||_ in T||f(T,_,C)},function(t,e,n){var i=n(2),r=n(142).end;i({target:"String",proto:!0,forced:n(280)},{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(237);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(t,e,n){var i=n(2),r=n(142).start;i({target:"String",proto:!0,forced:n(280)},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(2),r=n(9),o=n(39);i({target:"String",stat:!0},{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(2)({target:"String",proto:!0},{repeat:n(143)})},function(t,e,n){var i=n(275),r=n(20),o=n(47),a=n(39),s=n(40),u=n(12),l=n(276),c=n(277),d=Math.max,f=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;i("replace",2,(function(t,e,n){return[function(n,i){var r=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,o){var u=n(e,t,this,o);if(u.done)return u.value;var h=r(t),p=String(this),g="function"==typeof o;g||(o=String(o));var m=h.global;if(m){var v=h.unicode;h.lastIndex=0}for(var y=[];;){var _=c(h,p);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(h.lastIndex=l(p,a(h.lastIndex),v))}for(var b,w="",T=0,S=0;S<y.length;S++){_=y[S];for(var O=String(_[0]),E=d(f(s(_.index),p.length),0),P=[],C=1;C<_.length;C++)P.push(void 0===(b=_[C])?b:String(b));var A=_.groups;if(g){var x=[O].concat(P,E,p);void 0!==A&&x.push(A);var I=String(o.apply(void 0,x))}else I=i(O,p,E,P,A,o);E>=T&&(w+=p.slice(T,E)+I,T=E+O.length)}return w+p.slice(T)}];function i(t,n,i,r,a,s){var u=i+t.length,l=r.length,c=g;return void 0!==a&&(a=o(a),c=p),e.call(s,c,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,i);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>l){var d=h(c/10);return 0===d?e:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}s=r[c-1]}return void 0===s?"":s}))}}))},function(t,e,n){var i=n(275),r=n(20),o=n(12),a=n(219),s=n(277);i("search",1,(function(t,e,n){return[function(e){var n=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var o=r(t),u=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]}))},function(t,e,n){var i=n(275),r=n(259),o=n(20),a=n(12),s=n(137),u=n(276),l=n(39),c=n(277),d=n(262),f=n(6),h=[].push,p=Math.min,g=!f((function(){return!RegExp(4294967295,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);for(var s,u,l,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");(s=d.call(g,i))&&!((u=g.lastIndex)>p&&(c.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&h.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return p===i.length?!l&&g.test("")||c.push(""):c.push(i.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=o(t),f=String(this),h=s(d,RegExp),m=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new h(g?d:"^(?:"+d.source+")",v),_=void 0===r?4294967295:r>>>0;if(0===_)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var b=0,w=0,T=[];w<f.length;){y.lastIndex=g?w:0;var S,O=c(y,g?f:f.slice(w));if(null===O||(S=p(l(y.lastIndex+(g?0:w)),f.length))===b)w=u(f,w,m);else{if(T.push(f.slice(b,w)),T.length===_)return T;for(var E=1;E<=O.length-1;E++)if(T.push(O[E]),T.length===_)return T;w=b=S}}return T.push(f.slice(b)),T}]}),!g)},function(t,e,n){var i=n(2),r=n(39),o=n(269),a=n(12),s=n(270),u="".startsWith,l=Math.min;i({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(t){var e=String(a(this));o(t);var n=r(l(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return u?u.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(2),r=n(184).trim;i({target:"String",proto:!0,forced:n(289)("trim")},{trim:function(){return r(this)}})},function(t,e,n){var i=n(6),r=n(185);t.exports=function(t){return i((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},function(t,e,n){var i=n(2),r=n(184).end,o=n(289)("trimEnd"),a=o?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,n){var i=n(2),r=n(184).start,o=n(289)("trimStart"),a=o?function(){return r(this)}:"".trimStart;i({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},function(t,e,n){var i=n(12),r=/"/g;t.exports=function(t,e,n,o){var a=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var i=n(6);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("big")},{big:function(){return r(this,"big","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("blink")},{blink:function(){return r(this,"blink","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("bold")},{bold:function(){return r(this,"b","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontcolor")},{fontcolor:function(t){return r(this,"font","color",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("fontsize")},{fontsize:function(t){return r(this,"font","size",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("italics")},{italics:function(){return r(this,"i","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("link")},{link:function(t){return r(this,"a","href",t)}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("small")},{small:function(){return r(this,"small","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("strike")},{strike:function(){return r(this,"strike","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sub")},{sub:function(){return r(this,"sub","","")}})},function(t,e,n){var i=n(2),r=n(293);i({target:"String",proto:!0,forced:n(294)("sup")},{sup:function(){return r(this,"sup","","")}})},function(t,e,n){n(308)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(2),r=n(3),o=n(5),a=n(309),s=n(131),u=n(130),l=n(133),c=n(8),d=n(18),f=n(39),h=n(134),p=n(310),g=n(13),m=n(15),v=n(99),y=n(14),_=n(48),b=n(110),w=n(36).f,T=n(312),S=n(57).forEach,O=n(125),E=n(19),P=n(4),C=n(27),A=C.get,x=C.set,I=E.f,k=P.f,M=Math.round,R=r.RangeError,N=u.ArrayBuffer,D=u.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,F=s.TypedArray,V=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,U=s.isTypedArray,H=function(t,e){for(var n=0,i=e.length,r=new(B(t))(i);i>n;)r[n]=e[n++];return r},G=function(t,e){I(t,e,{get:function(){return A(this)[e]}})},W=function(t){var e;return t instanceof N||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},z=function(t,e){return U(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function(t,e){return z(t,e=g(e,!0))?c(2,t[e]):k(t,e)},q=function(t,e,n){return!(z(t,e=g(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?I(t,e,n):(t[e]=n.value,t)};o?(L||(P.f=$,E.f=q,G(V,"buffer"),G(V,"byteOffset"),G(V,"byteLength"),G(V,"length")),i({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:$,defineProperty:q}),t.exports=function(t,e,n,o){var s=t+(o?"Clamped":"")+"Array",u="get"+t,c="set"+t,g=r[s],m=g,v=m&&m.prototype,E={},P=function(t,n){I(t,n,{get:function(){return function(t,n){var i=A(t);return i.view[u](n*e+i.byteOffset,!0)}(this,n)},set:function(t){return function(t,n,i){var r=A(t);o&&(i=(i=M(i))<0?0:i>255?255:255&i),r.view[c](n*e+r.byteOffset,i,!0)}(this,n,t)},enumerable:!0})};L?a&&(m=n((function(t,n,i,r){return l(t,m,s),y(n)?W(n)?void 0!==r?new g(n,p(i,e),r):void 0!==i?new g(n,p(i,e)):new g(n):U(n)?H(m,n):T.call(m,n):new g(h(n))})),b&&b(m,F),S(w(g),(function(t){t in m||d(m,t,g[t])})),m.prototype=v):(m=n((function(t,n,i,r){l(t,m,s);var o,a,u,c=0,d=0;if(y(n)){if(!W(n))return U(n)?H(m,n):T.call(m,n);o=n,d=p(i,e);var g=n.byteLength;if(void 0===r){if(g%e)throw R("Wrong length");if((a=g-d)<0)throw R("Wrong length")}else if((a=f(r)*e)+d>g)throw R("Wrong length");u=a/e}else u=h(n),o=new N(a=u*e);for(x(t,{buffer:o,byteOffset:d,byteLength:a,length:u,view:new D(o)});c<u;)P(t,c++)})),b&&b(m,F),v=m.prototype=_(V)),v.constructor!==m&&d(v,"constructor",m),j&&d(v,j,s),E[s]=m,i({global:!0,forced:m!=g,sham:!L},E),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",e),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",e),O(s)}):t.exports=function(){}},function(t,e,n){var i=n(3),r=n(6),o=n(100),a=n(131).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,u=i.Int8Array;t.exports=!a||!r((function(){u(1)}))||!r((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||r((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,n){var i=n(311);t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var i=n(40);t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var i=n(47),r=n(39),o=n(98),a=n(96),s=n(58),u=n(131).aTypedArrayConstructor;t.exports=function(t){var e,n,l,c,d,f,h=i(t),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=o(h);if(null!=v&&!a(v))for(f=(d=v.call(h)).next,h=[];!(c=f.call(d)).done;)h.push(c.value);for(m&&p>2&&(g=s(g,arguments[2],2)),n=r(h.length),l=new(u(this))(n),e=0;n>e;e++)l[e]=m?g(h[e],e):h[e];return l}},function(t,e,n){n(308)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(308)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(308)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(131),r=n(79),o=i.aTypedArray;i.exportProto("copyWithin",(function(t,e){return r.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).every,o=i.aTypedArray;i.exportProto("every",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(84),o=i.aTypedArray;i.exportProto("fill",(function(t){return r.apply(o(this),arguments)}))},function(t,e,n){var i=n(131),r=n(57).filter,o=n(137),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",(function(t){for(var e=r(a(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),i=0,u=e.length,l=new(s(n))(u);u>i;)l[i]=e[i++];return l}))},function(t,e,n){var i=n(131),r=n(57).find,o=i.aTypedArray;i.exportProto("find",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).findIndex,o=i.aTypedArray;i.exportProto("findIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(57).forEach,o=i.aTypedArray;i.exportProto("forEach",(function(t){r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(309),r=n(131),o=n(312);r.exportStatic("from",o,i)},function(t,e,n){var i=n(131),r=n(38).includes,o=i.aTypedArray;i.exportProto("includes",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(38).indexOf,o=i.aTypedArray;i.exportProto("indexOf",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(3),r=n(131),o=n(104),a=n(53)("iterator"),s=i.Uint8Array,u=o.values,l=o.keys,c=o.entries,d=r.aTypedArray,f=r.exportProto,h=s&&s.prototype[a],p=!!h&&("values"==h.name||null==h.name),g=function(){return u.call(d(this))};f("entries",(function(){return c.call(d(this))})),f("keys",(function(){return l.call(d(this))})),f("values",g,!p),f(a,g,!p)},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].join;i.exportProto("join",(function(t){return o.apply(r(this),arguments)}))},function(t,e,n){var i=n(131),r=n(114),o=i.aTypedArray;i.exportProto("lastIndexOf",(function(t){return r.apply(o(this),arguments)}))},function(t,e,n){var i=n(131),r=n(57).map,o=n(137),a=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("map",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},function(t,e,n){var i=n(131),r=n(309),o=i.aTypedArrayConstructor;i.exportStatic("of",(function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n}),r)},function(t,e,n){var i=n(131),r=n(118).left,o=i.aTypedArray;i.exportProto("reduce",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=n(118).right,o=i.aTypedArray;i.exportProto("reduceRight",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=Math.floor;i.exportProto("reverse",(function(){for(var t,e=r(this).length,n=o(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this}))},function(t,e,n){var i=n(131),r=n(39),o=n(310),a=n(47),s=n(6),u=i.aTypedArray,l=s((function(){new Int8Array(1).set({})}));i.exportProto("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(t),s=r(i.length),l=0;if(s+e>n)throw RangeError("Wrong length");for(;l<s;)this[e+l]=i[l++]}),l)},function(t,e,n){var i=n(131),r=n(137),o=n(6),a=i.aTypedArray,s=i.aTypedArrayConstructor,u=[].slice,l=o((function(){new Int8Array(1).slice()}));i.exportProto("slice",(function(t,e){for(var n=u.call(a(this),t,e),i=r(this,this.constructor),o=0,l=n.length,c=new(s(i))(l);l>o;)c[o]=n[o++];return c}),l)},function(t,e,n){var i=n(131),r=n(57).some,o=i.aTypedArray;i.exportProto("some",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){var i=n(131),r=i.aTypedArray,o=[].sort;i.exportProto("sort",(function(t){return o.call(r(this),t)}))},function(t,e,n){var i=n(131),r=n(39),o=n(41),a=n(137),s=i.aTypedArray;i.exportProto("subarray",(function(t,e){var n=s(this),i=n.length,u=o(t,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,r((void 0===e?i:o(e,i))-u))}))},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Int8Array,s=r.aTypedArray,u=[].toLocaleString,l=[].slice,c=!!a&&o((function(){u.call(new a(1))})),d=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));r.exportProto("toLocaleString",(function(){return u.apply(c?l.call(s(this)):s(this),arguments)}),d)},function(t,e,n){var i=n(3),r=n(131),o=n(6),a=i.Uint8Array,s=a&&a.prototype,u=[].toString,l=[].join;o((function(){u.call({})}))&&(u=function(){return l.call(this)}),r.exportProto("toString",u,(s||{}).toString!=u)},function(t,e,n){var i,r=n(3),o=n(132),a=n(156),s=n(155),u=n(347),l=n(14),c=n(27).enforce,d=n(28),f=!r.ActiveXObject&&"ActiveXObject"in r,h=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",p,u,!0,!0);if(d&&f){i=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,_=m.get,b=m.set;o(m,{delete:function(t){if(l(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new i),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(l(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new i),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(l(t)&&!h(t)){var e=c(this);return e.frozen||(e.frozen=new i),y.call(this,t)?_.call(this,t):e.frozen.get(t)}return _.call(this,t)},set:function(t,e){if(l(t)&&!h(t)){var n=c(this);n.frozen||(n.frozen=new i),y.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,n){var i=n(132),r=n(156).getWeakData,o=n(20),a=n(14),s=n(133),u=n(158),l=n(57),c=n(15),d=n(27),f=d.set,h=d.getterFor,p=l.find,g=l.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},_=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var n=_(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,l){var d=t((function(t,i){s(t,d,e),f(t,{type:e,id:m++,frozen:void 0}),null!=i&&u(i,t[l],t,n)})),p=h(e),g=function(t,e,n){var i=p(t),a=r(o(e),!0);return!0===a?v(i).set(e,n):a[i.id]=n,t};return i(d.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?v(e).delete(t):n&&c(n,e.id)&&delete n[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var n=r(t);return!0===n?v(e).has(t):n&&c(n,e.id)}}),i(d.prototype,n?{get:function(t){var e=p(this);if(a(t)){var n=r(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),d}}},function(t,e,n){n(155)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(347),!1,!0)},function(t,e,n){var i=n(2),r=n(5),o=n(108),a=n(110),s=n(48),u=n(19),l=n(8),c=n(158),d=n(18),f=n(20),h=n(27),p=h.set,g=h.getterFor("AggregateError"),m=function(t,e){var n=this;if(!(n instanceof m))return new m(t,e);a&&(n=a(new Error(e),o(n)));var i=[];return c(t,i.push,i),r?p(n,{errors:i,type:"AggregateError"}):n.errors=i,void 0!==e&&d(n,"message",String(e)),n};m.prototype=s(Error.prototype,{constructor:l(5,m),message:l(5,""),name:l(5,"AggregateError"),toString:l(5,(function(){var t=f(this).name;t=void 0===t?"AggregateError":String(t);var e=this.message;return t+": "+(e=void 0===e?"":String(e))}))}),r&&u.f(m.prototype,"errors",{get:function(){return g(this).errors},configurable:!0}),i({global:!0},{AggregateError:m})},function(t,e,n){var i=n(2),r=n(46),o=Object.isFrozen,a=function(t,e){if(!o||!r(t)||!o(t))return!1;for(var n,i=0,a=t.length;i<a;)if(!("string"==typeof(n=t[i++])||e&&void 0===n))return!1;return 0!==a};i({target:"Array",stat:!0},{isTemplateObject:function(t){if(!a(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!a(e,!1))}})},function(t,e,n){var i=n(5),r=n(80),o=n(47),a=n(39),s=n(19).f;i&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),r("lastIndex"))},function(t,e,n){var i=n(5),r=n(80),o=n(47),a=n(39),s=n(19).f;i&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=o(this),n=a(e.length);return e[0==n?0:n-1]=t}}),r("lastItem"))},function(t,e,n){var i=n(2),r=n(133),o=n(18),a=n(15),s=n(53),u=n(354),l=n(23),c=s("toStringTag"),d=function(){r(this,d)};d.prototype=u,a(u,c)||o(u,c,"AsyncIterator"),i({global:!0,forced:l},{AsyncIterator:d})},function(t,e,n){var i,r,o=n(3),a=n(24),s=n(108),u=n(15),l=n(18),c=n(53),d=n(23),f=c("asyncIterator"),h=o.AsyncIterator,p=a.AsyncIteratorPrototype;if(!d)if(p)i=p;else if("function"==typeof h)i=h.prototype;else if(a.USE_FUNCTION_CONSTRUCTOR||o.USE_FUNCTION_CONSTRUCTOR)try{r=s(s(s(Function("return async function*(){}()")()))),s(r)===Object.prototype&&(i=r)}catch(t){}i||(i={}),u(i,f)||l(i,f,(function(){return this})),t.exports=i},function(t,e,n){var i=n(2),r=n(20),o=n(356)((function(t,e){var n=this,i=n.iterator;return e.resolve(r(n.next.call(i,t))).then((function(t){return r(t).done?(n.done=!0,{done:!0,value:void 0}):{done:!1,value:[n.index++,t.value]}}))}));i({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,n){var i=n(35),r=n(59),o=n(20),a=n(48),s=n(18),u=n(132),l=n(53),c=n(27),d=n(34)("Promise"),f=c.set,h=c.get,p=l("toStringTag"),g=function(t){var e=h(this).iterator,n=e.return;return void 0===n?d.resolve({done:!0,value:t}):o(n.call(e,t))},m=function(t){var e=h(this).iterator,n=e.throw;return void 0===n?d.reject(t):n.call(e,t)};t.exports=function(t,e){var n=function(t){t.next=r(t.iterator.next),t.done=!1,f(this,t)};return n.prototype=u(a(i.AsyncIterator.prototype),{next:function(e){var n=h(this);if(n.done)return d.resolve({done:!0,value:void 0});try{return d.resolve(o(t.call(n,e,d)))}catch(t){return d.reject(t)}},return:g,throw:m}),e||s(n.prototype,p,"Generator"),n}},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(356)((function(t,e){var n=this;return new e((function(i,o){var a=function(){try{e.resolve(r(n.next.call(n.iterator,n.remaining?void 0:t))).then((function(t){try{r(t).done?(n.done=!0,i({done:!0,value:void 0})):n.remaining?(n.remaining--,a()):i({done:!1,value:t.value})}catch(t){o(t)}}),o)}catch(t){o(t)}};a()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(359).every;i({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return r(this,t)}})},function(t,e,n){var i=n(59),r=n(20),o=n(34)("Promise"),a=[].push,s=function(t){var e=0==t,n=1==t,s=2==t,u=3==t;return function(t,l){r(t);var c=i(t.next),d=e?[]:void 0;return e||i(l),new o((function(i,f){var h=function(){try{o.resolve(r(c.call(t))).then((function(t){try{if(r(t).done)i(e?d:!u&&(s||void 0));else{var c=t.value;e?(a.call(d,c),h()):o.resolve(l(c)).then((function(t){n?h():s?t?h():i(!1):t?i(u||c):h()}),f)}}catch(t){f(t)}}),f)}catch(t){f(t)}};h()}))}};t.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(356)((function(t,e){var n=this,i=n.filterer;return new e((function(r,a){var s=function(){try{e.resolve(o(n.next.call(n.iterator,t))).then((function(t){try{if(o(t).done)n.done=!0,r({done:!0,value:void 0});else{var u=t.value;e.resolve(i(u)).then((function(t){t?r({done:!1,value:u}):s()}),a)}}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new a({iterator:o(this),filterer:r(t)})}})},function(t,e,n){var i=n(2),r=n(359).find;i({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(14),s=n(356),u=n(363),l=s((function(t,e){var n,i,s=this,l=s.mapper;return new e((function(c,d){var f=function(){try{e.resolve(o(s.next.call(s.iterator,t))).then((function(t){try{o(t).done?(s.done=!0,c({done:!0,value:void 0})):e.resolve(l(t.value)).then((function(t){try{if(a(t)&&void 0!==(i=u(t)))return s.innerIterator=n=i.call(t),s.innerNext=r(n.next),h();c({done:!1,value:t})}catch(t){d(t)}}),d)}catch(t){d(t)}}),d)}catch(t){d(t)}},h=function(){if(n=s.innerIterator)try{e.resolve(o(s.innerNext.call(n))).then((function(t){try{o(t).done?(s.innerIterator=s.innerNext=null,f()):c({done:!1,value:t.value})}catch(t){d(t)}}),d)}catch(t){d(t)}else f()};h()}))}));i({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new l({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,n){var i=n(98),r=n(53)("asyncIterator");t.exports=function(t){var e=t[r];return void 0===e?i(t):e}},function(t,e,n){var i=n(2),r=n(359).forEach;i({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(356),l=n(363),c=r.AsyncIterator,d=u((function(t){return a(this.next.call(this.iterator,t))}),!0);i({target:"AsyncIterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(356)((function(t,e){var n=this,i=n.mapper;return e.resolve(o(n.next.call(n.iterator,t))).then((function(t){return o(t).done?(n.done=!0,{done:!0,value:void 0}):e.resolve(i(t.value)).then((function(t){return{done:!1,value:t}}))}))}));i({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new a({iterator:o(this),mapper:r(t)})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(34)("Promise");i({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var e=o(this),n=r(e.next),i=arguments.length<2,s=i?void 0:arguments[1];return r(t),new a((function(r,u){var l=function(){try{a.resolve(o(n.call(e))).then((function(e){try{if(o(e).done)i?u(TypeError("Reduce of empty iterator with no initial value")):r(s);else{var n=e.value;i?(i=!1,s=n,l()):a.resolve(t(s,n)).then((function(t){s=t,l()}),u)}}catch(t){u(t)}}),u)}catch(t){u(t)}};l()}))}})},function(t,e,n){var i=n(2),r=n(359).some;i({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(356)((function(t){return this.remaining--?this.next.call(this.iterator,t):(this.done=!0,{done:!0,value:void 0})}));i({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(359).toArray;i({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return r(this)}})},function(t,e,n){var i=n(2),r=n(372),o=n(34),a=n(48),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};i({global:!0},{compositeKey:function(){return r.apply(Object,arguments).get("object",s)}})},function(t,e,n){var i=n(154),r=n(346),o=n(48),a=n(14),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,n){var o=n?this.objectsByIndex[t]||(this.objectsByIndex[t]=new r):this.primitives||(this.primitives=new i),a=o.get(e);return a||o.set(e,a=new s),a};var u=new s;t.exports=function(){var t,e,n=u,i=arguments.length;for(t=0;t<i;t++)a(e=arguments[t])&&(n=n.next(t,e,!0));if(this===Object&&n===u)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<i;t++)a(e=arguments[t])||(n=n.next(t,e,!1));return n}},function(t,e,n){var i=n(2),r=n(372),o=n(34);i({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):r.apply(null,arguments).get("symbol",o("Symbol"))}})},function(t,e,n){n(152)},function(t,e,n){var i=n(2),r=n(3),o=n(133),a=n(18),s=n(15),u=n(53),l=n(107).IteratorPrototype,c=n(23),d=u("iterator"),f=u("toStringTag"),h=r.Iterator,p=c||"function"!=typeof h||h.prototype!==l,g=function(){o(this,g)};c&&a(l={},d,(function(){return this})),s(l,f)||a(l,f,"Iterator"),g.prototype=l,i({global:!0,forced:p},{Iterator:g})},function(t,e,n){var i=n(2),r=n(20),o=n(377)((function(t){var e=r(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value]}));i({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,n){var i=n(35),r=n(59),o=n(20),a=n(48),s=n(18),u=n(132),l=n(53),c=n(27),d=c.set,f=c.get,h=l("toStringTag"),p=function(t){var e=f(this).iterator,n=e.return;return void 0===n?{done:!0,value:t}:o(n.call(e,t))},g=function(t){var e=f(this).iterator,n=e.throw;if(void 0===n)throw t;return n.call(e,t)};t.exports=function(t,e){var n=function(t){t.next=r(t.iterator.next),t.done=!1,d(this,t)};return n.prototype=u(a(i.Iterator.prototype),{next:function(){var e=f(this),n=e.done?void 0:t.apply(e,arguments);return{done:e.done,value:n}},return:p,throw:g}),e||s(n.prototype,h,"Generator"),n}},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){for(var e,n=this.iterator,i=this.next;this.remaining;)if(this.remaining--,e=r(i.call(n)),this.done=!!e.done)return;if(e=r(i.call(n,t)),!(this.done=!!e.done))return e.value}));i({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{every:function(t){return a(this),o(t),!r(this,(function(e){if(!t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){for(var e,n,i=this.iterator,r=this.filterer,a=this.next;;){if(e=o(a.call(i,t)),this.done=!!e.done)return;if(n=e.value,s(i,r,n))return n}}));i({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new u({iterator:o(this),filterer:r(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{find:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop(e)}),void 0,!1,!0).result}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(14),s=n(98),u=n(377),l=n(95),c=u((function(t){for(var e,n,i,u,c=this.iterator;;){if(u=this.innerIterator){if(!(e=o(this.innerNext.call(u))).done)return e.value;this.innerIterator=this.innerNext=null}if(e=o(this.next.call(c,t)),this.done=!!e.done)return;if(n=l(c,this.mapper,e.value),!a(n)||void 0===(i=s(n)))return n;this.innerIterator=u=i.call(n),this.innerNext=r(u.next)}}));i({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new c({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,n){var i=n(2),r=n(158),o=n(20);i({target:"Iterator",proto:!0,real:!0},{forEach:function(t){r(o(this),t,void 0,!1,!0)}})},function(t,e,n){var i=n(2),r=n(35),o=n(59),a=n(20),s=n(47),u=n(377),l=n(98),c=r.Iterator,d=u((function(t){var e=a(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return e.value}),!0);i({target:"Iterator",stat:!0},{from:function(t){var e,n=s(t),i=l(n);if(null!=i){if((e=o(i).call(n))instanceof c)return e}else e=n;return new d({iterator:e})}})},function(t,e,n){var i=n(2),r=n(59),o=n(20),a=n(377),s=n(95),u=a((function(t){var e=this.iterator,n=o(this.next.call(e,t));if(!(this.done=!!n.done))return s(e,this.mapper,n.value)}));i({target:"Iterator",proto:!0,real:!0},{map:function(t){return new u({iterator:o(this),mapper:r(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var e=arguments.length<2,n=e?void 0:arguments[1];if(r(this,(function(i){e?(e=!1,n=i):n=t(n,i)}),void 0,!1,!0),e)throw TypeError("Reduce of empty iterator with no initial value");return n}})},function(t,e,n){var i=n(2),r=n(158),o=n(59),a=n(20);i({target:"Iterator",proto:!0,real:!0},{some:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(20),o=n(311),a=n(377)((function(t){if(this.remaining--){var e=r(this.next.call(this.iterator,t));return(this.done=!!e.done)?void 0:e.value}this.done=!0}));i({target:"Iterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,n){var i=n(2),r=n(158),o=n(20),a=[].push;i({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return r(o(this),a,t,!1,!0),t}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t,e=i(this),n=r(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(t,n){if(!i(n,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Map.prototype.entries.call(t)}},function(t,e,n){var i=n(20),r=n(98);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),f=s(r.set);return d(n,(function(t,n){i(n,t,e)&&f.call(r,t,n)}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop(n)}),void 0,!0,!0).result}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{findKey:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop(t)}),void 0,!0,!0).result}})},function(t,e,n){n(2)({target:"Map",stat:!0},{from:n(399)})},function(t,e,n){var i=n(59),r=n(58),o=n(158);t.exports=function(t){var e,n,a,s,u=arguments.length,l=u>1?arguments[1]:void 0;return i(this),(e=void 0!==l)&&i(l),null==t?new this:(n=[],e?(a=0,s=r(l,u>2?arguments[2]:void 0,2),o(t,(function(t){n.push(s(t,a++))}))):o(t,n.push,n),new this(n))}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var i=o(n.has),a=o(n.get),s=o(n.set);return r(t,(function(t){var r=e(t);i.call(n,r)?a.call(n,r).push(t):s.call(n,r,[t])})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(393),s=n(402),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{includes:function(t){return u(a(o(this)),(function(e,n){if(s(n,t))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(2),r=n(158),o=n(59);i({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var i=o(n.set);return r(t,(function(t){i.call(n,e(t),t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(393),s=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{keyOf:function(t){return s(a(o(this)),(function(e,n){if(n===t)return s.stop(e)}),void 0,!0,!0).result}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),f=s(r.set);return d(n,(function(t,n){f.call(r,i(n,t,e),n)}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(393),d=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),f=s(r.set);return d(n,(function(t,n){f.call(r,t,i(n,t,e))}),void 0,!0,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{merge:function(t){for(var e=o(this),n=a(e.set),i=0;i<arguments.length;)s(arguments[i++],n,e,!0);return e}})},function(t,e,n){n(2)({target:"Map",stat:!0},{of:n(409)})},function(t,e,n){t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),n=s(e),i=arguments.length<2,r=i?void 0:arguments[1];if(a(t),u(n,(function(n,o){i?(i=!1,r=o):r=t(r,o,n,e)}),void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(393),u=n(158);i({target:"Map",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n){if(i(n,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59);i({target:"Map",proto:!0,real:!0,forced:r},{update:function(t,e){var n=o(this),i=arguments.length;a(e);var r=n.has(t);if(!r&&i<3)throw TypeError("Updating absent value");var s=r?n.get(t):a(i>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{updateOrInsert:n(414)})},function(t,e,n){var i=n(20);t.exports=function(t,e){var n,r=i(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return r.has(t)?(n=r.get(t),"function"==typeof e&&(n=e(n),r.set(t,n))):"function"==typeof o&&(n=o(),r.set(t,n)),n}},function(t,e,n){n(2)({target:"Map",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=Math.min,o=Math.max;i({target:"Math",stat:!0},{clamp:function(t,e,n){return r(n,o(e,t))}})},function(t,e,n){n(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(2),r=180/Math.PI;i({target:"Math",stat:!0},{degrees:function(t){return t*r}})},function(t,e,n){var i=n(2),r=n(420),o=n(172);i({target:"Math",stat:!0},{fscale:function(t,e,n,i,a){return o(r(t,e,n,i,a))}})},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e,n){n(2)({target:"Math",stat:!0},{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>16,s=i>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(2),r=Math.PI/180;i({target:"Math",stat:!0},{radians:function(t){return t*r}})},function(t,e,n){n(2)({target:"Math",stat:!0},{scale:n(420)})},function(t,e,n){var i=n(2),r=n(20),o=n(188),a=n(106),s=n(27),u=s.set,l=s.getterFor("Seeded Random Generator"),c=a((function(t){u(this,{type:"Seeded Random Generator",seed:t%2147483647})}),"Seeded Random",(function(){var t=l(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}}));i({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=r(t).seed;if(!o(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new c(e)}})},function(t,e,n){n(2)({target:"Math",stat:!0},{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){n(2)({target:"Math",stat:!0},{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,a=n>>>16,s=i>>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var i=n(2),r=n(40),o=n(198),a=/^[\da-z]+$/;i({target:"Number",stat:!0},{fromString:function(t,e){var n,i,s=1;if("string"!=typeof t)throw TypeError("Invalid number representation");if(!t.length)throw SyntaxError("Invalid number representation");if("-"==t.charAt(0)&&(s=-1,!(t=t.slice(1)).length))throw SyntaxError("Invalid number representation");if((n=void 0===e?10:r(e))<2||n>36)throw RangeError("Invalid radix");if(!a.test(t)||(i=o(t,n)).toString(n)!==t)throw SyntaxError("Invalid number representation");return s*i}})},function(t,e,n){var i=n(2),r=n(5),o=n(125),a=n(59),s=n(20),u=n(14),l=n(133),c=n(19).f,d=n(18),f=n(132),h=n(394),p=n(158),g=n(241),m=n(53),v=n(27),y=m("observable"),_=v.get,b=v.set,w=function(t){return null==t?void 0:a(t)},T=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){g(t)}}},S=function(t){return void 0===t.observer},O=function(t,e){if(!r){t.closed=!0;var n=e.subscriptionObserver;n&&(n.closed=!0)}e.observer=void 0},E=function(t,e){var n,i=b(this,{cleanup:void 0,observer:s(t),subscriptionObserver:void 0});r||(this.closed=!1);try{(n=w(t.start))&&n.call(t,this)}catch(t){g(t)}if(!S(i)){var o=i.subscriptionObserver=new P(this);try{var u=e(o),l=u;null!=u&&(i.cleanup="function"==typeof u.unsubscribe?function(){l.unsubscribe()}:a(u))}catch(t){return void o.error(t)}S(i)&&T(i)}};E.prototype=f({},{unsubscribe:function(){var t=_(this);S(t)||(O(this,t),T(t))}}),r&&c(E.prototype,"closed",{configurable:!0,get:function(){return S(_(this))}});var P=function(t){b(this,{subscription:t}),r||(this.closed=!1)};P.prototype=f({},{next:function(t){var e=_(_(this).subscription);if(!S(e)){var n=e.observer;try{var i=w(n.next);i&&i.call(n,t)}catch(t){g(t)}}},error:function(t){var e=_(this).subscription,n=_(e);if(!S(n)){var i=n.observer;O(e,n);try{var r=w(i.error);r?r.call(i,t):g(t)}catch(t){g(t)}T(n)}},complete:function(){var t=_(this).subscription,e=_(t);if(!S(e)){var n=e.observer;O(t,e);try{var i=w(n.complete);i&&i.call(n)}catch(t){g(t)}T(e)}}}),r&&c(P.prototype,"closed",{configurable:!0,get:function(){return S(_(_(this).subscription))}});var C=function(t){l(this,C,"Observable"),b(this,{subscriber:a(t)})};f(C.prototype,{subscribe:function(t){var e=arguments.length;return new E("function"==typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:u(t)?t:{},_(this).subscriber)}}),f(C,{from:function(t){var e="function"==typeof this?this:C,n=w(s(t)[y]);if(n){var i=s(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}var r=h(t);return new e((function(t){p(r,(function(e){if(t.next(e),t.closed)return p.stop()}),void 0,!1,!0),t.complete()}))},of:function(){for(var t="function"==typeof this?this:C,e=arguments.length,n=new Array(e),i=0;i<e;)n[i]=arguments[i++];return new t((function(t){for(var i=0;i<e;i++)if(t.next(n[i]),t.closed)return;t.complete()}))}}),d(C.prototype,y,(function(){return this})),i({global:!0},{Observable:C}),o("Observable")},function(t,e,n){n(243)},function(t,e,n){var i=n(2),r=n(59),o=n(34),a=n(240),s=n(242),u=n(158);i({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),i=n.resolve,l=n.reject,c=s((function(){var n=r(e.resolve),a=[],s=0,c=1,d=!1;u(t,(function(t){var r=s++,u=!1;a.push(void 0),c++,n.call(e,t).then((function(t){u||d||(d=!0,i(t))}),(function(t){u||d||(u=!0,a[r]=t,--c||l(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--c||l(new(o("AggregateError"))(a,"No one promise resolved"))}));return c.error&&l(c.value),n.promise}})},function(t,e,n){var i=n(2),r=n(240),o=n(242);i({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.set;i({target:"Reflect",stat:!0},{defineMetadata:function(t,e,n){var i=arguments.length<4?void 0:a(arguments[3]);s(t,e,o(n),i)}})},function(t,e,n){var i=n(154),r=n(346),o=n(22)("metadata"),a=o.store||(o.store=new r),s=function(t,e,n){var r=a.get(t);if(!r){if(!n)return;a.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};t.exports={store:a,getMap:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.getMap,u=r.store;i({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var n=arguments.length<3?void 0:a(arguments[2]),i=s(o(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var r=u.get(e);return r.delete(n),!!r.size||u.delete(e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=n(108),s=r.has,u=r.get,l=r.toKey,c=function(t,e,n){if(s(t,e,n))return u(t,e,n);var i=a(e);return null!==i?c(t,i,n):void 0};i({target:"Reflect",stat:!0},{getMetadata:function(t,e){var n=arguments.length<3?void 0:l(arguments[2]);return c(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(265),o=n(436),a=n(20),s=n(108),u=n(158),l=o.keys,c=o.toKey,d=function(t,e){var n=l(t,e),i=s(t);if(null===i)return n;var o,a,c=d(i,e);return c.length?n.length?(o=new r(n.concat(c)),u(o,(a=[]).push,a),a):c:n};i({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:c(arguments[1]);return d(a(t),e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.get,s=r.toKey;i({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.keys,s=r.toKey;i({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return a(o(t),e)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=n(108),s=r.has,u=r.toKey,l=function(t,e,n){if(s(t,e,n))return!0;var i=a(e);return null!==i&&l(t,i,n)};i({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var n=arguments.length<3?void 0:u(arguments[2]);return l(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.has,s=r.toKey;i({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var n=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),n)}})},function(t,e,n){var i=n(2),r=n(436),o=n(20),a=r.toKey,s=r.set;i({target:"Reflect",stat:!0},{metadata:function(t,e){return function(n,i){s(t,e,o(n),a(i))}}})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(20),r=n(59);t.exports=function(){for(var t=i(this),e=r(t.add),n=0,o=arguments.length;n<o;n++)e.call(t,arguments[n]);return t}},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete);return l(t,(function(t){i.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(t){if(!i(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(23),r=n(394);t.exports=i?r:function(t){return Set.prototype.values.call(t)}},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(450),d=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),f=s(r.add);return d(n,(function(t){i(t,t,e)&&f.call(r,t)}),void 0,!1,!0),r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t){if(i(t,t,e))return u.stop(t)}),void 0,!1,!0).result}})},function(t,e,n){n(2)({target:"Set",stat:!0},{from:n(399)})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(t){var e=a(this),n=new(u(e,o("Set"))),i=s(e.has),r=s(n.add);return l(t,(function(t){i.call(e,t)&&r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!0===n.call(e,t))return s.stop()})).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(394),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(t){var e=u(this),n=a(t),i=n.has;return"function"!=typeof i&&(n=new(o("Set"))(t),i=s(n.has)),!l(e,(function(t){if(!1===i.call(n,t))return l.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(t){var e=o(this),n=a(e.has);return!s(t,(function(t){if(!1===n.call(e,t))return s.stop()})).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(450),s=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{join:function(t){var e=o(this),n=a(e),i=void 0===t?",":String(t),r=[];return s(n,r.push,r,!1,!0),r.join(i)}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(58),l=n(137),c=n(450),d=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{map:function(t){var e=a(this),n=c(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),f=s(r.add);return d(n,(function(t){f.call(r,i(t,t,e))}),void 0,!1,!0),r}})},function(t,e,n){n(2)({target:"Set",stat:!0},{of:n(409)})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(59),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),n=s(e),i=arguments.length<2,r=i?void 0:arguments[1];if(a(t),u(n,(function(n){i?(i=!1,r=n):r=t(r,n,n,e)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return r}})},function(t,e,n){var i=n(2),r=n(23),o=n(20),a=n(58),s=n(450),u=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),n=s(e),i=a(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t){if(i(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(t){var e=a(this),n=new(u(e,o("Set")))(e),i=s(n.delete),r=s(n.add);return l(t,(function(t){i.call(n,t)||r.call(n,t)})),n}})},function(t,e,n){var i=n(2),r=n(23),o=n(34),a=n(20),s=n(59),u=n(137),l=n(158);i({target:"Set",proto:!0,real:!0,forced:r},{union:function(t){var e=a(this),n=new(u(e,o("Set")))(e);return l(t,s(n.add),n),n}})},function(t,e,n){var i=n(2),r=n(267).charAt;i({target:"String",proto:!0},{at:function(t){return r(this,t)}})},function(t,e,n){var i=n(2),r=n(106),o=n(12),a=n(27),s=n(267),u=s.codeAt,l=s.charAt,c=a.set,d=a.getterFor("String Iterator"),f=r((function(t){c(this,{type:"String Iterator",string:t,index:0})}),"String",(function(){var t,e=d(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=l(n,i),e.index+=t.length,{value:{codePoint:u(t,0),position:i},done:!1})}));i({target:"String",proto:!0},{codePoints:function(){return new f(String(o(this)))}})},function(t,e,n){n(278)},function(t,e,n){var i=n(2),r=n(12),o=n(259),a=n(260),s=n(53),u=n(23),l=s("replace"),c=RegExp.prototype;i({target:"String",proto:!0},{replaceAll:function(t,e){var n,i,s,d,f,h,p,g=r(this);if(null!=t){if((n=o(t))&&!~String(r("flags"in c?t.flags:a.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(i=t[l]))return i.call(t,g,e);if(u&&n)return String(g).replace(t,e)}if(s=String(g),d=String(t),f=s.split(d),"function"!=typeof e)return f.join(String(e));for(h=f[0],p=1;p<f.length;p++)h+=String(e(d,p-1,s)),h+=f[p];return h}})},function(t,e,n){n(55)("asyncDispose")},function(t,e,n){n(55)("dispose")},function(t,e,n){n(55)("observable")},function(t,e,n){n(55)("patternMatch")},function(t,e,n){n(55)("replaceAll")},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakMap",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakMap",stat:!0},{of:n(409)})},function(t,e,n){n(2)({target:"WeakMap",proto:!0,real:!0,forced:n(23)},{upsert:n(414)})},function(t,e,n){var i=n(2),r=n(23),o=n(446);i({target:"WeakSet",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,n){var i=n(2),r=n(23),o=n(391);i({target:"WeakSet",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{from:n(399)})},function(t,e,n){n(2)({target:"WeakSet",stat:!0},{of:n(409)})},function(t,e,n){var i=n(3),r=n(483),o=n(92),a=n(18);for(var s in r){var u=i[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(t){l.forEach=o}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var i=n(3),r=n(483),o=n(104),a=n(18),s=n(53),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var d in r){var f=i[d],h=f&&f.prototype;if(h){if(h[u]!==c)try{a(h,u,c)}catch(t){h[u]=c}if(h[l]||a(h,l,d),r[d])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(t){h[p]=o[p]}}}},function(t,e,n){var i=n(3),r=n(236),o=!i.setImmediate||!i.clearImmediate;n(2)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(2),r=n(3),o=n(238),a=n(11),s=r.process,u="process"==a(s);i({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,e,n){var i=n(2),r=n(3),o=n(237),a=[].slice,s=function(t){return function(e,n){var i=arguments.length>2,r=i?a.call(arguments,2):void 0;return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(t,e,n){n(273);var i,r=n(2),o=n(5),a=n(489),s=n(3),u=n(49),l=n(21),c=n(133),d=n(15),f=n(203),h=n(94),p=n(267).codeAt,g=n(490),m=n(56),v=n(491),y=n(27),_=s.URL,b=v.URLSearchParams,w=v.getState,T=y.set,S=y.getterFor("URL"),O=Math.floor,E=Math.pow,P=/[A-Za-z]/,C=/[\d+\-.A-Za-z]/,A=/\d/,x=/^(0x|0X)/,I=/^[0-7]+$/,k=/^\d+$/,M=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,j=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=V(e.slice(1,-1))))return"Invalid host";t.host=n}else if(q(t)){if(e=g(e),R.test(e))return"Invalid host";if(null===(n=F(e)))return"Invalid host";t.host=n}else{if(N.test(e))return"Invalid host";for(n="",i=h(e),r=0;r<i.length;r++)n+=z(i[r],U);t.host=n}},F=function(t){var e,n,i,r,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=u[i]))return t;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=x.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?k:8==o?I:M).test(r))return t;a=parseInt(r,o)}n.push(a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=E(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*E(256,3-i);return s},V=function(t){var e,n,i,r,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,d=0,f=function(){return t.charAt(d)};if(":"==f()){if(":"!=t.charAt(1))return;d+=2,c=++l}for(;f();){if(8==l)return;if(":"!=f()){for(e=n=0;n<4&&M.test(f());)e=16*e+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,l>6)return;for(i=0;f();){if(r=null,i>0){if(!("."==f()&&i<4))return;d++}if(!A.test(f()))return;for(;A.test(f());){if(o=parseInt(f(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}u[l]=256*u[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[l++]=e}else{if(null!==c)return;d++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},B=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},U={},H=f({},U,{" ":1,'"':1,"<":1,">":1,"`":1}),G=f({},H,{"#":1,"?":1,"{":1,"}":1}),W=f({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(t,e){var n=p(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},q=function(t){return d($,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},X=function(t,e){var n;return 2==t.length&&P.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},J=function(t){var e;return t.length>1&&X(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Z=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&X(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},it={},rt={},ot={},at={},st={},ut={},lt={},ct={},dt={},ft={},ht={},pt={},gt={},mt={},vt={},yt={},_t={},bt={},wt=function(t,e,n,r){var o,a,s,u,l,c=n||tt,f=0,p="",g=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(D,"")),e=e.replace(L,""),o=h(e);f<=o.length;){switch(a=o[f],c){case tt:if(!a||!P.test(a)){if(n)return"Invalid scheme";c=nt;continue}p+=a.toLowerCase(),c=et;break;case et:if(a&&(C.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",c=nt,f=0;continue}if(n&&(q(t)!=d($,p)||"file"==p&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(q(t)&&$[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=ht:q(t)&&r&&r.scheme==t.scheme?c=it:q(t)?c=st:"/"==o[f+1]?(c=rt,f++):(t.cannotBeABaseURL=!0,t.path.push(""),c=yt)}break;case nt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=bt;break}c="file"==r.scheme?ht:ot;continue;case it:if("/"!=a||"/"!=o[f+1]){c=ot;continue}c=ut,f++;break;case rt:if("/"==a){c=lt;break}c=vt;continue;case ot:if(t.scheme=r.scheme,a==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&q(t))c=at;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=vt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}break;case at:if(!q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=vt;continue}c=lt}else c=ut;break;case st:if(c=ut,"/"!=a||"/"!=p.charAt(f+1))continue;f++;break;case ut:if("/"!=a&&"\\"!=a){c=lt;continue}break;case lt:if("@"==a){g&&(p="%40"+p),g=!0,s=h(p);for(var y=0;y<s.length;y++){var _=s[y];if(":"!=_||v){var b=z(_,W);v?t.password+=b:t.username+=b}else v=!0}p=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(g&&""==p)return"Invalid authority";f-=h(p).length+1,p="",c=ct}else p+=a;break;case ct:case dt:if(n&&"file"==t.scheme){c=gt;continue}if(":"!=a||m){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(q(t)&&""==p)return"Invalid host";if(n&&""==p&&(Y(t)||null!==t.port))return;if(u=j(t,p))return u;if(p="",c=mt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(u=j(t,p))return u;if(p="",c=ft,n==dt)return}break;case ft:if(!A.test(a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";t.port=q(t)&&w===$[t.scheme]?null:w,p=""}if(n)return;c=mt;continue}return"Invalid port"}p+=a;break;case ht:if(t.scheme="file","/"==a||"\\"==a)c=pt;else{if(!r||"file"!=r.scheme){c=vt;continue}if(a==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){J(o.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),Z(t)),c=vt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}}break;case pt:if("/"==a||"\\"==a){c=gt;break}r&&"file"==r.scheme&&!J(o.slice(f).join(""))&&(X(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=vt;continue;case gt:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&X(p))c=vt;else if(""==p){if(t.host="",n)return;c=mt}else{if(u=j(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",c=mt}continue}p+=a;break;case mt:if(q(t)){if(c=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(c=vt,"/"!=a))continue}else t.fragment="",c=bt;else t.query="",c=_t;break;case vt:if(a==i||"/"==a||"\\"==a&&q(t)||!n&&("?"==a||"#"==a)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Z(t),"/"==a||"\\"==a&&q(t)||t.path.push("")):Q(p)?"/"==a||"\\"==a&&q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&X(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==i||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",c=_t):"#"==a&&(t.fragment="",c=bt)}else p+=z(a,G);break;case yt:"?"==a?(t.query="",c=_t):"#"==a?(t.fragment="",c=bt):a!=i&&(t.path[0]+=z(a,U));break;case _t:n||"#"!=a?a!=i&&("'"==a&&q(t)?t.query+="%27":t.query+="#"==a?"%23":z(a,U)):(t.fragment="",c=bt);break;case bt:a!=i&&(t.fragment+=z(a,H))}f++}},Tt=function(t){var e,n,i=c(this,Tt,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(t),s=T(i,{type:"URL"});if(void 0!==r)if(r instanceof Tt)e=S(r);else if(n=wt(e={},String(r)))throw TypeError(n);if(n=wt(s,a,null,e))throw TypeError(n);var u=s.searchParams=new b,l=w(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},o||(i.href=Ot.call(i),i.origin=Et.call(i),i.protocol=Pt.call(i),i.username=Ct.call(i),i.password=At.call(i),i.host=xt.call(i),i.hostname=It.call(i),i.port=kt.call(i),i.pathname=Mt.call(i),i.search=Rt.call(i),i.searchParams=Nt.call(i),i.hash=Dt.call(i))},St=Tt.prototype,Ot=function(){var t=S(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==r?(l+="//",Y(t)&&(l+=n+(i?":"+i:"")+"@"),l+=B(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Et=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&q(t)?e+"://"+B(t.host)+(null!==n?":"+n:""):"null"},Pt=function(){return S(this).scheme+":"},Ct=function(){return S(this).username},At=function(){return S(this).password},xt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?B(e):B(e)+":"+n},It=function(){var t=S(this).host;return null===t?"":B(t)},kt=function(){var t=S(this).port;return null===t?"":String(t)},Mt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Rt=function(){var t=S(this).query;return t?"?"+t:""},Nt=function(){return S(this).searchParams},Dt=function(){var t=S(this).fragment;return t?"#"+t:""},Lt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(St,{href:Lt(Ot,(function(t){var e=S(this),n=String(t),i=wt(e,n);if(i)throw TypeError(i);w(e.searchParams).updateSearchParams(e.query)})),origin:Lt(Et),protocol:Lt(Pt,(function(t){var e=S(this);wt(e,String(t)+":",tt)})),username:Lt(Ct,(function(t){var e=S(this),n=h(String(t));if(!K(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=z(n[i],W)}})),password:Lt(At,(function(t){var e=S(this),n=h(String(t));if(!K(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=z(n[i],W)}})),host:Lt(xt,(function(t){var e=S(this);e.cannotBeABaseURL||wt(e,String(t),ct)})),hostname:Lt(It,(function(t){var e=S(this);e.cannotBeABaseURL||wt(e,String(t),dt)})),port:Lt(kt,(function(t){var e=S(this);K(e)||(""==(t=String(t))?e.port=null:wt(e,t,ft))})),pathname:Lt(Mt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],wt(e,t+"",mt))})),search:Lt(Rt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",wt(e,t,_t)),w(e.searchParams).updateSearchParams(e.query)})),searchParams:Lt(Nt),hash:Lt(Dt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",wt(e,t,bt)):e.fragment=null}))}),l(St,"toJSON",(function(){return Ot.call(this)}),{enumerable:!0}),l(St,"toString",(function(){return Ot.call(this)}),{enumerable:!0}),_){var jt=_.createObjectURL,Ft=_.revokeObjectURL;jt&&l(Tt,"createObjectURL",(function(t){return jt.apply(_,arguments)})),Ft&&l(Tt,"revokeObjectURL",(function(t){return Ft.apply(_,arguments)}))}m(Tt,"URL"),r({global:!0,forced:!a,sham:!o},{URL:Tt})},function(t,e,n){var i=n(6),r=n(53),o=n(23),a=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){var i=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},l=function(t,e,n){var i=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;i+=36)t=a(t/35);return a(i+36*t/(t+38))},c=function(t){var e,n,i=[],r=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,c=128,d=0,f=72;for(e=0;e<t.length;e++)(n=t[e])<128&&i.push(s(n));var h=i.length,p=h;for(h&&i.push("-");p<r;){var g=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=c&&n<g&&(g=n);var m=p+1;if(g-c>a((2147483647-d)/m))throw RangeError(o);for(d+=(g-c)*m,c=g,e=0;e<t.length;e++){if((n=t[e])<c&&++d>2147483647)throw RangeError(o);if(n==c){for(var v=d,y=36;;y+=36){var _=y<=f?1:y>=f+26?26:y-f;if(v<_)break;var b=v-_,w=36-_;i.push(s(u(_+b%w))),v=a(b/w)}i.push(s(u(v))),f=l(d,m,p==h),d=0,++p}}++d,++c}return i.join("")};t.exports=function(t){var e,n,o=[],a=t.toLowerCase().replace(r,".").split(".");for(e=0;e<a.length;e++)n=a[e],o.push(i.test(n)?"xn--"+c(n):n);return o.join(".")}},function(t,e,n){n(104);var i=n(2),r=n(489),o=n(21),a=n(132),s=n(56),u=n(106),l=n(27),c=n(133),d=n(15),f=n(58),h=n(20),p=n(14),g=n(394),m=n(98),v=n(53)("iterator"),y=l.set,_=l.getterFor("URLSearchParams"),b=l.getterFor("URLSearchParamsIterator"),w=/\+/g,T=Array(4),S=function(t){return T[t-1]||(T[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},O=function(t){try{return decodeURIComponent(t)}catch(e){return t}},E=function(t){var e=t.replace(w," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(S(n--),O);return e}},P=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},A=function(t){return C[t]},x=function(t){return encodeURIComponent(t).replace(P,A)},I=function(t,e){if(e)for(var n,i,r=e.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),t.push({key:E(i.shift()),value:E(i.join("="))}))},k=function(t){this.entries.length=0,I(this.entries,t)},M=function(t,e){if(t<e)throw TypeError("Not enough arguments")},R=u((function(t,e){y(this,{type:"URLSearchParamsIterator",iterator:g(_(t).entries),kind:e})}),"Iterator",(function(){var t=b(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),N=function(){c(this,N,"URLSearchParams");var t,e,n,i,r,o,a,s,u,l=arguments.length>0?arguments[0]:void 0,f=this,v=[];if(y(f,{type:"URLSearchParams",entries:v,updateURL:function(){},updateSearchParams:k}),void 0!==l)if(p(l))if("function"==typeof(t=m(l)))for(n=(e=t.call(l)).next;!(i=n.call(e)).done;){if((a=(o=(r=g(h(i.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");v.push({key:a.value+"",value:s.value+""})}else for(u in l)d(l,u)&&v.push({key:u,value:l[u]+""});else I(v,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},D=N.prototype;a(D,{append:function(t,e){M(arguments.length,2);var n=_(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){M(arguments.length,1);for(var e=_(this),n=e.entries,i=t+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){M(arguments.length,1);for(var e=_(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){M(arguments.length,1);for(var e=_(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){M(arguments.length,1);for(var e=_(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){M(arguments.length,1);for(var n,i=_(this),r=i.entries,o=!1,a=t+"",s=e+"",u=0;u<r.length;u++)(n=r[u]).key===a&&(o?r.splice(u--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var t,e,n,i=_(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var e,n=_(this).entries,i=f(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new R(this,"keys")},values:function(){return new R(this,"values")},entries:function(){return new R(this,"entries")}},{enumerable:!0}),o(D,v,D.entries),o(D,"toString",(function(){for(var t,e=_(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(x(t.key)+"="+x(t.value));return n.join("&")}),{enumerable:!0}),s(N,"URLSearchParams"),i({global:!0,forced:!r},{URLSearchParams:N}),t.exports={URLSearchParams:N,getState:_}},function(t,e,n){n(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})}])}()}).call(this,n(129))},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n,i){var r=e&&e.prototype instanceof c?e:c,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function c(){}function d(){}function f(){}var h={};h[r]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(S([])));g&&g!==e&&n.call(g,r)&&(h=g);var m=f.prototype=c.prototype=Object.create(h);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var i;this._invoke=function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=u(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function S(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=m.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new y(s(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),m[a]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(479)),o=i(n(343)),a=i(n(243)),s=i(n(284));e.default={run:function(){r.default.run(o.default,a.default,s.default)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(3)),s=i(n(13)),u=i(n(8)),l=i(n(480)),c=i(n(232));n(214);var d,f,h,p=i(n(106)),g=i(n(180)),m=i(n(141)),v=i(n(333)),y=n(487),_=i(n(505)),b=i(n(142)),w=i(n(240)),T=i(n(289)),S=i(n(84)),O=i(n(181)),E=i(n(282)),P=i(n(281)),C=i(n(344)),A=i(n(319)),x=i(n(318)),I=i(n(283)),k=i(n(279)),M=i(n(446)),R=i(n(245)),N=i(n(48)),D=n(52);n(847);var L=null,j=null,F={documentVersion:null,issue:null},V=N.default.hasFeature(D.FeatureFlagName.ACCESSIBILITY);u.default.absorb({shouldReduceMotion:V&&window.matchMedia("(prefers-reduced-motion: reduce)").matches});var B=function(){u.default.previewMode&&u.default.privatePreviewer&&(new y.SessionState).setSignOutUrl(u.default.adminUrl+"/signin").pollForSession()},U=function(t,e){var n=o.default.once((function(){var n=t.state();"resolved"===n?r.default.debug("ScrollProxy received viewport dimensions, rendering experience"):"pending"===n?r.default.warn("ScrollProxy viewport dimensions promise timed out"):r.default.warn("ScrollProxy viewport dimensions promise was rejected"),e()}));t.done(n),setTimeout(n,2e3)},H=function(){S.default.detect(),z().done((function(){$().done((function(){G(),W()}))}))},G=function(){Q(),dt(),yt(),h.load({}),A.default.load(),P.default.load(),ct()},W=function(){d.attachModuleViews(F.issue),f.renderPages().always((function(){M.default.initialize(F.issue,F.documentVersion,C.default.getUserToken())}));var t=f.getFirstPageReadyPromise();t.fail((function(){d.show404()}));var e=[L.promise(),t];a.default.when.apply(a.default,e).then((function(){r.default.debug("About to render initial pages."),d.showDocument(),j.mark(j.MARKS.PLAYER.SPINNER_HIDDEN),x.default.bindPopstate(),document.hidden?document.addEventListener("visibilitychange",q):q()}))},z=function(){return F.documentVersion.createManifestCollection(),F.documentVersion.loadPageModels().done((function(){r.default.debug("Page models loaded")}))},$=function(){return lt().done((function(){r.default.debug("initViewportAndPreloadMedia done. About to render initial pages.")})).fail((function(){d.show404()}))},q=function(){document.hidden||(r.default.debug("First page(s) media is loaded. Showing first page."),f.activateFirstPage()),document.removeEventListener("visibilitychange",q)},Y=function(){c.default.remove("mobile-help-overlay")},K=function(){var t=X();u.default.heightOverridesPerLayout=t,u.default.heightOverride=o.default.get(t,"desktop",null),S.default.on("change",(function(e){u.default.heightOverride=o.default.get(t,e,null)}))},X=function(){var t={desktop:"heightOverride"};return o.default.each(O.default.getExistingVariants(),(function(e){t[e]=o.default.lowerFirst(e)+"HeightOverride"})),o.default.mapValues(t,(function(t){var e=new RegExp("[\\?&]"+t+"=(\\d+)(&|$)"),n=window.location.search.match(e);return n?+n[1]:null}))},J=function(){C.default.init({application:u.default.analyticsApplicationKey,analyticsTrackers:u.default.analyticsTrackers}),j=C.default.getPerformanceTracker(),window.cerosPlayerLoadStart&&j.startTracking(window.cerosPlayerLoadStart),g.default.onPriorityQueueCompletion((function(){j.mark(j.MARKS.PLAYER.PRIORITY_QUEUE_EMPTIED)})),g.default.onAllResourcesLoaded((function(){j.mark(j.MARKS.PLAYER.ALL_RESOURCES_LOADED)}))},Z=function(){var t=null;u.default.previewMode?k.default.initialize():t=window.docVersionRequest,F.issue=new s.default.Model(u.default.issue),F.documentVersion=new _.default(u.default.docVersion,{docVersionRequest:t})},Q=function(){if(r.default.isEnabled("debug")){var t=[d,w.default,T.default,f,h,C.default,A.default,I.default];u.default.isEmbedded||(t=t.concat([E.default,x.default])),o.default.each(t,(function(t){o.default.each(t.publishedEvents,(function(e){t.on(e,(function(t){r.default.debug("EVENT: "+e,t)}))}))}))}},tt=function(){if(!L){L=new a.default.Deferred;var t=u.default.publicAssetsBaseUrl+"ceros-fonts-2023-01-26.css",e=g.default.addCustomWebFont(["CerosIcons-Regular"],t,"").loadNow(),n=u.default.publicAssetsBaseUrl+"avenir-next-lt.css",i=g.default.addCustomWebFont(["Avenir Next LT"],n,"").loadNow();a.default.when(e,i).always((function(){return L.resolve()})),setTimeout((function(){"resolved"!==L.state()&&(r.default.devWarn("Font loading timed out"),L.resolve())}),5e3)}return L.promise().then((function(){r.default.debug("InitialFontsReady promise is resolved.")}))},et=function(){return u.default.previewMode&&u.default.allowAdaptiveLayouts},nt=function(){et()&&(d.setupAdaptiveLayoutsPreviewerTouchDeviceView(),d.setupAdaptiveLayoutsPreviewerFrameView())},it=function(){O.default.setDocVersion(F.documentVersion),et()&&(O.default.on(O.default.EVENTS.UPDATE_URL,(function(t){x.default.navigateToLayout(t)})),O.default.detectPreviewerFrameSizeFromUrl(),d.setupAdaptiveLayoutsPreviewerSelectionView())},rt=function(){return u.default.gracePeriodExpired&&tt().done((function(){w.default.showUnavailableScreen(a.default("body"),{theme:F.documentVersion.get("theming")});var t=F.documentVersion.getPageInfoByNumberOrSlug(p.default.parsePageFromLocation());C.default.viewExperience({page_slug:t.slug,page_num:t.number,grace_period_expired:!0})})),u.default.gracePeriodExpired},ot=function(){if(u.default.previewMode){var t={"X-Powered-By":"Ceros Player/HTML5"};u.default.revalidateWithCore&&(t["Cache-Control"]="must-revalidate"),a.default.ajaxSetup({timeout:6e4,cache:u.default.ajaxCaching,headers:t,statusCode:{404:function(){a.default(o.default.bind(d.show404,d))}}}),a.default.ajaxPrefilter((function(t){t.crossDomain&&(t.headers={})}))}},at=function(){var t=a.default.Deferred();v.default.init(F.issue.get("slug")),st();var e=!1;v.default.on(v.default.EVENTS.UPDATE_POSITION,(function(n){var i=f.getCurrentPageHeight(),r=i&&n.top<i&&n.top<n.bottom;t.resolve(),!e&&r&&(C.default.resetPageTrackingMinMaxY(),e=!0)}));var n=function(t){b.default.getInstance().setPositionData(t)};return m.default.on("sdk.experience.container.ready",n),m.default.on("sdk.experience.container.scrolled",o.default.debounce(n,50)),m.default.on("sdk.experience.container.resized",n),t.promise()},st=function(){var t=function(){if(O.default.hasVariants()){var t=S.default.getVariant();v.default.announceVariantDetection(t)}};S.default.on("change",t),S.default.hasDetectedVariant()&&t()},ut=function(){var t=new a.default.Deferred;return r.default.debug("Fetching docVersion"),F.documentVersion.fetch().done(t.resolve).fail(t.reject),t.promise()},lt=function(){var t=new a.default.Deferred;return r.default.debug("Init viewport"),f.init(F.documentVersion,{performanceTracker:j,marginTopCallback:function(){return E.default.shouldShow()&&!E.default.initiallyHidden()?E.default.getHeight():0}}),r.default.debug("About to preload media"),f.preloadPageMedia(),o.default.defer(t.resolve),t.promise()},ct=function(){l.default.on("*",o.default.bind(C.default.handleApiRequest,C.default)).on("ceros.sdk.ping",(function(t,e){e.data="pong"})).on("ceros.sdk.productPanel.close",A.default.deactivate),l.default.bindToIframe(A.default.iframe())},dt=function(){m.default.registerEvents(T.default.publishedEvents,T.default),m.default.registerEvents(x.default.publishedEvents,x.default),pt(),mt(),gt(),vt(),ft(),ht()},ft=function(){f.on(f.publishedEvents.SCALE,(function(t){var e=f.getFirstPageReadyPromise();"pending"===e.state()?e.done(f.scale):f.scale()}))},ht=function(){f.on(f.publishedEvents.SCALE,(function(t){h.updateScale(t)})),f.on(f.publishedEvents.PAGE_CHANGE,(function(t){h.determineFlipperState(t.isFirstPage,t.isLastPage,!0),f.removeClickShield(),f.enableGestures(),M.default.announcePageChanged(f.getCurrentPageNumber())})),f.on(f.publishedEvents.PAGE_CHANGING,(function(t){h.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady),M.default.announcePageChanging(f.getCurrentPageNumber())})),f.on(f.publishedEvents.PAGE_UPDATE,(function(t){h.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),f.on(f.publishedEvents.PAGE_ENABLED_CHANGE,(function(t){h.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),f.on(f.publishedEvents.PAGE_BATCH_LOAD_START,(function(){f.addClickShield(),f.disableGestures()})),f.on(f.publishedEvents.TIMED_LIGHTBOX,(function(t){A.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),f.on(f.publishedEvents.TIMED_PRODUCT_PANEL,(function(t){A.default.showProduct(t.productPanelId),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),f.on(f.publishedEvents.TIMED_SHOPPING_CART,(function(t){A.default.showShoppingCart(),M.default.announceTimedInteraction(t),C.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),h.on(h.publishedEvents.NEXT_PAGE,(function(){f.nextPage()})),h.on(h.publishedEvents.PREVIOUS_PAGE,(function(){f.previousPage()})),T.default.on(T.default.publishedEvents.PAGE_ACTIVATED,(function(){h.updateFlipperHrefs()}))},pt=function(){f.on(f.publishedEvents.SCALE,(function(t){w.default.scale()})),f.on(f.publishedEvents.CURRENT_PAGE_DELETED,(function(t){w.default.showDeletedPageWarning(a.default("body"))}))},gt=function(){P.default.on(P.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(t){window.open(P.default.getBrandingUrl())}))},mt=function(){E.default.shouldShow()&&(E.default.initiallyHidden()&&(f.on(f.publishedEvents.LONGPRESS,(function(t){E.default.toggle()})),T.default.on(T.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){E.default.hide(!0)}))),E.default.on(E.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){f.shareCurrentPageOnSocial(t.action,F.issue)})),E.default.on(E.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){A.default.showShoppingCart()})),E.default.on(E.default.publishedEvents.CHROME_TITLE_CLICK,(function(t){f.jumpToPage(1,!1)})),f.on(f.publishedEvents.PAGE_CHANGE,(function(t){E.default.setMenuLinkHrefs(f.getCurrentPageNumber())})))},vt=function(){m.default.on(T.default.publishedEvents.PAGE_ACTION_SCROLL_TO,(function(t){var e=f.scrollTo(t.scrollTargetType,t.scrollTargetScranchor);M.default.announceScrollTo(e),v.default.announceScrollTo(e)})),m.default.on(T.default.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE,(function(t){f.previousPage()})),m.default.on(T.default.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE,(function(t){f.nextPage()})),m.default.on(T.default.publishedEvents.PAGE_ACTION_GO_TO_PAGE,(function(t){f.jumpToPage(t.pageTarget)})),m.default.on(T.default.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES,(function(t){o.default.each(t.pageTargets,(function(t,e){t?f.enablePage(e):f.disablePage(e)}))})),m.default.on(T.default.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION,(function(t){f.toggleReducedMotion()})),u.default.isEmbedded||T.default.on(T.default.publishedEvents.PAGE_ACTIVATED,(function(t){if(t.slug&&F.issue.get("slug")){var e=u.default.docVersion.pageNamesInTitle?t.pageName:void 0,n=F.issue.get("title");e&&(n+=" - "+e),u.default.usePageSlugsInNavigation?x.default.navigateToPageSlug(t.slug,n):x.default.navigateToPageNumber(F.documentVersion.getPageNumberBySlug(t.slug),n)}})),m.default.on(x.default.publishedEvents.POPSTATE,(function(t){if(t.pageNumber)f.jumpToPage(t.pageNumber);else if(t.pageSlug){var e=F.documentVersion.getPageNumberBySlug(t.pageSlug);f.jumpToPage(e)}})),T.default.on(T.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){var e;e=o.default.get(u.default,"analyticsTrackers.googleAnalyticsTracker"),u.default.isEmbedded&&e&&e.enabled&&e.trackingID?v.default.announceGotoUrl(t.url,t.urlOpenInNewWindow):t.urlOpenInNewWindow?window.open(t.url):top.location=t.url})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){A.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton)})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){A.default.showProduct(t.productPanelId)})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){A.default.showShoppingCart()})),m.default.on(T.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){f.shareCurrentPageOnSocial(t.action,F.issue)})),m.default.on(T.default.publishedEvents.TIMED_INTERACTION,(function(t){M.default.announceTimedInteraction(t)})),m.default.on(T.default.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY,(function(t){if(R.default.isShowLayersInteraction(t)&&M.default.announceLayersShown(t.layerTargets),R.default.isHideLayersInteraction(t)&&M.default.announceLayersHidden(t.layerTargets),"toggle-layers"===t.action){var e=[],n=[];o.default.each(t.layerTargets,(function(t){f.isLayerVisible(t)?e.push(t):n.push(t)})),e.length>0&&M.default.announceLayersShown(e),n.length>0&&M.default.announceLayersHidden(n)}}))},yt=function(){if(u.default.analyticsApplicationKey){f.on(f.publishedEvents.SCALE,(function(t){var e=t.ratio;C.default.updateScale(e)})),T.default.on(T.default.publishedEvents.PAGE_SCROLL,(function(t){C.default.trackPageScroll({page_slug:t.slug,page_num:F.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})})),T.default.on(T.default.publishedEvents.PAGE_ACTIVATED,(function(t){C.default.viewExperience({page_slug:t.slug,page_num:F.documentVersion.getPageNumberBySlug(t.slug),page_name:f.getPageNameBySlug(t.slug),grace_period_expired:!1}),F.documentVersion.isAutoTransitioning()||C.default.viewPage({page_slug:t.slug,page_name:t.pageName,page_num:F.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})}));var t=function(t){var e={experience_slug:F.issue.get("slug"),experience_version_slug:F.documentVersion.get("slug"),page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,video_slug:t.videoSlug,component_name:t.componentName,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload};return t.videoLength&&(e.video_length=t.videoLength),e};T.default.on(T.default.publishedEvents.PAGE_VIDEO_PLAY,(function(e){C.default.playVideo(o.default.extend(t(e),{video_position:e.videoPosition})),M.default.announceVideoPlayed(e.componentSlug)})),T.default.on(T.default.publishedEvents.PAGE_VIDEO_PROGRESS_TIME,(function(e){C.default.trackVideoProgressTime(o.default.extend(t(e),{video_position:e.videoPosition,video_play_time:e.videoPlayTime}))})),T.default.on(T.default.publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,(function(e){C.default.trackVideoProgressPercent(o.default.extend(t(e),{video_progress_percent:e.progressPercent}))})),T.default.on(T.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){C.default.clickLink({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,outgoing_url:t.url,outgoing_domain:t.domain,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){C.default.clickLightbox({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,lightbox_url:t.lightboxUrl,lightbox_width:t.lightboxWidth,lightbox_height:t.lightboxHeight,lightbox_has_close_button:!!t.lightboxHasCloseButton,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){C.default.clickProduct({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,product_id:t.productPanelId})})),T.default.on(T.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){C.default.clickShoppingCart({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),T.default.on(T.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){C.default.clickComponent({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,click_x:t.clickX,click_y:t.clickY,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),T.default.on(T.default.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,(function(t){C.default.hoverComponent({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),T.default.on(T.default.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,(function(t){C.default.formSubmit({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),page_name:f.getPageNameBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,form_origin:t.formOrigin,form_origin_account_id:t.formOriginAccountId,form_origin_form_id:t.formOriginFormId,form_origin_form_name:t.formOriginFormName,interaction_triggered:!!t.interactionTriggered,sdk_tags:t.sdkTags,sdk_payload:t.sdkPayload})})),E.default.on(E.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){C.default.clickShoppingCart({page_slug:f.getCurrentPageSlug(),page_num:f.getCurrentPageNumber()})})),m.default.on(T.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){C.default.clickPageShare({page_slug:t.pageSlug,page_num:F.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,service:t.action})})),E.default.on(E.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){C.default.clickPageShare({page_slug:f.getCurrentPageSlug(),page_num:f.getCurrentPageNumber(),service:t.action})})),P.default.on(P.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(){C.default.clickCerosBranding({page_slug:f.getCurrentPageSlug(),page_num:f.getCurrentPageNumber()})})),a.default(document).on("click",C.default.registerUserActivity)}};e.default={run:function(t,e,n){d=t,f=e,h=n,Y(),J(),B(),j.mark(j.MARKS.PLAYER.RUN_START),r.default.init(u.default.logging),r.default.debug("Player.run() start"),Z(),rt()||(ot(),a.default((function(){j.mark(j.MARKS.PLAYER.DOM_READY),r.default.debug("jquery.ready: About to load the doc version."),d.setupInitialDom(),nt(),d.showLoadingExperience(),j.mark(j.MARKS.PLAYER.SPINNER_SHOWN),u.default.isEditor?tt():tt().then(o.default.bind(d.showPreviewerFadingMessage,d)),E.default.load();var t=ut();t.done((function(){r.default.debug("Doc Version is loaded"),j.mark(j.MARKS.PLAYER.DOC_VERSION_LOADED),it(),K();var t=at();u.default.isEmbedded&&O.default.hasVariants()?(r.default.debug("Waiting for ScrollProxy to send first message with viewport dimensions"),U(t,H)):H()})),t.fail(o.default.bind(d.show404,d))})))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(3)),s={},u=[],l={bindToIframe:function(t){return new h(t)},on:function(t,e){if(o.default.isFunction(e))return"*"===t?(u.push(e),o.default.each(s,(function(t){t.push(e)}))):(o.default.has(s,t)||(s[t]=u.slice()),s[t].push(e)),this;r.default.warn("handler is not a function")},unbindAll:function(){s={},u=[]},handleRequest:function(t,e){if(o.default.has(s,t.name)){var n=s[t.name].slice(),i={},a=function(){e(i)},u=function(t){r.default.warn("Error:",t),i={error:"Unable to process request due to an error"},a()},l=function(){try{var e=n.shift();if(!e)return void a();var r=e(t,i);if(r&&o.default.isFunction(r.done)&&o.default.isFunction(r.fail)&&o.default.isFunction(r.always)){var s=setTimeout((function(){u(new Error("handler timed out"))}),1e4);r.done((function(){l()})).fail((function(){a()})).always((function(){clearTimeout(s)}))}else!1===r?a():l()}catch(t){u(t)}};l()}else r.default.warn("No handler for "+t.name)}},c=function(t){if(o.default.isUndefined(t.client))throw new Error("No client object given");if(o.default.isUndefined(t.name))throw new Error("No name given");this.name=t.name,this.client=t.client,this.params=t.params||{}},d=[],f=!1,h=function(t){d.push(this),this.iframe=t,f||(f=!0,o.default.isUndefined(window.postMessage)?r.default.warn("This browser does not support inter-frame communication"):(r.default.debug("listening for iframe messages"),a.default(window).on("message",(function(t){var e=t.originalEvent.source,n=null;if(o.default.each(d,(function(t){e===t.getWindow()&&(n=t)})),n&&o.default.isString(t.originalEvent.data)){var i;try{i=JSON.parse(t.originalEvent.data)}catch(e){return void r.default.warn("Could not parse data: ["+t.originalEvent.data+"]")}if(i.name){if(0!==i.name.indexOf("ceros.sdk.player")){var a=i.uuid,s=new c({name:i.name,params:i.params,client:{type:"iframe",sdkVersion:i.version}});l.handleRequest(s,(function(t){var n=JSON.stringify({uuid:a,response:t});e.postMessage(n,"*")}))}}else r.default.warn('Data has no "name" property')}}))))};h.prototype={getWindow:function(){return this.iframe.contentWindow}},e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={VARIANTS:{FULL:"full",HALF:"half",QUARTER:"quarter",TENTH:"tenth"},getThumbnailVariant:function(t,e){var n=null;return r.default.has(t,e)?n=t[e]:r.default.has(t,this.VARIANTS.FULL)&&(n=t[this.VARIANTS.FULL]),n},getComponentImageThumbnail:function(t,e){if(!e)return this.getThumbnailVariant(t,this.VARIANTS.FULL);var n=[];r.default.each(t,(function(t){n.push(t)})),n.sort((function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}));var i=r.default.find(n,(function(t){return t.width>=e}));return r.default.isObject(i)||(i=this.getThumbnailVariant(t,this.VARIANTS.FULL)),i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(235)),a=i(n(238));function s(){o.default.call(this)}r.default.extend(s.prototype,o.default.prototype,{createCacheKey:function(t,e){var n=a.default.createCropDimensionsString(e);return r.default.isString(n)&&n.length>0?t+"|"+n:t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(140)),a=i(n(331)),s=function(t){a.default.call(this),t.done(r.default.bind((function(t){this.initImage(t)}),this)).fail(r.default.bind((function(){this.resourceReady.reject()}),this))};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{initImage:function(t){this.image.onerror=r.default.bind((function(){o.default.revokeObjectURL(t),this.resourceReady.reject()}),this),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.src=t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=function(t){return this.url=t,this.deferred=r.default.Deferred(),this.cssLinkResource=r.default("<link>",{rel:"stylesheet",type:"text/css",href:t}),this.data=this.cssLinkResource,this.cssLinkResource.on("load",o.default.bind((function(){this.deferred.resolve()}),this)),this.cssLinkResource.appendTo("head"),this};a.prototype={onload:function(){return this.deferred.done.apply(this.deferred,arguments),this.deferred},ready:function(){return"resolved"==this.deferred.state()},remove:function(){delete this.cssLinkResource}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(3)),a=i(n(0)),s=i(n(14)),u={},l=0,c=s.default.desktop()?2:1,d=!1,f={PENDING:1,LOADING:2,LOADED:3,ERROR:4,CANCELED:5},h=function(){this.queue=[],this.finished=o.default.Deferred()};h.prototype=a.default.extend(h.prototype,{push:function(t){this.queue.push(t)},getNextItem:function(){if(0===this.length())return null;var t=this.queue.shift();return 0===this.length()&&(this.finished.resolve(),this.finished=o.default.Deferred()),t},length:function(){return this.queue.length},flush:function(){this.queue=[],this.finished.resolve(),this.finished=o.default.Deferred()},onFinish:function(t){this.finished.done(t)}});var p=new h,g=new h,m=function(t,e,n){var i=f.PENDING,s=new o.default.Deferred;this.getStatus=function(){return i},this.setStatus=function(t){a.default.includes(a.default.values(f),t)&&(i=t)},this.getPromise=function(){return s.promise()},this.load=function(){i=f.LOADING;var u=a.default.isFunction(e)?e():o.default.noop();return u.promise?(u.then((function(){i=f.LOADED,s.resolve.apply(this,arguments)}),(function(){i=f.ERROR,s.reject(),r.default.devWarn("Resource failed to load",{key:t})})),u.always((function(){a.default.isFunction(n)&&n()})),this.getPromise()):(s.reject(),r.default.warn("onLoadBegin must be a function that returns a deferred promise and resolves with necessary resource data",{key:t}),this.getPromise())},this.getKey=function(){return t}};m.prototype.loadNow=function(){return this.getStatus()===f.PENDING&&(g.push(this),y()),this.getPromise()},m.prototype.isLoading=function(){return this.getStatus()===f.LOADING},m.prototype.isLoaded=function(){return this.getStatus()===f.LOADED},m.prototype.isError=function(){return this.getStatus()===f.ERROR},m.prototype.isPending=function(){return this.getStatus()==f.PENDING},m.prototype.isCanceled=function(){return this.getStatus()==f.CANCELED},m.prototype.cancel=function(){this.setStatus(f.CANCELED)};var v=o.default.Deferred(),y=function(){if(!(l>=c&&0===g.length())){var t=_();a.default.isNull(t)?v.resolve():(l++,t.load().always((function(){l--,y()})))}},_=function(){var t=null;return g.length()>0&&(t=b(g)),d||a.default.isNull(t)&&(t=b(p)),t},b=function(t){for(var e=null;t.length()>0&&!(e=t.getNextItem()).isPending();)e=null;return e};e.default={add:function(t,e,n){if(a.default.isNull(t)||a.default.isUndefined(t))return null;if(u.hasOwnProperty(t))u[t].isCanceled()&&(u[t].setStatus(f.PENDING),p.push(u[t]));else{var i=new m(t,e,n);u[t]=i,p.push(i)}return y(),u[t]},get:function(t){return a.default.isNull(t)||a.default.isUndefined(t)?null:u.hasOwnProperty(t)?u[t].isError()?(r.default.warn("An error was encountered while trying to load the resource",{key:t}),null):u[t]:(r.default.warn("No resource exists for the provided key",{key:t}),null)},has:function(t){return u.hasOwnProperty(t)},cancelPending:function(){for(g.flush();p.length()>0;){p.getNextItem().status=f.CANCELED}},pause:function(){d=!0},resume:function(){d&&(d=!1,y())},onPriorityQueueCompletion:function(t){g.onFinish(t)},onAllResourcesLoaded:function(t){v.done(t)},purgeResourceCache:function(){u={}}}},function(t,e){t.exports=WebFont},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionState=e.setStudioApiVersionRequestHeader=e.shouldUpdateState=e.LoginStatus=e.SessionStateEvent=e.STUDIO_API_VERSION_HEADER_NAME=e.STUDIO_API_VERSION=e.POLL_INTERVAL_IN_MS=void 0;var u=s(n(8)),l=s(n(488)),c=s(n(3));e.POLL_INTERVAL_IN_MS=6e4,e.STUDIO_API_VERSION="V1",e.STUDIO_API_VERSION_HEADER_NAME="x-ceros-studioapi-version";var d,f,h=["x-user-status","x-ceros-user","x-ceros-config","x-ceros-version"];function p(t){var e;if(!t)return!0;var n=t.split(",").map((function(t){return t.trim()})).find((function(t){return t.startsWith("max-age")}));return!n||"0"===(null===(e=n.split("=").pop())||void 0===e?void 0:e.trim())}function g(t,n){t&&t.startsWith("/api/")&&n(e.STUDIO_API_VERSION_HEADER_NAME,e.STUDIO_API_VERSION)}!function(t){t.VERSION_UPDATE="x-ceros-version",t.STATUS_UPDATE="x-user-status",t.CONFIG_UPDATE="x-ceros-config",t.ADMIN_CONFIG_UPDATE="x-ceros-config.admin",t.STUDIO_CONFIG_UPDATE="x-ceros-config.studio",t.USER_UPDATE="x-ceros-user",t.VERSION_CHANGE="x-ceros-version.change",t.STATUS_CHANGE="x-user-status.change",t.CONFIG_CHANGE="x-ceros-config.change",t.ADMIN_CONFIG_CHANGE="x-ceros-config.admin.change",t.STUDIO_CONFIG_CHANGE="x-ceros-config.studio.change",t.USER_CHANGE="x-ceros-user.change",t.SESSION_OK="x-user-status.200",t.CONCURRENT_LOGIN="x-user-status.409",t.SESSION_EXPIRED="x-user-status.410",t.KEEP_ALIVE_ERROR="keep-alive-error"}(d=e.SessionStateEvent||(e.SessionStateEvent={})),function(t){t.NoSession="",t.SessionOk="200",t.ConcurrentLogin="409",t.SessionExpired="410"}(f=e.LoginStatus||(e.LoginStatus={})),e.shouldUpdateState=p,e.setStudioApiVersionRequestHeader=g;var m=function(){function t(){this.eventTarget=new EventTarget,this.signOutUrl=window.location.origin+"/signout",this.keepAliveUrl="/rest/v1/keep-alive",this.running=!1,this.addReferrerParameter=!0,this.createListeners(),this.createInterceptors(),this.resetStates()}return Object.defineProperty(t.prototype,"currentTimer",{get:function(){return this.timer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentAccountSlug",{get:function(){return u.default.accountSlug},enumerable:!1,configurable:!0}),t.prototype.createListeners=function(){var t=this;this.on(d.STATUS_UPDATE,(function(e){return t.handleStatusUpdate(e)})),this.on(d.CONFIG_UPDATE,(function(e){return t.handleConfigUpdate(e)})),this.on(d.CONFIG_CHANGE,(function(e){return t.handleConfigChange(e)})),this.on(d.USER_CHANGE,(function(){return t.handleUserChange()})),document.addEventListener("visibilitychange",(function(){t.visibilityHandler(document.visibilityState)}))},t.prototype.dispatchEvent=function(t,e){this.eventTarget.dispatchEvent(new CustomEvent(t,{detail:e}))},t.prototype.hasUpdatedState=function(t){return!!Object.keys(t).find((function(e){return h.includes(e)&&t[e]}))},t.prototype.updateState=function(t){var e=this;this.accountSlug!==u.default.accountSlug&&this.resetStates(),h.forEach((function(n){var r=t[n],o=e.currentState[n];if(r){var a={previousValue:o,currentValue:r};e.dispatchEvent(n,i({type:n},a)),o&&o!==r&&e.dispatchEvent(n+".change",i({type:n+".change"},a)),e.currentState[n]=r}})),this.hasUpdatedState(t)&&(this.updatedTime=Date.now())},t.prototype.handleStatusUpdate=function(t){var e=t.detail,n=e.currentValue;if(n!==f.SessionOk)return n===f.ConcurrentLogin?(this.dispatchEvent(d.CONCURRENT_LOGIN,e),void window.location.assign(this.buildSignOutRedirectUrl("concurrentLogin"))):n===f.SessionExpired?(this.dispatchEvent(d.SESSION_EXPIRED,e),void window.location.assign(this.buildSignOutRedirectUrl("invalidSession"))):void 0;this.dispatchEvent(d.SESSION_OK,e)},t.prototype.handleUserChange=function(){window.location.reload()},t.prototype.handleConfigUpdate=function(t){var e=t.detail;this.dispatchEvent(d.ADMIN_CONFIG_UPDATE,e),this.dispatchEvent(d.STUDIO_CONFIG_UPDATE,e)},t.prototype.handleConfigChange=function(t){var e=t.detail,n=a(e.currentValue.split(","),2),i=n[0],r=n[1],o=a(e.previousValue.split(","),2),s=o[0],u=o[1];i!=s&&this.dispatchEvent(d.ADMIN_CONFIG_CHANGE,e),r!=u&&this.dispatchEvent(d.STUDIO_CONFIG_CHANGE,e)},t.prototype.createAjaxInterceptor=function(){var t=this,e=function(e){var n=h.reduce((function(t,n){var r;return i(i({},t),((r={})[n]=e.getResponseHeader(n),r))}),{});p(e.getResponseHeader("cache-control"))&&t.updateState(n)};c.default(document).ajaxSuccess((function(t,n){return e(n)})).ajaxError((function(t,n){return e(n)}));var n=this.setAccountSlugHeaderRequest;c.default.ajaxSetup({beforeSend:function(t){n(this.url,t.setRequestHeader),g(this.url,t.setRequestHeader)}})},t.prototype.createAxiosInterceptor=function(){var t=this;l.default.interceptors.response.use((function(e){return p(e.headers["cache-control"])&&t.updateState(e.headers),e}),(function(e){return p(e.response.headers["cache-control"])&&t.updateState(e.response.headers),Promise.reject(e)})),l.default.interceptors.request.use((function(e){var n=function(t,n){e.headers[t]=n};return t.setAccountSlugHeaderRequest(e.url,n),g(e.url,n),e}))},t.prototype.setAccountSlugHeaderRequest=function(e,n){e&&e.startsWith("/")&&n(t.ACCOUNT_SLUG_HEADER_NAME,u.default.accountSlug)},t.prototype.createInterceptors=function(){this.createAxiosInterceptor(),this.createAjaxInterceptor()},t.prototype.visibilityHandler=function(t){"hidden"===t?this.pause():"visible"===t&&(this.running=!0,this.internalPollForSession())},t.prototype.pause=function(){this.timer&&clearTimeout(this.timer),this.running=!1},t.prototype.buildSignOutRedirectUrl=function(t){var e=new URL(this.signOutUrl);return this.addReferrerParameter&&e.searchParams.append("referrer",encodeURI(window.location.href)),e.searchParams.append(t,"yes"),e.href},t.prototype.setKeepAliveUrl=function(t){return this.keepAliveUrl=t,this},t.prototype.setSignOutUrl=function(t){return this.signOutUrl=t,this},t.prototype.skipReferrerFromSignOutUrl=function(){return this.addReferrerParameter=!1,this},t.prototype.on=function(t,e){return this.eventTarget.addEventListener(t,e),this},t.prototype.pollForSession=function(){var t=this;this.running=!0,this.timer=setTimeout((function(){return t.internalPollForSession()}),e.POLL_INTERVAL_IN_MS)},t.prototype.resetStates=function(){this.currentState={"x-user-status":"","x-ceros-user":"","x-ceros-config":"","x-ceros-version":""},this.updatedTime=0,this.accountSlug=u.default.accountSlug},t.prototype.getInterval=function(){var t=Date.now()-this.updatedTime;return this.updatedTime&&t<e.POLL_INTERVAL_IN_MS?{expired:!1,nextIteration:e.POLL_INTERVAL_IN_MS-t}:{expired:!0,nextIteration:e.POLL_INTERVAL_IN_MS}},t.prototype.sendKeepAliveRequest=function(){return r(this,void 0,Promise,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,l.default.get(this.keepAliveUrl,{headers:{"X-Requested-With":"XMLHttpRequest"}})];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),this.dispatchEvent(d.KEEP_ALIVE_ERROR,t),[3,3];case 3:return[2]}}))}))},t.prototype.internalPollForSession=function(){return r(this,void 0,Promise,(function(){var t,e=this;return o(this,(function(n){switch(n.label){case 0:return this.running?(t=this.getInterval()).expired?[4,this.sendKeepAliveRequest()]:[3,2]:[3,3];case 1:n.sent(),n.label=2;case 2:this.timer=setTimeout((function(){return e.internalPollForSession()}),t.nextIteration),n.label=3;case 3:return[2]}}))}))},t.ACCOUNT_SLUG_HEADER_NAME="x-ceros-account-slug",t}();e.SessionState=m},function(t,e,n){t.exports=n(489)},function(t,e,n){"use strict";var i=n(107),r=n(334),o=n(490),a=n(341);function s(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=s(n(337));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(342),u.CancelToken=n(503),u.isCancel=n(336),u.all=function(t){return Promise.all(t)},u.spread=n(504),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var i=n(107),r=n(335),o=n(491),a=n(492),s=n(341);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var i=n(107);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e,n){"use strict";var i=n(107),r=n(493),o=n(336),a=n(337);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(107);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(107);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(340);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(498),r=n(499);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(107),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var i=n(107);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(107);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(342);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(13)),s=i(n(8)),u=i(n(24)),l=i(n(279)),c=i(n(447)),d=i(n(845)),f=i(n(449)),h=i(n(450)),p=n(85),g=i(n(237)),m=i(n(236)),v=i(n(288)),y=i(n(84)),_=n(456),b=a.default.Collection.extend({model:d.default}),w=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/document-versions",MANIFEST_ADD_PAGE:"manifestAddPage",MANIFEST_REMOVE_PAGE:"manifestRemovePage",MANIFEST_MOVE_PAGE:"manifestMovePage",initialize:function(t,e){if(a.default.Model.prototype.initialize.call(this,t,e),!s.default.previewMode&&!e.docVersionRequest)throw new Error("A doc version request must be passed in when not in preview mode");this.docVersionRequest=e.docVersionRequest,this.pages=[]},fetch:function(t){return this.loadBackgroundImageInfo(),s.default.previewMode?this.fetchForPreviewMode(t):this.fetchForPublished(t)},fetchForPreviewMode:function(t){var e=o.default.Deferred();try{l.default.getConnection().openExisting(this._getDocumentName(),r.default.bind((function(t,n){if(t)u.default.warn(t),e.reject();else if(n){l.default.listenForReadOnlyConnectionLimitError(n);var i=JSON.parse(JSON.stringify(n.snapshot));this.set(i),e.resolve(i,n)}}),this))}catch(t){u.default.warn(t),e.reject()}e.then(r.default.bind((function(t,e){this.bindToDocChanges(e)}),this));var n=this.loadResolvedMedia().fail((function(){u.default.warn("Could not fetch docversion media!")}));return o.default.when(e,n)},fetchForPublished:function(t){return this.docVersionRequest.then(r.default.bind((function(t){m.default.putMediaArray(t.media),delete t.media,this.set(t)}),this))},loadPageModels:function(){u.default.debug("Loading page models");var t=[],e=this.editorPagesManifest.map(r.default.bind((function(e,n){var i=this.createPageModel(e,n);return t.push(i),i.fetch()}),this));return this.pages=t,o.default.when.apply(o.default,e)},createPageModel:function(t,e){var n={slug:t.getSlug(),disabled:t.get("initiallyDisabled",{doNotFallbackToDesktop:!0})};if(!s.default.previewMode){var i=this.get("pages")[t.getSlug()];m.default.putMediaArray(i.media),delete i.media,n=r.default.extend(n,i)}var o=new c.default(n,{documentVersion:this,pageIndex:e});return t.on("change:initiallyDisabled change:overrides",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),y.default.on("change",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),o},processRemoteOps:function(t,e){for(var n=!1,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.p[0];"editorPagesManifest"===s?this.processManifestRemoteOp(a):(this.set(s,JSON.parse(JSON.stringify(t.snapshot[s]))),"smartgroups"===s?(n=n||h.default.isMediaReloadRequiredForOp(t,a),i=!0):"fonts"===s&&this.processFontRemoteOp(a))}n?this.loadResolvedMedia().done(r.default.bind((function(){this.triggerReload(t,e)}),this)):i&&this.triggerReload(t,e)},triggerReload:function(t,e){window.cerosContext.isEditor?o.default(document).trigger(_.EditorPageReloadEvent.DOCUMENT_VERSION_MODEL_RELOAD,[this,t,e]):this.trigger("reload")},processFontRemoteOp:function(t){2===t.p.length&&t.p[1]===p.FontConstants.EXPERIENCE_FAMILY_GUIDS_KEY&&o.default.when(this.loadFontMetrics()).done(r.default.bind((function(t){s.default.fontManifest=t,this.triggerReload()}),this))},createManifestCollection:function(){this.editorPagesManifest=new b(this.get("editorPagesManifest")),s.default.previewMode&&this.bindToManifestChanges()},bindToDocChanges:function(t){t.on("shout",r.default.bind((function(e){"updateViewportSize"!==(e=JSON.parse(e)).name&&"updateScaleExperience"!==e.name&&"updateTextMode"!==e.name||(window.cerosContext.isEditor?o.default(document).trigger(_.EditorPageReloadEvent.DOCUMENT_VERSION_MODEL_SHOUT,[this,t,e]):window.location.reload())}),this)),t.on("remoteop",r.default.bind((function(e){this.processRemoteOps(t,e)}),this))},bindToManifestChanges:function(){this.editorPagesManifest.on("add",r.default.bind((function(t,e,n){var i=n.at,o=this.createPageModel(t,i);this.pages.splice(i,0,o),o.fetch().done(r.default.bind((function(){this.trigger(this.MANIFEST_ADD_PAGE,t,n.at)}),this))}),this)),this.editorPagesManifest.on("remove",r.default.bind((function(t,e,n){this.pages.splice(n.index,1),this.trigger(this.MANIFEST_REMOVE_PAGE,n.index)}),this)),this.editorPagesManifest.on("move",r.default.bind((function(t,e){this.pages.splice(e,0,this.pages.splice(t,1)[0]),this.trigger(this.MANIFEST_MOVE_PAGE,t,e)}),this))},processManifestRemoteOp:function(t){var e,n=t.p[1];if(2===t.p.length)if(r.default.isUndefined(t.li))if(r.default.isUndefined(t.ld)){if(!r.default.isUndefined(t.lm)){var i=t.lm;e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e,{silent:!0}),this.editorPagesManifest.add(e,{at:i,silent:!0}),this.editorPagesManifest.trigger("move",n,i)}}else e=this.editorPagesManifest.at(n),this.editorPagesManifest.remove(e);else this.editorPagesManifest.add(t.li,{at:n});else if(3===t.p.length&&!r.default.isUndefined(t.oi)){var o=t.p[2];this.editorPagesManifest.at(n).set(o,t.oi)}},getPageNumberBySlug:function(t){var e=this.editorPagesManifest;if(r.default.isEmpty(e))return null;var n=null;return e.find((function(e,i){return e.getSlug()===t&&(n=i+1,!0)})),n},getPageInfoByNumberOrSlug:function(t){var e=this.editorPagesManifest,n=null,i=null;return r.default.isString(t)?(n=this.getPageNumberBySlug(t))?i=t:n=1:((n=parseInt(t,10))<1||n>e.length)&&(n=1),!i&&e.at(n-1)&&(i=e.at(n-1).getSlug()),{number:n,slug:i}},getExperienceWidth:function(){return this.getOverrideablePropertyForCurrentVariant("viewportWidth")},getExperienceHeight:function(){return this.getOverrideablePropertyForCurrentVariant("viewportHeight")},getScaleExperience:function(){var t=this.getScaleExperienceType();return"string"==typeof t?t!==v.default.SCALE_EXPERIENCE_TYPE.NO_SCALING:this.getOverrideablePropertyForCurrentVariant("scaleExperience")},getScaleExperienceType:function(){return this.getOverrideablePropertyForCurrentVariant("scaleExperienceType")},getPages:function(){return this.pages},getEnabledPageIndexes:function(){var t=[];return r.default.each(this.pages,(function(e,n){e.get("disabled")||t.push(n)})),t},getNearestEnabledPage:function(t){var e=r.default.clamp(t,1,this.pages.length)-1;if(!this.pages[e].get("disabled"))return e+1;for(var n=1;e-n>=0||e+n<this.pages.length;n++){if(this.pages[e+n]&&!this.pages[e+n].get("disabled"))return e+n+1;if(this.pages[e-n]&&!this.pages[e-n].get("disabled"))return e-n+1}},isCarousel:function(){var t=this.editorPagesManifest,e=this.get("carousel");return e&&e.enabled&&t.length>1},isAutoTransitioning:function(){var t=this.get("carousel");return this.isCarousel()&&t.autoTransition},shouldLoadLowRes:function(){return this.get("loadLowRes")},shouldLazyLoad:function(){return this.get("lazyLoading")},getTextMode:function(){return this.get("textMode")},getAutoTransitionDelay:function(){var t=this.get("carousel");return t?t.autoTransitionDelay:0},_getDocumentName:function(){return this.get("uri").replace(/\//g,"_")},getSwipeEnabled:function(){return this.get("theming")&&this.get("theming").swipeEnabled},getSmartgroupDefinition:function(t){return r.default.find(this.get("smartgroups"),(function(e){return e.id===t}))},loadBackgroundImageInfo:function(){var t=r.default.get(s.default,"themeObj.backgroundImage",null);t&&m.default.put(t.id,t)},loadResolvedMedia:function(){return g.default.loadMediaForRestUri(this.getUri())},loadFontMetrics:function(){return o.default.ajax({url:this.getUri()+"/font-metrics",type:"GET",dataType:"json"})},getUri:function(){return"/rest"+a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)}});r.default.extend(w.prototype,f.default),e.default=w},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(61)),a=i(n(0)),s=i(n(3)),u=i(n(181)),l=i(n(84)),c=i(n(507));e.default=r.default.View.extend({events:{"click .previewer-variant-option":"handleOptionClick","click .reload-btn":"reloadExperience"},initialize:function(){l.default.on("change",a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.RELOAD_TRIGGERED,a.default.bind(this.loadSpinner,this)),this.render()},render:function(){var t=u.default.isViewportWidthDetection();this.$el.show(),this.$el.html(o.default.render(c.default,{showTablet:!t||u.default.doesVariantExist("tablet"),showMobile:!t||u.default.doesVariantExist("mobile"),allLayoutsExist:!t||2===u.default.getNumberOfExistingVariants()})),this.updateIcons()},updateIcons:function(){var t=u.default.getPreviewerFrameSize();this.$el.find(".previewer-variant-option").removeClass("-selected");var e="."+t+"-option";this.$el.find(e).addClass("-selected")},handleOptionClick:function(t){var e=s.default(t.currentTarget).data("option");e!==u.default.getPreviewerFrameSize()&&u.default.setPreviewerFrameSize(e)},showSpinner:function(){this.$(".reload-container div").removeClass("ceros-replay-icon").addClass("loader-spinner")},hideSpinner:function(){this.$(".reload-container div").removeClass("loader-spinner").addClass("ceros-replay-icon")},loadSpinner:function(){this.showSpinner(),setTimeout(a.default.bind(this.hideSpinner,this),750)},reloadExperience:function(){u.default.isDocVersionSet()&&(u.default.triggerReload(),this.loadSpinner())}})},function(t,e,n){"use strict";n.r(e),e.default='<ul class="previewer-options-list {{#allLayoutsExist}}-all-layouts-exist{{/allLayoutsExist}}">\n    <li class="logo-container">\n        <div\n            title="Ceros Studio"\n            class="ceros-icon ceros-studio-icon">\n        </div>\n    </li>\n    <li class="previewer-variant-option desktop-option" data-option="desktop">\n        <div class="desktop-option-icon"></div>\n    </li>\n    {{#showTablet}}\n    <li class="previewer-variant-option tablet-option" data-option="tablet">\n        <div class="tablet-option-icon"></div>\n    </li>\n    {{/showTablet}}\n    {{#showMobile}}\n    <li class="previewer-variant-option mobile-option" data-option="mobile">\n        <div class="mobile-option-icon"></div>\n    </li>\n    {{/showMobile}}\n    <li class="reload-container">\n        <div\n            title="To replay animations press \'Option+R\' on Mac or \'Alt+R\' on Windows"\n            class="ceros-icon ceros-replay-icon reload-btn">\n        </div>\n    </li>\n\n</ul>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(13)),a=i(n(0)),s=i(n(232)),u=i(n(8)),l=i(n(181)),c=i(n(84)),d=i(n(280)),f=i(n(14));e.default=o.default.View.extend({initialize:function(){var t=this;this.$previewerSelectionHeaderEl=r.default(".previewer-selection-header"),this.frameName=l.default.getPreviewerFrameSize(),this.$el.addClass("-"+this.frameName),this.onlyAllowFullscreenMode=u.default.isMarkup,this.styleFrame(),r.default(window).on("resize",(function(){t.styleFrame()}));var e=localStorage.getItem(u.default.issue.slug+"-fullscreen-preview");(this.onlyAllowFullscreenMode||"true"===e)&&this.turnOnFullscreenMode(this),this.$el.addClass("-initialized"),this.handleKeyup(t),l.default.on(l.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,(function(e){t.$el.removeClass("-"+t.frameName),t.frameName=e.variant,t.$el.addClass("-"+t.frameName),t.styleFrame(),c.default.detect(),r.default(window).trigger("resize")}))},handleKeyup:function(t){r.default(window).on("keyup",(function(e){(d.default.isOptionRPressed(e)&&t.reloadExperience(),t.onlyAllowFullscreenMode)||!r.default(document.activeElement).is("textarea")&&(r.default(document.activeElement).is("input")||!d.default.isHKeyPressed(e)||l.default.fullScreenMode?(d.default.isEscKeyPressed(e)||d.default.isHKeyPressed(e))&&l.default.fullScreenMode&&t.turnOffFullscreenMode(t):t.turnOnFullscreenMode(t))}))},reloadExperience:function(){l.default.isDocVersionSet()&&l.default.triggerReload()},turnOnFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","true"),l.default.setFullScreenMode(!0),t.$previewerSelectionHeaderEl.hide(),t.$el.addClass("-full-screen-mode"),t.$el.css({width:r.default(window).width(),height:r.default(window).height()}),r.default(window).trigger("resize")},turnOffFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","false"),l.default.setFullScreenMode(!1),t.$previewerSelectionHeaderEl.show(),t.$el.removeClass("-full-screen-mode"),r.default(window).trigger("resize")},getThemeBackgroundColor:function(){return a.default.get(u.default,["themeObj","backgroundColor"],null)},styleFrame:function(){var t=r.default(window);if(l.default.fullScreenMode)this.$el.css({width:t.width(),height:t.height()});else{var e=l.default.getExperienceContainerDimensions(t);if(this.$el.css({width:e.width,height:e.height,backgroundColor:this.getThemeBackgroundColor()}),"desktop"!==this.frameName){var n=l.default.getTopBottomBorderWidth(r.default(window),this.frameName,e.height),i=l.default.getLeftRightBorderWidth(r.default(window),this.frameName,e.width),o=Math.round(n),a=Math.round(i);this.$el.css({"border-top-width":o,"border-bottom-width":o,"border-left-width":a,"border-right-width":a})}}},showFadingHelpMessage:function(){if(!this.onlyAllowFullscreenMode){var t=s.default.get("shownPreviewerFadingHelpMessage");f.default.mobile()||t||(r.default(".fit-to-window-help-message").show().delay(3e3).fadeOut(400),s.default.set("shownPreviewerFadingHelpMessage","1"))}}})},function(t,e,n){var i={"./analytics/module":344,"./branding/module":281,"./chrome/module":282,"./error/module":283,"./flippers/module":284,"./lightbox/module":319,"./page/module":289,"./sdk-backend/module":446,"./splash-screen/module":240,"./url-navigation/module":318,"./viewport/module":243};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=509},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(3)),s=i(n(14)),u=i(n(511)),l=i(n(350)),c=i(n(527)),d=i(n(55)),f=n(241),h=function(){this.ready=!1,this.lastPageLoadedAttr=null};h.prototype={init:function(t){this.options=o.default.extend({application:"player"},t||{}),this.analyticsTrackerManager=new u.default(t.analyticsTrackers),this.performanceTracker=new l.default,this.performanceTracker.on(this.performanceTracker.EVENTS.PERFORMANCE_MARK,this.sendPerformanceMarkEvent,this),this.playerPageViewTracker=new c.default,this.playerPageViewTracker.on(this.playerPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.sendPageDwellEvent,this),this.ready=!0},getPerformanceTracker:function(){return this.performanceTracker},updateScale:function(t){return this.analyticsTrackerManager.updateScale(t)},unsupportedOpen:function(t){return this._track(this.options.application+".unsupported_browser.open",t)},_openExperience:function(t){this._track(this.options.application+".experience.open",t)},viewExperience:function(t){if(window.cerosPlayerLoadStart){var e=new Date,n=(e-window.cerosPlayerLoadStart)/1e3;r.default.info("First Page Load Time: "+n),n<0&&(r.default.warn(new Error("Analytics: negative load time calculated. Start time: "+window.cerosPlayerLoadStart+", End time: "+e)),n=0),this._openExperience(o.default.extend({load_time:n},t)),window.cerosPlayerLoadStart=null}},viewPage:function(t){s.default.isBot()||this._trackViewPage(t)},playVideo:function(t){this._track(this.options.application+".video.play",t)},trackVideoProgressTime:function(t){this._track(this.options.application+".video.progress_time",t)},trackVideoProgressPercent:function(t){this._track(this.options.application+".video.progress_percent",t)},clickComponent:function(t){this._track(this.options.application+".component.click",t)},hoverComponent:function(t){this._track(this.options.application+".component.hover",t)},clickLink:function(t){this._track(this.options.application+".link.click",t)},clickLightbox:function(t){this._track(this.options.application+".lightbox.click",t)},clickProduct:function(t){this._track(this.options.application+".product.click",t)},clickShoppingCart:function(t){this._track(this.options.application+".shopping_cart.click",t)},clickPageShare:function(t){this._track(this.options.application+".page.share",t)},clickCerosBranding:function(t){this._track(this.options.application+".ceros_branding.click",t)},experienceLoadInteraction:function(t){this._track(this.options.application+".experience_load.timed",t)},formSubmit:function(t){o.default.isNil(t.form_origin_form_id)||((t=o.default.clone(t)).form_origin_form_id=""+t.form_origin_form_id),this._track(this.options.application+".component.form_submit",t)},handleApiRequest:function(t,e){this._track(this.options.application+".ceros.api.request",{sdk_event_name:t.name,sdk_version:t.client.sdkVersion})},sendPerformanceMarkEvent:function(t){this._track(this.options.application+".performance.marker",t,!0)},_trackViewPage:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_num===t.page_num||(this._track(this.options.application+".page.view",t),this.playerPageViewTracker.activatePage(t.topY,t.bottomY,t.pageHeight),this.lastPageLoadedAttr=t)},_track:function(t,e,n){if(!this.ready)throw Error("please call init() before attempting to capture analytics!");return s.default.isBot()?a.default.Deferred().resolve():(n||this.playerPageViewTracker.registerUserActivity(),this.analyticsTrackerManager.sendEvent(t,e))},resetPageTrackingMinMaxY:function(){this.playerPageViewTracker.resetYMinMax()},trackPageScroll:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_slug===t.page_slug&&this.playerPageViewTracker.trackPageScroll(t.topY,t.bottomY)},registerUserActivity:function(){this.playerPageViewTracker.registerUserActivity()},registerUserActivityIfVisible:function(){this.playerPageViewTracker.registerUserActivityIfNotPaused()},sendPageDwellEvent:function(t){if(!s.default.isBot()&&this.isPlayer()&&this.lastPageLoadedAttr){var e={page_slug:this.lastPageLoadedAttr.page_slug,page_num:this.lastPageLoadedAttr.page_num,page_height:this.lastPageLoadedAttr.pageHeight,min_y:t.minY,max_y:t.maxY,dwell_time:t.dwellTime};r.default.debug("SENDING PING, min_y: "+e.min_y+", max_y: "+e.max_y+", Dur: "+e.dwell_time+", page_height: "+e.page_height),this.analyticsTrackerManager.sendEvent(this.options.application+".page.dwell",e)}},isPlayer:function(){return"player"===this.options.application},getUserToken:function(){var t=d.default.getExperiencePath(),e=f.AnalyticsLocalStorage.getDomainTracker(t);return e?e.user_token:null}},e.default=new h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(14)),s=i(n(8)),u=i(n(55)),l=i(n(141)),c=i(n(512)),d=i(n(518)),f=i(n(521)),h=i(n(523)),p=i(n(524)),g=i(n(525)),m=n(241),v=function(t){this.options=t||{},this.trackers=[];var e=this.hasUserConsentForAnalytics();this.options.cerosPlayerTracker&&this.trackers.push(new c.default(this.options.cerosPlayerTracker,e)),this.options.googleAnalyticsTracker&&this.trackers.push(new d.default(this.options.googleAnalyticsTracker,e)),this.options.googleTagManagerTracker&&this.trackers.push(new f.default(this.options.googleTagManagerTracker)),this.options.marketoTracker&&this.trackers.push(new h.default(this.options.marketoTracker)),this.options.eloquaTracker&&this.trackers.push(new p.default(this.options.eloquaTracker)),this.options.universalAnalyticsTracker&&this.trackers.push(new g.default(this.options.universalAnalyticsTracker)),this.registerSdkAnalyticsUserConsentEventListeners()};o.default.extend(v.prototype,{hasUserConsentForAnalytics:function(){var t=u.default.getExperiencePath(),e=m.AnalyticsLocalStorage.getUserConsent(t);return!!e||!s.default.docVersion.requireUserConsentForAnalytics&&!1!==e},registerSdkAnalyticsUserConsentEventListeners:function(){l.default.on("sdk.experience.analytics.user.consent.granted",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!0,t),this.trackers.forEach((function(t){return t.applyUserConsentGranted()}))}),this)),l.default.on("sdk.experience.analytics.user.consent.denied",o.default.bind((function(){var t=u.default.getExperiencePath();m.AnalyticsLocalStorage.setUserConsent(!1,t),this.trackers.forEach((function(t){return t.applyUserConsentDenied()}))}),this))},sendEvent:function(t,e){if(a.default.isBot())return r.default.Deferred().resolve();var n=[];return o.default.each(this.trackers,(function(i){i.isEnabled()&&n.push(i.sendEvent(t,e))})),r.default.when.apply(r.default,n).promise()},updateScale:function(t){o.default.each(this.trackers,(function(e){e.isEnabled()&&e.updateScale(t)}))}}),e.default=v},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(345)),s=i(n(84)),u=i(n(8)),l=["previewer.component.hover","player.component.hover","previewer.video.progress_time","previewer.video.progress_percent"],c=["previewer.page.view","player.page.view"],d=["previewer.video.play","player.video.play","previewer.video.progress_time","player.video.progress_time","previewer.video.progress_percent","player.video.progress_percent"],f=["page_slug","page_num"],h=function(t,e){a.default.call(this,o.default.extend({trackInitialReferrer:!0,application:u.default.analyticsApplicationKey,hasUserConsentForAnalytics:e},t))};(h.prototype=Object.create(a.default.prototype)).constructor=h,o.default.extend(h.prototype,{sendEvent:function(t,e){return o.default.includes(l,t)?r.default.Deferred().resolve():(e=this.filterEventData(t,e),a.default.prototype.track.call(this,t,e))},getCommonProps:function(t){var e=a.default.prototype.getCommonProps.call(this,t);return o.default.extend(e,{experience_alias:u.default.issueAliasSlug,experience_slug:u.default.issue.slug,experience_version_slug:u.default.docVersion.slug,project_slug:u.default.appSlug,current_layout:s.default.hasDetectedVariant()?s.default.getVariant():"unknown"})},filterEventData:function(t,e){return o.default.includes(c,t)?e=o.default.pick(e,f):o.default.includes(d,t)&&(e=o.default.omit(e,["component_name"])),e=o.default.omit(e,["page_name","sdk_tags","sdk_payload"])}}),e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(14)),a=i(n(8)),s=i(n(55)),u=i(n(233)),l=window.navigator.userAgent,c=function(){};c.prototype={data:null,scale:null,initialScale:null,getData:function(){return this.data||(this.data=r.default.extend(this.getStandardParams(),this.getCampaignParams())),r.default.extend(this.data,this.getDynamicTrackingInfo())},updateScale:function(t){this.initialScale=this.initialScale||t,this.scale=t},getDynamicTrackingInfo:function(){var t=u.default.getDimensions(),e={screen_width:t.width,screen_height:t.height};return this.initialScale&&(e.initial_scale=this.initialScale),this.scale&&(e.scale=this.scale),e},getBrowserAndVersionUsingMixpanelAlgorithm:function(t,e,n){var i=function(e){var n=t.match(e);return n&&n[1]},o=null,a=null;e=e||"",r.default.includes(t,"PhantomJS")?(o="PhantomJS",a=i(/PhantomJS\/(\d+)/)):r.default.includes(t,"jsdom")?(o="jsdom",a=i(/jsdom\/([0-9._a-z]+)/)):n?o=r.default.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?o="BlackBerry":r.default.includes(t,"Edg")?(o="Microsoft Edge",a=i(/Edg\/(\d+)/)):r.default.includes(t,"FBIOS")?o="Facebook Mobile":r.default.includes(t,"Chrome")?(o="Chrome",a=i(/Chrome\/(\d+)/)):r.default.includes(t,"CriOS")?(o="Chrome iOS",a=i(/CriOS\/(\d+)/)):r.default.includes(e||"","Apple")?(o=r.default.includes(t,"Mobile")?"Mobile Safari":"Safari",a=i(/Version\/(\d+)/)):r.default.includes(t,"Android")?o="Android Mobile":r.default.includes(t,"Konqueror")?o="Konqueror":r.default.includes(t,"Firefox")?(o="Firefox",a=i(/Firefox\/(\d+)/)):r.default.includes(t,"Gecko")&&(o="Mozilla");var s={};return o&&(s.name=o),a&&(s.version=a),s},getStandardParams:function(){var t=window.document.referrer,e=this.getSearchEngine(t),n=this.getBrowserAndVersionUsingMixpanelAlgorithm(l,navigator.vendor,window.opera);return{browser:n.name,trial:!!a.default.isTrialAccount,browser_version:n.version,user_agent:l,device_type:o.default.deviceType(),player_type:o.default.playerType(),initial_orientation:o.default.orientation(),cookies_enabled:!!o.default.cookies(),embedded:!!o.default.isIframe(),https:"https:"===window.location.protocol,device:this.getDevice(),device_pixel_ratio:o.default.pixelRatio(),search_engine:e,search_keyword:this.getSearchKeyword(e,t),os:o.default.os.name,os_version:o.default.os.version,referrer:t||null,referring_domain:this.extractReferringDomain(t)}},extractReferringDomain:function(t){var e=null;return t&&((e=s.default.extractDomain(t))||(e=t)),e},getDevice:function(){return/Windows Phone/i.test(l)||/WPDesktop/.test(l)?"Windows Phone":o.default.isIpad()?"iPad":/iPod/.test(l)?"iPod Touch":/iPhone/.test(l)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Android/.test(l)?"Android":null},getSearchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},getSearchKeyword:function(t,e){var n="yahoo"!=t?"q":"p";if(null!==t){var i=s.default.getUrlParams(e)[n];if(i&&i.length)return i}return null},getCampaignParams:function(){return r.default.pick(s.default.getUrlParams(window.document.URL),"utm_source","utm_medium","utm_campaign","utm_content","utm_term")}},e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=function(){this.queue=[],this.timerId=null};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{AGGREGATE_EVENT:"aggregate-event"},addEvent:function(t){this.queue.push(t),this.startTimer()},isEmpty:function(){return 0===this.queue.length},popEvents:function(){var t=this.queue.splice(0,5);return this.clearTimer(),r.default.isEmpty(this.queue)||this.startTimer(),t},startTimer:function(){null===this.timerId&&(this.timerId=setTimeout(r.default.bind(this.postEvents,this),5e3))},clearTimer:function(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},postEvents:function(){this.queue.length>0?this.trigger(this.EVENTS.AGGREGATE_EVENT,this.popEvents()):this.clearTimer()}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookieName=void 0,function(t){t.CEROS_ID="ceros_id",t.CEROS_USER="ceros_user",t.AUTH_REFERER="auth_referer",t.ORIGINAL_REFERER="original_referer",t.CEROS_DOMAIN_TRACKING="cerosdomaintracking",t.CEROS_EXPERIENCE_TRACKING="cerosexperiencetracking",t.USER_CONSENT="user_consent"}(e.CookieName||(e.CookieName={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.storageFactory=void 0,e.storageFactory=function(t){var e={};function n(){try{var e="__some_random_key_you_are_not_going_to_use__";return t().setItem(e,e),t().removeItem(e),!0}catch(t){return!1}}return{getItem:function(i){return n()?t().getItem(i):e.hasOwnProperty(i)?e[i]:null},setItem:function(i,r){n()?t().setItem(i,r):e[i]=String(r)},removeItem:function(i){n()?t().removeItem(i):delete e[i]},clear:function(){n()?t().clear():e={}},key:function(i){return n()?t().key(i):Object.keys(e)[i]||null},get length(){return n()?t().length:Object.keys(e).length}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtils=void 0;var i=function(){function t(){}return t.getEmailDomain=function(t){var e=null==t?void 0:t.split("@");return 2===(null==e?void 0:e.length)?e[1]:null},t.pluralize=function(t,e,n){return void 0===n&&(n="s"),1===e?t:""+t+n},t.camalize=function(t){return t.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(function(t,e){return e.toUpperCase()}))},t.isEmail=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},t}();e.StringUtils=i},function(t,e,n){"use strict";(function(t){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(8)),s=i(n(106)),u=i(n(215)),l=i(n(519)),c=i(n(520)),d=function(t,e){u.default.call(this,t),this.options=t,this.hasUserConsentForAnalytics=e,this.initUserConsent(),this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(d.prototype=Object.create(u.default.prototype)).constructor=d,o.default.extend(d.prototype,{initUserConsent:function(){this.hasUserConsentForAnalytics?this.applyUserConsentGranted():this.applyUserConsentDenied()},applyUserConsentGranted:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!0;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!1,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP disabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"granted"});this.invokeGtagFunctionStandalone("GA cookies enabled",e)}},applyUserConsentDenied:function(){if(this.options.trackingID&&!a.default.isEmbedded){this.hasUserConsentForAnalytics=!1;var t=new c.default.GtagFunctionConfig(this.options.trackingID,{anonymize_ip:!0,send_page_view:!1});this.invokeGtagFunctionStandalone("GA anonymize IP enabled",t);var e=new c.default.GtagFunctionConsentUpdate({analytics_storage:"denied"});this.invokeGtagFunctionStandalone("GA cookies disabled",e)}},isEnabled:function(){return this.options.enabled&&!!this.options.trackingID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e=new c.default.GtagFunctionEvent("page_view",{send_to:this.options.trackingID,page_path:s.default.buildUriForPageNumber(t.page_num)});this.invokeGtagFunctionStandalone("GA page view event",e)},handleClickComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},sendCustomEvent:function(t){var e=new c.default.GtagFunctionEvent(t.eventAction,{send_to:this.options.trackingID,event_category:t.eventCategory,event_label:t.eventLabel}),n=new l.default(t);this.invokeGtagFunctionStandaloneOrEmbedded("GA custom event",e,n)},invokeGtagFunctionStandalone:function(e,n){a.default.previewMode?r.default.forceInfo(e,n.toString()):t.isEmbedded||n.invoke()},invokeGtagFunctionStandaloneOrEmbedded:function(t,e,n){a.default.previewMode?r.default.forceInfo(t,e.toString()):a.default.isEmbedded?this.invokeOnParentPage([e,n]):e.invoke()}}),e.default=d}).call(this,n(129))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(242)),o=function(t){r.default.call(this,"ga",["send",t])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(242)),o=function(t,e){r.default.call(this,"gtag",["event",t,e])};(o.prototype=Object.create(r.default.prototype)).constructor=o;var a=function(t){r.default.call(this,"gtag",["consent","update",t])};(a.prototype=Object.create(r.default.prototype)).constructor=a;var s=function(t,e){r.default.call(this,"gtag",["config",t,e])};(s.prototype=Object.create(r.default.prototype)).constructor=s,e.default={GtagFunctionEvent:o,GtagFunctionConsentUpdate:a,GtagFunctionConfig:s}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(8)),s=i(n(106)),u=i(n(215)),l=i(n(522)),c=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(c.prototype=Object.create(u.default.prototype)).constructor=c,o.default.extend(c.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.containerID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={event:"ceros-pageview",cerosPagePath:s.default.buildUriForPageNumber(t.page_num),cerosPageTitle:t.page_name,cerosPageLocation:window.location.href},n=new l.default(e);a.default.previewMode?r.default.forceInfo("GTM page view event",n.toString()):n.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.hoverEventAction,cerosLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);a.default.previewMode?r.default.forceInfo("GTM custom event",e.toString()):a.default.isEmbedded?this.invokeOnParentPage(e):e.invoke()}}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(242)),o=function(t){r.default.call(this,"dataLayer.push",t)};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(8)),s=i(n(215)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{didInit:!1,isEnabled:function(){return this.options.enabled&&!!this.options.accountId},isPageViewTrackingEnabled:function(){return this.isEnabled()},init:function(t){this.didInit=!!a.default.previewMode||!!window.Munchkin,a.default.previewMode&&r.default.forceInfo("Marketo page view event",JSON.stringify(this.formatPageUri(t.page_num))),window.Munchkin&&window.Munchkin.init(this.options.accountId)},formatPageUri:function(t){var e=window.location.pathname;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),{url:e}},handlePageEvent:function(t){if(this.didInit){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Marketo page view event",JSON.stringify(e)):window.Munchkin.munchkinFunction("visitWebPage",e)}else this.init(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(0)),a=i(n(8)),s=i(n(215)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent)),this.isEnabled()&&(window._elqQ=window._elqQ||[],window._elqQ.push(["elqSetSiteId",this.options.siteId]),t.cookieDomain&&window._elqQ.push(["elqUseFirstPartyCookie",this.options.cookieDomain]))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.siteId},isPageViewTrackingEnabled:function(){return this.isEnabled()},formatPageUri:function(t){var e=window.location.href;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),e},handlePageEvent:function(t){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Eloqua page view event",e):window._elqQ.push(["elqTrackPageView",e])}}),e.default=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(24)),l=s(n(8)),c=s(n(106)),d=s(n(526)),f=s(n(215)),h=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.globalContext=l.default,n.isEmbedded=n.globalContext.isEmbedded,n.registerEventHandler("experience.open",n.handleExperienceOpenEvent),n.registerEventHandler("page.view",n.handlePageViewEvent),n.registerEventHandler("component.click",n.handleClickComponentEvent),n.registerEventHandler("component.hover",n.handleHoverComponentEvent),n.registerEventHandler("video.play",n.handleVideoPlayEvent),n.registerEventHandler("video.progress_percent",n.handleVideoProgressPercentEvent),n.registerEventHandler("video.progress_time",n.handleVideoProgressTimeEvent),n.registerEventHandler("component.form_submit",n.handleFormSubmitEvent),n.registerEventHandler("link.click",n.handleLinkClickEvent),n.registerEventHandler("lightbox.click",n.handleLightboxClickEvent),n}return r(e,t),e.prototype.handleExperienceOpenEvent=function(t){this.sendCustomEvent("experience-open",{pageNum:t.page_num,pageName:t.page_name})},e.prototype.handlePageViewEvent=function(t){this.sendCustomEvent("page-view",{page:c.default.buildUriForPageNumber(t.page_num),pageNum:t.page_num,pageName:t.page_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleClickComponentEvent=function(t){this.sendCustomEvent("component-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLinkClickEvent=function(t){this.sendCustomEvent("link-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,url:t.outgoing_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleLightboxClickEvent=function(t){this.sendCustomEvent("lightbox-click",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,lightboxUrl:t.lightbox_url,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleHoverComponentEvent=function(t){this.sendCustomEvent("component-hover",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoPlayEvent=function(t){this.sendCustomEvent("video-play",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressTimeEvent=function(t){this.sendCustomEvent("video-progress-time",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoPosition:t.video_position,videoPlayTime:t.video_play_time,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleVideoProgressPercentEvent=function(t){this.sendCustomEvent("video-progress-percent",{pageNum:t.page_num,pageName:t.page_name,componentName:t.component_name,videoProgressPct:t.video_progress_percent,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.handleFormSubmitEvent=function(t){this.sendCustomEvent("form-submit",{pageNum:t.page_num,pageName:t.page_name,formId:t.form_origin_form_id,formName:t.form_origin_form_name,componentName:t.component_name,sdkTags:t.sdk_tags,sdkPayload:t.sdk_payload})},e.prototype.sendCustomEvent=function(t,e){var n=Object.assign({},e,{eventType:t,experienceName:this.globalContext.issue.name});n.pageName||delete n.pageName,n.sdkPayload||delete n.sdkPayload,n.sdkTags&&0!==n.sdkTags.length?n.sdkTags=a(n.sdkTags):delete n.sdkTags;var i=new d.default("ceros-analytics-event",n);this.globalContext.previewMode&&u.default.forceInfo("Ceros Analytics Event: ",i.toString()),i.invoke(),this.globalContext.isEmbedded&&this.invokeOnParentPage(i)},e}(f.default);e.default=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,n){return t.call(this,"document.body.dispatchEvent",new CustomEvent(e,{detail:n}))||this}return r(e,t),e.prototype.toJSON=function(){return{functionPath:this.functionPath,args:[this.args[0].type,{detail:this.args[0].detail}]}},e}(o(n(242)).default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(24)),a=i(n(0)),s=i(n(351)),u=function(){s.default.call(this)};(u.prototype=Object.create(s.default.prototype)).constructor=u;a.default.extend(u.prototype,{activatePage:function(t,e,n){this.timerId&&(o.default.debug("Stopping page ping timer"),clearTimeout(this.timerId),this.timerId=null),t=isNaN(t)?0:t,e=isNaN(e)?n:e,this.minY=t,this.maxY=e,this.lastTopY=t,this.lastBottomY=e,this.pageHeight=n,this.pageActivated=!0,this.registerUserActivity()},resetYMinMax:function(){this.minY=void 0,this.maxY=void 0},trackPageScroll:a.default.throttle((function(t,e){isNaN(t)||isNaN(e)||(this.minY=void 0===this.minY?t:Math.min(t,this.minY),this.maxY=void 0===this.maxY?e:Math.max(e,this.maxY),this.lastTopY=t,this.lastBottomY=e,this.registerUserActivity())}),200),setPostEventFireData:function(){this.minY=this.lastTopY,this.maxY=this.lastBottomY},shouldStartPagePingEventTimer:function(){return this.isUserActive()||this.isLightboxOpen()},getDwellTimeEventData:function(){var t=Math.max(0,this.minY),e=this.maxY;return this.pageHeight&&(e=Math.min(this.pageHeight,e)),{minY:t,maxY:e,dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},isLightboxOpen:function(){return r.default(".ceros-lightbox").is(":visible")},logDebug:function(t){o.default.debug(t)}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(14)),s=i(n(8)),u=i(n(116)),l=i(n(180)),c=i(n(529)),d=s.default.publicAssetsBaseUrl+"PoweredByCeros.svg";e.default=u.default.extend({id:"ceros-branding",initialize:function(){this.poweredByUrl=this.getBrandingLinkUrl(),u.default.prototype.initialize.call(this),this.render(),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.$el,o.default.bind(this._clickCerosBranding,this))},render:function(){if(this.$el.empty().html(c.default),this.$el.find("a").attr("href",this.poweredByUrl),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.setCustomTheming(),!this.options.whiteLabeling){var t={color:this.options.menuForegroundColor},e={alt:"Powered By Ceros",width:"100%",height:"100%"};l.default.addVectorImage(d).loadNow().done(o.default.bind((function(n){n.createImageElement(t,e).done(o.default.bind((function(t){this.$el.find("a").append(t)}),this))}),this))}},setCustomTheming:function(){this.$el.css("background-color",this.options.menuBackgroundColor);var t=this.options.menuHoverOpacity,e=this.$el.find("a");a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",t)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",t)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this._positionCerosBranding()},_positionCerosBranding:function(){a.default.isIphoneFullscreenMobileSafari(r.default(window).width(),r.default(window).height())?this.$el.css({right:"42px","border-radius":"3px 3px 0 0"}):this.$el.css({right:0,"border-radius":"3px 0 0 0"})},getBrandingLinkUrl:function(){return"http://www3.ceros.com/poweredbyceros?"+["utm_source=M-W-CerosPower","account="+encodeURIComponent(s.default.accountSlug),"experience="+encodeURIComponent(s.default.issueAliasSlug)].join("&")},_onResize:function(){this._positionCerosBranding()},_clickCerosBranding:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.BRANDING_CEROS_BRANDING_CLICK)}})},function(t,e,n){"use strict";n.r(e),e.default='\n    <a href="#" class="label"><span class="sr-only">Powered by Ceros</span></a>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(14)),s=i(n(116)),u=i(n(531)),l=i(n(182)),c=i(n(55)),d=i(n(106)),f=i(n(239));e.default=s.default.extend({id:"chrome",initialize:function(){s.default.prototype.initialize.call(this),this.autoHideTimer=null,this.render(),this.clickOverlay=r.default('<div class="click-overlay"></div>'),this.bindInteraction(this.clickOverlay,o.default.bind(this._hideShareMenu,this)),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.title,o.default.bind(this._clickTitle,this)),this.bindInteraction(this.share,o.default.bind(this._activateShareMenu,this)),this.bindInteraction(this.shareMenu.find("a"),o.default.bind(this._sharePage,this)),this.bindInteraction(this.cart,o.default.bind(this._activateCart,this))},render:function(){this.$el.empty().html(u.default),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.chromeMenu=this.$el.find("#chrome-menu"),this.title=this.chromeMenu.find(".title"),this.share=this.chromeMenu.find(".share"),this.$shareBtn=this.chromeMenu.find(".share-button"),this.shareMenu=this.chromeMenu.find(".share-menu"),this.shareMenuArrow=this.chromeMenu.find(".arrow"),this._renderShareMenuArrow(),this.cart=this.chromeMenu.find(".cart"),!1===this.options.showChromeMenu&&this.chromeMenu.hide(),this.setCustomTheming(),this.options.allowCommerceIntegration&&this.options.commerceSettings.shoppingCartUrl||this.cart.remove(),this.chromeMenu.addClass("icon-"+this.chromeMenu.find("div.button").length)},_renderShareMenuArrow:function(){var t=r.default('<canvas width="39" height="18"></canvas>');this.shareMenuArrow.empty().append(t);var e=t[0].getContext("2d");e.save(),e.clearRect(0,0,39,18),e.fillStyle=this.options.menuBackgroundColor,e.beginPath(),e.moveTo(19.5,0),e.lineTo(39,18),e.lineTo(0,18),e.lineTo(19.5,0),e.fill(),e.restore()},setCustomTheming:function(){this.chromeMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.find("li").css("border-color",this.options.menuBorderColor);var t=this.options.menuForegroundColor;this.$el.find(".title,.label,.icon").css("color",t);var e=this.$el.find("a"),n=this.options.menuHoverOpacity;a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",n)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",n)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))},toggle:function(){this.chromeMenu.fadeToggle({duration:"fast",queue:!1,complete:o.default.bind(this.setAutoHideTimer,this)})},setAutoHideTimer:function(){this.cancelAutoHide(),this.chromeMenu.is(":visible")&&(this.autoHideTimer=setTimeout(o.default.bind((function(){"none"===this.shareMenu.css("display")&&this.hide(!0)}),this),5e3))},cancelAutoHide:function(){clearTimeout(this.autoHideTimer)},show:function(t){this.cancelAutoHide(),t?this.$el.fadeIn("fast"):this.$el.show()},hide:function(t){this.cancelAutoHide(),t?this.chromeMenu.fadeOut("fast"):this.chromeMenu.hide()},getHeight:function(){return!1===this.options.showChromeMenu?0:a.default.mobile()?50:42},setTitle:function(t){this.chromeMenu.find(".title").text(t)},_onResize:function(){this._positionShareMenu()},_showShareMenu:function(){this._positionShareMenu(),this.shareMenuArrow.show(),this.shareMenu.attr("aria-expanded","true"),this.shareMenu.slideDown(150,o.default.bind((function(){this.$el.after(this.clickOverlay),this.clickOverlay.show()}),this)),o.default.defer(o.default.bind((function(){this.bindInteraction(this.$el,o.default.bind(this._hideShareMenu,this))}),this)),this.bindShareMenuFocusStateWatcher(),this.bindShareMenuEscWatcher()},bindShareMenuFocusStateWatcher:function(){this.focusCallback=function(){this.shareMenu[0].contains(document.activeElement)||(this.removeShareMenuWatchers(),this._hideShareMenu())}.bind(this),document.addEventListener("focus",this.focusCallback,!0)},bindShareMenuEscWatcher:function(){this.escCallback=function(t){"Escape"!==t.code&&t.keyCode!==f.default.ESC||(this.removeShareMenuWatchers(),this.$shareBtn.focus(),this._hideShareMenu())}.bind(this),document.addEventListener("keydown",this.escCallback,!0)},removeShareMenuWatchers:function(){document.removeEventListener("keydown",this.escCallback,!0),document.removeEventListener("focus",this.focusCallback,!0)},_hideShareMenu:function(){this.shareMenu.attr("aria-expanded","false"),this.shareMenu.slideUp(100,o.default.bind((function(){this.shareMenuArrow.hide(),this.clickOverlay.detach(),this.unbindInteraction(this.$el)}),this)),a.default.mobile()&&this.setAutoHideTimer()},_positionShareMenu:function(){if(this.options.showChromeMenu){var t,e=r.default(window).width(),n=this.chromeMenu.height()+10;t=e<=480?this.share.position().left+this.share.width()/2-this.shareMenu.width()/2:this.share.position().left,this.shareMenu.css({top:n+"px",left:t+"px"})}},setMenuLinkHrefs:function(t){var e=c.default.removeEmbedParams(d.default.buildUriForPageNumber(t)),n=window.location.protocol+"//"+window.location.host+e,i=this.$el.find("[data-share='facebook']"),r=this.$el.find("[data-share='twitter']"),o=this.$el.find("[data-share='linkedin']"),a=this.$el.find("[data-share='pinterest']"),s=this.$el.find("[data-share='email']");this.title.attr("href",d.default.buildUriForPageNumber(1)),i.attr("href",l.default.urlForFacebook(n)),r.attr("href",l.default.urlForTwitter(n)),o.attr("href",l.default.urlForLinkedIn(n)),a.attr("href",l.default.urlForPinterest(n)),s.attr("href",l.default.urlForEmail(n))},_clickTitle:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.CHROME_TITLE_CLICK)},_activateCart:function(){this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHOPPING_CART)},_activateShareMenu:function(t){"none"===this.shareMenu.css("display")?(this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE),this._showShareMenu()):this._hideShareMenu()},_sharePage:function(t){t.preventDefault();var e="share-"+r.default(t.currentTarget).attr("data-share");this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE_PAGE,{action:e}),this._hideShareMenu()}})},function(t,e,n){"use strict";n.r(e),e.default='<nav id="chrome-menu">\n    <a href="#" class="title" title="Home"></a>\n    <div class="menu-buttons">\n        <div class="share button">\n            <button class="menu-button share-button" aria-controls="shareMenu"><span class="sr-only">Social Sharing Menu</span><span class="icon">&#xe000;</span></button>\n            <div class="arrow">\x3c!-- A dynamically rendered HTML5 canvas or VML element is inserted here --\x3e</div>\n        </div>\n        <div id="shareMenu" class="share-menu" style="display:none;" aria-expanded="false">\n            <ul>\n                <li><a href="#" data-share="facebook" title="Share on Facebook"><span class="sr-only">Share on Facebook</span><span class="icon ceros-facebook-icon"></span></a></li>\n                <li><a href="#" data-share="twitter" title="Share on Twitter"><span class="sr-only">Share on Twitter</span><span class="icon ceros-twitter-icon"></span></a></li>\n                <li><a href="#" data-share="linkedin" title="Share on LinkedIn"><span class="sr-only">Share on LinkedIn</span><span class="icon ceros-linkedin-icon"></span></a></li>\n                <li><a href="#" data-share="pinterest" title="Share on Pinterest"><span class="sr-only">Share on Pinterest</span><span class="icon ceros-pinterest-icon"></span></a></li>\n                <li><a href="#" data-share="email" title="Share via Email"><span class="sr-only">Share on Email</span><span class="icon ceros-email-icon"></span></a></li>\n            </ul>\n        </div>\n        <div class="cart button" aria-controls="cartModal">\n            <button class="menu-button" aria-controls="lightbox"><span class="sr-only">Open Cart</span><span class="icon">&#xe004;</span></button>\n        </div>\n    </div>\n</nav>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(61)),o=i(n(116)),a=i(n(533));e.default=o.default.extend({id:"errorModal",initialize:function(t){o.default.prototype.initialize.call(this,t),this.options=t,this.render()},render:function(){var t=r.default.render(a.default,{title:this.options.title,message:this.options.message,imageCssClass:this.options.imageCssClass});this.$el.html(t)}})},function(t,e,n){"use strict";n.r(e),e.default='<div id="float"></div>\n<div id="dialog">\n    <div id="content">\n        <div id="title">\n            {{title}}\n        </div>\n        <div id="image" {{#imageCssClass}}class="{{imageCssClass}}"{{/imageCssClass}}></div>\n        <div id="message">\n            {{{message}}}\n        </div>\n    </div>\n</div>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(142)),u=i(n(243)),l=i(n(318)),c=i(n(116)),d=i(n(14)),f=i(n(785)),h=i(n(106));e.default=c.default.extend({id:"flippers",leftArrow:null,rightArrow:null,scaleData:null,currentPageNumber:0,smallWindowThreshold:600,options:null,initialize:function(){c.default.prototype.initialize.call(this),d.default.desktop()&&r.default(document).on("keydown",o.default.bind(this.keyHandler,this)),this.render(),this.bindInteraction(this.leftArrow,o.default.bind(this._previousPage,this)),this.bindInteraction(this.rightArrow,o.default.bind(this._nextPage,this)),this.bindInteraction(this.$el)},getViewportModule:function(){return u.default},onClose:function(){c.default.prototype.initialize.call(this),this.unbindInteraction(this.leftArrow),this.unbindInteraction(this.rightArrow),this.unbindInteraction(this.$el)},_previousPageHref:function(){if(!this.currentPageNumber)return"#";var t=h.default.parseLayoutFromLocation();return h.default.buildUri(l.default.PAGE_MODES.NUMBER,Math.max(1,this.currentPageNumber-1),t)},_nextPageHref:function(){if(!this.currentPageNumber)return"#";var t=h.default.parseLayoutFromLocation();return h.default.buildUri(l.default.PAGE_MODES.NUMBER,this.currentPageNumber+1,t)},replaceHrefs:function(){this.currentPageNumber=this.getViewportModule().currentPageNumber(),this.$(".prev.left a").attr("href",this._previousPageHref()),this.$(".next.right a").attr("href",this._nextPageHref())},render:function(){var t=a.default.isEmbedded?"<button>":"<a>";this.leftArrow=r.default("<div>",{class:"prev left",css:{"background-color":this.options.menuBackgroundColor}}),this.leftArrowA=r.default(t,{title:"Previous Page",html:f.default.LEFT_ARROW,attr:{"aria-label":"Previous Page"},css:{color:this.options.menuForegroundColor}}),this.leftArrow.append(this.leftArrowA),this.rightArrow=r.default("<div>",{class:"next right",css:{"background-color":this.options.menuBackgroundColor}}),this.rightArrowA=r.default(t,{title:"Next Page",html:f.default.RIGHT_ARROW,attr:{"aria-label":"Next Page"},css:{color:this.options.menuForegroundColor}}),this.rightArrow.append(this.rightArrowA),a.default.isEmbedded||(this.leftArrowA.attr("href",this._previousPageHref()),this.rightArrowA.attr("href",this._nextPageHref()));var e=this.options.menuHoverOpacity;d.default.touch()&&(this.leftArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))),d.default.desktop()&&(this.leftArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")}))),this.disableNext(),this.disablePrevious(),this.$el.append(this.leftArrow),this.$el.append(this.rightArrow),!1===this.options.arrowsEnabled&&this.hide()},scale:function(t){t&&(this.scaleData=t);var e=this.scaleData.height,n=this.scaleData.marginTop,i=this.scaleData.originalWindowWidth;this.scaleData.windowHeight<this.smallWindowThreshold||i<this.smallWindowThreshold?(this.rightArrow.addClass("small"),this.leftArrow.addClass("small")):(this.leftArrow.removeClass("small"),this.rightArrow.removeClass("small"));var r,o=parseFloat(this.rightArrowA.css("height")),a=s.default.getInstance();r=a.isActive()?a.getVerticalCenterOfVisibleArea(e)-o/2:e/2-o/2+n,r=Math.round(r)+"px",this.leftArrow.css("top",r),this.rightArrow.css("top",r)},isPreviousDisabled:function(){return this.leftArrow.hasClass("disabled")},isNextDisabled:function(){return this.rightArrow.hasClass("disabled")},disablePrevious:function(){this.isPreviousDisabled()||(this.leftArrow.addClass("disabled"),this.leftArrow.attr("aria-hidden",!0),this.leftArrowA.attr("title",""),this.leftArrowA.attr("tabindex","-1"))},disableNext:function(){this.isNextDisabled()||(this.rightArrow.addClass("disabled"),this.rightArrow.attr("aria-hidden",!0),this.rightArrowA.attr("title",""),this.rightArrowA.attr("tabindex","-1"))},enablePrevious:function(){this.isPreviousDisabled()&&(this.leftArrow.removeClass("disabled"),this.leftArrow.removeAttr("aria-hidden"),this.leftArrowA.attr("title","Previous Page"),this.leftArrowA.removeAttr("tabindex"))},enableNext:function(){this.isNextDisabled()&&(this.rightArrow.removeClass("disabled"),this.rightArrow.removeAttr("aria-hidden"),this.rightArrowA.attr("title","Next Page"),this.rightArrowA.removeAttr("tabindex"))},show:function(){!0===this.options.arrowsEnabled&&this.$el.show()},hide:function(){this.$el.hide()},_nextPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.NEXT_PAGE)},_previousPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.PREVIOUS_PAGE)},keyHandler:function(t){(!t.target||"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName)&&(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||this.options.arrowsEnabled&&(39!==t.keyCode||this.isNextDisabled()?37!==t.keyCode||this.isPreviousDisabled()?37!==t.keyCode&&39!==t.keyCode||(t.stopPropagation(),t.preventDefault()):(t.stopPropagation(),t.preventDefault(),this._previousPage(t)):(t.stopPropagation(),t.preventDefault(),this._nextPage(t))))}})},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(24)),a=r(n(3)),s=r(n(0)),u=r(n(8)),l=r(n(143)),c=r(n(353)),d=r(n(180)),f=r(n(354)),h=r(n(14)),p=r(n(116)),g=r(n(355)),m=r(n(536)),v=r(n(181)),y=n(537),_=n(539),b=r(n(48)),w=n(52),T=r(n(214)),S=r(n(286)),O=n(540),E=r(n(84)),P=r(n(288)),C=0,A=1,x=2;e.default=p.default.extend({id:"viewport",documentVersion:null,module:null,pageJumpFrom:null,currentPage:null,currentPageSlug:null,pageViews:null,leftThresholdA:null,leftThresholdB:null,rightThresholdA:null,rightThresholdB:null,clickShield:null,isPageTransitionInProgress:!1,autoTransitionDelay:null,backgroundImage:null,scaleContext:null,scrollPositionsByPage:{},viewportContainer:null,backgroundContainerEl:null,backgroundImageEl:null,backgroundImageResource:null,backgroundImageInfo:null,mainContentLink:null,viewportTopAnchor:null,zoomControls:null,MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:2,pageTransitionAriaLiveTimeout:null,initialize:function(){this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.module=this.options.module,this.mainContentLink=new y.MainContentLinkView({docVersion:this.documentVersion}),this.viewportTopAnchor=new _.ViewportTopAnchor,this.hasAccessibilityFeature=b.default.hasFeature(w.FeatureFlagName.ACCESSIBILITY),p.default.prototype.initialize.call(this),this.hasAccessibilityFeature&&(this.viewportTopAnchor.initializeViewportTopAnchor(),this.$el.append(this.viewportTopAnchor.$viewportTop),this.$el.append(this.mainContentLink.$el),this.$el.prop("tabindex",-1),this.shouldDisplayZoomControls()&&this.initZoomControls(),u.default.previewMode&&E.default.on("change",this.handleVariantChange.bind(this))),a.default(window).on("resize",s.default.bind(this.scale,this)),this.documentVersion.getSwipeEnabled()?h.default.touch()&&(c.default.mergeDelegates(this,m.default),this.configureGestures()):h.default.isIosSafari()&&a.default("body").css({overflow:"auto"}),this.clickShield=a.default('<div class="click-shield"></div>'),this.addClickShield(),this.reset(null),u.default.previewMode&&this.listenForRemoteChanges(),s.default.each(this.documentVersion.pages,s.default.bind((function(t){t.on("change:disabled",(function(){this.module.trigger(this.module.publishedEvents.PAGE_ENABLED_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this)}),this)),this.backgroundImageInfo=s.default.get(u.default,"themeObj.backgroundImage",null)},listenForRemoteChanges:function(){this.documentVersion.on("change:carousel",s.default.bind((function(){this.getCurrentPage()&&this.currentPageSlug&&(this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.setAutoTransitionDelay())}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_ADD_PAGE,s.default.bind((function(t,e){var n=this.module.createSinglePageView(t,e);this.pageViews.splice(e,0,n),n.prepare().done(s.default.bind((function(){n.attach(),this.$el[0].appendChild(n.el()[0]),this.scale(),n.makePending(),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_REMOVE_PAGE,s.default.bind((function(t){t+1===this.currentPage?this.module.trigger(this.module.publishedEvents.CURRENT_PAGE_DELETED):(this.pageViews.splice(t,1),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_MOVE_PAGE,s.default.bind((function(t,e){var n=this.pageViews.splice(t,1)[0];this.pageViews.splice(e,0,n),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))},getNextPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage+1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=1;this.pageViews[t-1].isDisabled()&&t<this.currentPage;)t++;t>=this.currentPage&&(t=!1)}else t=!1}return t},getPreviousPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage-1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t--,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=this.pageViews.length;this.pageViews[t-1].isDisabled()&&t>this.currentPage;)t--;t<=this.currentPage&&(t=!1)}else t=!1}return t},isFirstPage:function(){return!1===this.getPreviousPageIndex()},isLastPage:function(){return!1===this.getNextPageIndex()},getCurrentPage:function(){return null!==this.pageViews&&this.pageViews[this.currentPage-1]},getPageNameBySlug:function(t){var e,n;if(this.pageViews)try{for(var r=i(this.pageViews),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.getSlug()===t)return a.getName()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},getNextPage:function(){var t=!1,e=this.getNextPageIndex();return e&&(t=this.pageViews[e-1]),t},getPreviousPage:function(){var t=!1,e=this.getPreviousPageIndex();return e&&(t=this.pageViews[e-1]),t},getPageCount:function(){return null===this.pageViews?0:this.pageViews.length},getPageViewportWidth:function(){return this.getCurrentPage().getScaleContext().originalWindowWidth},getExperienceWidth:function(){return this.documentVersion.getExperienceWidth()},getExperienceHeight:function(){return this.documentVersion.getExperienceHeight()},reset:function(t,e){if((this.zoomControls?this.$el.children().not(this.zoomControls.$el):this.$el.children()).not("#ceros-branding").not(this.mainContentLink.$el).not(this.viewportTopAnchor.$viewportTop).remove(),s.default.isNull(e)?this.currentPage=1:this.currentPage=e,null!==this.pageViews&&s.default.each(this.pageViews,(function(t){t.close()})),this.pageViews=t,this.viewportContainer=document.createDocumentFragment(),null!==this.pageViews){this._updatePageCss();var n=[];s.default.each(this.pageViews,(function(t){n.unshift(t.el()[0])})),s.default.each(n,s.default.bind((function(t){this.viewportContainer.appendChild(t)}),this)),this.$el[0].appendChild(this.viewportContainer),this.scale()}},disablePage:function(t){this.pageViews[t-1].disable()},enablePage:function(t){this.pageViews[t-1].enable()},nextPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getNextPageIndex();if(e){var n=this.getCurrentPage(),i=this.getNextPage();this._preTransition(n,i),this.switchPage(e,x,t)}}},previousPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getPreviousPageIndex();if(e){var n=this.getCurrentPage(),i=this.getPreviousPage();this._preTransition(n,i),this.switchPage(e,A,t)}}},doTransitionAnimation:function(t,e,n,i){if(n===C)return(new a.default.Deferred).resolve().promise();var r=new a.default.Deferred;this.isPageTransitionInProgress=!0,r.done(s.default.bind((function(){this.isPageTransitionInProgress=!1}),this)),e.makeInTransition();var o=this.getPageViewportWidth()*(n===x?-1:1);return t.pauseAnimations(),t.el().animate({"background-position-x":o},{duration:i,easing:"easeOutCubic",step:s.default.bind((function(n){t.setBackgroundPositionAndScaleTransform(n,this.isPageTransitionInProgress),e.setBackgroundPositionAndScaleTransform(n-o,this.isPageTransitionInProgress)}),this),complete:r.resolve}),r.promise()},_storePageScrollPosition:function(t){this.scrollPositionsByPage[t.getSlug()]=t.getScrollPosition()},_getStoredPageScrollPosition:function(t){return!s.default.isUndefined(t)&&s.default.has(this.scrollPositionsByPage,t.getSlug())?this.scrollPositionsByPage[t.getSlug()]:0},_preTransition:function(t,e){var n=t.getScaleContext();this._storePageScrollPosition(t),n.constrainedByHeight&&(this._hidePageScrollbar(t),this._hidePageScrollbar(e))},jumpToPage:function(t){if(null!==this.pageViews){var e=this.pageViews.length;t>=1&&t<=e&&(this.pageViews[t-1].isDisabled()||this.switchPage(t,C))}},isPageTransitioning:function(){return this.isPageTransitionInProgress},switchPage:function(t,e,n){var i=this;this.isPageTransitioning()||(this.clearAutoTransitionDelay(),e==C||this.documentVersion.isAutoTransitioning()||this.getCurrentPage().pauseAnimations(),this.getCurrentPage().resetTimedTriggers(),this.getCurrentPage().handleMouseLeave(),this.showPage(t,e,n).done((function(){var t=i.getCurrentPage();i.activatePage(t),i.hasAccessibilityFeature&&(i.setPageTransitionAriaLiveText(t),i.$el.focus()),t.doCustomScaling()})))},showPage:function(t,e,n){e=!u.default.shouldReduceMotion&&e||C,n=n||500;var i=null;this.currentPage!==t&&(i=this.pageViews[this.currentPage-1]);var r,o=t-1;(this.currentPage=t,this.currentPageSlug=this.pageViews[o].getSlug(),this.module.trigger(this.module.publishedEvents.PAGE_CHANGING,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),i&&i.reset(),this.documentVersion.shouldLazyLoad())?r=[o]:r=new g.default(this.documentVersion.getEnabledPageIndexes(),this.documentVersion.isCarousel()).getPageIndexesToLoad(o);var l=new a.default.Deferred;this.attachPages(r,o).always(s.default.bind((function(){l.resolve()}),this));var c=this.doTransitionAnimation(i,this.getCurrentPage(),e,n);return c.done(s.default.bind((function(){this._updatePageCss(),this._adjustPage()}),this)),a.default.when(l,c)},_adjustPage:function(){var t=this.getCurrentPage();t.setScrollPosition(this._getStoredPageScrollPosition(t)),this._showPageScrollbar(t),this._focusOnPageScrollContainer(t)},_focusOnPageScrollContainer:function(t){t&&(u.default.isEmbedded||this.hasAccessibilityFeature&&"keyboard"===T.default.ask()||this.zoomControls&&this.zoomControls.$("button:focus").length>0||t.focusScrollContainer())},activatePage:function(t){this.module.trigger(this.module.publishedEvents.PAGE_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage()}),t.activate(),this.hasAccessibilityFeature&&this.mainContentLink.setPageView(t).render(),this.setAutoTransitionDelay()},setPageTransitionAriaLiveText:function(t){var e,n=a.default("#page-transition-aria-live"),i=t.model.get("name");e=this.documentVersion.get("pageNamesInTitle")&&i?i+" Page":"Page "+(t.model.pageIndex+1),n.text(e),window.clearTimeout(this.pageTransitionAriaLiveTimeout),this.pageTransitionAriaLiveTimeout=window.setTimeout((function(){return n.text("")}),3e3)},attachPages:function(t,e){var n=new a.default.Deferred;setTimeout(s.default.bind((function(){s.default.each(t,s.default.bind((function(t){this.pageViews[t].attach()}),this)),"pending"===n.state()&&(o.default.devWarn("Page media took over 10 seconds"),n.reject())}),this),1e4),this.module.trigger(this.module.publishedEvents.PAGE_BATCH_LOAD_START);var i=[];return s.default.each(t,s.default.bind((function(t){var n=this.pageViews[t],r=n.prepare();r.always(s.default.bind(n.attach,n)),(s.default.isUndefined(e)||t===e)&&i.push(r)}),this)),a.default.when.apply(a.default,i).done(n.resolve),a.default.when.apply(a.default,i).fail(n.reject),n.promise()},_updatePageCss:function(){var t;s.default.each(this.pageViews,s.default.bind((function(e,n){(t=n+1)<this.currentPage&&!e.isViewed()?e.makeViewed():t!==this.currentPage||e.isTop()?t>this.currentPage&&!e.isPending()&&e.makePending():e.makeTop()}),this))},scalePageComponents:function(){s.default.each(this.pageViews,(function(t){t.scale()}))},_showPageScrollbar:function(t){!h.default.isIos()&&this._doesPageFitInViewport(t)?t.$pageContainer.css("overflow-y","hidden"):t.$pageContainer.css("overflow-y","scroll")},_hidePageScrollbar:function(t){t.$pageContainer.css("overflow-y","hidden")},_doesPageFitInViewport:function(t){var e=t.getScaleContext(),n=t.model.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=Math.round(e.windowHeight/e.ratio),o=Math.round(e.windowWidth/e.ratio);return(n<=(u.default.heightOverride||this.documentVersion.getExperienceHeight())||n<=r)&&i<=o},scale:function(t){var e,n,i=this.scaleContext.getCurrentWindowScaleContext(),r=this.getExperienceWidth(),o=this.documentVersion.getScaleExperience();a.default("#main").css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px"}),this.$el.css({height:i.originalWindowHeight+"px",width:i.originalWindowWidth+"px","margin-top":i.marginTop+"px"}),null!==this.pageViews&&s.default.each(this.pageViews,s.default.bind((function(t){var a=t.model.getPageHeight(this.documentVersion),s=t.getScaleContext(),u=this._doesPageFitInViewport(t),l=u?0:f.default.getScrollbarWidth();if(n=this.getPageViewOffsetTop(t,s),e=this.getPageViewOffsetLeft(t,s,l),s.constrainedByWidth&&s.windowWidth<s.originalWindowWidth&&u){var c=(s.originalWindowWidth-s.windowWidth)/s.ratio;e+=c/2}var d=o?"hidden":"scroll";t.$pageContainer.css({width:"100%",height:"100%","overflow-y":"scroll","overflow-x":d,position:"relative"}),this._showPageScrollbar(t);var h=0;t.isPending()?h=i.originalWindowWidth:t.isViewed()&&(h=-1*i.originalWindowWidth),o?this.setPageViewScaleTransformCss(t,s):t.$el.css({height:"100%",width:"100%"}),t.setBackgroundPositionAndScaleTransform(h,this.isPageTransitionInProgress),o?t.$pageScroll.css({height:a+"px",width:r,left:e>=1?e:0,top:n>=1?n:0}):this.setPageScrollUnscaledCss(t,a,r,s),t.$pinnedContainer&&this.setPinnedContainerCss(a,s,e,n,l,r,t)}),this));var u=this.getCurrentPage();!1!==u&&(this._focusOnPageScrollContainer(u),this.module.isFirstPageReadyToShow()&&u.onScrollAndWindowResize()),this.module.trigger(this.module.publishedEvents.SCALE,i)},setPageScrollUnscaledCss:function(t,e,n,i){t.$pageScroll.css({height:e+"px",width:n});var r="";e<=i.height?(r+="translateY(-50%) ",t.$pageScroll.css({top:"50%"})):t.$pageScroll.css({top:""}),n<=i.windowWidth?(r+="translateX(-50%)",t.$pageScroll.css({left:"50%"})):t.$pageScroll.css({left:""}),t.$pageScroll.css({transform:r})},setPinnedContainerCss:function(t,e,n,i,r,o,a){var u={height:t+"px",width:e.width/e.ratio,left:n>=1?n:0,top:i>=1?i:0};r?s.default.extend(u,{"max-width":o,width:e.originalWindowWidth/e.ratio-r}):s.default.extend(u,{width:o}),a.$pinnedContainer.css(u)},setPageViewScaleTransformCss:function(t,e){var n,i;this.zoomControls&&S.default.getInstance().hasZoom()?t.$pageContainer.css("overflow-x","auto"):t.$pageContainer.css("overflow-x","hidden"),this.scaleContext.useZoom(e.ratio)?(n="zoom",i=e.ratio):(n="transform",i="scale("+e.ratio+","+e.ratio+")"),t.storeScaleTransform(n,i);var r={height:e.height/e.ratio+"px",width:e.originalWindowWidth/e.ratio+"px"};r[n]=i,t.$el.css(r)},addClickShield:function(){this.$el.before(this.clickShield),this.clickShield.show()},removeClickShield:function(){this.clickShield.detach()},setAutoTransitionDelay:function(){this.clearAutoTransitionDelay(),this.documentVersion.isAutoTransitioning()&&(this.autoTransitionDelay=s.default.delay(s.default.bind((function(){this.clearAutoTransitionDelay(),this.nextPage()}),this),1e3*this.documentVersion.getAutoTransitionDelay()))},clearAutoTransitionDelay:function(){clearTimeout(this.autoTransitionDelay),this.autoTransitionDelay=null},preloadMedia:function(){this.getBackgroundImagePromise()},getBackgroundImagePromise:function(){return this.backgroundImageResource?this.backgroundImageResource.getPromise():s.default.isNull(this.backgroundImageInfo)?a.default.Deferred().reject().promise():(this.loadBackgroundImage(),this.backgroundImageResource.getPromise())},loadBackgroundImage:function(){this.backgroundImageResource&&this.backgroundImageResource.cancel();var t=this.calculateBackgroundImageDimensions();this.bgImageWidth=t.width,this.bgImageHeight=t.height;var e=l.default.calculateWidthForDevicePixelRatio(this.bgImageWidth);return this.backgroundImageResource=d.default.addRasterImage(this.backgroundImageInfo.id,e),this.backgroundImageResource.loadNow(),this.backgroundImageResource},showBackground:function(t){t&&(this.backgroundContainerEl=a.default("#backgroundContainer"),this.backgroundImageEl=a.default("<img>",{width:20,height:20}),this.backgroundContainerEl.empty().append(this.backgroundImageEl),this.backgroundImageEl.on("load",s.default.bind(this.scaleBackground,this)).attr("src",t.getSrc()),a.default(window).on("resize",s.default.throttle(s.default.bind(this.resizeBackgroundImage,this),200)),this.backgroundContainerEl.fadeIn())},resizeBackgroundImage:function(){this.loadBackgroundImage().getPromise().then(s.default.bind((function(t){a.default(this.backgroundImageEl).attr("src")===t.getSrc()?this.scaleBackground():a.default(this.backgroundImageEl).attr("src",t.getSrc())}),this))},scaleBackground:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();this.backgroundContainerEl.width(t).height(e),this.backgroundImageEl.width(this.bgImageWidth).height(this.bgImageHeight).css({left:"-"+(this.bgImageWidth>t?this.bgImageWidth/2-t/2:0)+"px"})},getWindowWidth:function(){var t=a.default(window);return v.default.getExperienceContainerWidth(t)},getWindowHeight:function(){var t=a.default(window),e=v.default.getExperienceContainerHeight(t);return e+=h.default.getSlackHeight(e)},getPageViewOffsetTop:function(t,e){return this.documentVersion.getScaleExperience()&&e.constrainedByHeight?0:Math.max(0,(e.height/e.ratio-t.model.getPageHeight(this.documentVersion))/2)},getPageViewOffsetLeft:function(t,e,n){var i,r=this.documentVersion.getScaleExperience();n?i=n:i=this._doesPageFitInViewport(t)?0:f.default.getScrollbarWidth();return r&&e.constrainedByWidth?0:Math.max(0,(e.windowWidth/e.ratio-this.getExperienceWidth()-i)/2)},calculateBackgroundImageDimensions:function(){var t=this.backgroundImageInfo.original.width,e=this.backgroundImageInfo.original.height,n=this.getWindowWidth()/t,i=this.getWindowHeight()/e,r=n>i?n:i;return{width:Math.round(r*t),height:Math.round(r*e)}},initZoomControls:function(){var t=this;this.zoomControls=new O.ZoomControlsView({docVersion:this.documentVersion}).render(),this.$el.append(this.zoomControls.$el),S.default.getInstance().on("zoom",(function(){t.scale()}))},destroyZoomControls:function(){this.zoomControls.remove(),this.zoomControls=null,S.default.getInstance().adjustZoom(1),S.default.getInstance().off("zoom")},shouldDisplayZoomControls:function(){return this.documentVersion.get("zoomControlsEnabled")&&this.documentVersion.getScaleExperienceType()!==P.default.SCALE_EXPERIENCE_TYPE.NO_SCALING&&"desktop"===E.default.getVariant()&&!h.default.mobile()},handleVariantChange:function(t){this.zoomControls&&"desktop"!==t?this.destroyZoomControls():!this.zoomControls&&this.shouldDisplayZoomControls()&&this.initZoomControls()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=i(n(14)),s=i(n(352)),u={startX:null,startY:null,lastDirection:null,xDistance:0,yDistance:0,gesturesEnabled:!0,swipeDirection:null,originalDirection:null};e.default={offsetTimeout:null,disableGestures:function(){u.gesturesEnabled=!1},enableGestures:function(){u.gesturesEnabled=!0},configureGestures:function(){var t={};t.inputClass=s.default.TouchInput,a.default.isMobileSafari()&&(t.touchAction="pan-x pan-y");var e=new s.default.Manager(this.$el[0],t);e.add(new s.default.Press({time:500})),a.default.isMobileSafari()&&(e.add(new s.default.Pinch),e.add(new s.default.Tap),e.get("pinch").set({enable:!0}),e.on("pinch pinchend pinchstart tap",(function(t){"tap"===t.type&&2!==t.tapCount||t.preventDefault()}))),e.on("press",r.default.bind((function(t){u.gesturesEnabled&&(t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.LONGPRESS))}),this)),e.on("hammer.input",r.default.bind((function(t){var e=t.eventType,n=t.deltaTime;if(u.gesturesEnabled){if(t.srcEvent.target)for(var i=t.srcEvent.target;i;){if(i.classList.contains("video-js"))return;i=i.parentElement}var a=this.getCurrentPage();if(this.isPageTransitioning())t.preventDefault();else switch(e){case s.default.INPUT_START:this.pauseAnimationsOnMove=r.default.once(r.default.bind((function(){a.pauseAnimations()}),this)),this.clearAutoTransitionDelay();break;case s.default.INPUT_MOVE:var l=t.deltaX,c=t.deltaY;if(u.xDistance=Math.abs(l),u.yDistance=Math.abs(c),!u.swipeDirection&&(u.xDistance>10||u.yDistance>10))u.xDistance>u.yDistance?u.swipeDirection=s.default.DIRECTION_HORIZONTAL:u.swipeDirection=s.default.DIRECTION_VERTICAL;else if(!u.swipeDirection)return;if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL?u.lastDirection=l>0?s.default.DIRECTION_RIGHT:s.default.DIRECTION_LEFT:u.swipeDirection==s.default.DIRECTION_VERTICAL&&(u.lastDirection=c>0?s.default.DIRECTION_DOWN:s.default.DIRECTION_UP),r.default.isNull(u.originalDirection)||(u.originalDirection=u.lastDirection),u.originalDirection!=u.lastDirection&&(u.changedDirection=!0),u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!o.default.themeObj.swipeEnabled)return;if(this.getPageCount()<=1&&this.documentVersion.getScaleExperience())return void t.preventDefault();var d=this.getNextPage(),f=this.getPreviousPage();if(!this.isValidHorizontalSwipe())return;if(r.default.isFunction(this.pauseAnimationsOnMove)&&this.pauseAnimationsOnMove(),o.default.isEmbedded&&(this._isSwipeRight()&&!f||this._isSwipeLeft()&&!d))return;d&&this._isSwipeLeft()&&(d.makeInTransition(),d.setBackgroundPositionAndScaleTransform(l+this.getPageViewportWidth(),!0)),f&&this._isSwipeRight()&&(f.makeInTransition(),f.setBackgroundPositionAndScaleTransform(l-this.getPageViewportWidth(),!0));var h=l;this._isSwipeOutOfPageBounds()&&(h=this._getRubberbandHorizontalDistance(),this._isSwipeLeft()&&(h*=-1)),this.getCurrentPage().setBackgroundPositionAndScaleTransform(h,!0),t.preventDefault()}break;case s.default.INPUT_END:case s.default.INPUT_CANCEL:if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!this.isValidHorizontalSwipe())return;if(this.pauseAnimationsOnMove=null,!o.default.themeObj.swipeEnabled)return void this.setAutoTransitionDelay();var p=u.xDistance/n;if(!this._isSwipeOutOfPageBounds()&&e==s.default.INPUT_END&&(this._isDistancePageChangeSwipe(u.xDistance)||this._isVelocityPageChangeSwipe(p))){var g=this.calculateRemainingTransitionTime(u.xDistance,n);this._isSwipeLeft()?this._slideLeft(g):this._isSwipeRight()&&this._slideRight(g)}else this._abortSlide(n)}u.xDistance=0,u.yDistance=0,u.lastDirection=null,u.swipeDirection=null,u.originalDirection=null,u.changedDirection=!1;break;default:t.preventDefault()}}}),this))},isValidHorizontalSwipe:function(){if(!this.documentVersion.getScaleExperience()){if(!this._isAtLeft()&&!this._isAtRight())return!1;if(this._isAtLeft()&&!this._isSwipeRight())return!1;if(this._isAtRight()&&!this._isSwipeLeft())return!1}return!0},_getPageTopWithOffset:function(){var t=this.getCurrentPage();return this._isAtTop()?this._getPageTop(t):this._isAtBottom()?this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET/2},_isAtTop:function(){return this.getCurrentPage().$el.scrollTop()<=0},_isAtBottom:function(){var t=this.getCurrentPage(),e=t.$el.height(),n=t.$pageScroll.height()-e;return t.$el.scrollTop()>=n},_isAtLeft:function(){return-1*this.getCurrentPage().$pageScroll.offset().left<=0},_isAtRight:function(){var t=this.getCurrentPage(),e=t.$el.width(),n=t.$pageScroll.width()-e;return-1*t.$pageScroll.offset().left>=n},_isSwipeOutOfPageBounds:function(){return this.isFirstPage()&&this._isSwipeRight()||this.isLastPage()&&this._isSwipeLeft()},_getRubberbandHorizontalDistance:function(){var t=this.getPageViewportWidth();return u.xDistance>=.5*t?.25*t:(t-u.xDistance)/t*u.xDistance},_isSwipeLeft:function(){return u.lastDirection==s.default.DIRECTION_LEFT},_isSwipeRight:function(){return u.lastDirection==s.default.DIRECTION_RIGHT},_isSwipeUp:function(){return u.lastDirection==s.default.DIRECTION_UP},_isSwipeDown:function(){return u.lastDirection==s.default.DIRECTION_DOWN},_abortSlide:function(t){var e=this.getCurrentPage();if(0!==e.getLeft()){this.isPageTransitionInProgress=!0;var n=this.calculateTransitionTime(u.xDistance,t);e.el().animate({"background-position-x":0},{duration:n,easing:"easeOutCubic",step:r.default.bind((function(t,n){e.setBackgroundPositionAndScaleTransform(t,!0),this.getNextPage()&&this.getNextPage().setBackgroundPositionAndScaleTransform(t+this.getPageViewportWidth(),!0),this.getPreviousPage()&&this.getPreviousPage().setBackgroundPositionAndScaleTransform(t-this.getPageViewportWidth(),!0)}),this),complete:r.default.bind((function(){this.isPageTransitionInProgress=!1;var t=this.getNextPage();t&&t.makePending();var n=this.getPreviousPage();n&&n.makeViewed(),e.resumeAnimations(),this.setAutoTransitionDelay()}),this)})}},_isDistancePageChangeSwipe:function(t){return t>=.2*this.getPageViewportWidth()},_isVelocityPageChangeSwipe:function(t){return t>.6},_slideRight:function(t){return this._slide("right",this.getPreviousPage(),t)},_slideLeft:function(t){return this._slide("left",this.getNextPage(),t)},_slide:function(t,e,n){"left"===t?this.nextPage(n):this.previousPage(n)},calculateTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!1)},calculateRemainingTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!0)},_calculateTransitionTimeInternal:function(t,e,n){var i=1e3,r=t/e,o=t/this.getPageViewportWidth();n&&(o=1-o);var a=(i*=o)/r;return a>i&&(a=i),a}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MainContentLinkView=void 0;var s=a(n(3)),u=a(n(0)),l=n(356),c=n(70),d=n(285),f=n(20),h=function(t){function e(n){return t.call(this,o(o({},e.DEFAULT_ATTRIBUTES),n))||this}return r(e,t),e.prototype.setPageView=function(t){return this.currentPageView=t,this},e.prototype.initialize=function(t){var n=u.default.get(t,"docVersion.attributes.mainContentLinkText"),i=u.default.get(t,"docVersion.attributes.theming.menuBgColor"),r=u.default.get(t,"docVersion.attributes.theming.menuFgColor");this.$el.html(n||c.MAIN_CONTENT_LINK_DEFAULT_TEXT),this.$el.css("background-color",i||e.DEFAULT_BACKGROUND_COLOR),this.$el.css("color",r||e.DEFAULT_FOREGROUND_COLOR),this.$el.on({click:this.onClick.bind(this)})},e.prototype.render=function(){return this.targetId=s.default(".page-viewport.top main:first").attr("id"),this.targetId?(this.$el.attr("href","#"+this.targetId),this.$el.removeAttr("aria-hidden"),this.$el.css("visibility","")):(this.$el.removeAttr("href"),this.$el.removeAttr("tabindex"),this.$el.attr("aria-hidden","true"),this.$el.css("visibility","hidden")),t.prototype.render.call(this)},e.prototype.onClick=function(t){(t.preventDefault(),this.targetId)&&new l.ScrollToObjectInteraction({layerTargets:[this.targetId],trigger:"click",action:f.ActionTypes.scrollToObject},this.currentPageView).triggerAction(o(o({},t),{clickX:t.clientX,clickY:t.clientY,componentSlug:this.options.id,componentName:"Main Content Link",componentType:"main-content-link",pageSlug:this.currentPageView.model.get("slug"),pageName:this.currentPageView.model.get("name")}))},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e.DEFAULT_ATTRIBUTES={className:"main-content-link",tagName:"a"},e}(d.JsTsViewGlue);e.MainContentLinkView=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionInvocation=void 0;var r=i(n(0)),o=function(t,e){var n=r.default.assign({},t,e);delete n.pageView,r.default.assign(this,n)};e.InteractionInvocation=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportTopAnchor=void 0;var r=i(n(3)),o=n(70),a=function(){function t(){}return t.prototype.initializeViewportTopAnchor=function(){var t=this;this.$viewportTop=r.default('<a tabindex="-1" id="'+o.VIEWPORT_TOP_ID+'"></a>'),this.$viewportTop.on("focus",(function(){t.$viewportTop.attr("tabindex",0)})).on("blur",(function(){t.$viewportTop.attr("tabindex",-1)}))},t}();e.ViewportTopAnchor=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomControlsView=void 0;var s=a(n(61)),u=n(285),l=a(n(541)),c=a(n(0)),d=n(132),f=n(287),h=a(n(286)),p=a(n(14)),g=function(t){function e(e){return t.call(this,e)||this}var n;return r(e,t),n=e,e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),h.default.getInstance().on("zoom",this.updateZoomControls.bind(this))},e.prototype.render=function(){var e=c.default.get(this.options,"docVersion.attributes.theming.menuBgColor",n.DEFAULT_BACKGROUND_COLOR),i=c.default.get(this.options,"docVersion.attributes.theming.menuFgColor",n.DEFAULT_FOREGROUND_COLOR);return this.$el.html(s.default.render(l.default,{backgroundColor:e,zoomValue:Math.trunc(100*h.default.getInstance().getCurrentZoom()),textColor:i,disabledColor:this.getDisabledColor(i)})),this.disableOrEnableZoomButtons(),t.prototype.render.call(this)},e.prototype.getDisabledColor=function(t){var e=f.ColorUtils.colorToRGB(t);return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},e.prototype.updateZoomControls=function(){var t=h.default.getInstance().getCurrentZoom();this.$("#zoom-value-display").text(Math.trunc(100*t)+"%"),this.disableOrEnableZoomButtons(),p.default.isDesktopSafari()?this.$el.css("zoom",t):this.$el.css("transform","scale("+t+")")},e.prototype.handleZoomIn=function(){h.default.getInstance().incrementZoom()},e.prototype.handleZoomOut=function(){h.default.getInstance().decrementZoom()},e.prototype.disableOrEnableZoomButtons=function(){h.default.getInstance().canDecrementZoom()?this.$("#zoom-out-button").removeAttr("disabled"):this.$("#zoom-out-button").attr("disabled",""),h.default.getInstance().canIncrementZoom()?this.$("#zoom-in-button").removeAttr("disabled"):this.$("#zoom-in-button").attr("disabled","")},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?$(t.target).blur():$(t.target).closest("button").blur()},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e=n=o([d.BackboneShim({tagName:"div",className:"zoom-controls",events:{"click #zoom-in-button":"handleZoomIn","click #zoom-out-button":"handleZoomOut","mouseout button":"removeFocusOutline"}})],e)}(u.JsTsViewGlue);e.ZoomControlsView=g},function(t,e,n){"use strict";n.r(e),e.default='<button id="zoom-out-button" title="Zoom Out" aria-label="Zoom Out">\n  <span class="ceros-icon ceros-minus-thin-icon"></span>\n</button>\n<div id="zoom-value-display" aria-live="assertive">{{zoomValue}}%</div>\n<button id="zoom-in-button" title="Zoom In" aria-label="Zoom In">\n  <span class="ceros-icon ceros-plus-icon"></span>\n</button>\n<style>\n  .zoom-controls {\n      font-family: \'Avenir Next\', \'Avenir Next LT\', Arial, Verdana, sans-serif;\n      background-color: {{backgroundColor}};\n      display: flex;\n  }\n\n  .zoom-controls > * {\n      color: {{textColor}}\n  }\n\n  .zoom-controls button:disabled {\n      color: {{disabledColor}}\n  }\n</style>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageView=void 0;var a=o(n(543)),s=n(779),u=o(n(14)),l=o(n(0)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.activeClicksForInteractions=[],n.activeBringToFrontInteractionTargets=[],n.activeChangeStateInteractionTargets=[],n}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.findChildView(t);i&&i.addStateUnderActiveState(e,n)},e.prototype.invokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.invokeObjectState(e),n.isInNonDefaultState()?this.activeChangeStateInteractionTargets.push(n.id):this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id})))},e.prototype.revokeObjectState=function(t,e){var n=this.findChildView(t);n&&(n.revokeObjectState(e),n.isInNonDefaultState()||(this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(t){return t!==n.id}))))},e.prototype.hasActiveHover=function(t){var e=t.getParentsWithLinkInteraction();return!!this.activeHoversGroupedByInteraction.find((function(n){return!!n.find((function(n){return n.target.id===t.id||!!e.find((function(t){return n.target.id===t}))}))}))},e.prototype.removeAllActiveStates=function(t){var e=this.findChildView(t);e&&e.removeAllActiveStates()},e.prototype.removeActiveState=function(t,e){var n=this.findChildView(t);n&&n.removeActiveState(e)},e.prototype.addActiveState=function(t,e){var n=this.findChildView(t);n&&n.addActiveState(e)},e.prototype.addActiveClickAndBindMouseEvents=function(t,e){var n;if(0===this.activeClicksForInteractions.length){var i=u.default.touch()?"touchend":"mouseup";this.$pageScroll.on(i,this.handleMouseUp.bind(this)),null===(n=this.$pinnedContainer)||void 0===n||n.on(i,this.handleMouseUp.bind(this))}this.activeClicksForInteractions.push({object:t,interaction:e})},e.prototype.deactivateClicks=function(){var t;this.activeClicksForInteractions=[];var e=u.default.touch()?"touchend":"mouseup";this.$pageScroll.off(e),null===(t=this.$pinnedContainer)||void 0===t||t.off(e)},e.prototype.handleMouseUp=function(){this.activeClicksForInteractions.forEach((function(t){t.object.triggerMouseUpAction(t.interaction)})),this.deactivateClicks()},e.prototype.deactivateInteraction=function(t){if("hover"===t.trigger){var e=this.activeHoversGroupedByInteraction.map((function(e){var n=e.findIndex((function(e){return e.interaction===t}));return-1!==n&&e.splice(n,1),e})).filter((function(t){return!!t.length}));this.activeHoversGroupedByInteraction=e,this.activeHoversGroupedByInteraction.length||this.deactivateHovers()}else if("click"===t.trigger||"mouseDown"===t.trigger){var n=this.activeClicksForInteractions.filter((function(e){return e.interaction!==t}));this.activeClicksForInteractions=n,this.activeClicksForInteractions.length||this.deactivateClicks()}},e.prototype.disableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&!e.isHoverAreaDisabled()&&e.disableHoverArea()},e.prototype.enableHoverArea=function(t){var e=this.findChildView(t);e&&e.isComponent()&&e.isHoverAreaDisabled()&&e.enableHoverArea()},e.prototype.isHoverAreaDisabled=function(t){var e=this.findChildView(t);return!(!e||!e.isComponent())&&e.isHoverAreaDisabled()},e.prototype.getHighestIndex=function(){return this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex()},e.prototype.invokeBringToFront=function(t,e,n,i){var r=this.getHighestIndex()+1;this.setZIndex(t,r,e),this.activeBringToFrontInteractionTargets.push(t),(n||i)&&this.revokeAllBringToFrontInteractions(t),n&&this.revokeAllObjectStates(t)},e.prototype.revokeBringToFront=function(t){this.resetZIndex(t),this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(e){return t!==e}))},e.prototype.revokeAllBringToFrontInteractions=function(t){var e=this;this.activeBringToFrontInteractionTargets=this.activeBringToFrontInteractionTargets.filter((function(n){return n!==t&&e.resetZIndex(n),n!==t}))},e.prototype.revokeAllObjectStates=function(t){var e=this;this.activeChangeStateInteractionTargets=this.activeChangeStateInteractionTargets.filter((function(n){return n!==t&&e.invokeObjectState(n,"default"),n===t}))},e.prototype.setZIndex=function(t,e,n){var i=this.findChildView(t);i&&i.setZIndex(e,n)},e.prototype.resetZIndex=function(t){var e=this.findChildView(t);e&&e.resetZIndex()},e.prototype.hasActiveClickStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveClickStateWithLock()},e.prototype.hasActiveCustomStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveCustomStateWithLock()},e.prototype.hasActiveBringToFront=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveBringToFront()},e.prototype.createHoverArea=function(t){return s.HoverAreaComponentFactory.createHoverAreaComponent(t)},e.prototype.addActiveHoverAndBindMouseEvents=function(t,e){this.bindMouseEvents(),this.addActiveHover(t,e)},e.prototype.bindMouseEvents=function(){var t;0===this.activeHoversGroupedByInteraction.length&&(this.$pageScroll.on("mousemove",l.default.bind(this.handleMouseMove,this)),this.$pageScroll.on("mouseleave",l.default.bind(this.handleMouseLeave,this)),null===(t=this.$pinnedContainer)||void 0===t||t.on("mousemove",l.default.bind(this.handleMouseMove,this)))},e}(a.default);e.PageView=c},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_EVENTS=void 0;var l=u(n(24)),c=u(n(3)),d=u(n(0)),f=u(n(14)),h=u(n(8)),p=u(n(142)),g=u(n(116)),m=u(n(544)),v=u(n(776)),y=u(n(444)),_=n(361),b=u(n(240)),w=u(n(84)),T=u(n(141)),S=u(n(154)),O=n(380),E=o(n(246)),P=n(362),C=u(n(55)),A=n(777),x=n(20),I=n(778),k=u(n(245));e.PAGE_EVENTS={REMOTE_CHANGE_DONE:"remote.done",PAGE_RELOAD_DONE:"reload.done"},e.default=g.default.extend({className:"page-viewport",tagName:"div",activated:!1,documentVersion:null,$pageContainer:null,$pinnedContainer:null,$pageScroll:null,scaleContext:null,scaleTransformKey:null,scaleTransformValue:null,scaleExperience:null,prerenderer:null,focusArbiter:null,activeHoversGroupedByInteraction:null,defaults:{physicalPageNumber:"unknown"},automaticHoverInteractionCollection:null,initialize:function(){if(this.options=d.default.defaults(this.options,this.defaults),this.animationRunner=new v.default,this.automaticHoverInteractionCollection=new I.AutomaticHoverInteractionCollection,this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.scaleExperience=this.documentVersion.getScaleExperience(),this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[],this.prerenderer=new m.default(this),this.$pageContainer=c.default("<div>",{class:"page-container"}),this.throttleReload=d.default.debounce(d.default.bind(this.reload,this),1e3),this.documentVersion.on("reload",this.throttleReload),this.$pageScroll=c.default("<div>",{class:"page-scroll"}),this.$pageContainer.append(this.$pageScroll),this.documentVersion.shouldLazyLoad()&&C.default.getUrlParams(window.location.href).showLazyLoadBreakpoint){var t=c.default("<hr/>",{class:"lazyLoadingBreakpointLine"});t.css("top",this.model.getlazyLoadingVerticalBreakpoint()+"px"),this.$pageScroll.append(t)}this.focusArbiter=new P.FocusArbiter(this);var e=this;f.default.desktop()&&(this.$pinnedContainer=c.default("<div>",{class:"pinned-container"}),this.$el.append(this.$pinnedContainer),this.$pinnedContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop(),i=t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i*=e.getUnstyledLineHeight()),e.$pageContainer.scrollTop(n+i)}}))),this.$pageContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){var n=e.$pageContainer.scrollTop(),i=n+t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(i=n+t.originalEvent.deltaY*e.getUnstyledLineHeight());var r=e.$pageContainer[0].scrollHeight>e.$pageContainer[0].offsetHeight,o=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop>0,a=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop<e.$pageContainer[0].clientHeight;if(h.default.isEmbedded){if(!(-1===window.location.href.indexOf("?heightOverride=")&&r&&o&&a))return;t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}else t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(i)}}));var n=f.default.isDesktopSafari()||f.default.isMobileSafari();f.default.isIpadPretendingToBeDesktop()&&f.default.isIosGreaterThanOrEqualTo(13)&&n&&(this.$pageContainer.addClass("page-container-for-ipad-pretending-to-be-desktop"),this.$pinnedContainer.addClass("pinned-container-for-ipad-pretending-to-be-desktop")),this.$el.append(this.$pageContainer),g.default.prototype.initialize.call(this),this.el=function(){return this.$el},this.$el.attr("data-slug",this.model.get("slug")),this.prepare=d.default.once(d.default.bind(this.prepare,this)),this.attach=d.default.once(d.default.bind(this.attach,this)),this.spinner=null,this.pageReady=new c.default.Deferred,this.renderPlaceholder(),this.activeHoversGroupedByInteraction=[],this.lastViewportUpdate=performance.now(),this.isProcessingScroll=!1;var i=this,r=function(t){t-i.lastViewportUpdate>100?(i.onScrollAndWindowResize(),i.lastViewportUpdate=t,i.isProcessingScroll=!1):requestAnimationFrame(r)};this.$pageContainer.on("scroll",(function(t){i.isProcessingScroll||(i.isProcessingScroll=!0,requestAnimationFrame(r))})),p.default.getInstance().on("change",d.default.bind(this.onScrollAndWindowResize,this)),h.default.previewMode&&this.registerVariantListeners(),this.childViews=[]},registerVariantListeners:function(){w.default.on("change",d.default.debounce(d.default.bind(this.reload,this),50,{leading:!0,trailing:!0})),p.default.getInstance().on("change:windowWidth change:windowHeight",(function(){w.default.detect()})),c.default(window).on("resize",(function(){w.default.detect()}))},startLazyPrerender:function(){return this.prerenderer.lazyPrerender()},prerender:function(){this.prerenderer.prerender()},getPrerenderDeferred:function(){return this.prerenderer.prerenderDeferred},isPrerendered:function(){return this.prerenderer.isPrerendered()},resetPageForPrerender:function(){this.closeAllComponents(),this.childViews=[],this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[]},getUnstyledLineHeight:function(){if(!this.unstyledLineHeight){var t=document.createElement("iframe");t.src="#",document.body.appendChild(t);var e=t.contentWindow.document;e.open(),e.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),e.close();var n=e.body.firstElementChild;this.unstyledLineHeight=n.offsetHeight,document.body.removeChild(t)}return this.unstyledLineHeight},getPageHeight:function(){return this.model.getPageHeight(this.documentVersion)},getPageWidth:function(){return this.model.getPageWidth(this.documentVersion)},getScrollPosition:function(){return this.$pageContainer.scrollTop()},setScrollPosition:function(t){this.$pageContainer.scrollTop(t)},focusScrollContainer:function(){this.$pageContainer.trigger("focus")},triggerModuleScrollEvent:function(t){this.getModule().trigger(this.getModule().publishedEvents.PAGE_SCROLL,{slug:this.model.get("slug"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()})},onScrollAndWindowResize:function(){if(this.activated){var t=this.getVisibleBoundaries();if(this.animationRunner.whenVisibleBoundariesChange(this.scrollTriggeredObjects,t),this.animationRunner.resetHoverInteractionViewsToInitialVisibility(this.resetWhenOffscreenHoverTriggers,this.childViews,t),!this.documentVersion.getSwipeEnabled()&&f.default.isIosSafari())if(document.documentElement.offsetHeight/window.innerHeight!=1){var e=this.$pageContainer.scrollTop()/(this.$pageContainer[0].scrollHeight-this.$pageContainer.height()||this.$pageContainer.height());c.default("html").scrollTop((c.default("html")[0].scrollHeight-window.innerHeight||window.innerHeight)*e)}this.triggerModuleScrollEvent(t)}},resetTimedTriggers:function(){d.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers(),t.timedTriggersCreatedAtLeastOnce=!1}))},getVisibleBoundaries:function(){var t=this.getVisibleYBoundaries(),e=this.getVisibleXBoundaries();return e?new _.VisibleBoundaries(t.topY,t.bottomY,e.leftX,e.rightX):new _.VisibleBoundaries(t.topY,t.bottomY)},getVisibleYBoundaries:function(){var t,e,n=this.getScaleContext(),i=n.height/n.ratio,r=p.default.getInstance(),o=this.$pageContainer.scrollTop();if(r.isActive()){var a=this.getPageHeight(),s=Math.max((i-a)/2,0),u=r.getTop()/n.ratio,l=r.getBottom()/n.ratio;t=Math.max(u,0)+o-s,e=Math.min(l,i)+o-s}else e=(t=o)+i;return{topY:Math.round(t),bottomY:Math.round(e)}},getVisibleXBoundaries:function(){if(this.scaleExperience)return null;var t=this.getScaleContext();return{leftX:this.$pageContainer.scrollLeft(),rightX:this.$pageContainer.scrollLeft()+t.width}},getScaleContext:function(){return this.scaleContext.getPageScaleContext(this.model)},getSlug:function(){return this.model.get("slug")},getName:function(){return this.model.get("name")},onClose:function(){this.closeAllComponents()},closeAllComponents:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.close(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},_bindModel:function(){this.model.on("remote",this.applyRemoteChange,this),this.model.on("reload",this.throttleReload,this)},renderPlaceholder:function(){this.closeAllComponents();var t=c.default(window);this.$el.css({width:t.width(),height:t.height()}),this._createSpinner(!1)},setFixedPosition:function(t){var e=this;f.default.desktop()||(t.$el.css("position","fixed"),t.$el.on("mousewheel",(function(t){t.preventDefault(),t.stopPropagation();var n=e.$pageContainer.scrollTop();t.originalEvent.deltaY&&e.$pageContainer.scrollTop(n+t.originalEvent.deltaY)})))},findChildView:function(t){return y.default.find(this.childViews,t)},findVideo:function(t){var e=null,n=function(i){return d.default.some(i,(function(i){return i.el&&i.el.id===t?(e=i,!0):!!i.childViews&&n(i.childViews)}))};return this.childViews&&n(this.childViews),e},_addScrollTriggeredObject:function(t){d.default.some(this.scrollTriggeredObjects,(function(e){return e.id==t.id}))||this.scrollTriggeredObjects.push(t)},_removeScrollTriggeredObject:function(t){var e;d.default.find(this.scrollTriggeredObjects,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.scrollTriggeredObjects.splice(e,1)},addResetWhenOffscreenHoverTrigger:function(t){d.default.some(this.resetWhenOffscreenHoverTriggers,(function(e){return e.id==t.id}))||this.resetWhenOffscreenHoverTriggers.push(t)},removeResetWhenOffscreenHoverTrigger:function(t){var e;d.default.find(this.resetWhenOffscreenHoverTriggers,(function(n,i){return n.id==t.id&&(e=i,!0)}))&&this.resetWhenOffscreenHoverTriggers.splice(e,1)},prepare:function(){return this.prerenderer.isPrerendered()||this.prerenderer.prerender(),this.prerenderer.getPrerenderPromise().done(d.default.bind((function(){c.default.when.apply(c.default,this.attachInitialMedia()).done(d.default.bind((function(){l.default.debug("All page media attached"),this.pageReady.resolve()}),this)).fail(d.default.bind((function(){l.default.debug("Page media failed"),this.pageReady.reject()}),this))}),this)),this.pageReady.promise()},attachInitialMedia:function(){return this.documentVersion.shouldLazyLoad()?(this.attachChildMedia(this,!0),this.attachInitialViewportMedia(this)):this.attachChildMedia(this,!0)},attachViewMedia:function(t){var e=[];e.push(t.attachMedia());return e=e.concat(this.attachChildMedia(t,!1))},attachChildMedia:function(t,e){var n=[],i=this,r=function(t){d.default.each(t,(function(t){(!e||t.initiallyVisible||t.keepVisibleForScreenReaders)&&(t.mediaHasBeenLoaded||(t.mediaHasBeenLoaded=!0),(!i.documentVersion.shouldLazyLoad()||i.documentVersion.shouldLazyLoad()&&!t.options.isInInitialViewport)&&n.push(t.attachMedia()),t.childViews&&r(t.childViews))}))};return t&&t.childViews&&r(t.childViews),n},attachInitialViewportMedia:function(t){var e=[],n=function(t){d.default.each(t,(function(t){t.options.isInInitialViewport&&e.push(t.attachMedia()),t.childViews&&n(t.childViews)}))};return t&&t.childViews&&n(t.childViews),e},scale:function(){var t=this.getScaleContext();this.model.preloadImages(t);var e=function(t){d.default.each(t,(function(t){(t.mediaHasBeenLoaded||t.initiallyVisible)&&(t.scaleComponent(),t.childViews&&e(t.childViews))}))};e(this.childViews)},doCustomScaling:function(){var t=function(e){d.default.each(e,(function(e){(e.mediaHasBeenLoaded||e.initiallyVisible)&&(e.doCustomScaling(!0),e.childViews&&t(e.childViews))}))};t(this.childViews)},attach:function(){this._destroySpinner(),this.pageReady.resolve(),this.render(),l.default.debug("Page idx: "+this.getPageIndex()+" attached!")},render:function(){this.$pageScroll[0].appendChild(this.prerenderer.getDocumentFragment()),f.default.desktop()&&this.$pinnedContainer[0].appendChild(this.prerenderer.getPinnedDocumentFragment());var t=function(e){d.default.each(e,(function(e){e.onAttach(),e.childViews&&(f.default.isDesktopSafari()&&e.childrenUseBlendingModes()&&d.default.isFunction(e.prepareGroupForBlendingModes)&&e.prepareGroupForBlendingModes(),t(e.childViews))}))};t(this.childViews),this.automaticHoverInteractionCollection.initInteractions(),this.$pageScroll.trigger("focus")},applyRemoteChange:function(t){y.default.reset();var n=this.findChildView(t.id);if(this.model.updateLayerDictionaryFromRemoteChange(t),null==n?void 0:n.isComponent()){var i;i=!n.areAllParentsVisible(),n.applyChanges(this.applyPageContext(t.options)),i&&n.hide(),n.doTriggerOnScroll()?this._addScrollTriggeredObject(n):this._removeScrollTriggeredObject(n),n.getResettableHoverInteractions()?this.addResetWhenOffscreenHoverTrigger(n):this.removeResetWhenOffscreenHoverTrigger(n)}this.automaticHoverInteractionCollection.refreshInteractions(),this.trigger(e.PAGE_EVENTS.REMOTE_CHANGE_DONE,t)},reload:function(){var t=w.default.getVariant();if(t!==this.model.getReconciledVariant()){var n=this.model.reconcileLayers(this.model.get("layerHierarchies")[t],this.model.get("layerDictionary"));this.model.set("layers",n),this.model.resolveSmartgroupsAndMedia()}this.scaleExperience=this.documentVersion.getScaleExperience();var i=this.getScaleContext();this.documentVersion.shouldLazyLoad()?this.model.lazyPreloadAllMedia(i,this.options.isRequestedPage):(this.model.preloadVisibleMedia(i,!0),this.model.preloadHiddenMedia(i)),this.prerender(),this.$pageScroll.empty(),f.default.desktop()&&this.$pinnedContainer.empty(),this.resetTimedTriggers(),this.render(),this.getModule().trigger(this.getModule().publishedEvents.PAGE_RELOAD),this.attachInitialMedia(),this.activateAndRunEntryAnimationsForAllVisible(),this.trigger(e.PAGE_EVENTS.PAGE_RELOAD_DONE)},storeScaleTransform:function(t,e){this.scaleTransformKey=t,this.scaleTransformValue=e},setBackgroundPositionAndScaleTransform:function(t,e){var n={"background-position-x":t+"px",zoom:"",transform:""};(this.scaleExperience||e)&&(e?"transform"===this.scaleTransformKey?n.transform="translateX("+t+"px) "+this.scaleTransformValue:(n.transform="translateX("+t+"px)",n[this.scaleTransformKey]=this.scaleTransformValue):n[this.scaleTransformKey]=this.scaleTransformValue),this.$el.css(n)},getLeft:function(){return parseInt(this.$el.css("background-position-x"),10)},setOpacity:function(t){this.$pageScroll.css("opacity",t)},isInTransition:function(){return this.$el.hasClass("in-transition")},isPending:function(){return this.$el.hasClass("pending")},isTop:function(){return this.$el.hasClass("top")},isViewed:function(){return this.$el.hasClass("viewed")},isReady:function(){return"resolved"===this.pageReady.state()},isDisabled:function(){return!0===this.model.get("disabled")},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},makeInTransition:function(){this.$el.addClass("in-transition"),this._startSpinner()},makePending:function(){this.$el.removeClass("top viewed in-transition").addClass("pending").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(t.originalWindowWidth,!1),this._stopSpinner()},makeTop:function(){this._startSpinner(),this.$el.removeClass("pending viewed in-transition").addClass("top").attr("aria-hidden",!1),this.setBackgroundPositionAndScaleTransform(0,!1)},activate:function(){this.activateAndRunEntryAnimationsForAllVisible();var t=this.getVisibleBoundaries();this.animationRunner.createTimedTriggers(this.scrollTriggeredObjects,t),this.getModule().trigger(this.getModule().publishedEvents.PAGE_ACTIVATED,{slug:this.model.get("slug"),pageName:this.model.get("name"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight(),sdkTags:this.model.get("sdkTags"),sdkPayload:this.model.get("sdkPayload")}),this.activated=!0},triggerScrollTo:function(t){t=t.replace(/^#?/,""),t=window.decodeURIComponent(t);var e="#"+E.escapeComponentId(t),n="component",i=t.match(/page-[0-9]+-(top|bottom)/);i?n=i[1]:this.$pageContainer.find(e).hasClass("scranchor")&&(n="scranchor"),T.default.trigger(this.module.publishedEvents.PAGE_ACTION_SCROLL_TO,{scrollTargetType:n,scrollTargetScranchor:t})},makeViewed:function(){this.$el.removeClass("top pending in-transition").addClass("viewed").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(-t.originalWindowWidth,!1),this._stopSpinner()},getThumbnail:function(){return this.options&&this.options.thumbnail?C.default.makeUrlAbsolute(this.options.thumbnail):null},getChildViews:function(){return this.childViews},isChildVisible:function(t){return null!==t&&!0===t.visible},reset:function(){this.childViews&&(this.deactivateHovers(),this.animationRunner.resetAnimationsAndInitialVisibility(this.childViews))},activateAndRunEntryAnimationsForAllVisible:function(){this.childViews&&this.animationRunner.activateAndRunEntryAnimationsForAllVisible(this.childViews,this.getVisibleBoundaries())},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(){this.childViews&&this.animationRunner.restartRepeatEntryAnimationsForAllVisibleOrViewed(this.childViews,this.getVisibleBoundaries())},pauseAnimations:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.pauseAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},resumeAnimations:function(){if(this.childViews){var t=function(e){d.default.each(e,(function(e){e.resumeAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},isValidChildView:function(t){return null!==this.findChildView(t)},applyPageContext:function(t){return t.interactions=O.InteractionFactory.initializeInteractions(t.interactions,this,t.id),t.states&&(t.states=A.ObjectStateFactory.initializeStates(t.states)),d.default.defaults(t,{pageWidth:this.getPageWidth(),pageHeight:this.getPageHeight(),module:this.getModule(),pageView:this,theme:this.options.theme,allowCommerceIntegration:this.options.allowCommerceIntegration})},invokeShowAction:function(t,e){if(t&&0!==t.length){var n=this,i=[];d.default.each(t,(function(t){var e=n.findChildView(t);e&&i.push(e)})),this.loadAllMediaThenShowChildViews(d.default.uniq(i),e)}},invokeHideAction:function(t){if(t&&0!==t.length){var e=[],n=this;d.default.each(t,(function(t){var i=n.findChildView(t);i&&e.push(i)})),this.hideAllChildViews(d.default.uniq(e))}},invokeToggleAction:function(t){if(t&&0!==t.length){var e=[],n=[],i=this;d.default.each(t,(function(t){var r=i.findChildView(t);r&&(i.isChildVisible(r)?e.push(r):n.push(r))})),this.hideAllChildViews(d.default.uniq(e)),this.loadAllMediaThenShowChildViews(d.default.uniq(n))}},invokeShowOrHideOnlyAction:function(t,e){if(t&&0!==t.length){var n=[];d.default.each(t,d.default.bind((function(t){var e=this.findChildView(t);e&&(e.parentViews.length>0?n.push(e.parentViews[0]):n.push(this))}),this));var i=[],r=[];d.default.each(d.default.uniq(n),(function(n){d.default.each(n.childViews,(function(n){var o=-1!==t.indexOf(n.id);o&&e||!o&&!e?r.push(n):i.push(n)}))})),this.loadAllMediaThenShowChildViews(d.default.uniq(r)),this.hideAllChildViews(d.default.uniq(i))}},invokeShowOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!0)},invokeHideOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!1)},invokeCycleNextOrPreviousAction:function(t,e){if(t&&0!==t.length){var n=[],i=[];d.default.each(t,d.default.bind((function(t){var r=this.findChildView(t);if(r&&r.childViews&&0!==r.childViews.length){var o,a=d.default.findLast(r.childViews,(function(t){return t.visible}));if(a){var s=r.childViews.indexOf(a);o=e?0===s?r.childViews.length-1:s-1:s===r.childViews.length-1?0:s+1}else o=e?r.childViews.length-1:0;i.push(r.childViews[o]),n=n.concat(r.childViews.slice(0,o)).concat(r.childViews.slice(o+1))}}),this)),this.loadAllMediaThenShowChildViews(d.default.uniq(i)),this.hideAllChildViews(d.default.uniq(n))}},invokeCycleNextAction:function(t){this.invokeCycleNextOrPreviousAction(t,!0)},invokeCyclePreviousAction:function(t){this.invokeCycleNextOrPreviousAction(t,!1)},loadAllMediaThenShowChildViews:function(t,e){var n=this;function i(){var e=n.getVisibleBoundaries();d.default.each(t,(function(t){t.mediaHasBeenLoaded=!0,n.animationRunner.showChildViewIfAllParentsVisible(t,e)}))}var r=[];if(d.default.each(t,(function(t){t.mediaHasBeenLoaded||(r=r.concat(n.attachViewMedia(t)))})),d.default.isEmpty(r))i(),e&&e();else{d.default.isNull(n.childLoadingTimeout)||clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=d.default.delay((function(){n._createSpinner(!0)}),200);var o=function(){clearTimeout(n.childLoadingTimeout),n.childLoadingTimeout=null,n._destroySpinner(),i()};c.default.when.apply(c.default,r).done((function(){l.default.debug("Successfully attached child media being shown."),o(),e&&e()})).fail((function(){l.default.debug("Failed to load child media being shown."),o()}))}},hideAllChildViews:function(t){this.animationRunner.hideAllChildViewsAndRunExitAnimations(t)},_createSpinner:function(t){d.default.isNull(this.spinner)&&(this.spinner=b.default.showLoading(this.$el,{startImmediately:t}))},_destroySpinner:function(){this.spinner&&(this.spinner.destroy(),this.spinner=null)},_stopSpinner:function(){this.spinner&&this.spinner.stop()},_startSpinner:function(){this.spinner&&this.spinner.start()},addActiveHover:function(t,e){var n=e.targetsSelf?[t.id]:e.getHoverTargets(),i=t.getExtents(),r=[];d.default.isEmpty(i)?this.deactivateHovers():(d.default.each(n,d.default.bind((function(n){if(this.isValidChildView(n)){var i=t.isFixedPosition(),o=n,a=[],s=this.calculateHoverArea(t,t.getExtents(),o,e,i),u=this.findChildView(n),l=parseInt(u.$el.css("zIndex"),10)||0;"folder"===u.options.type?l=u.getFirstAvailableZIndex():e.action===x.ActionTypes.changeState&&(a=d.default.map(u.getParentsWithLinkInteraction(),d.default.bind((function(t){return this.findChildView(t)}),this)));var c={object:t,interaction:e,area:s,target:u,targetZIndex:l,targetParentsWithLinkInteraction:a,pinned:i};r.push(c)}}),this)),r.length?this.activeHoversGroupedByInteraction.push(r):0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers())},calculateHoverArea:function(t,e,n,i,r){var o,a=this.getChildViewExtents(n,i);if(!d.default.isEmpty(a)){if(r){var s=d.default.cloneDeep(t.getExtents()),u=t.getTopAndBottomFixedPosition(s.y1,s.y2);s.y1=u.top,s.y2=u.bottom,o=S.default.createHoverArea(s,a,!1)}else o=S.default.createHoverArea(e,a,!1);return o}this.deactivateHovers()},getMouseXAndMouseYFromEvent:function(t){var e,n,i=this.getScaleContext(),r=this.$pageScroll.offset();return this.scaleContext.useZoom(i.ratio)?(e=t.pageX/i.ratio-r.left,n=t.pageY/i.ratio-r.top):(e=(t.pageX-r.left)/i.ratio,n=(t.pageY-r.top)/i.ratio),{mouseX:e,mouseY:n}},handleMouseMove:function(t){var e=this,n=this.getMouseXAndMouseYFromEvent(t),i=n.mouseX,r=n.mouseY,o=[],a=Math.ceil(i),u=Math.floor(i),l=Math.ceil(r),c=Math.floor(r),f=new Set;d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(n){!n||n.length<1||(d.default.every(n,d.default.bind((function(n){var i,r,o=this;if("change-state"===n.interaction.action&&(n.object.options.linkInteraction||"smartgroup"===n.object.options.type)){var h=n.interaction.getTargets(),p=function(t){return t.some((function(e){var i=!1,r=o.findChildView(e);if(f.has(e))return!0;if(r.options.id===n.object.options.id&&r.childViews&&r.childViews.length>0){var a=r.childViews.map((function(t){return t.id}));i=p(a)}else i=r.isHovered();return i&&t.forEach((function(t){return f.add(t)})),i}))};return!p(s(h,[n.object.options.id]))}var g=n.object.isHovered(t),m=n.interaction.shouldCreateHoverArea(),v=k.default.isShowLayersOnHoverInteraction(n.interaction)&&n.target.isHovered(t);if(m||v){var y=d.default.cloneDeep(n.object.getExtents()),_=!m&&v?n.object:n.target;i=n.interaction.hoverArea||e.calculateHoverArea(n.object,y,_.id,n.interaction,n.pinned),g=g||v&&m,r=!(Math.pointInPoly(i,a,l)||Math.pointInPoly(i,a,c)||Math.pointInPoly(i,u,l)||Math.pointInPoly(i,u,c)||g)}else r=!g;return n.target.mediaHasBeenLoaded&&r}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):o.push(n))}),this)),this.activeHoversGroupedByInteraction=o,0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers()},handleMouseLeave:function(t){this.triggerMouseOutForInteractions(this.activeHoversGroupedByInteraction),this.deactivateHovers()},triggerMouseOutForInteractions:function(t){d.default.each(t,d.default.bind((function(t){t&&t.length&&t[0].object.triggerMouseOutAction(t[0].interaction)}),this))},deactivateNonParentHovers:function(t){var e=[];d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(n){n.length>0&&(d.default.every(n,d.default.bind((function(e){var n=t.idBelongsToParent(e.target.id)||e.target.id===t.id,i=e.object.id===t.id,r=t.childViews&&t.childViews.find((function(t){return t.id===e.object.id})),o=e.interaction.action!==x.ActionTypes.changeState,a=e.interaction.action!==x.ActionTypes.bringToFront;return!(n||i||r||!e.target.mediaHasBeenLoaded||!o||!a)}),this))?n[0].object.triggerMouseOutAction(n[0].interaction):e.push(n))}),this)),this.activeHoversGroupedByInteraction=e},isMouseOverAnActiveHoverAreaWithHigherZIndex:function(t,e){var n=this.getMouseXAndMouseYFromEvent(e),i=n.mouseX,r=n.mouseY,o=Math.ceil(i),a=Math.floor(i),s=Math.ceil(r),u=Math.floor(r),l=!1,c=parseInt(t.$el.css("zIndex"),10)||0;return"folder"===t.options.type&&(c=t.getFirstAvailableZIndex()),d.default.each(this.activeHoversGroupedByInteraction,d.default.bind((function(t){if(t.length>0&&(l=d.default.some(t,d.default.bind((function(t){return!!(t.interaction.createHoverArea&&t.targetZIndex>c)&&(Math.pointInPoly(t.area,o,s)||Math.pointInPoly(t.area,o,u)||Math.pointInPoly(t.area,a,s)||Math.pointInPoly(t.area,a,u))}),this))))return!0}),this)),l},deactivateHovers:function(){this.activeHoversGroupedByInteraction=[],this.$pageScroll.off("mousemove"),this.$pageScroll.off("mouseleave")},getChildViewExtents:function(t,e){var n=this.findChildView(t),i={};if(n)if(e&&e.action===x.ActionTypes.changeState)i=n.getExtentsFromObjectState(e.state);else if(i=n.getExtents(),n.isFixedPosition()){var r=n.getTopAndBottomFixedPosition(i.y1,i.y2);i.y1=r.top,i.y2=r.bottom}return i},getPageIndex:function(){return this.model.getPageIndex()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(14)),o=i(n(3)),a=i(n(0)),s=i(n(24)),u=n(545),l=i(n(548)),c=i(n(772)),d=n(216),f=i(n(774)),h=n(775),p=i(n(48)),g=n(52),m=function(t){this.prerenderDeferred=new o.default.Deferred,this.prerenderWorkQueue=[],this.accessibilityOverrides=new h.PrerenderAccessibilityOverride(t),this.pageView=t,this.pageIndex=this.pageView.getPageIndex(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.automaticHoverInteractionCollection=t.automaticHoverInteractionCollection};m.prototype={prerender:function(){s.default.debug("Pre-rendering page idx: "+this.pageIndex);var t=Date.now();for(this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();!this.isPrerenderQueueEmpty();)this.prerenderNextWorkItem();for(var e=this.accessibilityOverrides.applyOverrides();!e.next().done;);this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()},lazyPrerender:function(){if(!this.isPrerendered()){var t=Date.now();s.default.debug("Starting lazy prerender on page idx: "+this.pageIndex),this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();var e=!1,n=this.accessibilityOverrides.applyOverrides(),i=function(t){return Date.now()-t<10},r=a.default.bind((function(){var o=Date.now();if(!this.isPrerendered()){if(this.isPrerenderQueueEmpty())do{e=n.next().done}while(!e&&i(o));else do{this.prerenderNextWorkItem()}while(!this.isPrerenderQueueEmpty()&&i(o));this.isPrerenderQueueEmpty()&&e?(this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Lazy prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()):window.requestAnimationFrame(r)}}),this);window.requestAnimationFrame(r)}return this.prerenderDeferred.promise()},initPrerenderQueue:function(){this.pageView.resetPageForPrerender(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.prerenderWorkQueue=c.default.createPreRenderList(this.pageView),this.prerenderWorkQueue.unshift(this.getCanvasBackgroundFromQueue(this.prerenderWorkQueue)),s.default.debug("Prerender queue for page idx: "+this.pageIndex+" has "+this.prerenderWorkQueue.length+" items.")},getCanvasBackgroundFromQueue:function(t){for(var e,n=t.length-1;n>=0;--n){var i=t[n];if(e="canvas-background-component"===i.model.type?t.splice(n,1)[0]:this.getCanvasBackgroundFromQueue(i.childViews))break}return e},addViewToDOM:function(t,e){var n=e.$el.hasClass("group")||e.$el.hasClass("hover-area")?f.default.determineEffectivePositionOf(e.$el):e.options,i=n.x,r=n.y;f.default.insert(t,e.$el[0],i,r),e.hoverArea&&(this.addViewToDOM(t,e.hoverArea),this.setObjectViewToNextHighestZIndex(e.hoverArea))},addComponentToDOM:function(t){t.options.fixedPosition&&r.default.desktop()?this.addViewToDOM(this.pinnedDocFrag,t):this.addViewToDOM(this.docFrag,t)},prerenderObjectView:function(t,e){var n=this.createObjectView(t);return null!==n&&(n.render(),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),e||(this.setObjectViewToNextHighestZIndex(n),this.addComponentToDOM(n))),n},createObjectView:function(t){var e=this;return t=this.pageView.applyPageContext(t),l.default.createComponentFromObject(t,(function(t,n){return e.pageView.model.layerDocPersister.saveModelChanges(n)}))},prerenderFolderView:function(t,e){var n=new u.FolderView(t);return n.childViews=e,a.default.each(n.childViews,a.default.bind((function(t){n.isInitiallyVisible()||t.hide(),t.addParentView(n),t.addContainerId(n.getId())}),this)),n},prerenderGroupView:function(t,e){var n=this,i=this.createObjectView(t);return i.childViews=e,i.childrenUseBlendingModes()?this.addBlendingModesFocusClass(i):this.setObjectViewToNextHighestZIndex(i),"mask-group"===t.type?(this.reArrangeMaskGroupViews(i),i.render()):(a.default.each(e,(function(t){var e=t;e.addParentView(i),e.addContainerId(i.getId()),e.childrenUseBlendingModes()||n.setObjectViewToNextHighestZIndex(e),e.hasActiveBlendingMode()&&n.addBlendingModesFocusClass(e),n.addViewToDOM(i.$el[0],e)})),i.render()),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},reArrangeMaskGroupViews:function(t){var e=t.getMaskView(),n=t.getWrappedView();e.addParentView(t),e.addContainerId(t.getId()),n.addParentView(e),n.addContainerId(e.getId()),this.setObjectViewToNextHighestZIndex(e),this.setObjectViewToNextHighestZIndex(n),t.options.interactions&&t.options.interactions.length&&e.setMaskInteractions(t.options.interactions),n.hasBlendingMode()&&t.isAlphaMask()&&e.$el.css("mix-blend-mode",n.blendingMode),this.addViewToDOM(e.$el[0],n),this.addViewToDOM(t.$el[0],e)},prerenderSmartgroupView:function(t,e){var n=this;t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return i.childViews=e,this.setObjectViewToNextHighestZIndex(i),function t(e){a.default.each(e,(function(e){if("folder"===e.options.type)t(e.childViews);else{var r=e;n.setObjectViewToNextHighestZIndex(r),n.addViewToDOM(i.$el[0],r),"image-component"===e.options.type&&e.$el.css("mix-blend-mode",d.BlendingModes.getDefault()),r.setParentSmartgroup(i),r.updatePositionForHoverArea()}}))}(i.childViews),i.render(),i.addContainerId(i.id),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),this.addComponentToDOM(i),i},setObjectViewToNextHighestZIndex:function(t){t.setInitialZIndex(this.nextZIndex),this.nextZIndex++},addBlendingModesFocusClass:function(t){var e=r.default.isBrowserFirefox()?"blending-modes-focus-mozilla":"blending-modes-focus";t.$el.addClass(e)},isPrerendered:function(){return"resolved"===this.prerenderDeferred.state()},getPrerenderPromise:function(){return this.prerenderDeferred.promise()},getDocumentFragment:function(){return this.docFrag},getPinnedDocumentFragment:function(){return this.pinnedDocFrag},isPrerenderQueueEmpty:function(){return!this.prerenderWorkQueue||0===this.prerenderWorkQueue.length},prerenderNextWorkItem:function(){var t=this.prerenderWorkQueue.shift();this.prerenderSingleWorkItem(t),t&&t.model&&p.default.hasFeature(g.FeatureFlagName.ACCESSIBILITY)&&this.accessibilityOverrides.analyzeLayerForOverrides(t)},prerenderSingleWorkItem:function(t){if(t)if(t.isSmartgroupLayer()){var e=this.prerenderSmartgroupView(t.model,t.childViews);t.setView(e)}else if(t.isFolder()){var n=this.prerenderFolderView(t.model,t.childViews);t.setView(n)}else if(t.isGroup()){var i=this.prerenderGroupView(t.model,t.childViews);t.setView(i)}else if(t.isScranchor())f.default.insert(this.docFrag,t.$el[0],t.x,t.y,!0),t.adjustYCoordinateWithinGroup();else{var r;r=t.findParentSmartgroupOrGroupModel();var o=this.prerenderObjectView(t.model,r);t.setView(o)}}},e.default=m},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FolderView=void 0;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isComponent=!1,e}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,n){var i=this.childViews;i&&i.forEach((function(t){t.addStateUnderActiveState(e,n)}))},e.prototype.invokeObjectState=function(t){this.childViews&&this.childViews.forEach((function(e){e.invokeObjectState(t)}))},e.prototype.revokeObjectState=function(t,e){this.childViews&&this.childViews.forEach((function(n){n.revokeObjectState(t,e)}))},e.prototype.removeAllActiveStates=function(){this.childViews&&this.childViews.forEach((function(t){t.removeAllActiveStates()}))},e.prototype.addActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.addActiveState(t)}))},e.prototype.removeActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.removeActiveState(t)}))},e.prototype.setZIndex=function(t,e){var n;null===(n=this.childViews)||void 0===n||n.forEach((function(n){n.setZIndex(t,e)}))},e.prototype.resetZIndex=function(){var t;null===(t=this.childViews)||void 0===t||t.forEach((function(t){t.resetZIndex()}))},e.prototype.getCurrentHighestZIndex=function(){return this.childViews&&this.childViews.length?this.childViews.reduce((function(t,e){return t.getCurrentHighestZIndex()>e.getCurrentHighestZIndex()?t:e})).getCurrentHighestZIndex():0},e.prototype.hasActiveClickStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveClickStateWithLock()}))},e.prototype.hasActiveCustomStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveCustomStateWithLock()}))},e.prototype.isInNonDefaultState=function(){return!!this.childViews&&this.childViews.some((function(t){return t.isInNonDefaultState()}))},e.prototype.hasActiveBringToFront=function(){var t;return!!this.childViews&&(null===(t=this.childViews)||void 0===t?void 0:t.some((function(t){return t.hasActiveBringToFront()})))},e}(o(n(546)).default);e.FolderView=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=n(359),s=i(n(154));e.default=a.AbstractPageChildView.extend({initialize:function(){a.AbstractPageChildView.prototype.initialize.call(this),this.childViews={}},hide:function(){o.default.each(this.childViews,(function(t){t.hide()}))},addContainerId:function(t){o.default.each(this.childViews,(function(e){e.addContainerId(t)}))},addParentView:function(t){this.parentViews.push(t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},isHovered:function(t){return o.default.some(this.childViews,(function(e){e.isHovered(t)}))},addPointerEvents:function(){o.default.each(this.childViews,(function(t){t.addPointerEvents()}))},runAllChildViewExitAnimations:function(t){this.runningExitAnimations=!0,t=t||[],o.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}));var e=this;return r.default.when.apply(r.default,t).done((function(){e.runningExitAnimations=!1})),t},reset:function(){this.runningExitAnimations=!1},getExtents:function(){var t;return this.childViews?o.default.each(this.childViews,function(e){var n=e.getExtents();t=t?s.default.getSmallestContainingRectangle(t,n):n}.bind(this)):t={},t},getFirstAvailableZIndex:function(){var t=0;return this.childViews&&this.childViews.length>0&&(t="folder"===this.childViews[0].options.type?this.childViews[0].getFirstAvailableZIndex():this.childViews[0].$el.css("zIndex")||0),t},isFixedPosition:function(){return!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(116));e.default=o.default.extend({initiallyVisible:!0,mediaHasBeenLoaded:!0,childViews:null,keepVisibleForScreenReaders:!1,wasShownByFocusInteraction:!1,exitAnimations:[],cancelHide:!1,initialize:function(){o.default.prototype.initialize.call(this),this.parentViews=[],this.visible=this.options.visible,this.initiallyVisible=this.options.visible,this.mediaHasBeenLoaded=this.options.visible},close:function(){},preloadMedia:function(){},preloadMediaNow:function(){},attachMedia:function(){},scaleComponent:function(){},doCustomScaling:function(){},getRatioForCustomScaling:function(){return 1},onAttach:function(){},pauseAnimations:function(){},resumeAnimations:function(){},reset:function(){},getExtents:function(){},getId:function(){return this.id},isInitiallyVisible:function(){return this.initiallyVisible},runAllChildViewExitAnimaions:function(){},areAllParentsVisible:function(){},childrenUseBlendingModes:function(){return!1},hasActiveBlendingMode:function(){return!1},isMaskImage:function(){return!1},resetTimers:function(){this.childViews&&r.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers()}))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(24)),o=i(n(549)),a=i(n(557)),s=i(n(558)),u=i(n(563)),l=i(n(564)),c=i(n(565)),d=i(n(567)),f=i(n(571)),h=i(n(366)),p=i(n(574)),g=i(n(592)),m=i(n(371)),v=i(n(140)),y=n(372),_=n(595),b=n(597),w=n(599),T=n(600),S=n(602),O=n(633),E=n(768),P=n(771);e.default={createComponentFromObject:function(t){var e=null;switch(t.type){case"html-component":e=new u.default(t);break;case"chartblocks-chart-component":e=new l.default(t);break;case"hubspot-form-component":e=new c.default(t);break;case"marketo-form-component":e=new d.default(t);break;case"hotspot-component":e=new f.default(t);break;case"hotspot-path-component":e=new _.HotspotPathComponentView(t);break;case"canvas-background-component":e=new o.default(t);break;case"shape-component":switch(t.shape){case"square":e=new a.default(t);break;case"circle":e=new b.CircleComponentView(t);break;case"triangle":case"right-triangle":e=new T.TriangleComponentView(t);break;default:e=new s.default(t)}break;case"line-component":e=new w.LineComponentView(t);break;case"image-component":e=v.default.isVectorBased(t.contentType)?new E.VectorImageComponentView(t):new h.default(t);break;case"smartgroup":e=new g.default(t);break;case"group":e=new m.default(t);break;case"mask-group":e=new P.MaskGroupView(t);break;case"text-component":e=new S.TextComponentView(t);break;case"text-plus-component":e=new O.TextPlusComponentView(t);break;case"video-widget":e=p.default.create(t);break;case"custom-shape-component":e=new y.CustomShapeComponentView(t);break;default:return r.default.warn("Object type not supported:",t.type),null}return e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(108);e.default=i.AbstractComponentView.extend({type:"canvas-background",initialize:function(t){t.height=t.pageView.getPageHeight(),t.width=t.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.initialize.apply(this,arguments)},applyChanges:function(t){t.height=this.options.pageView.getPageHeight(),t.width=this.options.pageView.documentVersion.getExperienceWidth(),i.AbstractComponentView.prototype.applyChanges.apply(this,arguments)}})},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=u(n(3)),c=u(n(0)),d=u(n(14)),f=u(n(130)),h=u(n(8)),p=n(359),g=u(n(360)),m=u(n(554)),v=u(n(555)),y=n(155),_=n(290),b=u(n(141)),w=n(361),T=u(n(154)),S=u(n(245)),O=a(n(93)),E=u(n(84)),P=n(216),C=u(n(48)),A=n(52),x=u(n(280)),I=n(20),k=n(362),M=u(n(214)),R=n(556);e.default=p.AbstractPageChildView.extend({COMMERCE_ACTIONS:["product","shopping-cart"],LIGHTBOX_ACTION:"lightbox",className:"component",timedTriggersCreatedAtLeastOnce:!1,entryAnimations:[],exitAnimations:[],startIdxMemo:[],PARENT_EXIT_ANIMATION_ENDED_EVENT:"parentExitAnimationEnded",initialize:function(){p.AbstractPageChildView.prototype.initialize.call(this),this.hasAccessibilityFeature=C.default.hasFeature(A.FeatureFlagName.ACCESSIBILITY),this.$el.addClass("page-object"),this.$el.addClass(this.type),this.$el.css({position:"absolute"}),this.options.rotation||(this.options.rotation=0),this.options.actualRotation=this.options.rotation,this.timedTriggerTimeouts=[],this.shouldRestartEntryAnimations=!1,this._activatedEntryAnimations=!1,this.runningExitAnimations=!1,this.wasInsideVisibleBoundaries=!1,this.timedTriggersActivated=!1,this.exitAnimationPromise=null,this.validInteractions={},this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y,this.options.absoluteX=this.options.x,this.options.absoluteY=this.options.y,this.options.absoluteBoundaryX=this.options.x,this.options.absoluteBoundaryY=this.options.y,this.$window=l.default(window),this.options.animationsRepeatAll=!!this.options.animationsRepeatAll,this.defaultTagName=this.tagName,this._handleOnEscKeyPressed=c.default.bind(this._handleOnEscKeyPressed,this)},tagOverride:function(){var t=void 0;(this.hasAccessibilityFeature&&this.options.htmlLandmarkTag&&(t={tagName:this.options.htmlLandmarkTag}),Array.isArray(this.options.interactions))&&(t=this.options.interactions.reduce((function(t,e){var n=e.domTagOverride;return n?t?n.priority>t.priority?n:t:n:t}),void 0)||t);return t},getSpecifiedAttributes:function(t){return c.default.transform(t,(function(t,e){e.specified&&(t[e.name]=e.value)}),{})},applyAccessibilityFeatures:function(){!this.isMask()?(this.applyTagOverride(),this.hasAccessibilityFeature&&(this.enableAutomaticHoverInteraction(),this.setAriaLabel())):this.hasAccessibilityFeature&&this.setAriaLabel()},setAriaLabel:function(){this.options.ariaLabel?this.getAriaElement().attr("aria-label",this.options.ariaLabel):this.getAriaElement()&&this.getAriaElement().removeAttr("aria-label"),this.setAriaRole()},setAriaRole:function(){},getAriaElement:function(){return this.$el},applyTabindex:function(){var t=this;this.hasAccessibilityFeature&&((this.hasHoverInteraction()||this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.getPointerEventsTarget().attr("tabindex",0),this.hasHoverInteraction()?this.getPointerEventsTarget().off("focus.hover").on("focus.hover",(function(e){k.FocusArbiter.prepareTargetOutlineForFocus(t.getPointerEventsTarget())})):this.getPointerEventsTarget().off("focus.hover"))},applyTagOverride:function(){var t=this.tagOverride();if(t&&t.tagName){this.tagName=c.default.get(t,"tagName",this.tagName);var e=this.attributes||{};if(this.attributes=c.default.assign({},this.attributes,c.default.get(t,"attributes")),this.$el.is(this.tagName)&&c.default.isEqual(e,this.attributes))return;var n=c.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=l.default("<"+this.tagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}else if(!this.$el.is(this.defaultTagName)){n=c.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),i=l.default("<"+this.defaultTagName+">",n).append(this.$el.contents());this.$el.replaceWith(i),this.setElement(i)}},getOpacity:function(){return this.options.opacity},setParentSmartgroup:function(t){this.options.parentSmartgroup=t,this.options.parentSmartgroup.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},addParentView:function(t){this.parentViews.push(t),t.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},hasParents:function(){return this.parentViews.length>0},configureAbsoluteCoordinates:function(){var t=new O.Point(this.options.x+this.options.width/2,this.options.y+this.options.height/2),e=this.parentViews;c.default.each(e,(function(e){if(e.options.rotation){var n=e.options.width/2,i=e.options.height/2;t.rotate(n,i,-Math.toRad(e.options.rotation))}t.x+=e.options.x||0,t.y+=e.options.y||0})),this.options.absoluteX=t.x-this.options.width/2,this.options.absoluteY=t.y-this.options.height/2,this.options.absoluteBoundaryX=t.x-this.options.allWidth/2,this.options.absoluteBoundaryY=t.y-this.options.allHeight/2,this.hoverArea&&(this.hoverArea.updatePosition(),this.hoverArea.updateRotation(),this.hoverArea.setWidthAndHeight())},areAllParentsVisible:function(){var t=c.default.every(this.parentViews,(function(t){return t.visible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.visible:t},areAllParentsInitiallyVisible:function(){var t=c.default.every(this.parentViews,(function(t){return t.initiallyVisible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.initiallyVisible:t},areAnyParentsNotVisible:function(){var t=c.default.some(this.parentViews,(function(t){return!t.visible}));return this.options.parentSmartgroup?t||!this.options.parentSmartgroup.visible:t},idBelongsToParent:function(t){return c.default.some(this.parentViews,(function(e){return e.id===t}))},addContainerId:function(t){var e=this.$el.attr("data-container-id")?this.$el.attr("data-container-id")+",":"";this.$el.attr("data-container-id",e+t)},onClose:function(){},_configureAllWidthAllHeight:function(){if(c.default.isUndefined(this.options.allWidth)&&c.default.isUndefined(this.options.allHeight)){var t,e,n=this.options.rotation?this.options.rotation:0;if(this.options.parentSmartgroup&&this.options.parentSmartgroup.options.rotation&&(n+=this.options.parentSmartgroup.options.rotation,n%=360),this.hasParents()&&!this.isMaskImage()&&(n+=c.default.reduce(this.parentViews,(function(t,e){return t+(e.options.rotation||0)}),0)),this.options.actualRotation=n,n>180&&(n=360-n),n>90&&(n=180-n),0!==(n=Math.toRad(n))){t=Math.cos(n),e=Math.sin(n);var i=T.default.getExtentsFromDimensions(this.options.x,this.options.y,this.options.width,this.options.height,n,this.options.border&&this.options.border.width?this.options.border.width:0);this.options.allWidth=i.x2-i.x1,this.options.allHeight=i.y2-i.y1}else this.options.allWidth=this.options.width,this.options.allHeight=this.options.height;this._configureAllWidthAllHeightForShadow(),this._configureAllWidthAllHeightForBorder(n,e,t)}},_configureAllWidthAllHeightForShadow:function(){c.default.isEmpty(this.options.shadow)||""===this.options.shadow||(this.options.allWidth+=c.default.isNumber(this.options.shadow.x)?Math.abs(this.options.shadow.x):0,this.options.allHeight+=c.default.isNumber(this.options.shadow.y)?Math.abs(this.options.shadow.y):0,this.options.allWidth+=c.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.allHeight+=c.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.shadow.blur>Math.abs(this.options.shadow.x)&&(this.options.allWidth+=this.options.shadow.blur-Math.abs(this.options.shadow.x)),this.options.shadow.blur>Math.abs(this.options.shadow.y)&&(this.options.allHeight+=this.options.shadow.blur-Math.abs(this.options.shadow.y)))},_configureAllWidthAllHeightForBorder:function(t,e,n){!c.default.isEmpty(this.options.border)&&""!==this.options.border&&c.default.isNumber(this.options.border.width)&&(0!==t?(this.options.allWidth+=2*(this.options.border.width*n+this.options.border.width*e),this.options.allHeight+=2*(this.options.border.width*n+this.options.border.width*e)):(this.options.allWidth+=2*this.options.border.width,this.options.allHeight+=2*this.options.border.width))},enablePointerEventsForIPadSafariDesktop:function(){if(this.options.fixedPosition){var t=d.default.isDesktopSafari()||d.default.isMobileSafari();d.default.isIpadPretendingToBeDesktop()&&d.default.isIosGreaterThanOrEqualTo(13)&&t&&(this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.$el.css("pointer-events","all")}},render:function(){if(this.applyTabindex(),this.applyAccessibilityFeatures(),this.$el.css("transform",""),this.updateFixedPosition(),this.enablePointerEventsForIPadSafariDesktop(),this._configureAllWidthAllHeight(),this.configureAbsoluteCoordinates(),this._applyPosition(this.options.x,this.options.y,this.options.border),this._applyRotation(this.options.rotation,this.options.width,this.options.height),this._applyDimensions(this.options.width,this.options.height),this._applyOpacity(this.getOpacity()),this._applyVisibility(this.options.visible),this.$onClickShowHideTriggers=void 0,this._configureInteractions(),_.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)&&_.WebkitUtils.hardwareAccelerateTransform(this.$el),"image"===this.type&&d.default.isDesktopSafari()&&this.hasActiveBlendingMode()){var t=this.$el.find("img");_.WebkitUtils.hardwareAccelerateTransform(t)}return this.doCustomScaling(),this._applyAnimations(),this._applyBorder(this.options.border),this._applyBackground(this.options.background),this._applyShadow(this.options.shadow,this.options.rotation,this.options.border,this.options.background),this},scaleComponent:function(){this.updateFixedPosition()},updateFixedPosition:function(){if(this.options.fixedPosition&&!d.default.desktop()){var t=this.options.pageView.$pageScroll,e=parseFloat(t.css("left")),n=parseFloat(t.css("top"));this.options.x=this.options.unfixedX+e,this.options.y=this.options.unfixedY+n,this._applyPosition(this.options.x,this.options.y,this.options.border)}},attachMedia:function(){return(new l.default.Deferred).resolve().promise()},applyChanges:function(t){h.default.allowAdaptiveLayouts&&(t=c.default.extend(t,t.overrides[E.default.getVariant()])),this.options=c.default.extend(this.options,t),this.render(),this.attachMedia(),this.rerunActivationAndEntryAnimations()},getApplyPositionTarget:function(){return this.$el},_applyPosition:function(t,e,n){t=c.default.isNil(t)?this.options.x:t,e=c.default.isNil(e)?this.options.y:e,n=c.default.isNil(n)?this.options.border:n||{};var i=this.getApplyPositionTarget();!c.default.isEmpty(n)&&c.default.isNumber(n.width)&&(t-=n.width,e-=n.width),i.css("left",t+"px"),i.css("top",e+"px")},getApplyDimensionsTarget:function(){return this.$el},_applyDimensions:function(t,e){t=c.default.isNil(t)?this.options.width:t,e=c.default.isNil(e)?this.options.height:e;var n=this.getApplyDimensionsTarget();n.css("width",t+"px"),n.css("height",e+"px"),n.css("transform-origin","center")},getApplyOpacityTarget:function(){return this.$el},_applyOpacity:function(t){t=c.default.isNil(t)?this.getOpacity():t,this.options.parentSmartgroup&&this.options.parentSmartgroup.getOpacity()<1&&(t*=this.options.parentSmartgroup.getOpacity()),this.getApplyOpacityTarget().css("opacity",t)},_applyVisibility:function(t){t?this.show():this.hide()},_applyRotation:function(t){((t=c.default.isNil(t)?this.options.rotation:t)||0===t)&&y.CssUtils.setTransformToElement(this.$el,{rotate:t})},getApplyBorderTarget:function(){return this.$el},_applyBorder:function(t){t=c.default.isNil(t)?this.options.border:t;var e=this.getApplyBorderTarget();c.default.isEmpty(t)?e.css("border","none"):(t.width?(e.css("borderWidth",t.width+"px"),t.color&&""!==t.color&&e.css("borderColor",t.color),t.style&&""!==t.style&&t.style.match(/(solid|dashed|dotted)/)?e.css("borderStyle",t.style):e.css("borderStyle","solid")):e.css("borderWidth","0"),e.css("borderRadius",this.getBorderRadius(t)))},getBorderRadius:function(t){if(t.radius){var e=(t.radius+"").split(",");return 1===e.length?parseInt(e[0],10)+"px":parseInt(e[0],10)+"px "+parseInt(e[1],10)+"px "+parseInt(e[2],10)+"px "+parseInt(e[3],10)+"px"}return""},entryAnimationsActivated:function(){return this._activatedEntryAnimations},isEntryAnimationConfiguredToReplayOnScroll:function(){return this.options.animationsReplayOnScroll},setWasInsideVisibleBoundaries:function(t){this.wasInsideVisibleBoundaries=t},getWasInsideVisibleBoundaries:function(){return this.wasInsideVisibleBoundaries},isAnyPartOfComponentWithinBoundaries:function(t,e){var n=(e=e||this.getComponentBoundaries()).componentTop<t.bottomY&&e.componentBottom>=t.topY;return t.hasXBoundaries&&(n=n&&e.componentLeft<t.rightX&&e.componentRight>=t.leftX),n},isAnyPartOfComponentWithinEntryAnimationBoundaries:function(t,e){return this.isAnyPartOfComponentWithinBoundaries(t.getEntryAnimationVisibleBoundaries(this.options.pageHeight,this.options.pageWidth),e)},isOutsideOfPage:function(){var t=new w.VisibleBoundaries(0,this.options.pageHeight,0,this.options.pageWidth);return!1===this.isAnyPartOfComponentWithinBoundaries(t)},getComponentActualWidthHeight:function(){var t=this.options.width,e=this.options.height,n=this.options.parentSmartgroup;return n&&(t*=n.options.scaleWidth,e*=n.options.scaleHeight),{width:t,height:e}},getComponentBoundaries:function(){var t=this.options.absoluteBoundaryX,e=this.options.absoluteBoundaryY,n=this.options.allHeight,i=this.options.allWidth,r=this.options.parentSmartgroup,o=this.isFixedPosition();if(r){t*=r.options.scaleWidth,t+=r.options.originalX,e*=r.options.scaleHeight,e+=r.options.originalY;var a=Math.toRad(r.options.rotation);if(a){var s=r.options.x+r.options.width/2,u=r.options.y+r.options.height/2,l=Math.rotateCoord(t,e,s,u,-a);t=l.x,e=l.y}n*=r.options.scaleHeight}var c=e+n,d=t+i;if(o){var f=this.getTopAndBottomFixedPosition(e,c);e=f.top,c=f.bottom}return{componentTop:e,componentLeft:t,componentBottom:c,componentRight:d}},getTopAndBottomFixedPosition:function(t,e){var n=this.options.pageView.$pinnedContainer,i=this.options.pageView.scaleContext,r=this.options.pageView.getScaleContext(),o=n?n.offset():{left:0,top:0},a=this.options.pageView.$pageScroll.offset().top-o.top;return i.useZoom(r.ratio)||(a/=r.ratio),{top:Math.floor(t-a),bottom:Math.floor(e-a)}},isFixedPosition:function(){if(this.options.fixedPosition||this.options.parentSmartgroup&&this.options.parentSmartgroup.options.fixedPosition)return!0;if(!c.default.isEmpty(this.parentViews))for(var t=0;t<this.parentViews.length;++t){var e=this.parentViews[t];if(void 0!==e.isFixedPosition&&e.isFixedPosition())return!0}return!1},_hasInteraction:function(t){var e=this.options.interactions;return!(!c.default.isArray(e)||0===e.length)&&this.getValidInteractionsByTrigger(t).length>0},hasOnViewInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)},hasClickInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.CLICK)},hasMouseDownInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN)},hasHoverInteraction:function(){return d.default.desktop()&&this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)},getResettableHoverInteractions:function(){if(this.hasHoverInteraction()){var t=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);return c.default.filter(t,(function(t){return t.resetWhenScrolledOffscreen}))}return null},hasResettableHoverInteractions:function(){var t=this.getResettableHoverInteractions();return t&&t.length>0},getValidInteractionsByTrigger:function(t){if(!this.validInteractions[t]||h.default.previewMode){var e=this.options.interactions,n=this;(e=c.default.filter(e,(function(e){return!!n._isValidInteraction(e)&&(c.default.isUndefined(t)||e.trigger===t||e.config&&e.config.trigger===t)}))).sort(this._sortInteractions),this.validInteractions[t]=e}return this.validInteractions[t]},_sortInteractions:function(t,e){var n=-1!==["page-goto","page-next","page-prev"].indexOf(t.action),i=-1!==["page-goto","page-next","page-prev"].indexOf(e.action),r="page-enable-disable"===t.action,o="page-enable-disable"===e.action,a="bring-to-front"===t.action,s="bring-to-front"===e.action,u="change-state"===t.action,l="change-state"===e.action;return r&&i?-1:o&&n?1:a&&l?-1:s&&u?1:0},_isValidInteraction:function(t){return!(-1!==c.default.indexOf(this.COMMERCE_ACTIONS,t.action)&&!this.options.allowCommerceIntegration)&&t.isValid()},createTimedTriggers:function(){var t=this.getModule(),e=this;if(this.canCreateTimedTriggers()){var n=c.default.groupBy(e.getValidInteractionsByTrigger(t.INTERACTION_TRIGGERS.VIEW),(function(t){return t.delay}));c.default.forOwn(n,(function(n,i){var r=c.default.filter(n,(function(t){return!e.timedTriggersCreatedAtLeastOnce||t.repeat}));if(r.length>0){var o=setTimeout((function(){c.default.each(r,(function(n){!function n(r){if(e.isInteractionEnabled(r)){var o="cycle-next"===r.action||"cycle-previous"===r.action;h.default.shouldReduceMotion&&o||(e.simulateClick(!0,r),b.default.trigger(t.publishedEvents.TIMED_INTERACTION,e.addComponentAndClickDataToEvent(r))),o&&e.timedTriggerTimeouts.push(setTimeout((function(){n(r)}),1e3*i))}}(n)}))}),1e3*i);e.timedTriggerTimeouts.push(o)}})),this.timedTriggersCreatedAtLeastOnce=!0,this.timedTriggersActivated=!0}},isInteractionEnabled:function(t){return!this.isEditor()||(!R.editorToggleService.editMode||"view"===t.trigger&&("hide-layers"===t.action||"show-layers"===t.action)&&!t.repeat)},canCreateTimedTriggers:function(){if(this.timedTriggersActivated)return!1;if(!this.visible)return!1;var t=this.getModule();return!!this._hasInteraction(t.INTERACTION_TRIGGERS.VIEW)&&this.areAllParentsVisible()},simulateClick:function(t,e){var n={clientX:-1,clientY:-1,preventDefault:l.default.noop};this._handleClickInteraction(n,t,e)},_handleClickInteraction:function(t,e,n,i){var r=this.getModule(),o=!1;t.preventDefault();var a=[];if(e){if(!n)return;a=[n]}else a=this.getValidInteractionsByTrigger(r.INTERACTION_TRIGGERS.CLICK);c.default.each(a,c.default.bind((function(e){i&&!e.shouldTriggerOnKeyboardNavigation()||this._triggerClickAction(t,e)&&(o=!0)}),this));var s=this.addComponentAndClickDataToEvent({},t);if(b.default.trigger(r.publishedEvents.PAGE_COMPONENT_CLICKED,s),o){t.handledByComponent=!0;var u=this._hasParentWithLinkInteraction();e||u||r.trigger(r.publishedEvents.PAGE_COMPONENT_INTERACTION,s)}!e&&"mouse"===M.default.ask()&&this.$el.is(":focus")&&this.$el.blur()},handleClickWithoutInteraction:function(t){var e=this.getModule(),n=this.addComponentAndClickDataToEvent({},t);b.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,n)},_triggerClickAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);return e.triggerAction(n)},addComponentAndClickDataToEvent:function(t,e){var n=e&&e.originalEvent&&window.TouchEvent&&e.originalEvent instanceof TouchEvent?e.touches[0]:e,r=n&&!(n.originalEvent instanceof KeyboardEvent);return l.default.extend(t,i({clickX:r?n.clientX:-1,clickY:r?n.clientY:-1},this.getEventInteractionData()))},_hasParentWithLinkInteraction:function(){var t=this.getParentsWithLinkInteraction();return t&&t.length>0},_handleMouseDownInteraction:function(t,e){var n,i,r=this,o=this.getModule(),a=this.getValidInteractionsByTrigger(o.INTERACTION_TRIGGERS.MOUSEDOWN),u=[];this.isMask()&&(u=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN));var l=!1,c=this._hasParentWithLinkInteraction();try{for(var d=s(a),f=d.next();!f.done;f=d.next()){var h=f.value;h.action===I.ActionTypes.changeState&&c?l=!0:e&&!h.shouldTriggerOnKeyboardNavigation()||this._triggerMouseDownAction(t,h)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}if(this.isMask()&&u.forEach((function(t){t.getValidInteractionsByTrigger(r.getModule().INTERACTION_TRIGGERS.MOUSEDOWN).forEach((function(e){t._triggerMouseDownAction(t.getEventInteractionData(),e)}))})),!l){var p=this.getValidInteractionsByTrigger(o.INTERACTION_TRIGGERS.CLICK);if(!p||p.length<1){t.stopPropagation();var g=this.addComponentAndClickDataToEvent({},t);b.default.trigger(o.publishedEvents.PAGE_COMPONENT_CLICKED,g),c||o.trigger(o.publishedEvents.PAGE_COMPONENT_INTERACTION,g)}}},_copyCallingInteractionValuesForLinkInteraction:function(t,e){return t.lockState=e.lockState,t.hasOutTrigger=e.hasOutTrigger,t},_triggerMouseDownAction:function(t,e){var n=this.addComponentAndClickDataToEvent({},t);e.hasOutTrigger&&this.options.pageView.addActiveClickAndBindMouseEvents(this,e),e.triggerAction(n)},_handleMouseOverInteraction:function(t){var e=this,n=(this.getModule(),this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER)),i=[];if(this.isMask()&&(i=this.getSiblingsWithInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)),n.length>0||(null==i?void 0:i.length)>0){if(this.options.pageView.isMouseOverAnActiveHoverAreaWithHigherZIndex(this,t))return;this.options.pageView.deactivateNonParentHovers(this),n.forEach((function(t){if(t.action===I.ActionTypes.changeState){if(e._hasParentWithLinkInteraction())return;if(t.targets&&1===t.targets.length&&t.targets[0].id===e.options.id&&e.options.pageView.hasActiveHover(e))return}e._triggerMouseOverAction(t,e.getEventInteractionData())})),this.isMask()&&i.forEach((function(t){t.getValidInteractionsByTrigger(e.getModule().INTERACTION_TRIGGERS.HOVER).forEach((function(e){t._triggerMouseOverAction(e,t.getEventInteractionData())}))})),this.options.linkInteraction&&!this.isMaskImage()||this.sendPublishedHoverEvents()}},getSiblingsWithInteraction:function(t){return this.parentViews[0]&&this.parentViews[0].childViews?this.parentViews[0].childViews.filter((function(e){return e.getValidInteractionsByTrigger(t).length>0})):[]},enableAutomaticHoverInteraction:function(t){if(this.hasHoverInteraction()){var e=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);0!==e.length&&this.options.pageView.automaticHoverInteractionCollection.add(this,e,this.options.pageView)}else this.options.pageView.automaticHoverInteractionCollection.remove(this.$el)},_triggerMouseOverAction:function(t,e){if(S.default.hasCustomFiringHoverAction(t)){var n=t.layerTargets,i=S.default.isHoverInteractionShowingLayers(t);n=c.default.filter(n,c.default.bind((function(t){var e=this.options.pageView.findChildView(t),n=this.options.pageView.isChildVisible(e);return i?!n:n}),this)),i?this.options.pageView.invokeShowAction(n):this.options.pageView.invokeHideAction(n),S.default.isTemporaryHoverInteractionShowingOrHidingLayers(t)&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t)}else t.hasOutTrigger&&(this.options.pageView.addActiveHoverAndBindMouseEvents(this,t),this.activateHoverArea()),t.triggerAction(e)},triggerMouseOutAction:function(t){var e=this;c.default.each(t.layerTargets,(function(t){e.options.pageView.findChildView(t).addPointerEvents()})),S.default.isShowLayersOnHoverInteraction(t)?this.options.pageView.invokeHideAction(t.layerTargets):S.default.isHideLayersInteraction(t)?this.options.pageView.invokeShowAction(t.layerTargets):t.hasOutTrigger&&t.triggerOutAction()},getApplyAnimationsTarget:function(){return this.$el},getAnimatedObjectModelData:function(){return{x:this.options.x,y:this.options.y,allWidth:this.options.allWidth,allHeight:this.options.allHeight,width:this.options.width,height:this.options.height,rotation:this.options.rotation,opacity:this.getOpacity(),scaleWidth:this.options.scaleWidth,scaleHeight:this.options.scaleHeight,pageWidth:this.options.pageWidth,pageHeight:this.options.pageHeight,parentSmartgroup:this.options.parentSmartgroup,requiresHardwareAcceleration:_.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)}},_applyAnimations:function(){var t=this.getAnimatedObjectModelData();this.animatedObjectModel=new v.default(t);var e=this.getApplyAnimationsTarget();this.cleanupAnimations(),this.entryAnimations=this.buildAnimationPhases(e,this.options.animations,this.options.animationsRepeatAll,this.animatedObjectModel),this.exitAnimations=this.buildAnimationPhases(e,this.options.exitAnimations,!1,this.animatedObjectModel),this.resetToInitialState()},buildAnimationPhases:function(t,e,n,i){var r=[];if(e&&e.length>0)for(var o=function(t){t.play()},a=0;a<e.length;a++){n&&(e[a].loop=!1);var s=m.default.compileNewSequence(t,e[a],i);if(c.default.isNull(s))break;if(r.push(s),r[r.length-2]&&r[r.length-2].on(g.default.END_EVENT,c.default.bind((function(){c.default.defer(o,this)}),s)),!0===e[a].loop)break}return r},reset:function(){this.resetAnimations()},resetAnimations:function(){this.cleanupAnimations(),this.resetToInitialState(),this.runningExitAnimations=!1,this._activatedEntryAnimations=!1},resetTimers:function(){p.AbstractPageChildView.prototype.resetTimers.call(this),c.default.each(this.timedTriggerTimeouts,(function(t){window.clearTimeout(t)})),this.timedTriggerTimeouts=[],this.timedTriggersActivated=!1},whenLeavingVisibleBoundaries:function(){var t=this.entryAnimationsActivated()&&this.isEntryAnimationConfiguredToReplayOnScroll(),e=this.getModule(),n=!c.default.isEmpty(this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.VIEW))&&this.initiallyVisible&&this.areAllParentsInitiallyVisible();this.isOutsideOfPage()||(t&&(this.resetAnimations(),this.exitAnimationPromise&&(this.exitAnimationPromise.resolve(),this.exitAnimationPromise=null),this.visible&&"none"===this.$el.css("display")&&this.$el.show()),n&&this.resetTimers())},onActivationStart:function(){},onActivationEnd:function(){this.shouldRestartEntryAnimations=this.hasEntryAnimation()&&(this.options.animationsRepeatAll||this.options.animations[this.options.animations.length-1].loop)},onExitStart:function(){},onExitEnd:function(){},activateAndRunEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()&&!this.entryAnimationsActivated()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},rerunActivationAndEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},restartRepeatEntryAnimations:function(){this.onActivationStart();var t=this.options.animationsRepeatAll&&!h.default.shouldReduceMotion?0:this.options.animations.length-1,e=this;this.runEntryAnimations(t).done((function(){e.onActivationEnd()}))},isEditor:function(){return window.cerosContext.isEditor&&C.default.isEditorEnabled()},_getEntryAnimationFrameId:function(t){return this.id+"-"+t},_shouldStopRunEntryAnimations:function(t,e){if(!this.isEditor())return!1;var n=this.areAllParentsVisible(),i=!1===this.visible,r=this.entryAnimations[t],o=r.finalState.opacity&&0===r.finalState.opacity,a=this.options.animations.reduce((function(t,e){return e.loop||t}),!1),s=!this.options.animationsRepeatAll&&!a;if(e&&(i||!n||o||s))return!0;var u=this._getEntryAnimationFrameId(t);if(R.editorToggleService.editMode){var l=this.$el.is(":visible")&&1===parseInt(this.$el.css("opacity"),10);if(this.startIdxMemo.includes(u)&&l)return!0}else this.startIdxMemo=[];return!1},_shouldRunEntryAnimationsOnAnimationComplete:function(){var t=this.options.animationsRepeatAll&&!h.default.shouldReduceMotion;return this.isEditor()?t&&!R.editorToggleService.editMode:t},_storeStartIdx:function(t){this.isEditor()&&R.editorToggleService.editMode&&this.startIdxMemo.push(this._getEntryAnimationFrameId(t))},runEntryAnimations:function(t,e){var n=this.getModule();if(t=t||0,this._shouldStopRunEntryAnimations(t,e))return(new l.default.Deferred).resolve().promise();if(!this.runningExitAnimations){c.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.entryAnimations[t].resetToInitialState();var i=this,r=new l.default.Deferred,o=function(){c.default.last(i.entryAnimations).off(g.default.END_EVENT,o),i._shouldRunEntryAnimationsOnAnimationComplete()?c.default.defer(c.default.bind(i.runEntryAnimations,i)):(r.resolve(),b.default.trigger(n.publishedEvents.PAGE_COMPONENT_ANIMATION_END,i.id))};return c.default.last(this.entryAnimations).on(g.default.END_EVENT,o),this.entryAnimations[t].play(),this._storeStartIdx(t),this.entryAnimations.length>0&&b.default.trigger(n.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id),r.promise()}return(new l.default.Deferred).resolve().promise()},runAllChildViewExitAnimations:function(t){if(t=t||[],!this.runningExitAnimations&&this.visible&&this.areAllParentsVisible()){var e=this;this.runningExitAnimations=!0,this.onExitStart();var n=this.runExitAnimations().then((function(){e.runningExitAnimations=!1,e.onExitEnd()}));t.push(n),this.childViews&&c.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}))}return t},runExitAnimations:function(){var t=this.getModule();this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.cleanup()}));var e=new l.default.Deferred;if(this.exitAnimationPromise=e,c.default.isEmpty(this.exitAnimations)||"none"===this.$el.css("display"))b.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,this.id),e.resolve();else{var n=this,i=function(){b.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,n.id),e.resolve(),c.default.last(n.exitAnimations).off(g.default.END_EVENT,i)};c.default.last(this.exitAnimations).on(g.default.END_EVENT,i),this.listenToParentExitAnimationEvents(),c.default.each(this.exitAnimations,(function(t){t.cleanup()})),this.exitAnimations[0].resetToInitialState(),this.exitAnimations[0].play(),this.exitAnimations.length>0&&b.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id)}return e.promise()},listenToParentExitAnimationEvents:function(){var t=this;this.parentViews.forEach((function(e){var n=c.default.last(e.exitAnimations);n&&n.on(g.default.END_EVENT,(function(){t.trigger(t.PARENT_EXIT_ANIMATION_ENDED_EVENT,t.exitAnimationPromise)}))}))},cleanupAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.cleanup()}))},hasEntryAnimation:function(){return this.entryAnimations&&c.default.size(this.entryAnimations)>0},doTriggerOnScroll:function(){return this.hasEntryAnimation()||this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)||"html"===this.type},resetToInitialState:function(){if(c.default.isEmpty(this.entryAnimations)){if(!c.default.isEmpty(this.exitAnimations)){var t=c.default.first(this.exitAnimations);if(!!(t.isEntryAnimation()||this.options.visible&&0===t.initialState.opacity))return void t.setToFinalState();t.resetToInitialState()}}else c.default.first(this.entryAnimations).resetToInitialState()},pauseAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.pause()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.pause()}))},resumeAnimations:function(){this.entryAnimations&&c.default.each(this.entryAnimations,(function(t){t.resume()})),this.exitAnimations&&c.default.each(this.exitAnimations,(function(t){t.resume()}))},hasShadow:function(t){return!c.default.isEmpty(t)&&(t.x>0||t.x<0||t.y>0||t.y<0||t.blur>0)},getApplyShadowTarget:function(){return this.$el},_applyShadow:function(t,e){var n=this.getApplyShadowTarget();if(t=c.default.isNil(t)?this.options.shadow:t,e=c.default.isNil(e)?this.options.rotation:e,this.hasShadow(t)){var i={x:c.default.isNumber(t.x)?t.x:0,y:c.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(i,e);var r="";r+=Math.round(i.x)+"px",r+=" "+Math.round(i.y)+"px",r+=t.blur?" "+t.blur+"px":" 0",r+=t.spread?" "+t.spread+"px":" 0",r+=" "+t.color,n.css("boxShadow",r)}else n.css("boxShadow","none")},_rotateShadowCoordinates:function(t,e){e=Math.toRad(e);var n=t.x*Math.cos(e)+t.y*Math.sin(e),i=-1*t.x*Math.sin(e)+t.y*Math.cos(e);t.x=n,t.y=i},_flipShadowCoordinates:function(t,e,n){e&&(t.x*=-1),n&&(t.y*=-1)},getApplyBackgroundTarget:function(){return this.$el},_applyBackground:function(t){if(!this.isMaskImage()){t=c.default.isNil(t)?this.options.background:t;var e=this.getApplyBackgroundTarget();if(!t)return e.css("backgroundColor","transparent"),void e.css("backgroundImage","none");t.color?e.css("backgroundColor",t.color):e.css("backgroundColor","transparent"),t.gradient?e.css("backgroundImage","linear-gradient("+parseInt(t.gradient.angle,10)+"deg,"+f.default.buildStops(t.gradient.stops)+")"):e.css("backgroundImage","none")}},getExtents:function(){var t=this.getExtentsDimensionData(),e=T.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this._transformPointsToExtents(e)},_transformPointsToExtents:function(t){var e=this.transformPointToPageCoordinateSpace(t[0]),n=this.transformPointToPageCoordinateSpace(t[1]),i=this.transformPointToPageCoordinateSpace(t[2]),r=this.transformPointToPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,n.x,i.x,r.x)),y1:Math.round(Math.min(e.y,n.y,i.y,r.y)),x2:Math.round(Math.max(e.x,n.x,i.x,r.x)),y2:Math.round(Math.max(e.y,n.y,i.y,r.y))}},transformPointToPageCoordinateSpace:function(t){var e=new O.Point(t.x,t.y),n=this.parentViews;if(c.default.each(n,(function(t){if(t.options.rotation){var n=t.options.width/2,i=t.options.height/2;e.rotate(n,i,-Math.toRad(t.options.rotation))}e.x+=t.options.x||0,e.y+=t.options.y||0})),this.options.parentSmartgroup){var i=this.options.parentSmartgroup.options.x,r=this.options.parentSmartgroup.options.y,o=this.options.parentSmartgroup.options.width/2,a=this.options.parentSmartgroup.options.height/2,s=-Math.toRad(this.options.parentSmartgroup.options.rotation);0!==s&&e.rotate(o,a,s),e.x+=i,e.y+=r}return e},isFlipped:function(){return!c.default.isNil(this.options.flipHorizontal)||!c.default.isNil(this.options.flipVertical)},childrenUseBlendingModes:function(){return!!this.childViews&&this.childViews.some((function(t){return t.hasActiveBlendingMode()||t.childrenUseBlendingModes()}))},hasActiveBlendingMode:function(){var t=this.options.blendingMode&&!P.BlendingModes.isDefaultBlendingMode(this.options.blendingMode),e=!!this.options.state&&c.default.some(this.options.states,(function(t){return t.config.blendingMode&&!P.BlendingModes.isDefaultBlendingMode(t.config.blendingMode)}));return t||e},show:function(){if(p.AbstractPageChildView.prototype.show.call(this),this.addPointerEvents(),this.hasAccessibilityFeature){if(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length){var t=this.isCarouselSlide?"aria-current":"aria-expanded";this.$onClickShowHideTriggers.attr(t,"true")}this.wasShownByFocusInteraction=!1}},hide:function(){if(p.AbstractPageChildView.prototype.hide.call(this),this.removePointerEvents(),this.hasAccessibilityFeature&&(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length)){if(this.isCarouselSlide?this.$onClickShowHideTriggers.removeAttr("aria-current"):this.$onClickShowHideTriggers.attr("aria-expanded","false"),this.wasShownByFocusInteraction)return void(this.wasShownByFocusInteraction=!1);if(!("keyboard"!==M.default.ask()||document.activeElement&&document.activeElement.classList.contains("ceros-no-return-focus"))){if(void 0===this.$outsideClickShowHideTriggers){var t=this;this.$outsideClickShowHideTriggers=this.$onClickShowHideTriggers.filter((function(){return t.id!==this.id&&!l.default.contains(t.$el[0],this)}))}1!==this.$outsideClickShowHideTriggers.length||this.$outsideClickShowHideTriggers.is(":focus")||this.$outsideClickShowHideTriggers.focus()}}},populateOnClickShowHideTriggers:function(){this.$onClickShowHideTriggers=l.default("[aria-controls~='"+this.id+"']")},parentsHaveInteractions:function(){var t=this.options.parentSmartGroup||this.parentViews;if(t&&(!Array.isArray(t)||t.length)){var e=[];if(this.options.parentSmartGroup)e=this.options.parentSmartGroup.interactions;else for(var n=0;n<this.parentViews.length;++n)this.parentViews[n].validInteractions&&(e.push(this.parentViews[n].validInteractions.click),e.push(this.parentViews[n].validInteractions.hover),e.push(this.parentViews[n].validInteractions.view));return!!c.default.filter(c.default.flatten(e)).length}},sendPublishedHoverEvents:function(){var t=this.getModule();t.trigger(t.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,this.getEventInteractionData())},_handleOnEscKeyPressed:function(t){var e=this;x.default.isEscKeyPressed(t)&&this.$el.attr("aria-controls")&&(void 0===this.hideableTargets&&(this.hideableTargets=c.default.reduce(this.$el.attr("aria-controls").split(" "),(function(t,n){var i=e.options.pageView.findChildView(n);return i&&i.$el.hasClass("ceros-hideable")&&t.push(n),t}),[])),this.hideableTargets.length&&this.options.pageView.invokeHideAction(this.hideableTargets),t.stopPropagation())}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a="undefined"!=typeof WebKitAnimationEvent?"-webkit-":"undefined"!=typeof AnimationEvent?"":null,s=function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]};o.default.extend(s.prototype,{reset:function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]},_generateKeyframe:function(t,e,n,i){var r=t+"|"+JSON.stringify(e);if(0!==i&&(r+="|"+n+"|"+i),this.keyframeMap.hasOwnProperty(r))return this.keyframeMap[r];var s="@"+a+"keyframes keyframe"+this.keyframeInc+"{",u=o.default.sortBy(o.default.keys(e),(function(t){return parseInt(t,10)}));if(0===i)o.default.each(u,(function(n){s+=n+"{"+t+":"+e[n]+"}"}));else{var l=o.default.round(i/(i+n)*100,5),c=100-l;s+="0%{"+t+":"+e["0%"]+"}"+l+"%{"+t+":"+e["0%"]+"}",o.default.each(u,(function(n){"0%"!=n&&(s+=Math.round(l+c*(parseInt(n,10)/100))+"%{"+t+":"+e[n]+"}")}))}return s+="}",this.ruleBuffer.push(s),this.keyframeMap[r]="keyframe"+this.keyframeInc++,this.keyframeMap[r]},_generatePauseClass:function(t){var e="sequencePause"+t;if(!o.default.includes(this.pauseClassCache,e)){this.pauseClassCache.push(e);var n=[];o.default(t).times((function(){n.push("paused")})),this.ruleBuffer.push("."+e+"{"+a+"animation-play-state:"+n.join(",")+" !important;}")}return e},_generateRunClass:function(t,e,n,i){var r="sequenceRun"+this.sequenceInc++;return this.ruleBuffer.push("."+r+"{"+a+"animation-name:"+t.join(",")+";"+a+"animation-duration:"+e.join(",")+";"+a+"animation-timing-function:"+n.join(",")+";"+a+"animation-fill-mode:"+o.default.map(t,(function(){return"both"})).join(",")+";"+a+"animation-play-state:"+o.default.map(t,(function(){return"running"})).join(",")+";"+a+"animation-iteration-count:"+i.join(",")+";}"),r},generate:function(t){var e=o.default.map(t,(function(t){return t.getKey()})).join("&");if(!this.sequenceMap.hasOwnProperty(e)){var n=[],i=[],r=[],s=[],u=this;o.default.each(t,(function(t){var e="transform"==t.property?a+"transform":t.property;n.push(u._generateKeyframe(e,t.frames,t.duration,t.delay)),i.push(t.duration+t.delay+"ms"),r.push(t.easing),s.push(t.iterations)})),this.sequenceMap[e]={runClass:this._generateRunClass(n,i,r,s),pauseClass:this._generatePauseClass(t.length)}}return this.sequenceMap[e]},flush:function(){this.ruleBuffer.length>0&&(r.default("head").append(r.default("<style></style>").html(this.ruleBuffer.join("\n"))),this.ruleBuffer=[])}});var u=null;e.default=(null===u&&(u=new s),u)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={Tween:function(t,e,n,i,r,o){if(this.property=t,this.frames=e,this.duration=n,this.delay=i||0,this.iterations=r,this.easing=o,!this.frames.hasOwnProperty("0%"))throw Error("Tween must define 0% keyframe!");if(!this.frames.hasOwnProperty("100%"))throw Error("Tween must define 100% keyframe!");this._normalize()}};o.Tween.prototype={_normalize:function(){r.default.isUndefined(this.iterations)?this.iterations=1:r.default.isNumber(this.iterations)?(this.iterations=parseInt(this.iterations,10),this.iterations<0&&(this.iterations=0)):this.iterations="infinite"},getKey:function(){for(var t=r.default.values(this),e=0;e<t.length;e++)"object"==typeof t[e]&&(t[e]=JSON.stringify(t[e]));return t.join("|")}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=["noDirection","center","left","right","up","down","topRight","topLeft","bottomRight","bottomLeft","backwards","forwards","verticalCenter","horizontalCenter","clockwise","counterClockwise","diagonal1","diagonal2"],a={},s={"Entry Effects":{FADE_IN:{label:"Fade In",directions:{noDirection:"fadeIn",left:"fadeLeft",right:"fadeRight",up:"fadeUp",down:"fadeDown"}},SPIN_FADE_IN:{label:"Spin and Fade In",directions:{counterClockwise:"spinLeftFade",clockwise:"spinRightFade"}},SLIDE_IN:{label:"Slide In",directions:{center:"enlargeFadeIn",left:"slideLeft",right:"slideRight",up:"slideUp",down:"slideDown",topRight:"slideTopRight",topLeft:"slideTopLeft",bottomRight:"slideBottomRight",bottomLeft:"slideBottomLeft"}},BOUNCE_IN:{label:"Bounce In",directions:{left:"bounceRight",right:"bounceLeft",up:"bounceUp",down:"bounceDown"}},LIGHTSPEED_IN:{label:"Light Speed In",directions:{left:"lightSpeedLeftIn",right:"lightSpeedRightIn"}},ROLL_IN:{label:"Roll In",directions:{left:"rollLeftIn",right:"rollRightIn"}},FLIP_IN:{label:"Rock In",directions:{verticalCenter:"flipInX",horizontalCenter:"flipInY"}},SHIFT_IN:{label:"Shift In",directions:{left:"shiftLeft",right:"shiftRight",up:"shiftUp",down:"shiftDown"}},SWING:{label:"Swing",directions:{left:"swingLeft",right:"swingRight",up:"swingTop",down:"swingBottom",bottomRight:"swingTopLeft",bottomLeft:"swingTopRight",topRight:"swingBottomLeft",topLeft:"swingBottomRight"}},SCALE_UP:{label:"Scale Up",directions:{left:"scaleUpLeft",right:"scaleUpRight",center:"enlarge",up:"scaleUpTop",down:"scaleUpBottom"}},EXPAND:{label:"Expand",directions:{left:"scaleUpHorizontalLeft",right:"scaleUpHorizontalRight",down:"scaleUpVerticalTop",up:"scaleUpVerticalBottom",horizontalCenter:"scaleUpHorizontalCenter",verticalCenter:"scaleUpVerticalCenter"}}},"Attention Seekers":{SPIN:{label:"Spin",directions:{clockwise:"spinRight",counterClockwise:"spinLeft"}},FLASH:{label:"Flash",directions:{noDirection:"flash"}},PULSE:{label:"Pulse",directions:{noDirection:"pulse"}},BOB:{label:"Bob",directions:{noDirection:"bob"}},TADA:{label:"Tada",directions:{noDirection:"tada"}},FLIP:{label:"Flip",directions:{horizontalCenter:"flip",verticalCenter:"flipHorizontal",diagonal2:"flipDiagonalRight",diagonal1:"flipDiagonalLeft"}},ROTATE_90:{label:"Rotate 90°",directions:{clockwise:"rotateCW90",counterClockwise:"rotateCCW90"}},SHAKE:{label:"Shake",directions:{noDirection:"shake"}},JELLO:{label:"Jello",directions:{noDirection:"jelloHorizontal"}},WOBBLE:{label:"Wobble",directions:{down:"wobbleTop",up:"wobbleBottom",right:"wobbleLeft",left:"wobbleRight"}},VIBRATE:{label:"Vibrate",directions:{noDirection:"vibrate"}},KEN_BURNS:{label:"Ken Burns",directions:{up:"kenBurnsTop",down:"kenBurnsBottom",left:"kenBurnsLeft",right:"kenBurnsRight"}}},"Exit Effects":{FADE_OUT:{label:"Fade Out",directions:{noDirection:"fadeOut",left:"fadeLeftOut",right:"fadeRightOut",up:"fadeUpOut",down:"fadeDownOut"}},SPIN_FADE_OUT:{label:"Spin and Fade Out",directions:{counterClockwise:"spinLeftFadeOut",clockwise:"spinRightFadeOut"}},SLIDE_OUT:{label:"Slide Out",directions:{right:"slideLeftOut",left:"slideRightOut",up:"slideUpOut",down:"slideDownOut",noDirection:"shrinkFadeOut",topRight:"slideTopRightOut",topLeft:"slideTopLeftOut",bottomRight:"slideBottomRightOut",bottomLeft:"slideBottomLeftOut"}},BOUNCE_OUT:{label:"Bounce Out",directions:{left:"bounceLeftOut",right:"bounceRightOut",up:"bounceUpOut",down:"bounceDownOut"}},LIGHTSPEED_OUT:{label:"Light Speed Out",directions:{left:"lightSpeedLeftOut",right:"lightSpeedRightOut"}},ROLL_OUT:{label:"Roll Out",directions:{left:"rollLeftOut",right:"rollRightOut"}},FLIP_OUT:{label:"Rock Out",directions:{verticalCenter:"flipOutX",horizontalCenter:"flipOutY"}},SHIFT_OUT:{label:"Shift Out",directions:{left:"shiftLeftOut",right:"shiftRightOut",up:"shiftUpOut",down:"shiftDownOut"}},SCALE_DOWN:{label:"Scale Down",directions:{left:"scaleDownLeft",right:"scaleDownRight",center:"shrink",down:"scaleDownTop",up:"scaleDownBottom"}},SHRINK:{label:"Shrink",directions:{down:"scaleDownVerticalTop",up:"scaleDownVerticalBottom",left:"scaleDownHorizontalLeft",right:"scaleDownHorizontalRight",verticalCenter:"scaleDownVerticalCenter",horizontalCenter:"scaleDownHorizontalCenter"}}}},u={},l={},c={};r.default.each(s,(function(t,e){c[e]={},r.default.each(t,(function(t,n){u[n]=t,c[e][n]=t.label,r.default.each(o,(function(e){t.directions.hasOwnProperty(e)&&(l[t.directions[e]]={title:n,direction:e})}))}))})),e.default={DIRECTIONS:o,EFFECT_MAP:u,DROPDOWN_OPTIONS:c,getTypeFromTitleAndDirection:function(t,e){return e||(e="noDirection"),u[t].directions[e]},getTitleAndDirectionFromType:function(t){return l[t]},getDirectionsForTitle:function(t){return r.default.keys(u[t].directions)},isEntryAnimation:function(t){if(a.hasOwnProperty(t))return a[t];for(var e=!1,n=s["Entry Effects"],i=Object.keys(n),o=0;o<i.length;++o){var u=r.default.values(n[i[o]].directions);if(r.default.includes(u,t)){e=!0;break}}return a[t]=e,e}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(24)),a=i(n(360)),s=i(n(14)),u={0:[0,0],15:[-30,6],30:[15,-6],45:[-15,3.6],60:[9,-2.4],75:[-6,1.2],100:[0,0]},l={0:[1,1],30:[1.25,.75],40:[.75,1.25],50:[1.15,.85],65:[.95,1.15],75:[1.05,.95],100:[1,1]},c={0:0,10:2,20:-4,30:4,40:-4,50:4,60:-4,70:4,80:-2,90:2,100:0},d={0:[0,0,0],20:[-3,-.1,-.1],30:[3,.1,.1],40:[-3,.1,.1],50:[3,.1,.1],60:[-3,.1,.1],70:[3,.1,.1],80:[-3,.1,.1],90:[3,.1,.1],100:[0,0,0]},f={0:[0,0],5:[-2,2],10:[-2,-2],15:[2,2],20:[2,-2],25:[-2,2],30:[-2,-2],35:[2,2],40:[2,-2],45:[-2,2],50:[-2,-2],55:[2,2],60:[2,-2],65:[-2,2],70:[-2,-2],75:[2,2],80:[2,-2],85:[-2,2],90:[-2,-2],95:[2,2],100:[0,0]};e.default={compileNewSequence:function(t,e,n){var i=null;if(r.default.isString(e.type)&&!r.default.isEmpty(e.type)&&r.default.isNumber(e.duration)&&e.duration>0){var s={$el:t,name:e.type,requiresHardwareAcceleration:n.get("requiresHardwareAcceleration")};(i=new a.default(s)).precompile(),!r.default.isUndefined(e.delay)&&r.default.isNumber(e.delay)||(e.delay=0),!0===e.loop&&i.setLoop(!0),r.default.isFunction(this[e.type])?this[e.type](i,e,n):o.default.warn("Animation type not supported: "+JSON.stringify(e)),i.compile()}return i},getIterations:function(t){var e=t.iterations?t.iterations:1;return!0===t.loop&&(e="infinite"),e},getDuration:function(t){return 1e3*t.duration},getDelay:function(t){return 1e3*t.delay},getEasing:function(t){return t.easing},buildTween:function(t,e,n){return new a.default.Tween(e,n,this.getDuration(t),this.getDelay(t),this.getIterations(t),this.getEasing(t))},fadeIn:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":0,"100%":n.get("opacity")}))},fadeOut:function(t,e,n){t.add(this.buildTween(e,"opacity",{"0%":n.get("opacity"),"100%":0}))},spinSequence:function(t,e,n,i,r){var o=n.getScale(),a=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":a,"100%":a}))},spinRight:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-360,i)},spinLeft:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+360,i)},rotateCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i-90,i)},rotateCCW90:function(t,e,n){var i=n.get("rotation");this.spinSequence(t,e,n,i+90,i)},slideInXSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("x");s.default.mobile()?t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateX(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInYSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("y");s.default.mobile()?t.add(this.buildTween(e,"top",{"0%":i.y+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateY("+(i.y-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateY(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":i.x+"px","100%":u+"px"})),t.add(this.buildTween(e,"top",{"0%":r.y+"px","100%":l+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeft:function(t,e,n){this.slideLeftIn(t,e,n)},slideLeftIn:function(t,e,n){var i=n.getOffPageRight();this.slideInXSequence(t,e,n,i)},slideRight:function(t,e,n){this.slideRightIn(t,e,n)},slideRightIn:function(t,e,n){var i=n.getOffPageLeft();this.slideInXSequence(t,e,n,i)},slideDown:function(t,e,n){this.slideDownIn(t,e,n)},slideDownIn:function(t,e,n){var i=n.getOffPageTop();this.slideInYSequence(t,e,n,i)},slideUp:function(t,e,n){this.slideUpIn(t,e,n)},slideUpIn:function(t,e,n){var i=n.getOffPageBottom();this.slideInYSequence(t,e,n,i)},slideTopRight:function(t,e,n){var i=n.getOffPageBottom(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideTopLeft:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideInXYSequence(t,e,n,i,r)},slideBottomRight:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideInXYSequence(t,e,n,r,i)},slideBottomLeft:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideInXYSequence(t,e,n,r,i)},slideOutSequence:function(t,e,n,i){var r=n.get("x"),o=n.get("y");t.add(this.buildTween(e,"left",{"0%":r+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":o+"px","100%":i.y+"px"}))},slideOutXYSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),u=n.get("x"),l=n.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":u+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":l+"px","100%":r.y+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX("+(i.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeftOut:function(t,e,n){var i=n.getOffPageRight();this.slideOutSequence(t,e,n,i)},slideRightOut:function(t,e,n){var i=n.getOffPageLeft();this.slideOutSequence(t,e,n,i)},slideDownOut:function(t,e,n){var i=n.getOffPageBottom();this.slideOutSequence(t,e,n,i)},slideUpOut:function(t,e,n){var i=n.getOffPageTop();this.slideOutSequence(t,e,n,i)},slideTopRightOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageRight();this.slideOutXYSequence(t,e,n,r,i)},slideTopLeftOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getOffPageLeft();this.slideOutXYSequence(t,e,n,r,i)},slideBottomRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},slideBottomLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getOffPageBottom();this.slideOutXYSequence(t,e,n,i,r)},shake:function(t,e,n){var i=n.get("rotation"),o=n.getTransformOriginString(.5,.5,!0),a=n.getScale(),s={};r.default.each(c,(function(t,e){s[e+"%"]="rotate("+(i+t)+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform",s)),t.add(this.buildTween(e,"transform-origin",{"0%":o,"100%":o}))},shiftInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeft:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftInSequence(t,e,n,r)},shiftRight:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftInSequence(t,e,n,r)},shiftDown:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftInSequence(t,e,n,r)},shiftUp:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftInSequence(t,e,n,r)},shiftOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale();i.x*=o.x,i.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.shiftOutSequence(t,e,n,r)},shiftRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.shiftOutSequence(t,e,n,r)},shiftDownOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,i);this.shiftOutSequence(t,e,n,r)},shiftUpOut:function(t,e,n){var i=n.get("allHeight"),r=n.getRelativeRotatedPoint(0,-1*i);this.shiftOutSequence(t,e,n,r)},flash:function(t,e,n){var i=n.get("opacity");t.add(this.buildTween(e,"opacity",{"0%":i,"50%":0,"100%":i}))},pulse:function(t,e,n){var i=n.get("rotation"),r=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"rotate("+i+"deg) scale("+(r.x+.1)+","+(r.y+.1)+")","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},bob:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.getRelativeRotatedPoint(0,-30),a=n.getRelativeRotatedPoint(0,-15);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","40%":"translate("+o.x+"px,"+o.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","50%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","60%":"translate("+a.x+"px,"+a.y+"px) rotate("+i+"deg) scale("+r.x+","+r.y+")","80%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"translate(0,0) rotate("+i+"deg) scale("+r.x+","+r.y+")"}))},tada:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(d,(function(t,e){a[e+"%"]="rotate("+(i+t[0])+"deg) scale("+(o.x+t[1])+", "+(o.y+t[2])+")"})),t.add(this.buildTween(e,"transform",a));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},flipSequence:function(t,e,n,i,r){var o=n.getOffsetRotation(),a=Math.rotateCoord(i,r,0,0,o),s=n.get("rotation"),u=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate3d("+a.x+","+a.y+", 0, 180deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")","100%":"rotate3d("+a.x+","+a.y+", 0, 0deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")"}));var l=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":l,"100%":l}))},flip:function(t,e,n){this.flipSequence(t,e,n,0,1)},flipHorizontal:function(t,e,n){this.flipSequence(t,e,n,1,0)},flipDiagonalRight:function(t,e,n){this.flipSequence(t,e,n,1,1)},flipDiagonalLeft:function(t,e,n){this.flipSequence(t,e,n,-1,1)},flipInX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipInY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipOutX:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},flipOutY:function(t,e,n){var i=n.get("rotation"),r=n.getOffsetRotation(),o=n.getScale(),a=n.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+i+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},fadeUp:function(t,e,n){this.fadeUpIn(t,e,n)},fadeUpIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeInSequence(t,e,n,i)},fadeDown:function(t,e,n){this.fadeDownIn(t,e,n)},fadeDownIn:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeInSequence(t,e,n,i)},fadeRight:function(t,e,n){this.fadeRightIn(t,e,n)},fadeRightIn:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeInSequence(t,e,n,i)},fadeLeft:function(t,e,n){this.fadeLeftIn(t,e,n)},fadeLeftIn:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeInSequence(t,e,n,i)},fadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeUpOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,-25);this.fadeOutSequence(t,e,n,i)},fadeDownOut:function(t,e,n){var i=n.getRelativeRotatedPoint(0,25);this.fadeOutSequence(t,e,n,i)},fadeRightOut:function(t,e,n){var i=n.getRelativeRotatedPoint(25,0);this.fadeOutSequence(t,e,n,i)},fadeLeftOut:function(t,e,n){var i=n.getRelativeRotatedPoint(-25,0);this.fadeOutSequence(t,e,n,i)},bounceInSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":i.x+"px","60%":a+r.x+"px","80%":a+o.x+"px","100%":a+"px"})),t.add(this.buildTween(e,"top",{"0%":i.y+"px","60%":s+r.y+"px","80%":s+o.y+"px","100%":s+"px"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},bounceUp:function(t,e,n){this.bounceUpIn(t,e,n)},bounceUpIn:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,-30),o=n.getRelativeRotatedPoint(0,10);this.bounceInSequence(t,e,n,i,r,o)},bounceDown:function(t,e,n){this.bounceDownIn(t,e,n)},bounceDownIn:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,30),o=n.getRelativeRotatedPoint(0,-10);this.bounceInSequence(t,e,n,i,r,o)},bounceLeft:function(t,e,n){this.bounceLeftIn(t,e,n)},bounceLeftIn:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(30,0),o=n.getRelativeRotatedPoint(-10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceRight:function(t,e,n){this.bounceRightIn(t,e,n)},bounceRightIn:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(-30,0),o=n.getRelativeRotatedPoint(10,0);this.bounceInSequence(t,e,n,i,r,o)},bounceOutSequence:function(t,e,n,i,r,o){var a=n.get("x"),s=n.get("y"),u=n.get("opacity");t.add(this.buildTween(e,"left",{"0%":a+"px","20%":a+r.x+"px","40%":a+o.x+"px","100%":i.x+"px"})),t.add(this.buildTween(e,"top",{"0%":s+"px","20%":s+r.y+"px","40%":s+o.y+"px","100%":i.y+"px"})),t.add(this.buildTween(e,"opacity",{"0%":u,"60%":u,"100%":0}))},bounceUpOut:function(t,e,n){var i=n.getOffPageTop(),r=n.getRelativeRotatedPoint(0,-10),o=n.getRelativeRotatedPoint(0,30);this.bounceOutSequence(t,e,n,i,r,o)},bounceDownOut:function(t,e,n){var i=n.getOffPageBottom(),r=n.getRelativeRotatedPoint(0,10),o=n.getRelativeRotatedPoint(0,-30);this.bounceOutSequence(t,e,n,i,r,o)},bounceLeftOut:function(t,e,n){var i=n.getOffPageLeft(),r=n.getRelativeRotatedPoint(-10,0),o=n.getRelativeRotatedPoint(30,0);this.bounceOutSequence(t,e,n,i,r,o)},bounceRightOut:function(t,e,n){var i=n.getOffPageRight(),r=n.getRelativeRotatedPoint(10,0),o=n.getRelativeRotatedPoint(-30,0);this.bounceOutSequence(t,e,n,i,r,o)},spinFadeInSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFade:function(t,e,n){this.spinRightFadeIn(t,e,n)},spinRightFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,-90)},spinLeftFade:function(t,e,n){this.spinLeftFadeIn(t,e,n)},spinLeftFadeIn:function(t,e,n){this.spinFadeInSequence(t,e,n,90)},spinFadeOutSequence:function(t,e,n,i){var r=n.get("rotation"),o=n.getScale(),a=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+(r+i)+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}));var s=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,90)},spinLeftFadeOut:function(t,e,n){this.spinFadeOutSequence(t,e,n,-90)},lightSpeedInSequence:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u=n.get("opacity"),l="right"===o?1:-1;t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) skewX("+30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","60%":"translate("+r.x+"px,"+r.y+"px) skewX("+-30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","80%":"translate(0,0) skewX("+15*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","100%":"translate(0,0) skewX(0deg) rotate("+a+"deg) scale("+s.x+","+s.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},lightSpeedRight:function(t,e,n){this.lightSpeedRightIn(t,e,n)},lightSpeedRightIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(-1*o,0),s=n.getRelativeRotatedPoint(Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"right")},lightSpeedLeft:function(t,e,n){this.lightSpeedLeftIn(t,e,n)},lightSpeedLeftIn:function(t,e,n){var i=n.getScale(),r=n.get("width")*i.x,o=n.get("pageWidth"),a=n.getRelativeRotatedPoint(o,0),s=n.getRelativeRotatedPoint(-1*Math.round(.6*r),0);this.lightSpeedInSequence(t,e,n,a,s,"left")},lightSpeedOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity"),u=30*("right"===r?-1:1);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","60%":"translate("+i.x+"px,"+i.y+"px) skewX("+u+"deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"60%":0,"100%":0}))},lightSpeedRightOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(i,0);this.lightSpeedOutSequence(t,e,n,r,"right")},lightSpeedLeftOut:function(t,e,n){var i=n.get("pageWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.lightSpeedOutSequence(t,e,n,r,"left")},rollInSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")","100%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":s}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeft:function(t,e,n){this.rollLeftIn(t,e,n)},rollRightIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollInSequence(t,e,n,r,-120)},rollRight:function(t,e,n){this.rollRightIn(t,e,n)},rollLeftIn:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollInSequence(t,e,n,r,120)},rollOutSequence:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale(),s=n.get("opacity");i.x*=a.x,i.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+i.x+"px,"+i.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"100%":0}));var u=n.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeftOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(-1*i,0);this.rollOutSequence(t,e,n,r,-120)},rollRightOut:function(t,e,n){var i=n.get("allWidth"),r=n.getRelativeRotatedPoint(i,0);this.rollOutSequence(t,e,n,r,120)},enlargeFadeIn:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale(0)","100%":"rotate("+i+"deg) scale("+r.x+","+r.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":o}))},shrinkFadeOut:function(t,e,n){var i=n.get("rotation"),r=n.getScale(),o=n.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+i+"deg) scale("+r.x+","+r.y+")","100%":"rotate("+i+"deg) scale(0)"})),t.add(this.buildTween(e,"opacity",{"0%":o,"100%":0}))},scale:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale(),u="rotate("+a+"deg) scale(0, 0)",l="rotate("+a+"deg) scale("+s.x+","+s.y+")";o&&(u="rotate("+a+"deg) scale("+("x"===o?0:s.x)+","+("y"===o?0:s.y)+")");var c={"0%":u,"100%":l};if("down"===i&&(c={"0%":l,"100%":u}),t.add(this.buildTween(e,"transform",c)),r){var d=r;0===a&&1===s.x&&1===s.y||(d=n.getTransformOriginString(.5,.5,!0)),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":d}))}},enlarge:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5,!0))},scaleUpRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,.5))},scaleUpLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,.5))},scaleUpBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,0))},scaleUpTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,1))},scaleUpVerticalTop:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,0),"y")},scaleUpVerticalBottom:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,1),"y")},scaleUpVerticalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"y")},scaleUpHorizontalLeft:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(1,1),"x")},scaleUpHorizontalRight:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(0,0),"x")},scaleUpHorizontalCenter:function(t,e,n){this.scale(t,e,n,"up",n.getTransformOriginString(.5,.5),"x")},shrink:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5,!0))},scaleDownLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,.5))},scaleDownRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,.5))},scaleDownTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,1))},scaleDownBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,0))},scaleDownVerticalTop:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,1),"y")},scaleDownVerticalBottom:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,0),"y")},scaleDownVerticalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"y")},scaleDownHorizontalLeft:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(0,0),"x")},scaleDownHorizontalRight:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(1,1),"x")},scaleDownHorizontalCenter:function(t,e,n){this.scale(t,e,n,"down",n.getTransformOriginString(.5,.5),"x")},swing:function(t,e,n,i,r){var o=n.get("rotation"),a=n.getScale();t.add(this.buildTween(e,"transform",{"0%":i+" rotate("+o+"deg) scale("+a.x+", "+a.y+")","100%":"rotateX(0) rotateY(0) rotate("+o+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":n.getTransformOriginString(.5,.5,!0)})),t.add(this.buildTween(e,"transform-box",{"0%":"fill-box","100%":"fill-box"}))},swingTopLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(-180deg)",n.getTransformOriginString(0,0))},swingTopRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(-180deg)",n.getTransformOriginString(1,0))},swingBottomLeft:function(t,e,n){this.swing(t,e,n,"rotateX(180deg) rotateY(180deg)",n.getTransformOriginString(0,1))},swingBottomRight:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg) rotateY(180deg)",n.getTransformOriginString(1,1))},swingLeft:function(t,e,n){this.swing(t,e,n,"rotateY(180deg)",n.getTransformOriginString(1,.5))},swingRight:function(t,e,n){this.swing(t,e,n,"rotateY(-180deg)",n.getTransformOriginString(0,.5))},swingTop:function(t,e,n){this.swing(t,e,n,"rotateX(180deg)",n.getTransformOriginString(.5,1))},swingBottom:function(t,e,n){this.swing(t,e,n,"rotateX(-180deg)",n.getTransformOriginString(.5,0))},jelloHorizontal:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(l,(function(t,e){a[e+"%"]="scale("+t[0]*o.x+", "+t[1]*o.y+") rotate("+i+"deg)"})),t.add(this.buildTween(e,"transform",a))},wobble:function(t,e,n,i,o){var a=n.get("rotation"),s=n.getTransformOriginString(.5,.5,!0),l=n.getScale(),c="translate"+i,d=o?1:-1,f={};r.default.each(u,(function(t,e){var n=a+t[1]*d;f[e+"%"]=c+"("+t[0]+"px) rotate("+n+"deg) scale("+l.x+", "+l.y+")"})),t.add(this.buildTween(e,"transform",f)),t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},wobbleTop:function(t,e,n){this.wobble(t,e,n,"X",!0)},wobbleBottom:function(t,e,n){this.wobble(t,e,n,"X",!1)},wobbleLeft:function(t,e,n){this.wobble(t,e,n,"Y",!0)},wobbleRight:function(t,e,n){this.wobble(t,e,n,"Y",!1)},vibrate:function(t,e,n){var i=n.get("rotation"),o=n.getScale(),a={};r.default.each(f,(function(t,e){a[e+"%"]="translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"deg) scale("+o.x+", "+o.y+")"})),t.add(this.buildTween(e,"transform",a))},kenBurns:function(t,e,n,i,r,o){var a=n.get("rotation"),s=n.getScale();t.add(this.buildTween(e,"transform",{"0%":"scale("+s.x+", "+s.y+") translate(0, 0) rotate("+a+"deg)","100%":"scale("+1.25*s.x+", "+1.25*s.y+") translate("+i+") rotate("+a+"deg)"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":o}))},kenBurnsTop:function(t,e,n){this.kenBurns(t,e,n,"0, -15px",n.getTransformOriginString(.5,.16),n.getTransformOriginString(.5,0))},kenBurnsBottom:function(t,e,n){this.kenBurns(t,e,n,"0, 15px",n.getTransformOriginString(.5,.84),n.getTransformOriginString(.5,1))},kenBurnsLeft:function(t,e,n){this.kenBurns(t,e,n,"-20px, 0",n.getTransformOriginString(.16,.5),n.getTransformOriginString(0,.5))},kenBurnsRight:function(t,e,n){this.kenBurns(t,e,n,"20px, 0",n.getTransformOriginString(.84,.5),n.getTransformOriginString(1,.5))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13));e.default=o.default.Model.extend({getCenter:function(){return{x:this.get("x")+this.get("width")/2,y:this.get("y")+this.get("height")/2}},getScale:function(){return{x:r.default.isUndefined(this.get("scaleWidth"))?1:this.get("scaleWidth"),y:r.default.isUndefined(this.get("scaleHeight"))?1:this.get("scaleHeight")}},getOffsetX:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleWidth;if(1===t)return this.get("parentSmartgroup").options.x;var e=this.get("parentSmartgroup").options.width/2-this.get("parentSmartgroup").options.width*t/2;return this.get("parentSmartgroup").options.x+e},getOffsetY:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleHeight;if(1===t)return this.get("parentSmartgroup").options.y;var e=this.get("parentSmartgroup").options.height/2-this.get("parentSmartgroup").options.height*t/2;return this.get("parentSmartgroup").options.y+e},getOffsetRotation:function(){return this.get("parentSmartgroup")?Math.toRad(this.get("parentSmartgroup").options.rotation):0},getRelativeRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2;t+=i,e+=r;var o=Math.rotateCoord(t,e,i,r,n);t=o.x-i,e=o.y-r}return{x:t,y:e}},getRotatedPoint:function(t,e){var n=this.getOffsetRotation();if(n){var i=this.get("allWidth")/2,r=this.get("allHeight")/2,o=this.getCenter();t+=i,e+=r;var a=Math.rotateCoord(t,e,o.x,o.y,n);t=a.x-i,e=a.y-r}return{x:t,y:e}},getRotatedCenter:function(){var t=this.getOffsetRotation(),e=this.get("parentSmartgroup"),n=this.getCenter();if(e&&t>0){var i=e.options.width/2,r=e.options.height/2;return Math.rotateCoord(n.x,n.y,i,r,-1*t)}return{x:n.x,y:n.y}},getOffPageY:function(t){var e=this.get("x"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().y-r.y,this.getRotatedPoint(e,t)}return{x:e,y:t}},getOffPageTop:function(){var t=-1*(1+this.getOffsetY());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t-=this.get("allHeight"),this.getOffPageY(t)},getOffPageBottom:function(){var t=this.get("pageHeight")+1-this.getOffsetY();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t+=this.get("allHeight")-this.get("height"),this.getOffPageY(t)},getOffPageX:function(t){var e=this.get("y"),n=this.get("parentSmartgroup"),i=this.getOffsetRotation();if(n&&i>0){var r=this.getCenter();return t-=this.getRotatedCenter().x-r.x,this.getRotatedPoint(t,e)}return{x:t,y:e}},getOffPageLeft:function(){var t=-1*(1+this.getOffsetX());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t-=this.get("allWidth"),this.getOffPageX(t)},getOffPageRight:function(){var t=this.get("pageWidth")+1-this.getOffsetX();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t+=this.get("allWidth")-this.get("width"),this.getOffPageX(t)},getTransformOriginString:function(t,e,n){var i=this.get("width")*t,r=this.get("height")*e;if(!n){var o=this.getScale();i*=o.x,r*=o.y}return i+"px "+r+"px"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.editorToggleService=e.EditorToggleEvent=void 0;var u,l=s(n(13));!function(t){t.CHANGED="changed"}(u=e.EditorToggleEvent||(e.EditorToggleEvent={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._editMode=!1,e}return r(e,t),Object.defineProperty(e.prototype,"editMode",{get:function(){return this._editMode},set:function(t){this._editMode!==t&&(this._editMode=t,this.trigger(u.CHANGED,this._editMode))},enumerable:!1,configurable:!0}),e.prototype.toggleMode=function(){this.editMode=!this.editMode},e.prototype.enableEditMode=function(){this.editMode=!0},e.prototype.enableBrowseMode=function(){this.editMode=!1},e}(l.Model);e.editorToggleService=new c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=n(108),a=i(n(143)),s=i(n(130));e.default=o.AbstractComponentView.extend({type:"shape",render:function(){if(this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),o.AbstractComponentView.prototype.render.call(this),this.isMaskImage()){var t=this.createMaskImage();this.renderAsMask(t)}else!r.default.isEmpty(this.options.background)||!r.default.isEmpty(this.options.border)&&0!==this.options.border.width||r.default.isEmpty(this.options.action)||this.$el.css({"background-color":"white",opacity:0});return this},hasShadow:function(t){return!r.default.isEmpty(this.options.background)&&o.AbstractComponentView.prototype.hasShadow.call(this,t)},createMaskImage:function(){var t=this.options,e=t.x,n=t.y,i=t.width,r=t.height,o=t.allHeight,s=t.allWidth,u=t.rotation,l=this.getBorderForMask(),c='\n        <svg\n          id="mask-'+this.options.id+'"\n          overflow="visible"\n          xmlns="http://www.w3.org/2000/svg">\n           <rect\n                width="'+i+'"\n                height="'+r+'"\n                style="fill:rgb(0,0,0);\n                stroke-width:0;\n                stroke:rgb(0,0,0)"\n                rx="'+l+'"\n                transform="rotate('+u+", "+s/2+", "+o/2+") translate("+e+", "+n+')"/>\n        </svg>\n      ';return a.default.encodedSvgStringAsBase64(c)},renderAsMask:function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},isMaskImage:function(){return!(!this.options.maskInfo||!this.options.maskInfo.maskedObjectId)},_applyRotation:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyRotation.call(this,t)},_applyPosition:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyPosition.call(this,0,0):o.AbstractComponentView.prototype._applyPosition.call(this,t,e)},_applyDimensions:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):o.AbstractComponentView.prototype._applyDimensions.call(this,t,e)},_applyBorder:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyBorder.call(this,t)},applyMaskProperties:function(){var t,e=this.$el,n=this.options.background;if((null==n?void 0:n.color)&&e.css("background",n.color),(null==n?void 0:n.gradient)&&(null===(t=null==n?void 0:n.gradient)||void 0===t?void 0:t.stops)){var i=n.gradient.angle;e.css("backgroundImage","linear-gradient("+i+"deg,"+s.default.buildStops(n.gradient.stops)+")")}},_applyBackground:function(t){o.AbstractComponentView.prototype._applyBackground.call(this,t),this.isMaskImage()&&this.applyMaskProperties()},getBorderForMask:function(){var t=this.options.border;if(t.radius){var e=(t.radius+"").split(",");if(1==e.length)return parseInt(e[0],10)}return 0},getApplyShadowTarget:function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:o.AbstractComponentView.prototype.getApplyShadowTarget.call(this)}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(24)),u=a(n(0)),l=a(n(559)),c=a(n(560)),d=a(n(14)),f=o(n(93));e.default=l.default.extend({type:"shape",render:function(){var t=this.canvasElement();if(!u.default.isFunction(t[0].getContext))return this;this.scale=c.default.getScale(),this.startX=0,this.startY=0;var e={width:this.options.width,height:this.options.height};if("square"===this.options.shape)throw Error("This component view cannot be used for square!");this.addShadowPadding(e),this.addBorderPadding(e),this.options.allWidth=e.width,this.options.allHeight=e.height,l.default.prototype.render.call(this);var n=this.options.shadow,i=this.options.border,r=this.options.background,o=e.width,a=e.height;!u.default.isEmpty(r)||!u.default.isEmpty(i)&&0!==i.width||u.default.isEmpty(this.options.action)||t.css({"background-color":"white",opacity:0}),this._applyDimensions(o,a),t[0].width=o*(d.default.retina()?2:1),t[0].height=a*(d.default.retina()?2:1);var s=this.getContextAndApplyBorderShadowStyles();return this.renderBackground(s,i,r,n),this},addShadowPadding:function(t){var e=this.options.shadow;if(!u.default.isEmpty(e)&&!u.default.isEmpty(this.options.background)&&""!==e){var n=this.options.rotation;if(n&&0!==n){var i=u.default.isNumber(e.x)?e.x:0,r=u.default.isNumber(e.y)?e.y:0;n=Math.toRad(n),e.x=i*Math.cos(n)+r*Math.sin(n),e.y=-1*i*Math.sin(n)+r*Math.cos(n)}e.blur=u.default.isNumber(e.blur)?Math.abs(e.blur):0,e.x=u.default.isNumber(e.x)?e.x:0,e.y=u.default.isNumber(e.y)?e.y:0,d.default.retina()&&!e.retinaReady&&(e.blur*=2,e.x*=2,e.y*=2,e.retinaReady=!0),e.x<0&&(this.options.x-=Math.abs(e.x)+e.blur,this.startX+=Math.abs(e.x)+e.blur),e.y<0&&(this.options.y-=Math.abs(e.y)+e.blur,this.startY+=Math.abs(e.y)+e.blur),t.width+=Math.abs(e.x)+e.blur,t.height+=Math.abs(e.y)+e.blur,e.blur>Math.abs(e.x)&&this._applyShadowXOffset(t,e),e.blur>Math.abs(e.y)&&this._applyShadowYOffset(t,e),this.options.shadow=e}},_applyShadowXOffset:function(t,e){var n=e.blur-Math.abs(e.x),i=this.options.isXAdjusted?0:n;t.width+=n,this.startX+=n,this.options.x-=i,this.options.isXAdjusted=!0},_applyShadowYOffset:function(t,e){var n=e.blur-Math.abs(e.y),i=this.options.isYAdjusted?0:n;t.height+=n,this.startY+=n,this.options.y-=i,this.options.isYAdjusted=!0},addBorderPadding:function(t){var e=this.options.border;!u.default.isEmpty(e)&&""!==e&&u.default.isNumber(e.width)&&(t.width+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),t.height+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),this.options.x-=e.width+this._offsetForPointyShapes(e),this.options.y-=e.width+this._offsetForPointyShapes(e),this.startX+=e.width+this._offsetForPointyShapes(e),this.startY+=e.width+this._offsetForPointyShapes(e))},getContextAndApplyBorderShadowStyles:function(){var t=this.canvasElement().get(0).getContext("2d");d.default.retina()&&t.scale(2,2),t.translate(this.startX,this.startY);var e=this.options.border;u.default.isEmpty(e)||""===e||(t.lineWidth=1==e.width?1.0001:e.width,t.strokeStyle=e.color);var n=this.options.shadow;return u.default.isEmpty(n)||u.default.isEmpty(this.options.background)||""===n||(t.shadowOffsetX=n.x,t.shadowOffsetY=n.y,t.shadowColor=n.color,t.shadowBlur=n.blur),t},_applyShadow:function(){},_applyBorder:function(){},_applyBackground:function(){},_sizeFactorForPointyShapes:function(){return"star2"==this.options.shape||"double-arrow"==this.options.shape?2:1},_offsetForPointyShapes:function(t){return"star2"==this.options.shape||"double-arrow"==this.options.shape||"single-arrow"==this.options.shape?t.width:0},renderBackground:function(t,e,n,i){t.save(),(u.default.isUndefined(this.options.pathData)||u.default.isNull(this.options.pathData)||""===this.options.pathData)&&(this.path=c.default.getPathFunc(this.options.shape)),"square"==this.options.shape||(null!==this.path?(t.save(),t.scale(this.options.width/this.scale.x,this.options.height/this.scale.y),t.beginPath(),this.path(t),t.closePath(),t.restore()):s.default.error("Unsupported shape")),t.save(),n&&n.gradient?this._renderGradient(t,n.gradient):n&&n.color&&(t.fillStyle=n.color,t.fill()),t.restore(),e&&e.width>0&&t.stroke(),t.restore()},_applyPosition:function(t,e,n){t=u.default.isNil(t)?this.options.x:t,e=u.default.isNil(e)?this.options.y:e;var i=this.getApplyPositionTarget();"square"==this.options.shape?l.default.prototype._applyPosition.call(this,t,e,n):(i.css("left",t+"px"),i.css("top",e+"px"))},_renderGradient:function(t,e){var n=f.calcRotatedLineIntersect(e.angle,this.options.width,this.options.height),i=n.startPt,r=n.endPt,o=t.createLinearGradient(Math.round(i.getX()),Math.round(i.getY()),Math.round(r.getX()),Math.round(r.getY()));u.default.each(e.stops,u.default.bind((function(t){o.addColorStop(t.stop,t.color)}),this)),t.fillStyle=o,t.fill()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=n(108);e.default=a.AbstractComponentView.extend({tagName:"canvas",canvasElement:function(){return this.$el.is("canvas")?this.$el:this.$el.find("canvas")},getApplyDimensionsTarget:function(){return this.$el.add(this.$el.find("canvas"))},applyTagOverride:function(){var t=this.tagOverride(),e=this.canvasElement();if(t){var n=this.getSpecifiedAttributes(this.$el[0].attributes),i=o.default("<"+t.tagName+"></"+t.tagName+">");i.attr(r.default.assign({},n,t.attributes));var a=this.getSpecifiedAttributes(i[0].attributes);if(this.$el.is(t.tagName)&&r.default.isEqual(n,a))return;this.unbindInteractions(),this.$el.replaceWith(i),e.css("left",0),e.css("top",0),this.setElement(i.append(e))}else this.$el.is("canvas")||(this.unbindInteractions(),e.attr("style",this.$el.attr("style")),this.$el.replaceWith(e),this.setElement(e))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(561)),s=i(n(277)),u=i(n(562)),l=function(){this.shapes=r.default(u.default),this.scale={x:parseInt(this.shapes.filter(":first").attr("width"),10),y:parseInt(this.shapes.filter(":first").attr("height"),10)},this.paths={},this.shapes.find("g").each(o.default.bind((function(t,e){var n,i=(e=r.default(e)).attr("id"),o=e.children(),s=this.getScale().x,u=this.getScale().y;this.paths[i]=null,o.length>0&&(o.is("path")?(n=a.default.parse(o.attr("d")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("polygon")?(n=a.default.pointsToPath(o.attr("points")),this.paths[i]=function(t){a.default.trace(t,n)}):o.is("circle")?this.paths[i]=function(t){var e=s>u?u/2:s/2;t.translate(s/2,u/2),t.scale(s>u?s/u:1,u>s?u/s:1),t.arc(0,0,e,0,Math.toRad(360),!0)}:o.is("rect")&&(this.paths[i]=function(t){t.rect(0,0,s,u)}))}),this))};o.default.extend(l.prototype,{getScale:function(){return this.scale},getPathFunc:function(t){return this.paths[t]},getAllShapes:function(){return o.default.keys(this.paths)},hasShape:function(t){return o.default.has(this.paths,t)},getImageResource:function(t,e,n,i,a){var u=r.default('<canvas width="'+e+'" height="'+n+'"></canvas>'),l=u[0].getContext("2d");l.save(),l.clearRect(0,0,e,n),o.default.isUndefined(i)||(l.fillStyle=i),o.default.isUndefined(a)||(l.strokeStyle=a);var c=this.getPathFunc(t);null!==c&&(l.scale(e/this.getScale().x,n/this.getScale().y),l.beginPath(),c(l),o.default.isUndefined(i)||l.fill(),o.default.isUndefined(a)||l.stroke()),l.restore();var d=new s.default(u[0].toDataURL());return u.remove(),d}}),e.default=new l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s=i(n(24)),u=i(n(0));e.default=(o=function(t,e){"string"==typeof e&&(e=r(e)),t.beginPath();var n,i,o,a,l,c,d=0,f=0,h=null,p=null;u.default.each(e,(function(e,r){var u=e.coords;switch(e.op){case"m":d+=u[0],f+=u[1],t.moveTo(d,f);break;case"M":h=d=u[0],p=f=u[1],t.moveTo(d,f);break;case"c":n=d+u[0],i=f+u[1],o=d+u[2],a=f+u[3],d+=u[4],f+=u[5],l=2*d-o,c=2*f-a,t.bezierCurveTo(n,i,o,a,d,f);break;case"C":n=u[0],i=u[1],o=u[2],a=u[3],d=u[4],f=u[5],l=2*d-o,c=2*f-a,t.bezierCurveTo(n,i,o,a,d,f);break;case"s":o=d+u[0],a=f+u[1],d+=u[2],f+=u[3],t.bezierCurveTo(l,c,o,a,d,f),l=2*d-o,c=2*f-a;break;case"q":n=d+u[0],i=f+u[1],d+=u[2],f+=u[3],l=2*d-n,c=2*f-i,t.quadraticCurveTo(n,i,d,f);break;case"t":d+=u[0],f+=u[1],t.quadraticCurveTo(l,c,d,f),l=2*d-l,c=2*f-c;break;case"l":d+=u[0],f+=u[1],t.lineTo(d,f);break;case"L":d=u[0],f=u[1],t.lineTo(d,f);break;case"h":d+=u[0],t.lineTo(d,f);break;case"H":d=u[0],t.lineTo(d,f);break;case"v":f+=u[0],t.lineTo(d,f);break;case"V":f=u[0],t.lineTo(d,f);break;case"z":case"Z":t.lineTo(h,p);break;default:s.default.warn("UNKNOWN SVG OP: "+e.op)}}))},{pointsToPath:function(t){t=t.replace(/(\s+)/g,";").split(";");var e="M";return u.default.each(t,(function(t,n){t.length>0&&(e+=(0===n?"":"L")+t)})),e+="z"},parse:r=function(t){var e=t.replace(/([MmZzLlHhVvCcSsQqTtAa])\s/g,"$1").replace(/\s-/g,"-").replace(/\s/g,",").match(/([MmZzLlHhVvCcSsQqTtAa](-?\d+[\.\s]?\d*,?)*)/g),n=[];return u.default.each(e,(function(t,i){var r=t.substr(1).replace(/-/g,",-").replace(/(^,)/,"").split(",");u.default.each(r,(function(t,e){r[e]=parseFloat(t)})),n.push({op:e[i].substr(0,1),coords:r})})),n},render:a=function(t,e,n,i){e&&null!==e&&(o(t,e),i&&t.stroke(),n&&t.fill())},stroke:function(t,e){a(t,e,!1,!0)},fill:function(t,e){a(t,e,!0,!1)},trace:o})},function(t,e,n){"use strict";n.r(e),e.default='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" width="1000px" height="1000px" viewBox="0 0 1000 1000" xml:space="preserve">\n<g id="single-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M0,346.2l696.6,0V0L1000,500\n\t\tl-303.4,500V653.9L0,653.9V346.2z"/>\n</g>\n<g id="double-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M232.8,653.9V1000L0,500\n\t\tL232.8,0v346.1l534.5,0V0L1000,500l-232.8,500V653.9L232.8,653.9z"/>\n</g>\n<g id="rounded-square" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,883.3\n\t\tc0,64.2-52.5,116.7-116.7,116.7H116.7C52.5,1000,0,947.5,0,883.3V116.7C0,52.5,52.5,0,116.7,0h766.7C947.5,0,1000,52.5,1000,116.7\n\t\tV883.3z"/>\n</g>\n<g id="triangle" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0L0,1000h1000L500,0"/>\n</g>\n<g id="right-triangle" display="none">\n\t<polygon display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" points="0.1,1000.5\n\t\t1000.5,1000.5 1000.5,0.1 \t"/>\n</g>\n<g id="single-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M454.5,0L1000,500l-545.5,500\n\t\tV700H0V300h454.5V0z"/>\n</g>\n<g id="double-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M517,680.3L517,680.3l-252,0\n\t\tV1000L0,500L265,0v319.6h218v0h252V0l265,500l-265,500V680.3H517z"/>\n</g>\n<g id="round-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M650.3,786.5\n\t\tC516.5,972.5,288.8,1000,288.8,1000c75.1-73.8,98.5-146,100.4-204.9C166.4,754.5,0,594.2,0,402.5C0,180.2,223.9,0,500,0\n\t\ts500,180.2,500,402.5C1000,582.6,853,735.1,650.3,786.5z"/>\n</g>\n<g id="square-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M796.5,800H648.4l-302.2,200\n\t\tl54.9-200H203.5C91.1,800,0,705.2,0,588.3V211.7C0,94.8,91.1,0,203.5,0h592.9C908.9,0,1000,94.8,1000,211.7v376.7\n\t\tC1000,705.2,908.9,800,796.5,800z"/>\n</g>\n<g id="star" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0l154.5,329.2L1000,382\n\t\tL750,638.2l59,361.8L500,829.2L191,1000l59-361.8L0,382l345.5-52.8L500,0z"/>\n</g>\n<g id="star2" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500.3,0l-98.1,410.7L0,382.3\n\t\tl339.8,225.2L191,999.6l308.1-270.4L808.7,1000L659,607.7l341-225.5l-402.3,28.2L500.3,0z"/>\n</g>\n<g id="pentagon" display="none">\n\t<path display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,382l-191,618H191L0,382L500,0L1000,382z"/>\n</g>\n<g id="circle" display="none">\n\t<circle display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" cx="500" cy="500" r="500"/>\n</g>\n<g id="square" display="none">\n\t<rect x="0" y="0" display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" width="1000" height="1000"/>\n</g>\n</svg>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=n(108);e.default=s.AbstractComponentView.extend({type:"html",onActivationStart:function(){if(this.previousCustomHtml!==this.options.customHtml)if(this.previousCustomHtml=this.options.customHtml,-1!==this.options.customHtml.indexOf("http:")&&"https:"===location.protocol)if(a.default.previewMode){this.$el.html("<p style='background-color:white'>Can't load an insecure resource on a secure page. Please publish your experience or change the embed code to use https.</p>")}else this.$el.empty();else if(this._hasHubspotCall()){var t=window.hbspt.forms.create;window.hbspt.forms.create=o.default.bind((function(e){e&&!e.target&&(e.target="#"+r.default.escapeSelector(this.el.id)),t(e)}),this),this._parseHtml(),window.hbspt.forms.create=t}else this._parseHtml()},_parseHtml:function(){this.$el.empty().html(r.default.parseHTML(this.options.customHtml,document,!0))},_hasHubspotCall:function(){return-1!==this.options.customHtml.indexOf("hbspt.forms.create")},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=n(108);e.default=o.AbstractComponentView.extend({type:"chartblocks-chart",renderHash:null,render:function(){o.AbstractComponentView.prototype.render.call(this);var t=this.generateRenderHash();if(t!==this.renderHash){this.oldX=this.options.x,this.oldY=this.options.y;var e=r.default("<iframe />");e.attr({width:this.options.width,height:this.options.height,src:this.getEmbedUrl(),frameBorder:"0"}),this.$el.empty(),this.$el.append(e),this.renderHash=t}},getEmbedUrl:function(){return"//embed.chartblocks.com/1.0/?c="+this.options.chartId+"&t="+this.options.requestToken},generateRenderHash:function(){return[this.options.width,this.options.height,this.options.chartId,this.options.requestToken].join(":")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(14)),s=i(n(566)),u=i(n(106)),l=i(n(364));e.default=l.default.extend({type:"hubspot-form",getContainerDivId:function(){return"hubspot-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"hubspot-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<div id="'+this.getContainerDivId()+'"></div>');t.addClass(this.getContainerClassName()),this.$el.append(t),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormSubmit:r.default.bind(this.handleSubmit,this)})},handleSubmit:function(t){this.doIframeHack(t),this.triggerSubmitInteractions("hubspot",this.options.hubId)},scaleComponent:function(){var t=this.options.pageView.getScaleContext().ratio,e=this.$("#"+this.getContainerDivId());this.options.pageView.scaleContext.useZoom(t)?e.css({zoom:1/t,transform:"scale("+t+")","transform-origin":"0 0",width:100/t+"%","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0"}):e.css({zoom:"initial",transform:"initial","transform-origin":"initial",width:"initial","-moz-transform-origin":"initial","-webkit-transform-origin":"initial","-ms-transform-origin":"initial"}),l.default.prototype.scaleComponent.call(this)},doIframeHack:function(t){if(a.default.isIos()||a.default.edge||a.default.isDesktopSafari()||a.default.msie){var e=!1,n=null,i=o.default(t).find("input[name=hs_context]").val();if(!r.default.isEmpty(i))try{var s=JSON.parse(i),l=u.default.getLocationWithoutParamsAndLayoutOrPageNumber();s.redirectUrl&&0===s.redirectUrl.indexOf(l)&&(n=s.redirectUrl),e=r.default.isEmpty(s.redirectUrl)||Boolean(n)}catch(t){}if(e){o.default("#hubspot-submit").remove();var c=o.default("<iframe></iframe>");c.attr("id","hubspot-submit"),c.attr("name","hubspot-submit"),c.css({position:"absolute",left:"99999px"}),o.default(document.body).append(c),o.default(t).attr("target","hubspot-submit"),n&&this.doThankYouMessageHack(t,n)}}},doThankYouMessageHack:function(t,e){var n=window.location.href,i=e+"&submissionGuid=1";window.history.replaceState({},"",i),r.default.defer(r.default.bind((function(){o.default(t).remove(),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormReady:function(){window.history.replaceState({},"",n)}})}),this))}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3));e.default={renderForm:function(t){t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var e=null;t.onTimeout&&(e=setTimeout(t.onTimeout,1e4)),this.removeStyleTagForDomId(t.domId),window.hbspt.forms.create({portalId:t.portalId,formId:t.formId,css:t.css,target:"#"+t.domId,onFormReady:function(n,i){e&&clearTimeout(e);var r=o.default("head style").last();-1!==r.text().indexOf(t.css)&&r.attr("data-hubspot-form",t.domId),t.onFormReady(n,i)},onFormSubmit:t.onFormSubmit})},removeStyleTagForDomId:function(t){o.default("style[data-hubspot-form="+t+"]").remove()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(568)),s=i(n(364));e.default=s.default.extend({type:"marketo-form",getContainerDivId:function(){return"marketo-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"marketo-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<form id="'+this.getContainerDivId()+'"></form>');t.addClass(this.getContainerClassName()),this.$el.append(t),a.default.renderForm({munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl,domId:this.getContainerDivId(),renderingElement:t,onFormSubmit:r.default.bind(this.handleSubmit,this),onFormReady:r.default.bind(this.handleReady,this),onTimeout:function(){window.Rollbar&&window.Rollbar.error("Marketo form failed to load. (Timeout error.)",{munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl})}})},handleReady:function(t){},handleSubmit:function(t,e){return this.triggerSubmitInteractions("marketo",this.options.munchkinId),r.default.defer(r.default.bind(this.renderForm,this)),!1}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(61)),s=i(n(569));e.default={renderForm:function(t){var e=this;t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var n=null;t.onTimeout&&(n=setTimeout(t.onTimeout,1e4)),window.MktoForms2.loadForm(t.marketoInstanceUrl,t.munchkinId,t.formId,(function(i){i?(i.render(t.renderingElement),n&&clearTimeout(n),i.getFormElem().find(".cf_widgetLoader").length>0?e.waitForSocialSignonRender(i).done((function(){i.onSuccess(t.onFormSubmit),t.onFormReady(i)})).fail((function(){t.onTimeout&&t.onTimeout()})):(i.onSuccess(t.onFormSubmit),t.onFormReady(i))):(n&&clearTimeout(n),t.onError&&t.onError(a.default.render("Your form, {{formName}}, has been deleted from your Marketo account. Please make a new form in Marketo or choose an existing form for this experience.",{formName:t.formName})))}))},waitForSocialSignonRender:function(t){var e=new o.default.Deferred,n=r.default.bind((function(){return o.default.trim(t.getFormElem().find(".cf_widget_socialsignon").html())}),this);return s.default.waitFor(n,125,1e4).done((function(){e.resolve()})).fail((function(){e.reject()})),e.promise()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(247));e.default={waitFor:function(t,e,n){var i=new r.default.Deferred,a=o.default(),s=function(){t()?i.resolve():o.default()-a>n?i.reject():setTimeout(s,e)};return s(),i.promise()}}},function(t,e,n){var i={"./i-live-here":365,"./i-live-here.js":365};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=570},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(108);e.default=i.AbstractComponentView.extend({type:"hotspot",render:function(){return i.AbstractComponentView.prototype.render.call(this),this.$el.css({"background-color":"transparent"}),this},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){},isUsingHoverAreaForMouseOut:function(){return!1}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="media-loading__media-type-icon {{#isImage}}-image{{/isImage}}{{^isImage}}-video{{/isImage}}"></div>\n<div class="media-loading__spinner"><div class="loader-spinner"></div></div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AlphaMaskCanvasImage=void 0;var r=i(n(143)),o=function(){function t(){this.image=new Image,this.image.crossOrigin="Anonymous",this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}return t.prototype.createMaskImageOnCanvas=function(t){var e=this;return this.image.src!==t?new Promise((function(n,i){e.image.onload=function(){n(e.image)},e.image.onerror=i,e.image.src=t})):Promise.resolve(this.image)},t.prototype.renderAndReturnMask=function(t,e){var n=this;return this.createMaskImageOnCanvas(t).then((function(t){return n.fetchRenderedMaskFromCanavas(t,e)}))},t.prototype.setOpacity=function(t,e){e<1&&(t.globalAlpha=e*t.globalAlpha)},t.prototype.fetchRenderedMaskFromCanavas=function(t,e){var n=e.x,i=e.y,o=e.width,a=e.height,s=e.allWidth,u=e.allHeight,l=e.rotation,c=e.opacity;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.canvas.width=s,this.canvas.height=u,t.width=o,t.height=a;var d=s/2,f=u/2,h=r.default.getScaleValueFromFlip(e),p=h.scaleXValue,g=h.scaleYValue;this.ctx.save(),this.setOpacity(this.ctx,c),this.ctx.translate(d,f),this.ctx.rotate(Math.toRad(l)),this.ctx.translate(-d,-f),this.ctx.scale(p,g);var m=e.flipHorizontal?-o-n:n,v=e.flipVertical?-a-i:i;return this.ctx.drawImage(t,m,v,o,a),this.ctx.restore(),this.canvas.toDataURL("image/png")},t}();e.AlphaMaskCanvasImage=o},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(292),a=r(n(366)),s=r(n(591)),u=r(n(369));function l(t){var e=i(i({},t),{imageLoader:t.posterLoader});return new a.default(e)}function c(t){return s.default.isNoSupport()?function(t){if(t.noAutoplayFallbackOption===u.default.NO_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return l(t);return new o.VideoComponentView(t)}(t):s.default.isMutedSupport()?function(t){var e=t.mutedAutoplayFallbackOption;if(e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY)return new o.VideoComponentView(t);if(e===u.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return l(t);return t.tapToPlay=!1,t.muted=!0,new o.VideoComponentView(t)}(t):(t.tapToPlay=!1,new o.VideoComponentView(t))}e.default={create:function(t){return t.videoAutoPlay?c(t):new o.VideoComponentView(t)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(576)),a=function(t){this.$videoElement=t};r.default.extend(a.prototype,o.default,{on:function(t,e){this.$videoElement.on(t,e)},getPosition:function(){return this.$videoElement.currentTime()},getLength:function(){return this.$videoElement.duration()},isPlaying:function(){return!1===this.$videoElement.ended()&&!1===this.$videoElement.paused()&&this.$videoElement.currentTime()>0},getCurrentSource:function(){return this.$videoElement.currentSource()}}),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={on:function(t,e){throw new Error("on() must be defined by child class")},getPosition:function(){throw new Error("getPosition() must be defined by child class")},getLength:function(){throw new Error("getLength() must be defined by child class")},isPlaying:function(){throw new Error("isPlaying() must be defined by child class")},getCurrentSource:function(){throw new Error("getCurrentSource() must be defined by child class")}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=function(t,e){this.video=t,this.loadedMetaData=!1,this.playedVideoBeforeMetaDataLoaded=!1,this.sentInitialPlayEvent=!1,this.progressPercents=[],this.isPlaying=!1,this.isTransitioningToPaused=!1,this.videoLength=e||!1,this.enabled=!0,this.currentPosition=0,this.lastPosition=0,this.progressStartPosition=0,this.isWindowVisible="hidden"!==document.visibilityState,this.addEventListeners()};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{PLAY:"play",PROGRESS_TIME:"progress_time",PROGRESS_PERCENT:"progress_percent"},enableTracking:function(){this.enabled||(this.enabled=!0,this.isWindowVisible&&this.restartProgressTracking())},disableTracking:function(){this.enabled&&(this.isWindowVisible&&this.triggerProgressEvent(this.lastPosition),this.enabled=!1)},addEventListeners:function(){document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?(this.isWindowVisible=!1,this.enabled&&this.triggerProgressEvent(this.lastPosition)):"visible"===document.visibilityState&&(this.isWindowVisible=!0,this.enabled&&this.restartProgressTracking())}),this));var t=this;r.default.each("loadedmetadata,timeupdate".split(","),(function(e){t.video.on(e,(function(){switch(t.currentPosition=t.video.getPosition(),t.videoLength&&(t.currentPosition=Math.min(t.currentPosition,t.videoLength)),t.isTransitioningToPaused=t.isPlaying&&!t.video.isPlaying(),t.isPlaying=t.video.isPlaying(),e){case"loadedmetadata":t.handleLoadedMetadataEvent();break;case"timeupdate":t.handleTimeUpdateEvent();break;default:throw new Error("Missing handler function for video event: "+e)}t.lastPosition=t.currentPosition}))}))},handleLoadedMetadataEvent:function(){this.loadedMetaData=!0,this.videoLength||!this.video.getLength()||this.video.getLength()===1/0||isNaN(this.video.getLength())||(this.videoLength=this.video.getLength()),this.playedVideoBeforeMetaDataLoaded&&(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0)},sendInitialPlayEvent:function(){this.sentInitialPlayEvent||this.playedVideoBeforeMetaDataLoaded||(this.loadedMetaData?(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0):this.playedVideoBeforeMetaDataLoaded=!0)},triggerPlayEvent:function(){this.triggerEvent(this.EVENTS.PLAY,{videoPosition:this.sanitizeVideoPosition(this.currentPosition)})},handleTimeUpdateEvent:function(){this.isPlaying&&this.sendInitialPlayEvent(),this.enabled&&this.isWindowVisible&&(this.currentPosition<this.lastPosition||Math.abs(this.currentPosition-this.lastPosition)>1?this.triggerProgressEvent(this.lastPosition):(this.isTransitioningToPaused||this.currentPosition-this.progressStartPosition>=10)&&this.triggerProgressEvent(),(this.isPlaying||this.isTransitioningToPaused)&&this.trackProgressPercent())},trackProgressPercent:function(){var t=this.videoLength?Math.floor(this.videoLength):this.videoLength;if(t&&100!==this.progressPercents.length){var e=Math.round(this.currentPosition/t*100);e=Math.max(1,Math.min(100,e));var n=1;t<100&&(n=Math.ceil(100/t));for(var i=0;i<n&&(this.addProgressPercentViewed(e),!(--e<=0));i++);}},addProgressPercentViewed:function(t){if(!r.default.includes(this.progressPercents,t)){this.progressPercents.push(t);var e=this.progressPercents.length;this.triggerEvent(this.EVENTS.PROGRESS_PERCENT,{progressPercent:e})}},triggerProgressEvent:function(t){var e=(t=t||this.currentPosition)-this.progressStartPosition;e>.1&&this.triggerEvent(this.EVENTS.PROGRESS_TIME,{videoPosition:this.sanitizeVideoPosition(this.progressStartPosition),videoPlayTime:this.round(e)}),this.restartProgressTracking()},triggerEvent:function(t,e){this.videoLength&&(e.videoLength=this.round(this.videoLength)),this.trigger(t,e)},restartProgressTracking:function(){this.progressStartPosition=this.currentPosition},round:function(t){return Math.round(100*t)/100},sanitizeVideoPosition:function(t){var e=this.round(t);return e<0&&(e=0),e}}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var o=r(n(145)),a=n(583),s=n(584),u=n(585),l=n(586),c=n(587),d=n(588),f=n(589);e.Video=function(t,e,n,r){void 0===n&&(n={mobile:!1,nativeTextTracks:!1}),o.default.registerComponent("BigPlayButton",a.BigPlayButton),o.default.registerComponent("VolumeBar",u.VolumeBar),o.default.registerComponent("MouseTimeDisplay",l.MouseTimeDisplay),o.default.registerComponent("SeekBar",s.SeekBar),o.default.registerComponent("ProgressControl",c.ProgressControl),o.default.registerComponent("SubsCapsButton",d.SubsCapsButton),o.default.registerComponent("TextTrackDisplay",f.TextTrackDisplay),o.default.log.level("error");var h={};return n.mobile&&(h={volumePanel:{inline:!1},children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","subsCapsButton","fullscreenToggle"]}),o.default(t,i(i({},e),{controlBar:i({pictureInPictureToggle:!1,children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},h),html5:{nativeAudioTracks:!1,nativeTextTracks:n.nativeTextTracks}}),r)}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(580),r=n(581),o=n(582);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,n)}function l(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(c(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function m(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=u.from(e,i)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,i,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,i,r){var o,a=1,s=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){d=!1;break}if(d)return o}return-1}function _(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function b(t,e,n,i){return H(B(e,t.length-n),t,n,i)}function w(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function T(t,e,n,i){return w(t,e,n,i)}function S(t,e,n,i){return H(U(e),t,n,i)}function O(t,e,n,i){return H(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,u,l=t[r],c=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=u.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,i,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(i,r),c=t.slice(e,n),d=0;d<s;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function x(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=V(t[o]);return r}function I(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function R(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function N(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function D(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,i,o){return o||D(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function j(t,e,n,i,o){return o||D(t,0,n,8),r.write(t,e,n,i,52,8),n+8}u.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;n=new u(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},u.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(129))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=l(t),a=i[0],s=i[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,a=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?r-1:0,f=n?-1:1,h=t[e+d];for(d+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+t[e+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=l}return(h?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*u-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPlayButton=void 0;var l=s(n(145)),c=u(n(14)),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isPromise=function(t){return null!=t&&"function"==typeof t.then},e.prototype.silencePromise=function(t){this.isPromise(t)&&t.then(null,(function(){}))},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;if(this.silencePromise(e),!this.player_.tech(!0)||c.default.isWindows()||n||this.player_.tech(!0).focus(),!c.default.isWindows())return}var i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(r){var o=function(){return r.focus()};this.isPromise(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},e}(l.getComponent("BigPlayButton"));e.BigPlayButton=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeekBar=void 0;var u=s(n(145)),l=n(293),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("SeekBar"));e.SeekBar=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBar=void 0;var u=s(n(145)),l=n(293),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,n=l.getPointerPosition(this.el_,t,e);return this.vertical()?n.y:n.x},e}(u.getComponent("VolumeBar"));e.VolumeBar=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTimeDisplay=void 0;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t,e){var n=this,i=(0,this.options_.playerOptions.getExperienceScale)().scale,r=e*this.player_.duration(),o=1*t.width/i;this.getChild("timeTooltip").updateTime(t,e,r,(function(){n.el_.style.left=o*e+"px"}))},e}(s(n(145)).getComponent("MouseTimeDisplay"));e.MouseTimeDisplay=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressControl=void 0;var u=s(n(145)),l=n(293);var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("playProgressBar"),i=e.getChild("mouseTimeDisplay");if(n||i){var r,o,a,s=e.el(),u=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,c=l.getBoundingClientRect(s,u),d=l.getPointerPosition(s,t,u).x;r=0,o=1,a=d,d=Math.min(Math.max(a,r),o),i&&i.update(c,d),n&&n.update(c,e.getProgress())}}},e}(u.getComponent("progressControl"));e.ProgressControl=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SubsCapsButton=void 0;var c=l(n(3)),d=u(n(145)),f=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Toggle Captions"),i}return r(e,t),e.prototype.createEl=function(e,n,i){var r=t.prototype.createEl.call(this,e,o(o({},n),{className:"vjs-subs-caps-button vjs-control vjs-button",title:"Toggle Captions",innerHTML:'<span class=\'captions-icon-active\' aria-hidden=true><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd">\n        <g fill="#FFF">\n            <g>\n                <g>\n                    <path d="M16 0c1.105 0 2 .895 2 2v12c0 1.105-.895 2-2 2H2c-1.105 0-2-.895-2-2V2C0 .895.895 0 2 0h14zM5.957 5.133c-1.086 0-1.086 0-1.789.71-.809.817-.809.817-.809 2.325 0 1.395 0 1.395.711 2.195.711.797.711.797 1.953.797 1.004 0 1.004 0 1.647-.59.571-.524.571-.524.758-1.326l.04-.205h-1.19c-.122.445-.122.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.018-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.379-1.499.379-.529.379-.529 1.035-.529.644 0 .644 0 .973.375.146.169.146.169.25.468l.05.157H8.48c-.027-.539-.027-.539-.398-1.074-.672-.953-.672-.953-2.125-.953zm5.777 0c-1.086 0-1.086 0-1.789.71-.808.817-.808.817-.808 2.325 0 1.395 0 1.395.71 2.195.712.797.712.797 1.954.797 1.004 0 1.004 0 1.646-.59.571-.524.571-.524.758-1.326l.041-.205h-1.191c-.121.445-.121.445-.305.668-.332.414-.332.414-.965.414-.617 0-.617 0-1.017-.482-.4-.483-.4-.483-.4-1.451 0-.97 0-.97.378-1.499.379-.529.379-.529 1.035-.529.645 0 .645 0 .973.375.147.169.147.169.251.468l.05.157h1.203c-.028-.539-.028-.539-.399-1.074-.671-.953-.671-.953-2.125-.953z" transform="translate(-996 -856) translate(636 571) translate(360 285)"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span><span aria-hidden="true" class="captions-icon-inactive"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16">\n    <g fill="none" fill-rule="evenodd" opacity=".8">\n        <g>\n            <g>\n                <g transform="translate(-996 -429) translate(636 144) translate(360 285)">\n                    <path fill="#FFF" fill-rule="nonzero" d="M6.023 11.16c.67 0 1.219-.196 1.647-.59.428-.393.695-.903.799-1.53H7.277c-.08.296-.182.519-.304.667-.222.276-.543.414-.965.414-.412 0-.75-.16-1.018-.482-.267-.322-.4-.806-.4-1.451 0-.646.126-1.146.379-1.499.252-.352.597-.529 1.035-.529.43 0 .754.125.973.375.122.14.222.35.3.625H8.48c-.018-.36-.15-.717-.398-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.54.545-.809 1.32-.809 2.325 0 .93.237 1.661.711 2.195.474.532 1.125.797 1.953.797zm5.778 0c.67 0 1.218-.196 1.646-.59.429-.393.695-.903.8-1.53h-1.192c-.081.296-.183.519-.305.667-.221.276-.543.414-.965.414-.411 0-.75-.16-1.017-.482-.267-.322-.4-.806-.4-1.451 0-.646.125-1.146.378-1.499.253-.352.598-.529 1.035-.529.43 0 .754.125.973.375.122.14.223.35.3.625h1.204c-.018-.36-.151-.717-.399-1.074-.448-.635-1.156-.953-2.125-.953-.724 0-1.32.237-1.789.71-.539.545-.808 1.32-.808 2.325 0 .93.237 1.661.71 2.195.475.532 1.126.797 1.954.797z"/>\n                    <rect width="16" height="14" x="1" y="1" stroke="#FFF" stroke-width="2" rx="2"/>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n</span>'}),o(o({},i),{"aria-pressed":!1}));return c.default(r).on("mouseout",this.removeFocusOutline.bind(this)),r},e.prototype.handleClick=function(){if(!this.track)if(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)this.track=this.player().el_.getElementsByTagName("track")[0].track;else for(var t=this.player_.textTracks(),e=0;e<t.length;e++)"captions"===t[e].kind&&(this.track=t[e]);"showing"!==this.track.mode?(this.track.mode="showing",this.el_.classList.add("captions-active"),this.el_.setAttribute("aria-pressed","true")):(this.track.mode="disabled",this.el_.classList.remove("captions-active"),this.el_.setAttribute("aria-pressed","false"))},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?c.default(t.target).blur():c.default(t.target).closest("button").blur()},e}(d.getComponent("Button"));e.SubsCapsButton=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextTrackDisplay=void 0;var l=s(n(145)),c=u(n(14)),d=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.updateDisplayState=function(e){if(t.prototype.updateDisplayState.call(this,e),this.shouldUpdateTrackCss()){var n=this.options_.playerOptions.getExperienceScale().scale;if(1!==n)for(var i=0;i<e.activeCues.length;i++){var r=e.activeCues[i].displayState;r&&(r.style.width=parseFloat(r.style.width)/n+"px",r.style.top=parseFloat(r.style.top)/n+"px",r.style.height=parseFloat(r.style.height)/n+"px",r.style["font-size"]=parseFloat(r.style["font-size"])/n+"px")}}},e.prototype.shouldUpdateTrackCss=function(){return c.default.isIpadPretendingToBeDesktop()&&!this.player_.isFullscreen()||c.default.isBrowserFirefox()&&!this.player_.isFullscreen()},e}(l.getComponent("TextTrackDisplay"));e.TextTrackDisplay=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&a(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BigPauseButton=void 0;var l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return t.prototype.controlText.call(i,"Pause Video"),i}return r(e,t),e.prototype.createEl=function(e,n,i){return t.prototype.createEl.call(this,e,o(o({},n),{className:"big-pause-button",title:"Pause Video",innerHTML:'<span class="vjs-icon-pause" aria-hidden="true"></span>'}),i)},e}(u(n(145)).getComponent("Button"));e.BigPauseButton=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(14)),a="full",s="muted",u="none",l=r.default.once((function(){return o.default.isIos()?o.default.isIosLessThan(10)?u:s:o.default.isAndroid()&&o.default.isBrowserChrome()?o.default.isBrowserChromeLessThan(53)?u:s:o.default.isDesktopSafari()&&!o.default.isDesktopSafariLessThan(11)||o.default.desktop()&&o.default.isBrowserChrome()&&!o.default.isBrowserChromeLessThan(66)||o.default.desktop()&&o.default.isBrowserFirefoxGreaterThanOrEqualTo(63)?s:a}));e.default={isFullSupport:function(){return l()===a},isMutedSupport:function(){return l()===s},isNoSupport:function(){return l()===u}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=n(370),s=n(155),u=i(n(154));e.default=a.AbstractTransformableGroupView.extend({sizeAdjusted:!1,initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("smart-group"),this.childViews={},this.setSizeFromExtents()},setSizeFromExtents:function(){o.default.previewMode&&(this.options=r.default.clone(this.options)),this.options.scaleWidth=this.options.width/100,this.options.scaleHeight=this.options.height/100;var t=[];r.default.each(this.options.layers,(function(e){!function e(n){if("folder"===n.type)r.default.each(n.items,(function(t){e(t)}));else{var i=n,o=u.default.getExtentsFromDimensions(i.x,i.y,i.width,i.height,Math.toRad(i.rotation),i.border&&i.border.width?i.border.width:0);t.push(o)}}(e)}));var e=u.default.getSmallestContainingRectangle.apply(u.default,t);this.options.width=e.x2-e.x1,this.options.height=e.y2-e.y1;var n=this.options.width/2,i=this.options.height/2,a=this.options.width/2*this.options.scaleWidth,s=this.options.height/2*this.options.scaleHeight;this.options.originalX=this.options.x,this.options.originalY=this.options.y,this.options.x=this.options.x-(n-a),this.options.y=this.options.y-(i-s),this.options.fixedPosition&&(this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y),this.sizeAdjusted=!0},_applyDimensions:function(t,e){a.AbstractTransformableGroupView.prototype._applyDimensions.call(this,t,e),s.CssUtils.setTransformToElement(this.$el,{scale:{x:this.options.scaleWidth,y:this.options.scaleHeight}})},render:function(){this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.render.call(this)},applyChanges:function(t){this.sizeAdjusted=!1,a.AbstractTransformableGroupView.prototype.applyChanges.call(this,t)},getAnimatedObjectModelData:function(){return this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.getAnimatedObjectModelData.call(this)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(14)),o=n(108),a=n(144);e.default=o.AbstractComponentView.extend({render:function(){o.AbstractComponentView.prototype.render.apply(this,arguments),this.$el.off("focus.resize").on("focus.resize",this.applyFocusDimensions.bind(this)),this.$el.off("blur.resize").on("blur.resize",this._applyDimensions.bind(this))},applyFocusDimensions:function(){this.$el.css({height:this.options.height,width:this.options.width})},_applyDimensions:function(t,e){this.$el.css({height:r.default.webkit?"1px":"",width:r.default.webkit?"1px":""});var n=this.options.width/2+"px "+this.options.height/2+"px";this.$el.css("transform-origin",n),this.$el.css("-moz-transform-origin",n),this.$el.css("-webkit-transform-origin",n),this.$el.css("-ms-transform-origin",n)},callObjectStateInvoker:function(t,e){a.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)}})},function(t,e,n){"use strict";n.r(e),e.default='<svg\n  id="{{componentId}}"\n  name="{{svgName}}"\n  overflow="visible"\n  xmlns="http://www.w3.org/2000/svg"\n  class="custom-path-component"\n  aria-hidden="true"\n>\n  <linearGradient id="{{gradientName}}">\n    <stop id="{{gradientStop0Name}}" offset="0%" style="stop-color:{{gradientStop0.color}};stop-opacity:1" />\n    <stop id="{{gradientStop1Name}}" offset="100%" style="stop-color:{{gradientStop1.color}};stop-opacity:1" />\n  </linearGradient>\n  {{{subview}}}\n</svg>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathComponentView=void 0;var s=n(248),u=n(217),l=a(n(61)),c=a(n(596)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hotspot-path",e}return r(e,t),e.prototype.callObjectStateInvoker=function(){},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=u.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return l.default.render(c.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(s.AbstractCustomPathComponentView);e.HotspotPathComponentView=d},function(t,e,n){"use strict";n.r(e),e.default='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CircleComponentView=void 0;var s=a(n(61)),u=n(248),l=a(n(598)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("ellipse")},e.prototype.getCircleDimensions=function(){var t=this.options.width/2,e=this.options.height/2;return{cx:t,cy:e,rx:t,ry:e}},e.prototype.renderShape=function(t){return void 0===t&&(t={}),s.default.render(l.default,o(o({},this.getCircleDimensions()),t))},e}(u.AbstractCustomPathComponentView);e.CircleComponentView=c},function(t,e,n){"use strict";n.r(e),e.default='<ellipse\n  cx="{{cx}}"\n  cy="{{cy}}"\n  rx="{{rx}}"\n  ry="{{ry}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineComponentView=void 0;var s=a(n(61)),u=n(372),l=n(217),c=a(n(373)),d=n(144),f=function(t){function e(e){var n=t.call(this,e)||this;n.type="line",n.options=e;var i=e.x,r=e.x2,o=e.y,a=e.y2;return n.options.width=Math.abs(i-r)||1,n.options.height=Math.abs(o-a)||1,n}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this._applyBorder(),this},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints(),n=l.CustomPathSVGUtil.generateCurveCoords(e,!1);return this.currentPath=n,s.default.render(c.default,o({path:n},t))},e.prototype.getPoints=function(t,e,n,i){return void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===n&&(n=this.options.x2),void 0===i&&(i=this.options.y2),[{x:0,y:0},{x:n-t,y:i-e}]},e.prototype._applyBorder=function(e){void 0===e&&(e={}),e.color||(e.color=this.options.color),e.width||(e.width=this.options.lineWidth),t.prototype._applyBorder.call(this,e)},e.prototype.applyPoints=function(e,n){void 0===e&&(e=this.getPoints()),e=this.getPoints(e[0].x,e[0].y,e[1].x,e[1].y),t.prototype.applyPath.call(this,e,!1,n)},e.prototype.callObjectStateInvoker=function(t,e){d.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(u.CustomShapeComponentView);e.LineComponentView=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleComponentView=void 0;var s=a(n(61)),u=n(248),l=a(n(601)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="triangle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("polygon")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o({points:this.coodinatesToPointsString(e)},t))},e.prototype.getPoints=function(t,e){return void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),"right-triangle"===this.options.shape?{top:{x:t,y:0},left:{x:0,y:e},right:{x:t,y:e}}:{top:{x:t/2,y:0},left:{x:0,y:e},right:{x:t,y:e}}},e.prototype.coodinatesToPointsString=function(t){return Object.values(t).map((function(t){return t.x+","+t.y})).join(" ")},e}(u.AbstractCustomPathComponentView);e.TriangleComponentView=c},function(t,e,n){"use strict";n.r(e),e.default='<polygon\n  points="{{points}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextComponentView=void 0;var a=o(n(603)),s=n(144),u=o(n(296)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.applyJustification=function(t){void 0===t&&(t=this.options.justify),t&&t.match(/(left|right|center|justify)/)&&(this.$el.css("textAlign",t),this.$el.find(".text-line").css("width","100%"))},e.prototype.callObjectStateInvoker=function(t,e){s.ObjectStateInvoker.invokeTextObjectState(this,t,e)},e.prototype.setDefaultTextStyle=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid});this.$el.css("textTransform","none");var n=e.getFontWeight();n&&this.$el.css("fontWeight",n);var i=e.getFontStyle();i&&this.$el.css("fontStyle",i),this.$el.css("fontSize",t.fontSize+"px"),this.setFontColor(t)},e.prototype.applyDefaultFont=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid}).getCssFamilyName();if(e){var n=u.default.formatFamilyNameForCSS(e);this.$el.css("fontFamily",n)}},e.prototype.applyLineHeight=function(t,e){void 0===t&&(t=this.options.leading),void 0===e&&(e=this.options.defaultSpan),this.$el.css("lineHeight",t+"px");var n=this._getDefaultBaselineOffset();n-=(t-e.fontSize)/2,this.$el.find(this.getCurrentHtmlTag()).css("top",n)},e.prototype.setFontColor=function(t){void 0===t&&(t=this.options.defaultSpan),this.$el.css("color",t.fontColor)},e.prototype.renderContent=function(t){void 0===t&&(t=this.options.defaultSpan),this.prepareTextContentAndSpans(),this.applyDefaultFont(t),this._layoutContent()},e.prototype.getHoverTarget=function(){return this.isParagraphMode()?this.$el.find(this.getCurrentHtmlTag()):this.$el.find("span")},e}(a.default);e.TextComponentView=l},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(24)),u=a(n(3)),l=a(n(0)),c=a(n(14)),d=a(n(8)),f=n(108),h=a(n(295)),p=a(n(296)),g=a(n(604)),m=a(n(605)),v=a(n(378)),y=a(n(298)),_=n(126),b=n(126),w=n(379),T={},S={},O=function(t,e){return t.getCssFamilyName()+":"+e};e.default=f.AbstractComponentView.extend({type:"text",textSpans:null,textContent:null,textUpdatedViaSdk:!1,initialize:function(){f.AbstractComponentView.prototype.initialize.call(this),this.fontLoader=this.options.fontLoader,this.defaultVariant=this._getVariant(this.options.defaultSpan),this.textMode=this.options.textMode||b.TextRenderMode.PARAGRAPH,this.isRerendering=!1,this.tooSmallToRender=!1},render:function(){if(!(this.options.width<=1||this.options.height<=1))return this.tooSmallToRender=!1,f.AbstractComponentView.prototype.render.call(this),c.default.webkit&&this.$el.css("-webkit-filter","blur(0px)"),this._applyDimensions(this.options.width,this.options.height),this.setDefaultTextStyle(),this.prepareTextContentAndSpans(),this.allFontsReady=new u.default.Deferred,this.variantsMeasured=0,this.fontLoader.onVariantLoaded(this.measureBaselineOffsetAndRenderText,this),this.fontLoader.onLoadFail(this.allFontsReady.reject,this.allFontsReady),this;this.tooSmallToRender=!0},prepareTextContentAndSpans:function(){this.textContent=this._applyTextTransform(this.options.textContent),this.textSpans=g.default.padTextSpans(this.textContent,this.options.defaultSpan,this.options.textSpans)},setTextFromSDK:function(t){var e,n;t=t||"",this.textUpdatedViaSdk=!0,this.options.textContent=t,this.textSpans&&this.textSpans.length>0&&(this.textSpans[0].fontColor&&(e=this.textSpans[0].fontColor),this.textSpans[0].variantGuid&&(n=this.textSpans[0].variantGuid)),this.options.textSpans=[],this.prepareTextContentAndSpans(),this.textSpans&&this.textSpans.length>0&&(e&&(this.textSpans[0].fontColor=e),n&&(this.textSpans[0].variantGuid=n)),"resolved"===this.allFontsReady.state()&&this._layoutContent(),this.$el.css("columns","unset")},measureBaselineOffsetAndRenderText:function(t){(function(t,e){var n=O(t,e);if(l.default.has(S,n))return S[n].promise();var i=new u.default.Deferred;return S[n]=i,p.default.measureFontBaselineOffset(t,e,e).then(i.resolve,i.reject),i.then((function(t){T[n]=t}))})(t,this.options.defaultSpan.fontSize).then(l.default.bind((function(){this.variantsMeasured++,this.variantsMeasured===this.fontLoader.getAllVariants().length&&this.allFontsReady.resolve()}),this))},_getPadding:function(){return{left:l.default.isNumber(this.options.paddingLeft)?this.options.paddingLeft:0,right:l.default.isNumber(this.options.paddingRight)?this.options.paddingRight:0,top:l.default.isNumber(this.options.paddingTop)?this.options.paddingTop:0,bottom:l.default.isNumber(this.options.paddingBottom)?this.options.paddingBottom:0}},_getColumnWidth:function(){var t=this._getPadding();return(this.options.width-t.left-t.right-(this.options.columns-1)*this.options.columnGap)/this.options.columns},_getVariant:function(t){return p.default.resolveFont(t.variantGuid)},_getDefaultBaselineOffset:function(){var t=0,e=this._getVariant(this.options.defaultSpan),n=O(e,this.options.defaultSpan.fontSize);return e&&l.default.has(T,n)&&(t=T[n]),t},_layoutContent:function(){var t,e=this._getDefaultBaselineOffset();this.defaultVariant=this._getVariant(this.options.defaultSpan);var n=this.options.glyphMetrics&&this.options.glyphMetrics!==m.default.EMPTY_METRICS&&l.default.isString(this.options.glyphMetrics);n&&(this.$el.css("lineHeight",this.options.defaultSpan.fontSize+"px"),t=this.glyphMetrics=m.default.decode(this.options.glyphMetrics,this.textContent));var i=!0===this.options.showOverflow?"visible":"hidden";this.$el.css("overflow",i),this.$el.empty(),!n||this.isParagraphMode()||this._useParagraphLayout(t)?(d.default.previewMode||n||this.isParagraphMode()||s.default.warn("no glyph metrics! using paragraph layout..."),this._layoutParagraphs(e)):this._useCharacterLayout(t)?this._layoutGlyphs(t,e):this._layoutLines(t,e)},_useParagraphLayout:function(t){return t.totalLines>=250},isLineMode:function(){return this.textMode===b.TextRenderMode.LINE&&!this.hasAccessibilityFeature},isParagraphMode:function(){return!(this.textMode!==b.TextRenderMode.PARAGRAPH&&!this.textUpdatedViaSdk&&!this.hasAccessibilityFeature)},isHiddenFromScreenReaders:function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature},getCurrentHtmlTag:function(){return this.options.htmlTag||"p"},_useCharacterLayout:function(t){return!this.isParagraphMode()&&this.textMode===b.TextRenderMode.CHAR&&t.totalCharacters<=250},_applyTextTransform:function(t){switch(this.options.textTransform){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}return t},_applyStyle:function(t,e){void 0===e&&(e={});var n={},i=l.default.extend({},this.options.defaultSpan,e),r=this._getVariant(i);if(e.fontColor&&(n.color=e.fontColor),r.getFontWeight()!==this.defaultVariant.getFontWeight()&&(n["font-weight"]=r.getFontWeight()),r.getFontStyle()!==this.defaultVariant.getFontStyle()&&(n["font-style"]=r.getFontStyle()),r.getCssFamilyName()!==this.defaultVariant.getCssFamilyName()&&(n["font-family"]=r.getCssFamilyName()),e.underline&&(n["text-decoration"]="underline"),e.letterSpacing&&(n["letter-spacing"]=y.default.unitsToCss(e.letterSpacing)),l.default.isEmpty(n)&&this.isParagraphMode()&&!e.hyperlink)return t.content;n=l.default.extend(n,l.default.pick(t,["position","top","left"]));var o="<span";return l.default.isEmpty(n)||(o+=' style="',l.default.each(n,(function(t,e){o+=e+":"+t+";"})),o+='"'),o+">"+t.content+"</span>"},_getNumSpaces:function(t){return l.default.reduce(t,(function(t,e){return t+(" "===e.ch||"\n"===e.ch?1:0)}),0)},_layoutGlyphsChars:function(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var a=e+o,s=t[o];if("\n"!==s.ch&&!l.default.isUndefined(s.ch)){var u=g.default.findTextSpanForCharIndex(a,this.textSpans),c=" "===s.ch?"&nbsp;":s.ch,d=a===u.index+u.length-1,f=o<t.length-1&&l.default.isUndefined(t[o+1].ch);!u.underline||d||s.eol||f||(c+="&nbsp"),r.push(this._applyStyle({content:c,top:s.y+n+i.top+"px",left:s.x+i.left+"px"},u))}}return r},_layoutGlyphs:function(t,e){for(var n=this._getPadding(),i=0,r=[],o=0;o<t.lines.length;o++){var a=t.lines[o],s=i;if(i+=a.length,0!==a.length)if(1!==a.length||!l.default.isUndefined(a[0].ch))this._getNumSpaces(a)!=a.length&&(r=r.concat(this._layoutGlyphsChars(a,s,e,n)))}this.$el.append(this.applyHyperlinks(this.textSpans,r,b.TextRenderMode.DEFAULT))},_applyTextSpans:function(t,e){var n=l.default.map(t,l.default.bind((function(t){var n=this.textContent.substr(t.index,t.length),i={content:n=this._escapeHtmlSpecialCharacters(n),position:"relative"};return e&&(i.left=e),this._applyStyle(i,t)}),this));return this.applyHyperlinks(t,n,b.TextRenderMode.LINE)},_escapeHtmlSpecialCharacters:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s/g,"&nbsp;")},_kernLongLines:function(){var t=String.fromCharCode(160),e=this._getColumnWidth();this.$("span.text-line").each(l.default.bind((function(n,i){var r=(i=u.default(i)).width();if(r>e){var o,a=r-e,s=u.default(i).find("span"),c=l.default.reduce(s,(function(t,e){return t+u.default(e).text()}),""),d=a/(c.trim().split(t).length-1),f=-1*Math.ceil(a),h=parseInt(u.default(i).attr("index"),10);i.empty();for(var p=c.lastIndexOf(t);p>0;){o=c.lastIndexOf(t,p-1);var m=g.default.findTextSpansForLine(h+o+1,p-o,this.textSpans),v=o<0?"0px":f+"px",y=this._applyTextSpans(m,v);i.prepend(y),f+=d,p=o}}}),this))},_layoutLines:function(t,e){var n=this._getPadding();this.chIndex=0;for(var i=['<div style="width:110%;position:relative">'],r=0;r<t.lines.length;r++){var o=t.lines[r];if(0!==o.length){for(var a="",s=!1,u=this.chIndex,c=0,d=0;d<o.length;d++)l.default.isUndefined(o[d].ch)||(a+=o[d].ch,s="\n"===o[d].ch,c++);if(a.trim().length>0){var f=g.default.findTextSpansForLine(u,c,this.textSpans),h=this._applyTextSpans(f),p=o[0].y+e+n.top+"px",m=o[0].x+n.left+"px";i.push('<span class="text-line" index="'+u+'" style="top:'+p+";left:"+m+'">'+h+"</span>")}s&&i.push("<br/>"),this.chIndex+=c}}i.push("</div>"),this.$el.append(i.join("")),this._onReflow(this.$("span:first"),l.default.bind((function(){this._kernLongLines()}),this))},_layoutParagraphs:function(t){var e=this;t-=(this.options.leading-this.options.defaultSpan.fontSize)/2;var n=this.options,r=n.width,a=n.height;this.options.textTransform&&this.$el.css("textTransform",this.options.textTransform),this.$el.empty();var s=u.default("<"+this.getCurrentHtmlTag()+' style="position:relative;top:'+t+'px;"/>');this.$el.append(s),"center"!==this.options.justify&&"right"!==this.options.justify||this.textContent.indexOf("  ")>-1?this.$el.css("whiteSpace","pre-wrap"):this.$el.css("whiteSpace","pre-line");var c=g.default.generateUnstyledHtmlSpansForParagraph(this.textContent,this.textSpans).map((function(t){return e._applyStyle.apply(e,o(t))}));s.append(this.applyHyperlinks(this.textSpans,c,b.TextRenderMode.PARAGRAPH)),this.applyJustification(this.options.justify),this.$el.css("padding",0),l.default.each(["Top","Right","Bottom","Left"],l.default.bind((function(t){this.options["padding"+t]&&(this.$el.css("padding"+t,parseInt(this.options["padding"+t],10)+"px"),"Top"!=t&&"Bottom"!=t||(a-=parseInt(this.options["padding"+t],10)),"Left"!=t&&"Right"!=t||(r-=parseInt(this.options["padding"+t],10)))}),this)),"button"===this.tagName&&s.css({height:a});var d=this.$el.find("> *");if(this.options.columns>1){var f=this.options.columnGap||0,h=Math.abs(this.options.leading-this.options.defaultSpan.fontSize),p=a-t+h,m=_.COLUMN_OVERRUN_PADDING_PERCENTAGE/this.options.columns;f+=r*m/100,d.css(i({columnCount:this.options.columns,columnWidth:"auto",columnFill:"auto",columnGap:f+"px",height:p},this.getOverrunPaddingCSS(m)))}else d.css(this.getOverrunPaddingCSS(_.COLUMN_OVERRUN_PADDING_PERCENTAGE));this.$el.css("lineHeight",this.options.leading+"px"),this._applyDimensions(r,a)},getOverrunPaddingCSS:function(t){return"left"===this.options.justify?{paddingRight:t+"%"}:"right"===this.options.justify?{paddingLeft:t+"%"}:{paddingLeft:t/2+"%",paddingRight:t/2+"%"}},applyHyperlinks:function(t,e,n){return new w.InlineLinkProcessor(this,t).decorateLinks(e,n)},_onReflow:function(t,e){if(!l.default.isEmpty(t)){var n=function(){t.width()>0?e():setTimeout(n,1)};setTimeout(n,1)}},applyChanges:function(t){var e=l.default.cloneDeep(t);h.default.reconcileComponentForCurrentVariant(e),this.fontLoader=new v.default(e),this.fontLoader.load(),f.AbstractComponentView.prototype.applyChanges.call(this,t)},applyAccessibilityFeatures:function(){f.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},attachMedia:function(){return this.tooSmallToRender?u.default.Deferred().resolve():(this.fontLoader.loadNow(),this.allFontsReady.always(l.default.bind((function(){this.applyDefaultFont(),this._layoutContent()}),this)),this.allFontsReady.promise())},setScreenReaderVisibilityStatus:function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},scaleComponent:function(){this.rerenderByTogglingVisibility()},rerenderByTogglingVisibility:l.default.debounce((function(){if(!this.isRerendering){this.isRerendering=!0;var t=this.$el.css("display");this.$el.css("display","none"),l.default.delay(l.default.bind((function(){this.$el.css("display",t),this.isRerendering=!1}),this),1)}}),100),containsHyperlinks:function(){return l.default.some(this.textSpans,"hyperlink")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=function(t,e){for(var n=0;n<e.length;n++)if(t>=e[n].index&&t<e[n].index+e[n].length)return n;return-1},s=function(t,e){var n=a(t,e);return-1!=n?e[n]:void 0};e.default={padTextSpans:function(t,e,n){var i=[],r=0;if(n&&n.length>0){for(var a=0;a<n.length;a++){var s=n[a];s.index>r&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:s.index-r}),r=s.index+s.length,i.push(o.default.extend(!0,{underline:e.underline,letterSpacing:e.letterSpacing},s))}return r<t.length&&i.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:t.length-r}),i}return[{underline:e.underline,letterSpacing:e.letterSpacing,index:0,length:t.length}]},findTextSpanForCharIndex:s,findTextSpansForLine:function(t,e,n){var i=[],s=a(t,n),u=a(t+e-1,n);if(-1!==s&&-1!==u){i=o.default.extend(!0,[],n.slice(s,u+1));var l=r.default.first(i),c=r.default.last(i);t>l.index&&(l.length-=t-l.index,l.index=t),t+e<c.index+c.length&&(c.length=t+e-c.index)}return i},generateUnstyledHtmlSpansForParagraph:function(t,e){void 0===t&&(t=""),void 0===e&&(e=[]);for(var n=function(t){return{position:"relative",content:r.default.escape(t)}},i=[],o=r.default.first(e),a="",u=0;u<t.length;++u){var l=s(u,e),c=r.default.isEqual(o,l);c&&(a+=t.charAt(u),u!==t.length-1)||(a&&i.push([n(a),o]),u!==t.length-1?(a=t.charAt(u),o=l):a&&!c&&i.push([n(t.charAt(u)),l]))}return i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={EMPTY_METRICS:"[]",encode:function(t){if(r.default.isEmpty(t.glyphMetrics))return this.EMPTY_METRICS;var e="",n=null;return r.default.each(t.glyphMetrics,(function(t){var i=parseFloat(t.x.toFixed(2)),r=parseFloat(t.y.toFixed(2));e+=i+",",r!=n&&(e+=r),e+=",",n=r})),","==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),"["+e+"]"},decode:function(t,e){var n,i,o,a=JSON.parse(t.replace(/,,/g,",null,").replace(/,]/,",null]")),s=[],u=null,l=a.length/2;for(n=0;n<l;n++){var c=a[2*n],d=a[2*n+1];o={x:c,y:null===d?u:d,ch:e[n]},r.default.isNumber(d)&&(o.sol=!0),(r.default.isNumber(a[2*(n+1)+1])||n===l-1)&&(o.eol=!0),s.push(o),null!==d&&(u=d)}var f,h=[];for(n=0;n<s.length;n++)(o=s[n]).sol&&(f=[]),f.push(o),o.eol&&h.push(f);for(n=0;n<h.length;n++){for(i=h[n].length-1;i>0&&(" "===h[n][i].ch||"\n"===h[n][i].ch);)delete h[n][i].eol,i--;h[n][i].eol=!0}return{totalCharacters:s.length,totalLines:h.length,lines:h}}};e.default=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToURLInteraction=void 0;var a=o(n(3)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.domain=a.default("<a>",{href:e.url}).get(0).hostname||void 0,i.urlOpenInNewWindow=e.urlOpenInNewWindow||!1,i.url=e.url||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.constructUrl=function(){return this.url},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_URL},e.prototype.isValid=function(){return("submit"!==this.trigger||!this.urlOpenInNewWindow)&&(!!this.url&&t.prototype.isValid.call(this))},e}(n(244).BaseURLInteraction);e.GoToURLInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageInteraction=void 0;var a=n(299),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t+1:0},e}(a.BasePageURLInteraction);e.NextPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareLinkedInInteraction=void 0;var a=n(218),s=o(n(182)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForLinkedIn(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareLinkedInInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareEmailInteraction=void 0;var a=n(218),s=o(n(182)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForEmail(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareEmailInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareFacebookInteraction=void 0;var a=n(218),s=o(n(182)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForFacebook(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareFacebookInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SharePinterestInteraction=void 0;var a=n(218),s=o(n(182)),u=o(n(8)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){var t=u.default.previewMode?void 0:this.pageView.getThumbnail();return s.default.urlForPinterest(this.urlForCurrentPage(),t)},e}(a.SocialMediaInteraction);e.SharePinterestInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareTwitterInteraction=void 0;var a=n(218),s=o(n(182)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForTwitter(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareTwitterInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToPageInteraction=void 0;var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTarget=0,a.default.isString(e.pageTarget)?i.pageTarget=parseInt(String(e.pageTarget).replace(/#/,""),10):e.pageTarget&&(i.pageTarget=e.pageTarget),i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PAGE},e.prototype.isValid=function(){return!!this.pageTarget&&t.prototype.isValid.call(this)},e.prototype.getTargetPageNumber=function(){return this.pageTarget},e}(n(299).BasePageURLInteraction);e.GoToPageInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviousPageInteraction=void 0;var a=n(299),s=o(n(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t-1:0},e}(a.BasePageURLInteraction);e.PreviousPageInteraction=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(300).BaseLayerVisibilityInteraction);e.HideLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeToggleAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(300).BaseLayerVisibilityInteraction);e.ToggleLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCyclePreviousAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(184).BaseVisibilityInteraction);e.CyclePreviousInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCycleNextAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(184).BaseVisibilityInteraction);e.CycleNextInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowLayersInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.createHoverArea=!!e.createHoverArea,i}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e.prototype.getHoverTargets=function(){var t=this;if(!this.createHoverArea)return this.layerTargets;if(!this.layerTargets)return[];var e=[];return this.layerTargets.forEach((function(n){e.push(n);var i=t.pageView.findChildView(n);i&&i.childViews&&i.childViews.forEach((function(n){t.getAllValidLayerTargets(n,e)}))})),e},e.prototype.shouldCreateHoverArea=function(){return this.createHoverArea},e.prototype.getAllValidLayerTargets=function(t,e){var n=this;void 0===e&&(e=[]),t.visible&&e.push(t.id),"folder"===t.options.type&&t.childViews&&t.childViews.forEach((function(t){n.getAllValidLayerTargets(t,e)}))},e}(n(300).BaseLayerVisibilityInteraction);e.ShowLayersInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(184).BaseVisibilityInteraction);e.HideComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(n(184).BaseVisibilityInteraction);e.ShowComponentInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityInteraction=void 0;var a=o(n(0)),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.pageTargets=e.pageTargets||[],i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES},e.prototype.isValid=function(){return!a.default.isEmpty(this.pageTargets)},e}(n(131).BaseInteraction);e.PageVisibilityInteraction=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.lightboxHasCloseButton=e.lightboxHasCloseButton||!1,i.lightboxHeight=e.lightboxHeight||0,i.lightboxWidth=e.lightboxWidth||0,i.lightboxUrl=e.lightboxUrl||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX},e}(n(131).BaseInteraction);e.LightboxVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProductPanelVisibilityInteraction=void 0;var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.productPanelId=e.productPanelId||"",i}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL},e.prototype.isValid=function(){return!!this.productPanelId&&t.prototype.isValid.call(this)},e}(n(131).BaseInteraction);e.ProductPanelVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART},e}(n(131).BaseInteraction);e.ShoppingCartVisibilityInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FullScreenInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.triggerAction=function(t){var e=document.body;return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),!0},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(n(131).BaseInteraction);e.FullScreenInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionInteraction=void 0;var a=n(131),s=o(n(48)),u=n(52),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION},e.prototype.isValid=function(){return s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},e}(a.BaseInteraction);e.ToggleReducedMotionInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BringToFrontInteraction=void 0;var a=n(131),s=n(381),u=o(n(48)),l=n(52),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.hasOutTrigger=!0,i.targetsSelf=!0,i.config=e,i.hasOutTrigger="hover"===i.config.trigger,i}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_BRING_TO_FRONT},e.prototype.triggerAction=function(e){return!!t.prototype.triggerAction.call(this,e)&&(!this.hasActiveValidInteractions(this.componentId)&&(this.pageView.invokeBringToFront(this.componentId,this.trigger,this.config[s.BringToFrontReverseOption.resetPositionsAndStates],this.config[s.BringToFrontReverseOption.resetPositions]),!0))},e.prototype.triggerOutAction=function(){return!this.hasActiveValidInteractions(this.componentId,!0)&&(("hover"!==this.trigger||!this.pageView.hasActiveClickStateWithLock(this.componentId))&&(this.pageView.revokeBringToFront(this.componentId),!0))},e.prototype.hasActiveValidInteractions=function(t,e){return!("hover"!==this.trigger||!this.pageView.hasActiveBringToFront(t))||(!(e||"hover"!==this.trigger||!this.pageView.hasActiveClickStateWithLock(t))||!(e||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.isValid=function(){return u.default.hasFeature(l.FeatureFlagName.POSITION_INTERACTIONS)},e.prototype.getHoverTargets=function(){return[this.componentId]},e}(a.BaseInteraction);e.BringToFrontInteraction=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateInteraction=void 0;var u=n(184),l=n(630),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.state=e.state,i.lockState=e.lockState,i.hasOutTrigger=!e.lockState,i.targets=e.layerTargets,i.disableHoverArea=!!e.disableHoverArea,i}return r(e,t),e.prototype.isValid=function(){return!(!this.layerTargets||!this.layerTargets.length)},e.prototype.triggerAction=function(e){var n=this,i=this.getTargets();return!!i&&(i.forEach((function(t){n.disableHoverArea&&n.pageView.disableHoverArea(t),n.hasActiveStatesWithLocks(t)?n.pageView.addStateUnderActiveState(t,n.state,n):(n.disableHoverArea||n.pageView.enableHoverArea(t),n.pageView.invokeObjectState(t,n.state),n.pageView.addActiveState(t,n))})),t.prototype.triggerAction.call(this,e))},e.prototype.triggerOutAction=function(){var t=this;return!!this.hasOutTrigger&&(this.getTargets().forEach((function(e){t.pageView.revokeObjectState(e,t.state),t.hasActiveStatesWithLocks(e)||t.pageView.removeActiveState(e,t)})),!0)},e.prototype.hasActiveStatesWithLocks=function(t){return"default"!==this.state&&(!("hover"!==this.state||!this.pageView.hasActiveClickStateWithLock(t))||!("hover"!==this.state&&"click"!==this.state||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_CHANGE_STATE},e.prototype.getTargets=function(){var t=this;if(!this.targets)return[];if(this.cachedTargets)return this.cachedTargets;var e=[];return this.targets.forEach((function(n){var i,r=t.pageView.findChildView(n);if(r)if(t.isValidTarget(r)&&(i=n),r.childViews){var o=[];r.childViews.forEach((function(e){t.getAllValidChildrenLayerTargets(e,o,r.isComponent()&&r.linkInteraction)})),o.length&&(i&&e.push(i),e.push.apply(e,s(o)))}else i&&e.push(i)})),this.cachedTargets=e||[],e},e.prototype.getAllValidChildrenLayerTargets=function(t,e,n){var i=this;this.isValidTarget(t)&&e.push(t.id),t.isComponent()&&t.childViews&&(t.linkInteraction||n)&&t.childViews.forEach((function(t){i.getAllValidChildrenLayerTargets(t,e,!0)}))},e.prototype.getHoverTargets=function(){return this.getTargets()},e.prototype.isValidTarget=function(t){return t.isComponent()&&(t.linkInteraction||!!t.hasObjectState(this.state))},e.prototype.shouldTriggerOnKeyboardNavigation=function(){return!(!1===this.lockState&&"mouseDown"===this.trigger)},e=o([l.InteractionOptions({hasOutTrigger:!0})],e)}(u.BaseVisibilityInteraction);e.ChangeStateInteraction=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOptions=void 0;var i=n(132);e.InteractionOptions=function(t){return i.BackboneShim(t)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidInteraction=void 0;var o=function(t){function e(e,n){return t.call(this,e,n)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.isValid=function(){return!1},e}(n(131).BaseInteraction);e.InvalidInteraction=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ResetPositionsInteraction=void 0;var a=n(184),s=n(52),u=o(n(48)),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.config=e,i}return r(e,t),e.prototype.isValid=function(){return u.default.hasFeature(s.FeatureFlagName.POSITION_INTERACTIONS)},e.prototype.triggerAction=function(e){var n,i=this;return!!t.prototype.triggerAction.call(this,e)&&(null===(n=this.layerTargets)||void 0===n||n.forEach((function(t){i.pageView.revokeBringToFront(t),i.config.resetObjectStates&&i.pageView.invokeObjectState(t,"default")})),!0)},e}(a.BaseVisibilityInteraction);e.ResetPositionsInteraction=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusComponentView=void 0;var u=n(108),l=n(185),c=n(144),d=n(634),f=n(767),h=n(127),p=n(379),g=n(287),m=function(t){function e(e){var n=t.call(this,e)||this;n.type="text-plus",n.el.classList.add(l.TextPlusClassName),n.$el.addClass(n.type),n.$el.addClass(l.TextPlusClassName);var i=h.createTextViewElements(f.TEXT_ID_START+"-"+n.options.id,n.el).editorEl;return n.editorEl=i,n.fontLoader=e.fontLoader,n}return r(e,t),e.prototype.createTextPlayerEditorView=function(t){var e=new d.TextPlusPlayerEditorView(o(o({},t),{defaultSpan:o(o({},t.defaultSpan),{fontColor:void 0,fontSize:void 0}),el:this.el,editorEl:this.editorEl,id:f.TEXT_ID_START+"-container-"+t.id}));return e.initialEditorRender(),e},e.prototype.callObjectStateInvoker=function(t,e){c.ObjectStateInvoker.invokeTextPlusObjectState(this,t,e)},e.prototype.applyChanges=function(t){var e;u.AbstractComponentView.prototype.applyChanges.call(this,t),this.options=o(o({},this.options),t),null===(e=this.fontLoader)||void 0===e||e.reload(this.options),this.recreateTextComponent(this.options)},e.prototype.render=function(){return t.prototype.render.call(this),this.recreateTextComponent(this.options),this},e.prototype.applyStateChanges=function(t){this.recreateTextComponent(o(o({},this.options),t))},e.prototype.recreateTextComponent=function(t){return a(this,void 0,Promise,(function(){var e,n;return s(this,(function(i){switch(i.label){case 0:return e=this.createTextPlayerEditorView(t),h.setTextPlusContainerAttributes(e.getEditorElement(),t,(function(t){return e.variantGuidResolver(t)})),h.adjustMarginsForPlayer(e.getEditorElement(),t),[4,e.getEditor()];case 1:return n=i.sent(),[4,e.renderEditor(n)];case 2:return i.sent(),this.decorateLinks(),n.destroy(),[2]}}))}))},e.prototype.decorateLinks=function(){var t=this,e=h.resolveModelOrObject(this.options,"textSpans");this.$el.find("a").each((function(n,i){var r=$(i),o=r.text(),a=e[n];if(a&&a.hyperlink){var s=new p.InlineLinkProcessor(t,[a]).decorateLink(o,a);r.replaceWith(s)}})),this.$el.find("span:has(a)").each((function(t,e){var n=e.style.color;e.addEventListener("mouseenter",(function(){e.style.color=g.ColorUtils.isLight(n)?g.ColorUtils.darken(n,35):g.ColorUtils.lighten(n,35)})),e.addEventListener("mouseleave",(function(){e.style.color=n}))}))},e}(u.AbstractComponentView);e.TextPlusComponentView=m},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusPlayerEditorView=void 0;var u=n(635),l=s(n(194)),c=n(636),d=n(851),f=n(656),h=s(n(663)),p=s(n(389)),g=s(n(665)),m=s(n(390)),v=n(669),y=s(n(674)),_=s(n(675)),b=s(n(854)),w=s(n(684)),T=s(n(687)),S=s(n(690)),O=s(n(693)),E=s(n(391)),P=s(n(326)),C=s(n(323)),A=n(393),x=n(757),I=n(758),k=n(759),M=n(762),R=s(n(48)),N=n(52),D=s(n(764)),L=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.fontLoader=n.options.fontLoader,n.linkPlusUiOptionsSource=new x.LinkPlusUiOptionsSource,n.linkPlusUiPositionConstraint=new I.LinkPlusUiPositionConstraint,n}return r(e,t),e.prototype.getEditorElement=function(){return this.el},e.prototype.textscriptEnabled=function(){return R.default.hasFeature(N.FeatureFlagName.SUBSCRIPT_AND_SUPERSCRIPT)},e.prototype.listsEnabled=function(){return R.default.hasFeature(N.FeatureFlagName.LISTS_AND_BULLETS)},e.prototype.getCkEditorOptions=function(){return{plugins:[_.default,b.default,w.default,T.default,E.default,P.default,C.default,S.default,O.default,d.FontSize,f.FontFamily,h.default,p.default,g.default,m.default,D.default,v.HtmlTagPlugin,y.default,M.TextCasePlus,A.LinkPlusFactory(this.linkPlusUiOptionsSource,this.linkPlusUiPositionConstraint)]}},e.prototype.getTextEditorBase=function(){return c.TextPlusPlayerEditor},e.prototype.getTextData=function(t){return void 0===t&&(t=this.options.textContent),k.prepareTextContentForEditor(t)},e.prototype.variantGuidResolver=function(t){var e=this.options.fontLoader.getVariant({variantGuid:t});return Promise.resolve(e)},e.prototype.replaceEmptyNBSPWithBrTags=function(t){var e=new RegExp("<s*p[^>]*>&nbsp;<s*/s*p>","g");return t.replace(e,"<p><br></p>")},e.prototype.renderEditor=function(t){return o(this,void 0,Promise,(function(){var e,n=this;return a(this,(function(i){switch(i.label){case 0:return t.setData(this.getTextData()),e={list:this.listsEnabled(),textscripts:this.textscriptEnabled()},[4,k.initializeEditorFromTextData(t,this.options.textContent,this.options.defaultSpan,this.options.textSpans,this.options.listDefinitions,this.options.headings,this.options.lines,(function(t){return n.variantGuidResolver(t)}),e)];case 1:return i.sent(),this.el.innerHTML=this.replaceEmptyNBSPWithBrTags(t.getData()),[2]}}))}))},e}(u.AbstractTextEditorMixin(l.default));e.TextPlusPlayerEditorView=L},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.applyCKEditorPrototypeOverridesForEmptyElementAttributes=e.keepAttributesOnLineDelete=e.AbstractTextEditorMixin=void 0;var d=c(n(382)),f=c(n(2)),h=c(n(4)),p=c(n(251)),g=c(n(27)),m=c(n(3)),v=n(94);function y(t){var e=t.model,n=e.document;t.model.deleteContent=function(i,r){if(!(null==r?void 0:r.doNotAutoparagraph)&&!(null==r?void 0:r.dontAddNoSpaceCharacter)){var o=i.getFirstPosition(),a=i.getLastPosition();if(o&&a){var s=o.parent.maxOffset,u=o.path[0]<a.path[0],l=o.path[0]===a.path[0]&&a.path[1]===s;if(0===o.path[1]&&(u||l)&&Array.from(o.parent.getChildren()).length>0){t.model.insertContent(new g.default(v.ZERO_WIDTH_SPACE,n.selection.getAttributes()),a,void 0,!0)}}}d.default(e,i,r)}}e.AbstractTextEditorMixin=function(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.apply(this,u(e))||this;return i.options=e[0],i.editorPromise=new Promise((function(t,e){i.editorResolve=t,i.editorReject=e})),i}return r(e,t),e.prototype.initialEditorRender=function(){var t=this;this.getTextEditorBase().create(this.getEditorElement(),this.getCkEditorOptions()).then((function(e){t.alterEditorAfterCreation(e),t.editorResolve(e)})).catch((function(e){t.editorReject(e)}))},e.prototype.setSpellcheck=function(t){t.editing.view.change((function(e){e.setAttribute("spellcheck","false",t.editing.view.document.getRoot())}))},e.prototype.setKeyDown=function(t){t.keystrokes.set("Esc",(function(e,n){t.fire("escpress"),n()}))},e.prototype.alterEditorAfterCreation=function(t){this.setSpellcheck(t),this.setKeyDown(t),y(t),m.default(".ck-body-wrapper").hide(),b()},e.prototype.getEditor=function(){return this.editorPromise},e.prototype.getTextHtml=function(){var t=this;return new Promise((function(e,n){t.editorPromise.then((function(n){var i=t.getTextHtmlFromEditor(n);e(i)})).catch((function(t){return n(t)}))}))},e.prototype.getTextHtmlFromEditor=function(t){return t.getData()},e.prototype.waitForEditorToBlur=function(){return o(this,void 0,Promise,(function(){var t;return a(this,(function(e){switch(e.label){case 0:return[4,this.editorPromise];case 1:return(t=e.sent()).editing.view.document.isFocused?[4,new Promise((function(t,e){setTimeout(t,100)}))]:[3,3];case 2:return e.sent(),[2,this.waitForEditorToBlur()];case 3:return[2,t]}}))}))},e}(t)},e.keepAttributesOnLineDelete=y;var _=!1;function b(){_||(f.default.prototype.getMinimalFlatRanges=function(){for(var t=[],e=this.start.getCommonPath(this.end).length,n=h.default._createAt(this.start),i=n.parent;n.path.length>e+1;){0!==(r=i.maxOffset-n.offset)?t.push(new f.default(n,n.getShiftedBy(r))):t.push(new f.default(n)),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){var r,o=this.end.path[n.path.length-1];0!==(r=o-n.offset)?t.push(new f.default(n,n.getShiftedBy(r))):t.push(new f.default(n)),n.offset=o,n.path.push(0)}return t},p.default.prototype._getValidRangesForRange=function(t,e){var n,i,r,o,s,u,c,d,p;return a(this,(function(a){switch(a.label){case 0:n=t.start,i=t.start,r=function(t,e){return!t.isEqual(e)||t.isEqual(e)&&t.path.length>1},a.label=1;case 1:a.trys.push([1,10,11,12]),o=l(t.getItems({shallow:!0})),s=o.next(),a.label=2;case 2:return s.done?[3,9]:(u=s.value).is("element")?[5,l(this._getValidRangesForRange(f.default._createIn(u),e))]:[3,4];case 3:a.sent(),a.label=4;case 4:return this.checkAttribute(u,e)?[3,7]:r(n,i)?[4,new f.default(n,i)]:[3,6];case 5:a.sent(),a.label=6;case 6:n=h.default._createAfter(u),a.label=7;case 7:i=h.default._createAfter(u),a.label=8;case 8:return s=o.next(),[3,2];case 9:return[3,12];case 10:return c=a.sent(),d={error:c},[3,12];case 11:try{s&&!s.done&&(p=o.return)&&p.call(o)}finally{if(d)throw d.error}return[7];case 12:return r(n,i)?[4,new f.default(n,i)]:[3,14];case 13:a.sent(),a.label=14;case 14:return[2]}}))},_=!0)}e.applyCKEditorPrototypeOverridesForEmptyElementAttributes=b},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusPlayerEditor=void 0;var a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.ui={componentFactory:{add:function(){}}},i.model.document.createRoot(),i}return r(e,t),e.prototype.setData=function(t){this.data.set(t)},e.prototype.getData=function(){return this.data.get()},e.prototype.getRootDocumentFragment=function(){return this.rootDocumentFragment},e.create=function(t,e){var n=this;return new Promise((function(i){var r=new n(t,e);i(r.initPlugins().then((function(){return r.data.init("")})).then((function(){r.fire("ready")})).then((function(){return r})))}))},e}(o(n(383)).default);e.TextPlusPlayerEditor=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new C(r||[]);return i(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var h={};function p(){}function g(){}function m(){}var v={};c(v,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==e&&n.call(_,a)&&(v=_);var b=m.prototype=p.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){var o;i(this,"_invoke",{value:function(i,a){function s(){return new e((function(o,s){!function i(o,a,s,u){var l=f(t[o],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,u)}))}u(l.arg)}(i,a,o,s)}))}return o=o?o.then(s,s):s()}})}function S(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=f(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=f(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:void 0,done:!0}}return g.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(T.prototype),c(T.prototype,u,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new T(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),c(b,l,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=A,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=i(n(1)),c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._commands=new Map}var n,i,r;return n=e,(i=[{key:"add",value:function(t,e){this._commands.set(t,e)}},{key:"get",value:function(t){return this._commands.get(t)}},{key:"execute",value:function(t){var e=this.get(t);if(!e)throw new l.default("commandcollection-command-not-found",this,{commandName:t});for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.execute.apply(e,i)}},{key:"names",value:s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:"commands",value:s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return t.stop()}}),t,this)}))},{key:t,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var t,e=o(this.commands());try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}}}])&&u(n.prototype,i),r&&u(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}(Symbol.iterator);e.default=c},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class i{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var i=n(187),r=n(15),o=n(1),a=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,r=!1){const a=t instanceof u?t.name:t;if(a.includes(","))throw new o.default("markercollection-incorrect-marker-name",this);const s=this._markers.get(a);if(s){const t=s.getRange();let o=!1;return t.isEqual(e)||(s._attachLiveRange(i.a.fromRange(e)),o=!0),n!=s.managedUsingOperations&&(s._managedUsingOperations=n,o=!0),"boolean"==typeof r&&r!=s.affectsData&&(s._affectsData=r,o=!0),o&&this.fire("update:"+a,s,t,e),s}const l=i.a.fromRange(e),c=new u(a,l,n,r);return this._markers.set(a,c),this.fire("update:"+a,c,null,e),c}_remove(t){const e=t instanceof u?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof u?t.name:t,n=this._markers.get(e);if(!n)throw new o.default("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Object(a.default)(s,r.default);class u{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._affectsData}getStart(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new o.default("marker-destroyed",this);return this._liveRange.toRange()}is(t){return"marker"===t||"model:marker"===t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Object(a.default)(u,r.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var i=n(4),r=n(82),o=n(25),a=n(2),s=n.n(a),u=n(75),l=n(147),c=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function d(t,e,n,i){return t.change(r=>{let o;o=n?n instanceof l.default||n instanceof u.a?n:r.createSelection(n,i):t.document.selection,o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0});const a=new f(t,r,o.anchor);let s;s=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(s);const c=a.getSelectionRange();c&&(o instanceof u.a?r.setSelection(c):o.setTo(c));const d=a.getAffectedRange()||t.createRange(o.anchor);return a.destroy(),d})}class f{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new c.default("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?s.a._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new s.a(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=r.a.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new c.default("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=r.a.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=r.a.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof o.default))return;if(!this._canMergeLeft(t))return;const e=r.a._createBefore(t);e.stickiness="toNext";const n=r.a.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=r.a._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=r.a._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof o.default))return;if(!this._canMergeRight(t))return;const e=r.a._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new c.default("insertcontent-invalid-insertion-position",this);this.position=i.default._createAt(e.nodeBefore,"end");const n=r.a.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=r.a._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=r.a._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof o.default&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof o.default&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var i=n(4),r=n(117),o=n(2),a=n.n(o),s=n(213),u=n(75);function l(t,e,n={}){const i=t.schema,o="backward"!=n.direction,a=n.unit?n.unit:"character",s=e.focus,l=new r.default({boundaries:d(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),f={walker:l,schema:i,isForward:o,unit:a};let h;for(;h=l.next();){if(h.done)return;const n=c(f,h.value);if(n)return void(e instanceof u.a?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}function c(t,e){const{isForward:n,walker:r,unit:o,schema:a}=t,{type:u,item:l,nextPosition:c}=e;if("text"==u)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!f(n.data,i,e)&&!h(n,i,e);){t.next();const r=e?t.position.nodeAfter:t.position.nodeBefore;if(r&&r.is("$text")){const i=r.data.charAt(e?0:r.data.length-1);' ,.?!:;"-()'.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(r,n):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let r=t.position.offset-n.startOffset;for(;Object(s.b)(i,r)||"character"==e&&Object(s.a)(i,r);)t.next(),r=t.position.offset-n.startOffset}return t.position}(r,o);if(u==(n?"elementStart":"elementEnd")){if(a.isSelectable(l))return i.default._createAt(l,n?"after":"before");if(a.checkChild(c,"$text"))return c}else{if(a.isLimit(l))return void r.skip(()=>!0);if(a.checkChild(c,"$text"))return c}}function d(t,e){const n=t.root,r=i.default._createAt(n,e?"end":0);return e?new a.a(t,r):new a.a(r,t)}function f(t,e,n){const i=e+(n?0:-1);return' ,.?!:;"-()'.includes(t.charAt(i))}function h(t,e,n){return e===(n?t.endOffset:0)}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,a=i.start.getCommonPath(i.end),s=o.getNodeByPath(a);let u;u=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[a.length]),t.createPositionAt(s,i.end.path[a.length]+1));const l=u.end.offset-u.start.offset;for(const e of u.getItems({shallow:!0}))e.is("$textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(t.cloneElement(e,!0),n);if(u!=i){const e=i._getTransformedByMove(u.start,t.createPositionAt(n,0),l)[0],o=t.createRange(t.createPositionAt(n,0),e.start);r(t.createRange(e.end,t.createPositionAt(n,"end")),t),r(o,t)}return n})}function r(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";n.r(e),n.d(e,"injectSelectionPostFixer",(function(){return a}));var i=n(2),r=n.n(i),o=n(4);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function a(t){t.document.registerPostFixer(e=>function(t,e){const n=e.document.selection,i=e.schema,o=[];let a=!1;for(const t of n.getRanges()){const e=s(t,i);e&&!e.isEqual(t)?(o.push(e),a=!0):o.push(t)}a&&t.setSelection(function(t){const e=[];e.push(t.shift());for(const n of t){const t=e.pop();if(n.isEqual(t))e.push(t);else if(n.isIntersecting(t)){const i=t.start.isAfter(n.start)?n.start:t.start,o=t.end.isAfter(n.end)?t.end:n.end,a=new r.a(i,o);e.push(a)}else e.push(t),e.push(n)}return e}(o),{backward:n.isBackward})}(e,t))}function s(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;const o=i.start;if(n.isEqual(o))return null;return new r.a(o)}(t,e):function(t,e){const{start:n,end:i}=t,a=e.checkChild(n,"$text"),s=e.checkChild(i,"$text"),c=e.getLimitElement(n),d=e.getLimitElement(i);if(c===d){if(a&&s)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),r=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||r}(n,i,e)){const t=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),o=i.nodeBefore&&e.isSelectable(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward"),a=t?t.start:n,s=o?o.end:i;return new r.a(a,s)}}const f=c&&!c.is("rootElement"),h=d&&!d.is("rootElement");if(f||h){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,a=f&&(!t||!l(n.nodeAfter,e)),s=h&&(!t||!l(i.nodeBefore,e));let p=n,g=i;return a&&(p=o.default._createBefore(u(c,e))),s&&(g=o.default._createAfter(u(d,e))),new r.a(p,g)}return null}(t,e)}function u(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function l(t,e){return t&&e.isSelectable(t)}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=s(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(s,t);var e,n,i,r=l(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=r.call(this)).editor=t,e}return e=s,(n=[{key:"set",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var r=e;e=function(t,e){n.editor.execute(r),e()}}a(d(s.prototype),"set",this).call(this,t,e,i)}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(i(n(112)).default);e.default=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,t);var e,n,i,r=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=r.call(this,t))._childCommands=[],e}return e=u,(n=[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=this._getFirstEnabledCommand(),e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return null!=t&&t.execute(n)}},{key:"registerChildCommand",value:function(t){var e=this;this._childCommands.push(t),t.on("change:isEnabled",(function(){return e._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(t){return t.isEnabled}))}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i(n(113)).default);e.default=c},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(n(647)),l=i(n(79)),c=i(n(15)),d=i(n(9)),f=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.componentFactory=new u.default(e),this.focusTracker=new l.default,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",(function(){return n.update()}))}var e,n,i;return e=t,(n=[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var t,e=o(this._editableElementsMap.values());try{for(e.s();!(t=e.n()).done;)t.value.ckeditorInstance=null}catch(t){e.e(t)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(t)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.default=f,d.default(f,c.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return r}));var i=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(o(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new i.default("componentfactory-item-missing",this,{name:t});return this._components.get(o(t)).callback(this.editor.locale)}has(t){return this._components.has(o(t))}}function o(t){return String(t).toLowerCase()}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),o=i(n(1));e.default=function(t){if(!r.isFunction(t.updateSourceElement))throw new o.default("attachtoform-missing-elementapi-interface",t);var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var n,i=e.form,a=function(){return t.updateSourceElement()};r.isFunction(i.submit)&&(n=i.submit,i.submit=function(){a(),n.apply(i)}),i.addEventListener("submit",a),t.on("destroy",(function(){i.removeEventListener("submit",a),n&&(i.submit=n)}))}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0});e.default={setData:function(t){this.data.set(t)},getData:function(t){return this.data.get(t)}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),o=i(n(303)),a={updateSourceElement:function(){if(!this.sourceElement)throw new r.default("editor-missing-sourceelement",this);o.default(this.sourceElement,this.data.get())}};e.default=a},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1));e.default=function(t){var e=t.sourceElement;if(e){if(e.ckeditorInstance)throw new r.default("editor-source-element-already-used",t);e.ckeditorInstance=t,t.once("destroy",(function(){delete e.ckeditorInstance}))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(387)),f=i(n(35)),h=i(n(100)),p=i(n(1)),g=function(t,e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(c,t);var n,i,r,l=u(c);function c(){return o(this,c),l.apply(this,arguments)}return n=c,r=[{key:"pluginName",get:function(){return"PendingActions"}}],(i=[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new h.default({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if("string"!=typeof t)throw new p.default("pendingactions-add-invalid-message",this);var e=Object.create(f.default);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:e,value:function(){return this._actions[Symbol.iterator]()}}])&&a(n.prototype,i),r&&a(n,r),Object.defineProperty(n,"prototype",{writable:!1}),c}(d.default,Symbol.iterator);e.default=g},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamily=void 0;var a=o(n(45)),s=n(657),u=n(94),l=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(u.TextPlusCommands.FONT_FAMILY,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"font-family":/.*/,"font-style":/.*/,"font-weight":/.*/,"--data-variant-guid":/.*/}},model:{key:u.TextPlusCommands.FONT_FAMILY,value:function(t,e){return{cssFamilyName:n.removeSingleQuotes(t.getStyle("font-family")),fontStyle:t.getStyle("font-style"),fontWeight:Number(t.getStyle("font-weight")),variantGuid:n.removeSingleQuotes(t.getStyle("--data-variant-guid"))}}}}),e.conversion.for("downcast").attributeToElement({model:u.TextPlusCommands.FONT_FAMILY,view:function(t,e){return e.writer.createAttributeElement("span",{style:"font-family: '"+(null==t?void 0:t.cssFamilyName)+"'; font-style: "+(null==t?void 0:t.fontStyle)+"; font-weight: "+(null==t?void 0:t.fontWeight)+"; --data-variant-guid: '"+(null==t?void 0:t.variantGuid)+"';"},{priority:7})}}),e.model.schema.extend("$text",{allowAttributes:u.TextPlusCommands.FONT_FAMILY}),e.commands.add(u.TextPlusCommandNames.FONT_FAMILY,new s.FontFamilyCommand(e,u.TextPlusCommands.FONT_FAMILY)),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontFamily"},enumerable:!1,configurable:!0}),e.prototype.removeSingleQuotes=function(t){if(t)return t.split("'").join("")},e}(a.default);e.FontFamily=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontFamilyCommand=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(e,n,i){void 0===e&&(e={}),t.prototype.execute.call(this,e.value,n,i)},e}(o(n(109)).default);e.FontFamilyCommand=a},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var s=a(n(0)),u=n(185);function l(t){var e,n,r=[];if(s.default.isNil(t))return!0;try{for(var o=i(t),a=o.next();!a.done;a=o.next()){var l=a.value,c=l.attributes.listIndent,d=l.attributes.listElementType;s.default.isNil(c)||s.default.isNil(d)||(d!=u.ListElementEnum.UL&&d!=u.ListElementEnum.OL||r.push(0),d!=u.ListElementEnum.EUL&&d!=u.ListElementEnum.EOL||r.pop())}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return 0==r.length}function c(t,e,n){if(t.is("element")&&"listItem"==t.name){var i={};"bulleted"===t.getAttribute("listType")?(i.listType="bulleted",i.listElementType="open"==n?u.ListElementEnum.UL:u.ListElementEnum.EUL):(i.listType="numbered",i.listElementType="open"==n?u.ListElementEnum.OL:u.ListElementEnum.EOL);var r=t.getAttribute("listIndent");return i.listIndent=r?parseInt(r):0,{index:e,attributes:i}}}function d(t,e,n){if(t.is("element")&&"listItem"==t.name){var i={};"bulleted"===t.getAttribute("listType")?i.listType="bulleted":i.listType="numbered",i.listElementType="open"==n?u.ListElementEnum.LI:u.ListElementEnum.ELI;var r=t.getAttribute("listIndent");return s.default.isNil(r)?void 0:(i.listIndent=parseInt(r),{index:e,attributes:i})}}function f(t,e,n){var r,o,a,l,c,d=new Map,f=[];try{for(var h=i(t),p=h.next();!p.done;p=h.next()){var g=p.value,m=g.attributes.listIndent,v=g.attributes.listElementType;s.default.isNil(m)||s.default.isNil(v)||!s.default.isNil(n)&&m<=n||(v!=u.ListElementEnum.UL&&v!=u.ListElementEnum.OL||d.set(m,g),v!=u.ListElementEnum.EUL&&v!=u.ListElementEnum.EOL||d.delete(m))}}catch(t){r={error:t}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}var y=Array.from(d).reverse();try{for(var _=i(y),b=_.next();!b.done;b=_.next()){var w=b.value[1],T={};"bulleted"===w.attributes.listType?(T.listType="bulleted",T.listElementType=u.ListElementEnum.EUL):(T.listType="numbered",T.listElementType=u.ListElementEnum.EOL);m=w.attributes.listIndent;f.push({index:e,attributes:{listType:w.attributes.listType,listElementType:u.ListElementEnum.ELI,listIndent:w.attributes.listIndent}}),T.listIndent=m,f.push({index:e,attributes:T})}}catch(t){a={error:t}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}if(!s.default.isNil(n)){var S=null===(c=d.get(n+1))||void 0===c?void 0:c.attributes.listType;s.default.isNil(S)||f.push({index:e,attributes:{listType:S,listElementType:u.ListElementEnum.ELI,listIndent:n}})}return f}e.parse=function(t,e,n){var r,a=t.item,h=[],p=e,g="";if(!a.is("element")||"listItem"!=a.name)return{listText:g,listIndex:p,listDefinitions:h};if("elementStart"===t.type){var m=a.getAttribute("listIndent");if(!s.default.isNil(m)&&0==parseInt(m)&&l(n)){var v=c(a,e,"open");v&&h.push(v)}else{var y=a.previousSibling;if(!s.default.isNil(y)){var _=y.getAttribute("listIndent"),b=a.getAttribute("listIndent");if(!s.default.isNil(_)&&!s.default.isNil(b)&&(parseInt(_)<parseInt(b)||y.is("element")&&"listItem"!==y.name)){var w=c(a,e,"open");w&&(n.pop(),h.push(w))}}}(T=d(a,e,"open"))&&h.push(T)}if("elementEnd"===t.type){var T;if((T=d(a,e,"close"))&&h.push(T),s.default.isNil(a.nextSibling)){var S=c(a,e,"close");return S&&h.push(S),l(o(n,h))?{listText:g,listIndex:p,listDefinitions:h}:{listText:g,listIndex:p,listDefinitions:f(n,e)}}if(g+="\n",p++,a.nextSibling.is("element")&&"listItem"==a.nextSibling.name){var O=a.nextSibling.getAttribute("listIndent"),E=(b=a.getAttribute("listIndent"),a.nextSibling.getAttribute("listType")),P=a.getAttribute("listType");if(s.default.isNil(O)||s.default.isNil(b))return{listText:g,listIndex:p,listDefinitions:h};if(parseInt(O)<parseInt(b))return 0==parseInt(O)&&E!=(null===(r=function(t){var e,n,r=Array.from(t).reverse();try{for(var o=i(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(0==s.attributes.listIndent&&(s.attributes.listElementType==u.ListElementEnum.UL||s.attributes.listElementType==u.ListElementEnum.OL))return s}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}(n))||void 0===r?void 0:r.attributes.listType)?{listText:g,listIndex:p,listDefinitions:f(n,e)}:{listText:g,listIndex:p,listDefinitions:f(n,e,parseInt(O))};if(parseInt(O)==parseInt(b)&&E!=P){var C=c(a,e,"close");C&&(0==parseInt(O)&&p++,h.push(C))}}else if(a.nextSibling.is("element")&&"listItem"!=a.nextSibling.name&&!l(o(n,h)))return{listText:g,listIndex:p,listDefinitions:f(n,e)}}return{listText:g,listIndex:p,listDefinitions:h}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var r=i(n(0)),o=n(185);e.parse=function(t,e){var n=t.item,i=[],a={},s="";return n.is("element")&&"paragraph"==n.name?("elementStart"===t.type?a.paragraphElementType=o.ParagraphElementEnum.P:a.paragraphElementType=o.ParagraphElementEnum.EP,i.push({index:e,attributes:a}),"elementEnd"!==t.type||r.default.isNil(n.nextSibling)||(s+="\n"),{paragraphText:s,paragraphIndex:e,paragraphDefinitions:i}):{paragraphText:"",paragraphIndex:e,paragraphDefinitions:i}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var r=i(n(0)),o=n(185),a=n(127);e.parse=function(t,e){var n=[],i={},s="";if(!a.elementIsHeading(t))return{headingText:"",headingIndex:e,headingDefinitions:n};var u=t.item,l=u.name;return"elementStart"===t.type?i.headingElementType=l:i.headingElementType=o.EHEADING_ATTRIBUTE_MAP[l],n.push({index:e,attributes:i}),"elementEnd"!==t.type||r.default.isNil(u.nextSibling)||(s+="\n"),{headingText:s,headingIndex:e,headingDefinitions:n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;var i=n(127),r=n(94);e.parse=function(t,e){var n=[];return i.elementIsSoftBreak(t)?(n.push({index:e}),{softBreakIndex:e,softBreakDefinitions:n,softBreakText:r.SOFTBREAK_CHARACTER}):{softBreakIndex:e,softBreakDefinitions:n,softBreakText:""}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parse=e.elementToLineDefinition=e.reduceIntoRanges=void 0;var r=i(n(0));function o(t){return{index:0,length:1,leading:(t.getAttribute("lineHeight")||{}).lineHeight}}e.reduceIntoRanges=function(t,e){t.forEach((function(t){e.length&&function(t,e){return n=t,i=r.default.last(e),n.leading===i.leading;var n,i}(t,e)?r.default.last(e).length++:(e.length&&function(t,e){var n=e.index,i=e.length;t.index=n+i}(t,r.default.last(e)),e.push(t))}))},e.elementToLineDefinition=o,e.parse=function(t){if("elementStart"===t.type)return o(t.item)}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(45)),s=n(94),u=o(n(109)),l=o(n(298)),c=n(664),d=function(t){function e(e){var n=t.call(this,e)||this;return e.model.schema.setAttributeProperties(s.TextPlusCommands.LETTER_SPACING,{isFormatting:!0,copyOnEnter:!0}),e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"letter-spacing":/[\s\S]+/}},model:{key:s.TextPlusCommands.LETTER_SPACING,value:function(t,e){return""+l.default.cssToUnits(t.getStyle(s.TextPlusStyleAttributes.LETTER_SPACING))||null}}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.LETTER_SPACING,view:function(t,e){return e.writer.createAttributeElement("span",{style:s.TextPlusStyleAttributes.LETTER_SPACING+":"+l.default.unitsToCss(parseInt(t))},{priority:7})}}),e.commands.add(s.TextPlusCommandNames.LETTER_SPACING,new u.default(e,s.TextPlusCommands.LETTER_SPACING)),e.commands.add(s.TextPlusCommands.LETTER_SPACING_INCREMENT,new c.IncrementCommand(e,s.TextPlusCommands.LETTER_SPACING)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.LETTER_SPACING}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"LetterSpacing"},enumerable:!1,configurable:!0}),e}(a.default);e.default=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.IncrementCommand=void 0;var a=n(156),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.incrementAttributeForRange(t,e,this.attributeKey,n)},e}(o(n(109)).default);e.IncrementCommand=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(45)),s=n(94),u=o(n(109)),l=n(156),c=n(666),d=function(t){function e(e){var n=t.call(this,e)||this;return e.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"font-size":/[\s\S]+/}},model:{key:s.TextPlusCommands.FONT_SIZE,value:l.renderUpcastAttribute(s.TextPlusStyleAttributes.FONT_SIZE)}}),e.conversion.for("downcast").attributeToElement({model:s.TextPlusCommands.FONT_SIZE,view:l.renderDowncastElement(s.TextPlusStyleAttributes.FONT_SIZE)}),e.commands.add("FontSizePlus",new u.default(e,s.TextPlusCommands.FONT_SIZE)),e.commands.add(s.TextPlusCommands.FONT_SIZE_INCREMENT,new c.IncrementPixelCommand(e,s.TextPlusCommands.FONT_SIZE)),e.model.schema.extend("$text",{allowAttributes:s.TextPlusCommands.FONT_SIZE}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"FontSizePlus"},enumerable:!1,configurable:!0}),e}(a.default);e.default=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.IncrementPixelCommand=void 0;var a=n(156),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.incrementPixelAttributeForRange(t,e,this.attributeKey,n)},e}(o(n(109)).default);e.IncrementPixelCommand=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontColorPlusUpdateColorRetainOpacityCommand=void 0;var a=n(156),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.updateFontColorRetainOpacityAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.updateFontColorRetainOpacityAttributeForSelection(t,e,this.attributeKey,n)},e}(o(n(109)).default);e.FontColorPlusUpdateColorRetainOpacityCommand=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FontColorPlusUpdateOpacityCommand=void 0;var a=n(156),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e,n){a.updateFontColorOpacityAttributeForRange(t,e,this.attributeKey,n)},e.prototype.applyAttributeForSelection=function(t,e,n){a.updateFontColorOpacityAttributeForSelection(t,e,this.attributeKey,n)},e}(o(n(109)).default);e.FontColorPlusUpdateOpacityCommand=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlTagPlugin=void 0;var s=a(n(45)),u=a(n(391)),l=n(672),c=n(673),d=n(94),f=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e,"requires",{get:function(){return[u.default]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"pluginName",{get:function(){return"HtmlTagPlugin"},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t,e,n=this.editor,i=c.HTML_TAG_OPTIONS,r=[];try{for(var a=o(i),s=a.next();!s.done;s=a.next()){var u=s.value;"paragraph"!==u.model&&(n.model.schema.register(u.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(u),r.push(u.model))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}n.commands.add(d.TextPlusCommands.HTML_TAG,new l.HtmlTagCommand(n,r))},e}(s.default);e.HtmlTagPlugin=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(113)),p=i(n(304)),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(a,t);var e,n,i,r=c(a);function a(){return s(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"refresh",value:function(){var t=this.editor.model,e=t.document,n=p.default(e.selection.getSelectedBlocks());this.value=!!n&&n.is("element","paragraph"),this.isEnabled=!!n&&m(n,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.change((function(i){var r,a=o((t.selection||n.selection).getSelectedBlocks());try{for(a.s();!(r=a.n()).done;){var s=r.value;!s.is("element","paragraph")&&m(s,e.schema)&&i.rename(s,"paragraph")}}catch(t){a.e(t)}finally{a.f()}}))}}])&&u(e.prototype,n),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),a}(h.default);function m(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}e.default=g},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(113),r=n.n(i);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o extends r.a{execute(t){const e=this.editor.model;let n=t.position;e.change(t=>{const i=t.createElement("paragraph");if(!e.schema.checkChild(n.parent,i)){const r=e.schema.findAllowedParent(n,i);if(!r)return;n=t.split(n,r).position}e.insertContent(i,n),t.setSelection(i,"in")})}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlTagCommand=void 0;var a=n(249),s=n(222),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.modelElements=n,i}return r(e,t),e.prototype.execute=function(t,e){var n,i,r=this.editor.model.document;i=e?r.selection.getSelectedBlocks():(null===(n=r.getRoot())||void 0===n?void 0:n.getChildren())||[],this.changeHtmlElement(i,t)},e.prototype.changeHtmlElement=function(t,e){var n=this;this.editor.model.change((function(i){var r,a;try{for(var s=o(t),u=s.next();!u.done;u=s.next()){var l=u.value;n.canBecomeHeading(l,e)&&i.rename(l,e)}}catch(t){r={error:t}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}}))},e.prototype.canBecomeHeading=function(t,e){var n=this.editor.model.schema;return n.checkChild(t.parent,e)&&!n.isObject(t)&&!t.is(e)&&t instanceof s.Element&&!function(t){return t.is("element","listItem")}(t)},e}(a.Command);e.HtmlTagCommand=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EHeadingNames=e.HeadingTags=e.HeadingNames=e.HTML_TAG_OPTIONS=void 0,e.HTML_TAG_OPTIONS=[{model:"paragraph",view:"p",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}],e.HeadingNames=["heading1","heading2","heading3","heading4","heading5","heading6"],e.HeadingTags=["h1","h2","h3","h4","h5","h6"],e.EHeadingNames=["/heading1","/heading2","/heading3","/heading4","/heading5","/heading6"]},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"KeyboardSelection"},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this,e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.onArrowKey.apply(t,a(e))}))},e.prototype.onArrowKey=function(t,e){var n=this.editor,i=e;i.shiftKey&&i.metaKey&&n.model.change((function(t){var e=n.model.document.selection,i=e.getFirstPosition(),r=e.getLastPosition();if(e.anchor&&i&&r)if(e.isBackward){var o=t.createRange(e.anchor,r);t.setSelection(o)}else{o=t.createRange(e.anchor,i);t.setSelection(o)}}))},e}(s(n(45)).default);e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=i(n(676)),f=i(n(683)),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"requires",get:function(){return[d.default,f.default]}},{key:"pluginName",get:function(){return"List"}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(n(10).Plugin);e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var h=i(n(677)),p=i(n(678)),g=n(10),m=n(679),v=n(681),y=n(682),_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(o,t);var e,n,i,r=c(o);function o(){return s(this,o),r.apply(this,arguments)}return e=o,i=[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[m.Enter,v.Delete]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n=e.data,i=e.editing;e.model.document.registerPostFixer((function(t){return y.modelChangePostFixer(e.model,t)})),i.mapper.registerViewToModelLength("li",b),n.mapper.registerViewToModelLength("li",b),i.mapper.on("modelToViewPosition",y.modelToViewPosition(i.view)),i.mapper.on("viewToModelPosition",y.viewToModelPosition(e.model)),n.mapper.on("modelToViewPosition",y.modelToViewPosition(i.view)),e.conversion.for("editingDowncast").add((function(t){t.on("insert",y.modelViewSplitOnInsert,{priority:"high"}),t.on("insert:listItem",y.modelViewInsertion(e.model)),t.on("attribute:listType:listItem",y.modelViewChangeType,{priority:"high"}),t.on("attribute:listType:listItem",y.modelViewMergeAfterChangeType,{priority:"low"}),t.on("attribute:listIndent:listItem",y.modelViewChangeIndent(e.model)),t.on("remove:listItem",y.modelViewRemove(e.model)),t.on("remove",y.modelViewMergeAfter,{priority:"low"})})),e.conversion.for("dataDowncast").add((function(t){t.on("insert",y.modelViewSplitOnInsert,{priority:"high"}),t.on("insert:listItem",y.modelViewInsertion(e.model))})),e.conversion.for("upcast").add((function(t){t.on("element:ul",y.cleanList,{priority:"high"}),t.on("element:ol",y.cleanList,{priority:"high"}),t.on("element:li",y.cleanListItem,{priority:"high"}),t.on("element:li",y.viewModelConverter)})),e.model.on("insertContent",y.modelIndentPasteFixer,{priority:"high"}),e.commands.add("numberedList",new h.default(e,"numbered")),e.commands.add("bulletedList",new h.default(e,"bulleted")),e.commands.add("indentList",new p.default(e,"forward")),e.commands.add("outdentList",new p.default(e,"backward"));var r=i.view.document;this.listenTo(r,"enter",(function(e,n){var i=t.editor.model.document,r=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==r.name&&r.isEmpty&&(t.editor.execute("outdentList"),n.preventDefault(),e.stop())}),{context:"li"}),this.listenTo(r,"delete",(function(e,n){if("backward"===n.direction){var i=t.editor.model.document.selection;if(i.isCollapsed){var r=i.getFirstPosition();if(r.isAtStart){var o=r.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(t.editor.execute("outdentList"),n.preventDefault(),e.stop()))}}}}),{context:"li"});var o=function(e){return function(n,i){t.editor.commands.get(e).isEnabled&&(t.editor.execute(e),i())}};e.keystrokes.set("Tab",o("indentList")),e.keystrokes.set("Shift+Tab",o("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}])&&u(e.prototype,n),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(g.Plugin);function b(t){var e,n=1,i=o(t.getChildren());try{for(i.s();!(e=i.n()).done;){var r=e.value;if("ul"==r.name||"ol"==r.name){var a,s=o(r.getChildren());try{for(s.s();!(a=s.n()).done;){n+=b(a.value)}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){i.e(t)}finally{i.f()}return n}e.default=_},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=n(44),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,o=u(l);function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,t)).type=e,n}return e=l,(n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document,o=Array.from(i.selection.getSelectedBlocks()).filter((function(t){return g(t,n.schema)})),a=void 0!==e.forceValue?!e.forceValue:this.value;n.change((function(e){if(a){for(var n=o[o.length-1].nextSibling,i=Number.POSITIVE_INFINITY,s=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var u=n.getAttribute("listIndent");u<i&&(i=u);var l=u-i;s.push({element:n,listIndent:l}),n=n.nextSibling}var c,d=r(s=s.reverse());try{for(d.s();!(c=d.n()).done;){var f=c.value;e.setAttribute("listIndent",f.listIndent,f.element)}}catch(t){d.e(t)}finally{d.f()}}if(!a){var h,g=Number.POSITIVE_INFINITY,m=r(o);try{for(m.s();!(h=m.n()).done;){var v=h.value;v.is("element","listItem")&&v.getAttribute("listIndent")<g&&(g=v.getAttribute("listIndent"))}}catch(t){m.e(t)}finally{m.f()}p(o,!0,g=0===g?1:g),p(o,!1,g)}var y,_=r(o.reverse());try{for(_.s();!(y=_.n()).done;){var b=y.value;a&&"listItem"==b.name?e.rename(b,"paragraph"):a||"listItem"==b.name?a||"listItem"!=b.name||b.getAttribute("listType")==t.type||e.setAttribute("listType",t.type,b):(e.setAttributes({listType:t.type,listIndent:0},b),e.rename(b,"listItem"))}}catch(t){_.e(t)}finally{_.f()}t.fire("_executeCleanup",o)}))}},{key:"_getValue",value:function(){var t=f.first(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=f.first(t.getSelectedBlocks());return!!n&&g(n,e)}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Command);function p(t,e,n){var i=e?t[0]:t[t.length-1];if(i.is("element","listItem"))for(var r=i[e?"previousSibling":"nextSibling"],o=i.getAttribute("listIndent");r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=n;)o>r.getAttribute("listIndent")&&(o=r.getAttribute("listIndent")),r.getAttribute("listIndent")==o&&t[e?"unshift":"push"](r),r=r[e?"previousSibling":"nextSibling"]}function g(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}e.default=h},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return o}));var i=n(10),r=n(44);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o extends i.Command{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=n[n.length-1];let i=e.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute("listIndent")+this._indentBy;n<0?t.rename(e,"paragraph"):t.setAttribute("listIndent",n,e)}this.fire("_executeCleanup",n)})}_checkEnabled(){const t=Object(r.first)(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("element","listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(680),e)},function(t,e,n){"use strict";n.r(e);var i=n(326);n.d(e,"Enter",(function(){return i.default}));var r=n(323);n.d(e,"ShiftEnter",(function(){return r.default}))},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(852),e)},function(t,e,n){"use strict";n.r(e),n.d(e,"modelViewInsertion",(function(){return o})),n.d(e,"modelViewRemove",(function(){return a})),n.d(e,"modelViewChangeType",(function(){return s})),n.d(e,"modelViewMergeAfterChangeType",(function(){return u})),n.d(e,"modelViewChangeIndent",(function(){return l})),n.d(e,"modelViewSplitOnInsert",(function(){return c})),n.d(e,"modelViewMergeAfter",(function(){return d})),n.d(e,"viewModelConverter",(function(){return f})),n.d(e,"cleanList",(function(){return h})),n.d(e,"cleanListItem",(function(){return p})),n.d(e,"modelToViewPosition",(function(){return g})),n.d(e,"viewToModelPosition",(function(){return m})),n.d(e,"modelChangePostFixer",(function(){return v})),n.d(e,"modelIndentPasteFixer",(function(){return y}));var i=n(123),r=n(92);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function o(t){return(e,n,i)=>{const o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const a=n.item,s=Object(r.generateLiInUl)(a,i);Object(r.injectViewList)(a,s,i,t)}}function a(t){return(e,n,i)=>{const o=i.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("element","li")).nodeAfter,a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const s=o.parent,u=s.previousSibling,l=a.createRangeOn(s),c=a.remove(l);u&&u.nextSibling&&Object(r.mergeViewLists)(a,u,u.nextSibling);b(i.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,l.start,o,i,t);for(const t of a.createRangeIn(c).getItems())i.mapper.unbindViewElement(t);e.stop()}}function s(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),r=n.writer;r.breakContainer(r.createPositionBefore(i)),r.breakContainer(r.createPositionAfter(i));const o=i.parent,a="numbered"==e.attributeNewValue?"ol":"ul";r.rename(a,o)}function u(t,e,n){const i=n.mapper.toViewElement(e.item).parent,o=n.writer;Object(r.mergeViewLists)(o,i,i.nextSibling),Object(r.mergeViewLists)(o,i.previousSibling,i);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function l(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const o=i.mapper.toViewElement(n.item),a=i.writer;a.breakContainer(a.createPositionBefore(o)),a.breakContainer(a.createPositionAfter(o));const s=o.parent,u=s.previousSibling,l=a.createRangeOn(s);a.remove(l),u&&u.nextSibling&&Object(r.mergeViewLists)(a,u,u.nextSibling),b(n.attributeOldValue+1,n.range.start,l.start,o,i,t),Object(r.injectViewList)(n.item,o,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}function c(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&(t=i.breakContainer(t),"li"==t.parent.name);){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));o.push(t)}t=i.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=i.insert(t,o[e]).end,e>0){const e=Object(r.mergeViewLists)(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Object(r.mergeViewLists)(i,t.nodeBefore,t.nodeAfter)}}}function d(t,e,n){const i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,a=i.nodeAfter;Object(r.mergeViewLists)(n.writer,o,a)}function f(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=t.createElement("listItem"),r=function(t){let e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{const t=n.previousSibling;t&&t.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",r,i);const o=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";if(t.setAttribute("listType",o,i),!n.safeInsert(i,e.modelCursor))return;const a=function(t,e,n){const{writer:i,schema:r}=n;let o=i.createPositionAfter(t);for(const a of e)if("ul"==a.name||"ol"==a.name)o=n.convertItem(a,o).modelCursor;else{const e=n.convertItem(a,i.createPositionAt(t,"end")),s=e.modelRange.start.nodeAfter;s&&s.is("element")&&!r.checkChild(t,s.name)&&(t=e.modelCursor.parent.is("element","listItem")?e.modelCursor.parent:_(e.modelCursor),o=i.createPositionAfter(t))}return o}(i,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,a),n.updateConversionResult(i,e)}}function h(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t){!(e.is("element","li")||w(e))&&e._remove()}}}function p(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)n&&!w(e)&&e._remove(),e.is("$text")?(i&&(e._data=e.data.trimStart()),e.nextSibling&&!w(e.nextSibling)||(e._data=e.data.trimEnd())):w(e)&&(n=!0),i=!1}}function g(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("element","listItem")){const e=n.mapper.toViewElement(i),r=e.getAncestors().find(w),o=t.createPositionAt(e,0).getWalker();for(const t of o){if("elementStart"==t.type&&t.item.is("element","li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==r){n.viewPosition=t.nextPosition;break}}}}}function m(t){return(e,n)=>{const i=n.viewPosition,r=i.parent,o=n.mapper;if("ul"==r.name||"ol"==r.name){if(i.isAtEnd){const e=o.toModelElement(i.nodeBefore),r=o.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(e).getShiftedBy(r)}else{const e=o.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(e)}e.stop()}else if("li"==r.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){const a=o.toModelElement(r);let s=1,u=i.nodeBefore;for(;u&&w(u);)s+=o.getModelLength(u),u=u.previousSibling;n.modelPosition=t.createPositionBefore(a).getShiftedBy(s),e.stop()}}}function v(t,e){const n=t.document.differ.getChanges(),i=new Map;let r=!1;for(const i of n)if("insert"==i.type&&"listItem"==i.name)o(i.position);else if("insert"==i.type&&"listItem"!=i.name){if("$text"!=i.name){const n=i.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),r=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),r=!0),n.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",n),r=!0);for(const e of Array.from(t.createRangeIn(n)).filter(t=>t.item.is("element","listItem")))o(e.previousPosition)}o(i.position.getShiftedBy(i.length))}else"remove"==i.type&&"listItem"==i.name?o(i.position):("attribute"==i.type&&"listIndent"==i.attributeKey||"attribute"==i.type&&"listType"==i.attributeKey)&&o(i.range.start);for(const t of i.values())a(t),s(t);return r;function o(t){const e=t.nodeBefore;if(e&&e.is("element","listItem")){let t=e;if(i.has(t))return;for(let e=t.previousSibling;e&&e.is("element","listItem");e=t.previousSibling)if(t=e,i.has(t))return;i.set(e,t)}else{const e=t.nodeAfter;e&&e.is("element","listItem")&&i.set(e,e)}}function a(t){let n=0,i=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(o>n){let a;null===i?(i=o-n,a=n):(i>o&&(i=o),a=o-i),e.setAttribute("listIndent",a,t),r=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function s(t){let n=[],i=null;for(;t&&t.is("element","listItem");){const o=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){const i=n[o];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),r=!0)}else n[o]=t.getAttribute("listType");i=t,t=t.nextSibling}}}function y(t,[e,n]){let i,r=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,r&&r.is("element","listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("element","listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("element","listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;r&&r.is("element","listItem");)r._setAttribute("listIndent",r.getAttribute("listIndent")+t),r=r.nextSibling}}}function _(t){const e=new i.TreeWalker({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("element","listItem"));return n.value.item}function b(t,e,n,i,o,a){const s=Object(r.getSiblingListItem)(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),u=o.mapper,l=o.writer,c=s?s.getAttribute("listIndent"):null;let d;if(s)if(c==t){const t=u.toViewElement(s).parent;d=l.createPositionAfter(t)}else{const t=a.createPositionAt(s,"end");d=u.toViewPosition(t)}else d=n;d=Object(r.positionAfterUiElements)(d);for(const t of[...i.getChildren()])w(t)&&(d=l.move(l.createRangeOn(t),d).end,Object(r.mergeViewLists)(l,t,t.nextSibling),Object(r.mergeViewLists)(l,t.previousSibling,t))}function w(t){return t.is("element","ol")||t.is("element","ul")}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(92),f=i(n(12)),h=i(n(12)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"ListUI"}}],(n=[{key:"init",value:function(){var t=this.editor.t;d.createUIComponent(this.editor,"numberedList",t("Numbered List"),f.default),d.createUIComponent(this.editor,"bulletedList",t("Bulleted List"),h.default)}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(n(10).Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(685)),h=i(n(686)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"requires",get:function(){return[f.default,h.default]}},{key:"pluginName",get:function(){return"Subscript"}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(392)),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"SubscriptEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"subscript"}),t.model.schema.setAttributeProperties("subscript",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"subscript",view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add("subscript",new f.default(t,"subscript"))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=n(40),h=i(n(12)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"SubscriptUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("subscript",(function(i){var r=e.commands.get("subscript"),o=new f.ButtonView(i);return o.set({label:n("Subscript"),icon:h.default,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",(function(){e.execute("subscript"),e.editing.view.focus()})),o}))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(688)),h=i(n(689)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"requires",get:function(){return[f.default,h.default]}},{key:"pluginName",get:function(){return"Superscript"}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(392)),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"SuperscriptEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"superscript"}),t.model.schema.setAttributeProperties("superscript",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"superscript",view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add("superscript",new f.default(t,"superscript"))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=h},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=n(40),h=i(n(12)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"SuperscriptUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("superscript",(function(i){var r=e.commands.get("superscript"),o=new f.ButtonView(i);return o.set({label:n("Superscript"),icon:h.default,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",(function(){e.execute("superscript"),e.editing.view.focus()})),o}))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(691)),h=i(n(692)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[f.default,h.default]}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(10),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,n,i,u=s(l);function l(){return r(this,l),u.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"IndentEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new c.MultiCommand(t)),t.commands.add("outdent",new c.MultiCommand(t))}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(c.Plugin);e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(40),f=n(10),h=i(n(12)),p=i(n(12)),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"IndentUI"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?h.default:p.default,r="ltr"==e.uiLanguageDirection?p.default:h.default;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),r)}},{key:"_defineButton",value:function(t,e,n){var i=this,r=this.editor;r.ui.componentFactory.add(t,(function(o){var a=r.commands.get(t),s=new d.ButtonView(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(a,"value","isEnabled"),i.listenTo(s,"execute",(function(){r.execute(t),r.editing.view.focus()})),s}))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(f.Plugin);e.default=g},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function s(t,e){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var d=n(10),f=i(n(694)),h=i(n(696)),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,r=u(l);function l(){return o(this,l),r.apply(this,arguments)}return e=l,i=[{key:"requires",get:function(){return[f.default,h.default]}},{key:"pluginName",get:function(){return"Alignment"}}],(n=null)&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(d.Plugin);e.default=p},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=n(10),g=i(n(695)),m=n(309),v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(s,t);var e,n,i,r=d(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=r.call(this,t),t.config.define("alignment",{options:a(m.supportedOptions.map((function(t){return{name:t}})))}),e}return e=s,i=[{key:"pluginName",get:function(){return"AlignmentEditing"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.model.schema,i=m.normalizeAlignmentOptions(t.config.get("alignment.options")).filter((function(t){return m.isSupported(t.name)&&!m.isDefault(t.name,e)})),r=i.some((function(t){return!!t.className}));n.extend("$block",{allowAttributes:"alignment"}),t.model.schema.setAttributeProperties("alignment",{isFormatting:!0}),r?t.conversion.attributeToAttribute(function(t){var e,n={model:{key:"alignment",values:t.map((function(t){return t.name}))},view:{}},i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;n.view[r.name]={key:"class",value:r.className}}}catch(t){i.e(t)}finally{i.f()}return n}(i)):t.conversion.for("downcast").attributeToAttribute(function(t){var e,n={model:{key:"alignment",values:t.map((function(t){return t.name}))},view:{}},i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.view[r]={key:"style",value:{"text-align":r}}}}catch(t){i.e(t)}finally{i.f()}return n}(i));var a,s=function(t){var e,n=[],i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.push({view:{key:"style",value:{"text-align":r}},model:{key:"alignment",value:r}})}}catch(t){i.e(t)}finally{i.f()}return n}(i),u=o(s);try{for(u.s();!(a=u.n()).done;){var l=a.value;t.conversion.for("upcast").attributeToAttribute(l)}}catch(t){u.e(t)}finally{u.f()}var c,d=function(t){var e,n=[],i=o(t);try{for(i.s();!(e=i.n()).done;){var r=e.value.name;n.push({view:{key:"align",value:r},model:{key:"alignment",value:r}})}}catch(t){i.e(t)}finally{i.f()}return n}(i),f=o(d);try{for(f.s();!(c=f.n()).done;){var h=c.value;t.conversion.for("upcast").attributeToAttribute(h)}}catch(t){f.e(t)}finally{f.f()}t.commands.add("alignment",new g.default(t))}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(p.Plugin);e.default=v},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=n(10),h=n(44),p=n(309),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(o,t);var e,n,i,r=l(o);function o(){return a(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"refresh",value:function(){var t=this.editor.locale,e=h.first(this.editor.model.document.selection.getSelectedBlocks());this.isEnabled=!!e&&this._canBeAligned(e),this.isEnabled&&e.hasAttribute("alignment")?this.value=e.getAttribute("alignment"):this.value="rtl"===t.contentLanguageDirection?"right":"left"}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,i=n.locale,r=n.model,o=r.document,a=e.value;r.change((function(e){var n=Array.from(o.selection.getSelectedBlocks()).filter((function(e){return t._canBeAligned(e)})),r=n[0].getAttribute("alignment");p.isDefault(a,i)||r===a||!a?m(n,e):v(n,e,a)}))}},{key:"_canBeAligned",value:function(t){return this.editor.model.schema.checkAttribute(t,"alignment")}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}(f.Command);function m(t,e){var n,i=r(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.removeAttribute("alignment",o)}}catch(t){i.e(t)}finally{i.f()}}function v(t,e,n){var i,o=r(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.setAttribute("alignment",n,a)}}catch(t){o.e(t)}finally{o.f()}}e.default=g},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function a(t,e){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=n(10),d=n(40),f=n(309),h=new Map([["left",c.icons.alignLeft],["right",c.icons.alignRight],["center",c.icons.alignCenter],["justify",c.icons.alignJustify]]),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(l,t);var e,n,i,u=s(l);function l(){return r(this,l),u.apply(this,arguments)}return e=l,i=[{key:"pluginName",get:function(){return"AlignmentUI"}}],(n=[{key:"localizedOptionTitles",get:function(){var t=this.editor.t;return{left:t("Align left"),right:t("Align right"),center:t("Align center"),justify:t("Justify")}}},{key:"init",value:function(){var t=this,e=this.editor,n=e.ui.componentFactory,i=e.t,r=f.normalizeAlignmentOptions(e.config.get("alignment.options"));r.map((function(t){return t.name})).filter(f.isSupported).forEach((function(e){return t._addButton(e)})),n.add("alignment",(function(t){var e=d.createDropdown(t),o=r.map((function(t){return n.create("alignment:".concat(t.name))}));d.addToolbarToDropdown(e,o),e.buttonView.set({label:i("Text alignment"),tooltip:!0}),e.toolbarView.isVertical=!0,e.toolbarView.ariaLabel=i("Text alignment toolbar"),e.extendTemplate({attributes:{class:"ck-alignment-dropdown"}});var a="rtl"===t.contentLanguageDirection?h.get("right"):h.get("left");return e.buttonView.bind("icon").toMany(o,"isOn",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.findIndex((function(t){return t}));return i<0?a:o[i].icon})),e.bind("isEnabled").toMany(o,"isEnabled",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some((function(t){return t}))})),e}))}},{key:"_addButton",value:function(t){var e=this,n=this.editor;n.ui.componentFactory.add("alignment:".concat(t),(function(i){var r=n.commands.get("alignment"),o=new d.ButtonView(i);return o.set({label:e.localizedOptionTitles[t],icon:h.get(t),tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(r),o.bind("isOn").to(r,"value",(function(e){return e===t})),e.listenTo(o,"execute",(function(){n.execute("alignment",{value:t}),n.editing.view.focus()})),o}))}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(c.Plugin);e.default=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(109)),s=n(394),u=n(316),l=n(127),c=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.optionsSource=i,o.optionsSource.uiPositionConstraint=r,o.uiPositionConstraint=r,o}return r(e,t),e.closePopover=function(){var t;null===(t=e.popover)||void 0===t||t.closePopover(),e.popover=null},e.prototype.execute=function(t,n){var i,r;if(n){var o=this.editor.editing.view,a=o.document.selection,c=null===(i=a.getFirstRange())||void 0===i?void 0:i.getTrimmed();if(c){var d=o.domConverter.viewRangeToDom(c);if(d){var f,h,p=u.isSelectionInsideOneLink(a);if(p){var g=Array.from(p.getChildren())[0].data,m=c.start.parent.data,v=g&&m&&(null==m?void 0:m.includes(g)),y=a.getFirstRange()?null===(r=a.getFirstRange())||void 0===r?void 0:r.start.offset:-1;if(!v||0===y)return void(s.isLinkPlusPopoverViewOpen()&&e.closePopover());t={type:p.getAttribute("data-type"),location:p.getAttribute("href"),newTab:"true"===p.getAttribute("data-newtab")},(h=o.domConverter.mapViewToDom(p))instanceof HTMLElement&&(f=h.getBoundingClientRect())}e.popover=this.createPopoverView(this.editor,this.optionsSource,t,h),e.popover.renderForm(null!=f?f:d.getBoundingClientRect(),this.uiPositionConstraint,!p),this.fire("LinkPlusUiShown"),l.addOrUpdateSelectionMarker(this.editor.editing,c)}}}},e.prototype.createPopoverView=function(t,e,n,i){return new s.LinkPlusPopoverView(t,e,n,i)},e.popover=null,e}(a.default);e.default=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextDropdownWidgetView=void 0;var s=a(n(61)),u=n(699),l=a(n(702)),c=function(t){function e(e){var n=t.call(this,e)||this;return n.choices=[],n.choices=e.choices,n}return r(e,t),e.prototype.events=function(){var e,n=t.prototype.events.call(this);return o(o({},n),((e={})["mouseenter "+this.optionSelector]="preview",e))},e.prototype.preview=function(t){var e=$(t.target).closest(this.optionSelector),n=this.parseValueFromOption(e);this.trigger(this.EVENTS.PREVIEW,{value:n})},e.prototype.parseValueFromOption=function(t){return t.data("dropdown-option-value")},e.prototype.isOptionSelected=function(t){return t.value===this.value},Object.defineProperty(e.prototype,"placeholder",{get:function(){var t=this,e=this.choices.find((function(e){return e.value===t.value}));return e?e.title:""},enumerable:!1,configurable:!0}),e.prototype.renderOptions=function(t){t.html(s.default.render(l.default,{choices:this.getDropdownOptions(this.choices)}))},e}(u.AbstractDropdownWidgetView);e.TextDropdownWidgetView=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDropdownWidgetView=e.DropdownOption=void 0;var u,l=s(n(3)),c=s(n(61)),d=s(n(700)),f=n(701),h=n(132);!function(t){t.UP="up",t.DOWN="down"}(u||(u={}));var p=function(t,e){this.option=t,this.selected=e};e.DropdownOption=p;var g={CHANGE:"dropDown:optionSelected",ACTIVATE:"dropDown:activate",DEACTIVATE:"dropDown:deactivate",PREVIEW:"dropDown:optionMouseenter",DISABLE_PREVIEW:"dropDown:optionMouseleave"},m=function(t){function e(e){var n=t.call(this,e)||this;return n.activated=!1,n.disabled=!1,n.shouldDeactivateOnClick=!1,n.header="",n.dropdownClassName="",n.header=e.header,n.scrollParent=e.scrollParent,n}return r(e,t),e.prototype.events=function(){var t;return(t={"click .dropdown-widget-placeholder":"activate"})["click "+this.optionSelector]="handleOptionSelect",t},Object.defineProperty(e.prototype,"optionSelector",{get:function(){return"[data-dropdown-option]"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$optionsContainer",{get:function(){return this.$(".dropdown-widget-options")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$placeholderContainer",{get:function(){return this.$(".dropdown-widget-placeholder")},enumerable:!1,configurable:!0}),e.prototype.getDropdownOptions=function(t){var e=this;return t.map((function(t){return new p(t,e.isOptionSelected(t))}))},e.prototype.handleOptionSelect=function(t){var e=l.default(t.target).closest(this.optionSelector),n=this.parseValueFromOption(e);this.selectOption(n)},e.prototype.selectOption=function(t){this.setValue(t),this.mixedState=!1,this.deactivate(),this.trigger(this.EVENTS.CHANGE,{value:t})},e.prototype.disable=function(t){void 0===t&&(t=!0),this.disabled=!0,t&&this.render(""),this.render()},e.prototype.enable=function(){this.disabled=!1,this.render()},e.prototype.setValue=function(t){this.value=t,this.render()},e.prototype.render=function(t){void 0===t&&(t=null);var e=null!==t?t:this.placeholder;!this.value&&this.mixedState&&(e="Mixed"),this.$el.html(c.default.render(d.default,o(o({},this),{placeholder:e}))),this.renderOptions(this.$optionsContainer);var n=this.getDropdownDirection(),i=this.getDropdownStyle(n);return this.$optionsContainer.data("direction",n).css(i),!this.value&&this.mixedState&&(e="Mixed"),this.$placeholderContainer.text(e),this.activated&&this.options.scrollable&&this.applyScrollability(),this.disabled&&this.$placeholderContainer.addClass("disabled"),this},e.prototype.getDropdownDirection=function(){var t=this.$el.offset(),e=this.scrollParent.offset(),n=this.scrollParent.outerHeight(),i=this.$optionsContainer.outerHeight();if(t&&e&&n&&i){var r=n+e.top;if(t.top+i>r)return u.UP}return u.DOWN},e.prototype.getDropdownStyle=function(t){return t===u.UP?{top:"auto",bottom:"0"}:{top:"0",bottom:"auto"}},e.prototype.applyScrollability=function(){var t=this.$placeholderContainer,e=this.$optionsContainer.addClass("scrollable");if(this.getDropdownDirection()===u.DOWN){var n=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom"))+parseInt(t.css("border-top"))+parseInt(t.css("border-bottom")),i=l.default(window).height()-(t.offset().top+t.height())-n;e.css("max-height",i)}else e.css("max-height",t.offset().top)},e.prototype.activate=function(){var t=this;if(!this.activated&&!this.disabled){this.activated=!0,this.shouldDeactivateOnClick=!1;var e=function(){t.shouldDeactivateOnClick?(l.default("body").off("click",e),t.deactivate()):t.shouldDeactivateOnClick=!0};l.default("body").on("click",e),this.trigger(this.EVENTS.ACTIVATE),this.render()}},e.prototype.deactivate=function(){this.activated=!1,this.trigger(this.EVENTS.DEACTIVATE),this.render()},e.prototype.refresh=function(t,e){this.setMixedState(!!e),this.setValue(e?null:t),this.render()},e.prototype.isActivated=function(){return this.activated},e=a([h.BackboneShim({EVENTS:g})],e)}(f.AbstractWidgetView);e.AbstractDropdownWidgetView=m},function(t,e,n){"use strict";n.r(e),e.default='<div class="dropdown-widget {{dropdownClassName}} {{#activated}}dropdown-active{{/activated}}">\n  {{#header}}<label>{{header}}</label>{{/header}}\n  <div class="dropdown-widget-content">\n    <div class="dropdown-widget-placeholder"></div>\n    <div class="dropdown-widget-options" data-direction="down"></div>\n  </div>\n</div>\n'},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractWidgetView=void 0;var a=n(194),s=n(132),u={CHANGE:"change",KEYUP:"keyup",KEYDOWN:"keydown",FOCUSOUT:"focusout"},l={"change input":"onChange","change select":"onChange","change textarea":"onChange"},c=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.value=n.options.value||null,n.mixedState=n.options.mixedState||null,n}return r(e,t),e.prototype.setValue=function(t){this.value=t},e.prototype.getValue=function(){return this.mixedState?null:this.value},e.prototype.clearValue=function(){this.refresh("",!1)},e.prototype.onChange=function(){this.setValue(this.getValueFromInput()),this.mixedState&&(this.setMixedState(!1),this.$("#"+this.id).removeClass("widget-mixed-value")),this.trigger(u.CHANGE,{value:this.getValue()})},e.prototype.getValueFromInput=function(){return this.$("input").val()},e.prototype.refresh=function(t,e){this.setMixedState(!!e),this.setValue(this.mixedState?null:t),this.render()},e.prototype.setMixedState=function(t){this.mixedState=t},e.prototype.getMixedState=function(){return this.mixedState},e.prototype.disable=function(){this.$("input").prop("disabled",!0)},e.prototype.enable=function(){this.$("input").prop("disabled",!1)},e=o([s.BackboneShim({EVENTS:u,events:l})],e)}(a.AbstractView);e.AbstractWidgetView=c},function(t,e,n){"use strict";n.r(e),e.default='<ul>\n  {{#choices}} {{#option.isSectionHeader}} {{#option.isDivider}}\n  <div class="dropdown-divider"></div>\n  {{/option.isDivider}} {{^option.isDivider}}\n  <div class="dropdown-header">\n    <p class="dropdown-section-label">{{option.title}}</p>\n  </div>\n  {{/option.isDivider}} {{/option.isSectionHeader}} {{^option.isSectionHeader}}\n  <li\n    data-dropdown-option\n    data-dropdown-option-value="{{option.value}}"\n    class="{{#selected}}selected{{/selected}}"\n  >\n    <span class="dropdown-widget-option-tick"></span>\n    <span class="option-text" title="{{option.title}}">{{option.title}}</span>\n  </li>\n  {{/option.isSectionHeader}} {{/choices}}\n</ul>\n'},function(t,e,n){"use strict";n.r(e),e.default='<div>\n  <div id="textplus-hyperlink-popover-arrow" class="arrow"></div>\n  <div id="textplus-hyperlink-type-container"></div>\n  <div id="textplus-hyperlink-secondary-input-container"></div>\n  <div class="button-container">\n    <button id="textplus-hyperlink-delete-btn" class="button-passive hidden">Remove</button>\n    <button id="textplus-hyperlink-save-btn" class="button-active">Save</button>\n  </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasPositionBroker=e.PositionDirection=void 0;var s,u=o(n(93)),l=a(n(705)),c=a(n(157)),d=u.Point;!function(t){t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left"}(s=e.PositionDirection||(e.PositionDirection={}));var f=function(){function t(t,e,n,i){this.minRequiredHeight=n,this.minRequiredWidth=i,this.containingComponent=t;var r=window.designer.views.canvas;this.canvasRenderState=r.renderState,this.canvasRect=r.canvas.get(0).getBoundingClientRect();var o=this.containingComponent.translatePointToPageCoordinateSpace(new d(e.x,e.y));this.existingItem={width:e.width*this.canvasRenderState.zoom,height:e.height*this.canvasRenderState.zoom,x:(this.canvasRenderState.page.x+o.getX())*this.canvasRenderState.zoom,y:(this.canvasRenderState.page.y+o.getY())*this.canvasRenderState.zoom}}return t.prototype.determineNearestSuitablePosition=function(){var t=this.determineBestDirection();return{direction:t,xToRenderAt:this.determineCanvasXForDirection(t),yToRenderAt:this.determineCanvasYForDirection(t)}},t.prototype.determineBestDirection=function(){return this.directionIsSuitable(s.BOTTOM)?s.BOTTOM:this.directionIsSuitable(s.TOP)?s.TOP:this.directionIsSuitable(s.RIGHT)?s.RIGHT:this.directionIsSuitable(s.LEFT)?s.LEFT:s.BOTTOM},t.prototype.directionIsSuitable=function(t){var e=this.determineCanvasXForDirection(t)+this.canvasRect.left,n=this.determineCanvasYForDirection(t)+this.canvasRect.top,i=l.default.getShowRulers(),r=this.canvasRect.left+(i?c.default.RULER_SIZE:0),o=this.canvasRect.right,a=this.canvasRect.top+(i?c.default.RULER_SIZE:0),s=this.canvasRect.bottom,u=e>=r&&e+this.minRequiredWidth<=o,d=n>=a&&n+this.minRequiredHeight<=s;return u&&d},t.prototype.determineCanvasXForDirection=function(t){switch(t){case s.TOP:case s.BOTTOM:return this.existingItem.x+Math.round(this.existingItem.width/2)-Math.round(this.minRequiredWidth/2);case s.RIGHT:return this.existingItem.x+this.existingItem.width;case s.LEFT:return this.existingItem.x-this.minRequiredWidth}},t.prototype.determineCanvasYForDirection=function(t){switch(t){case s.TOP:return this.existingItem.y-this.minRequiredHeight;case s.BOTTOM:return this.existingItem.y+this.existingItem.height;case s.RIGHT:case s.LEFT:return this.existingItem.y+Math.round(this.existingItem.height/2)-Math.round(this.minRequiredHeight/2)}},t}();e.CanvasPositionBroker=f},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a={key:"show-anchors",default:"true"},s={key:"show-outside-page",default:"false"},u={key:"show-rulers",default:"true"},l={key:"show-guides",default:"true"},c={key:"snap-guides",default:"true"},d={key:"show-smartguides",default:"true"},f={key:"icon-explorer-scale",default:45},h={key:"image-explorer-scale",default:1},p={key:"video-explorer-scale",default:1};e.default=r.default.extend({},o.default.Events,{_getKey:function(t){return"studioPref:"+t},_isPrefSet:function(t){return r.default.isString(window.localStorage[this._getKey(t)])},_setPref:function(t,e){"true"===this._getPref(t)!==e&&(window.localStorage[this._getKey(t.key)]=e,this.trigger("change"))},_getPref:function(t){return this._isPrefSet(t.key)?window.localStorage[this._getKey(t.key)]:t.default},getShowAnchors:function(){return"true"===this._getPref(a)},setShowAnchors:function(t){return this._setPref(a,t),this},setShowCanvasGrids:function(t,e){return this._setPref(t,e),this},getShowCanvasGrids:function(t){return"true"===this._getPref(t)},setShowCanvasLayout:function(t,e){return this._setPref(t,e),this},getShowCanvasLayout:function(t){return"true"===this._getPref(t)},setSnapCanvasGrids:function(t,e){return this._setPref(t,e),this},getSnapCanvasGrids:function(t){return"true"===this._getPref(t)},setSnapCanvasLayouts:function(t,e){return this._setPref(t,e),this},getSnapCanvasLayouts:function(t){return"true"===this._getPref(t)},getShowOutsidePage:function(){return"true"===this._getPref(s)},setShowOutsidePage:function(t){return this._setPref(s,t),this},getShowRulers:function(){return"true"===this._getPref(u)},setShowRulers:function(t){return this._setPref(u,t),this},getShowGuides:function(){return"true"===this._getPref(l)},getShowSmartguides:function(){return"true"===this._getPref(d)},setShowGuides:function(t){return this._setPref(l,t),this},setShowSmartguides:function(t){return this._setPref(d,t),this},getSnapGuides:function(){return"true"===this._getPref(c)},setSnapGuides:function(t){return this._setPref(c,t),this},getIconExplorerScale:function(){return this._getPref(f)},setIconExplorerScale:function(t){return this._setPref(f,t),this},getImageExplorerScale:function(){return this._getPref(h)},setImageExplorerScale:function(t){return this._setPref(h,t),this},getVideoExplorerScale:function(){return this._getPref(p)},setVideoExplorerScale:function(t){return this._setPref(p,t),this}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TextPlusModel=e.CustomShapeModel=e.GroupModel=e.CanvasBackgroundModel=e.UnsupportedComponentModel=e.TextModel=e.VideoModel=e.ShapeModel=e.LineModel=e.ImageModel=e.HtmlModel=e.HotspotPathModel=e.HotspotModel=e.MarketoFormModel=e.HubspotFormModel=e.ChartblocksModel=e.AbstractFormModel=e.AbstractComponentModel=e.AbstractPageObjectModel=e.AbstractPageSubModel=void 0;var a=o(n(707));e.AbstractPageSubModel=a;var s=o(n(397));e.AbstractPageObjectModel=s;var u=o(n(95));e.AbstractComponentModel=u;var l=o(n(310));e.AbstractFormModel=l;var c=o(n(708));e.ChartblocksModel=c;var d=o(n(709));e.HubspotFormModel=d;var f=o(n(710));e.MarketoFormModel=f;var h=o(n(711));e.HotspotModel=h;var p=o(n(712));e.HotspotPathModel=p;var g=o(n(713));e.HtmlModel=g;var m=o(n(714));e.ImageModel=m;var v=o(n(715));e.LineModel=v;var y=o(n(398));e.ShapeModel=y;var _=o(n(716));e.VideoModel=_;var b=o(n(717));e.TextModel=b;var w=o(n(718));e.UnsupportedComponentModel=w;var T=o(n(719));e.CanvasBackgroundModel=T;var S=o(n(720));e.GroupModel=S;var O=o(n(721));e.CustomShapeModel=O;var E=o(n(399));e.TextPlusModel=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={parent:null,sdkTags:[],sdkPayload:""},e.supported=Object.keys(e.defaults)},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(95)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"ChartBlocks Chart",chartId:null,chartName:null,requestToken:null,imageUrl:null,svgUrl:null}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["chartId","chartName","requestToken","imageUrl","svgUrl"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(310)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hubspot Form",hubId:""}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["css","hubId"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(310)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Marketo Form",munchkinId:"",formHash:"",marketoInstanceUrl:""}),e.supported=u(l.supported,Object.keys(c.MODEL_DEFAULTS),["munchkinId","formHash","marketoInstanceUrl"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(95)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(95)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Hotspot"}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["background","border","opacity","shadow"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var l=a(n(95)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Embedded Object",customHtml:"",thumbnailUrl:null,progress:null}),e.supported=u(Object.keys(c.MODEL_DEFAULTS),["customHtml","width","height","x","y","fixedPosition","preserveAspectRatio","progress","sdkTags","sdkPayload"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.maskedImageViewOptions=e.maskedImageHoverOptions=e.maskedImageClickOptions=e.objectStateSupportedProperties=e.objectStateSupportedPropertiesForImageMaskBase=e.supportedAlphaMaskImage=e.supportedShapeMaskImageBase=e.supportedVector=e.supported=e.defaults=void 0;var u=s(n(0)),l=n(291),c=n(216),d=n(20),f=a(n(95));e.defaults=i(i({},f.defaults),{title:"Image",image:null,preserveAspectRatio:!0,altText:null,contentType:null,createDate:null,nounProjectIconId:null,gettyImageId:null,gettyVideoId:null,crop:null,effects:l.ImageEffects.getDefaults(),blendingMode:c.BlendingModes.getDefault(),originalUri:null,backgroundRemovedUri:null,originalDimensions:null,backgroundRemovedDimensions:null,flipHorizontal:!1,flipVertical:!1,editable:!1}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),f.supported),"background"),e.supportedVector=u.default.without(u.default.union(Object.keys(e.defaults),f.supported),"shadow","border"),e.supportedShapeMaskImageBase=u.default.without(u.default.union(Object.keys(e.defaults),f.supported),"animations","background","animationsRepeatAll","animationsReplayOnScroll","fill","exitAnimations"),e.supportedAlphaMaskImage=u.default.without(u.default.union(Object.keys(e.defaults),f.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedPropertiesForImageMaskBase=u.default.without(u.default.union(Object.keys(e.defaults),f.supported),"animations","background","animationsRepeatAll","border","animationsReplayOnScroll","fill","exitAnimations","shadow"),e.objectStateSupportedProperties=u.default.union(f.objectStateSupportedProperties,["border","shadow","effects","flipHorizontal","flipVertical","blendingMode"]),e.maskedImageClickOptions=[d.ActionTypes.changeState],e.maskedImageHoverOptions=[d.ActionTypes.changeState],e.maskedImageViewOptions=[d.ActionTypes.changeState]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.defaults=void 0;var u=s(n(0)),l=a(n(95)),c=n(70);e.defaults=i(i(i({},l.defaults),c.MODEL_DEFAULTS),{title:"Line",x2:0,y2:0,width:1,height:1,lineWidth:null,color:null}),e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),l.supported),["rotation","width","height","background","border","corner-radius"]),e.objectStateSupportedProperties=u.default.union(l.objectStateSupportedProperties,["x2","y2","border","shadow","lineWidth","color"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=s(n(369)),c=a(n(95)),d=n(70);e.defaults=i(i(i({},c.defaults),d.MODEL_DEFAULTS),{title:"Video",videoAutoPlay:!1,noAutoplayFallbackOption:l.default.NO_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY,mutedAutoplayFallbackOption:l.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.PLAY_MUTED_VIDEO,videoLoop:!1,videoHideControls:!1,video:null,poster:null,closedCaption:null,progress:null,createDate:null}),e.supported=u.default.without(u.default.union(Object.keys(e.defaults),c.supported),"rotation","interactions","background","border","corner-radius","constrain")},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supported=e.variantDefaults=e.defaults=void 0;var u=s(n(0)),l=n(85),c=n(126),d=a(n(95)),f=a(n(70));e.defaults=i(i(i({},d.defaults),c.MODEL_DEFAULTS),f.MODEL_DEFAULTS),e.variantDefaults={defaultSpan:{fontColor:"rgb(0,0,0)",fontSize:24,variantGuid:l.FontConstants.DEFAULT_FONT_VARIANT_GUID,underline:!1,letterSpacing:0}},e.supported=u.default.difference(u.default.union(Object.keys(e.defaults),d.supported,["autoLeading","indent","justify","columns","columnGap","columnWidth","leading","paddingTop","paddingRight","paddingBottom","paddingLeft","kerning","textShadow","defaultSpan","textSpans","textTransform","synced","htmlTag","hiddenFromScreenReaders"]),["background","border","corner-radius","shadow"]),e.objectStateSupportedProperties=u.default.union(d.objectStateSupportedProperties,["defaultSpan","justify","leading"])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var s=a(n(95));e.defaults=i(i({},s.defaults),{title:"Unsupported"}),e.supported=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0,e.defaults={title:"Canvas Background",x:0,y:0,rotation:0,background:{color:"#FFFFFF"}},e.supported=["pageHeight","viewportWidth","viewportHeight","scaleExperienceType","background","backgroundHasBeenSet"]},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.supported=e.defaults=void 0;var u=s(n(0)),l=n(70),c=a(n(95));e.defaults=i(i({},c.defaults),l.SECTION_DEFAULTS);var d=u.default.difference(Object.keys(e.defaults),["background","border","shadow"]);e.supported=u.default.union(d,["linkInteraction",l.properties.SCREEN_READER_ONLY_TEXT])},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},u=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.objectStateSupportedProperties=e.supportedMaskGroupCustomShape=e.supported=e.defaults=void 0;var c=l(n(0)),d=a(n(95)),f=n(70),h=n(398);e.defaults=i(i(i({},d.defaults),f.MODEL_DEFAULTS),{title:"Custom Shape"}),e.supported=c.default.without(c.default.union(Object.keys(e.defaults),d.supported),"corner-radius"),e.supportedMaskGroupCustomShape=c.default.without(u(h.supportedSquare,["mustHaveFill"]),"animations","animationsRepeatAll","animationsReplayOnScroll","corner-radius","border","interactions","shadow","states","selectedState","userDefinedStates","exitAnimations"),e.objectStateSupportedProperties=c.default.union(d.objectStateSupportedProperties,["border","background","shadow","path"])},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e){this.initialize(t,e)};o.prototype={initialize:function(t,e){this.model=t,this.changes={},this.doNotBuffer=!1,e&&this.add(e)},setDoNotBuffer:function(){return this.doNotBuffer=!0,this},canBuffer:function(){return!this.doNotBuffer},total:function(){return r.default.size(this.changes)},add:function(t){return r.default.extend(this.changes,t),this},remove:function(t){if(this.total()>0){r.default.isArray(t)||(t=[t]);var e=r.default.partial(r.default.unset,this.changes);r.default.map(t,e)}return this},getChanges:function(){return this.changes}},e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(220));e.default=a.default.extend({urlRoot:"/{api-version}/account/{account-slug}/account-members",defaults:{isOwner:!1},member:null,parse:function(t){return r.default.has(t,"member")&&(this.member=new o.default.Model(t.member),delete t.member),a.default.prototype.parse.call(this,t)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(725)),a=i(n(726)),s=i(n(8)),u={};e.default=o.default.extend({restUrl:"/rest/{api-version}/account/{account-slug}/feature-flag/",allowPagination:!1,model:a.default,accountSlug:null,initialize:function(t){o.default.prototype.initialize.call(this,t),t&&t.accountSlug?(this.accountSlug=t.accountSlug,this.restUrl=this.restUrl.replace("{account-slug}",t.accountSlug)):this.accountSlug=s.default.accountSlug},hasFeature:function(t){return!!this.find({featureFlagId:t})},parse:function(t){var e=o.default.prototype.parse.call(this,t);return e?(r.default.forEach(e,r.default.bind((function(t){t.accountSlug=this.accountSlug}),this)),e):e}},{getInstanceForAccount:function(t){return r.default.has(u,t)||(u[t]=new this({accountSlug:t})),u[t]}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(13)),s=i(n(55));e.default=a.default.Collection.extend({serverPageLength:100,serverPageMax:10,resolveKeys:"",allowPagination:!0,totalRecords:!1,constructor:function(){a.default.Collection.apply(this,arguments),this.urlParams=[]},initialize:function(){this._loadedPages=[]},clearCachedPages:function(){this._loadedPages=[]},hasEverBeenFetched:function(){return!1!==this.totalRecords},fetch:function(t){if(t||(t={}),!this.allowPagination)return this._fetchInternal(t);var e=t.silent,n=t.start||1,i=t.stop||this.serverPageLength*this.serverPageMax,a=void 0===t.resetAfterModelsResolve||t.resetAfterModelsResolve;this.totalRecords&&i>this.totalRecords&&(i=this.totalRecords);var s=this,u=this._getNeededPages(n,i);t.silent=!0,t.page=u.shift();var l=t.success,c=t.error,d=[],f=new r.default.Deferred;return t.success=function(e,r){r&&i>r.totalCount&&(i=r.totalCount,u=s._getNeededPages(n,i));var l=u.length;u.length>0&&(t.page=u.shift(),s._fetchInternal(t)),0===l&&(a&&o.default.each(s.models,(function(t){t.subRequestsPending>0&&(d.push(t.id),t.on("change",(function(){0===t.subRequestsPending&&(d.splice(d.indexOf(t.id),1),0===d.length&&f.resolve(e,r))})))})),0===d.length&&f.resolve(e,r))},t.error=function(t,n){404!=n.status||e?f.reject(t,n):f.resolve(t,n)},this._fetchInternal(t),f.done((function(t,n){l&&l(t,n),e||t.trigger("reset")})).fail((function(t,e){c&&c(t,e)})).promise()},_fetchInternal:function(t){t||(t={}),this.resolveKeys&&this.addUrlParam("resolve_keys",this.resolveKeys);var e=t.silent,n=1;if(t.page&&(n=t.page),-1!==r.default.inArray(n,this._loadedPages)&&!t.forceReload)return o.default.isFunction(t.success)&&t.success(this,null),(new r.default.Deferred).resolve(this,null).promise();1!=n&&this.allowPagination&&(t.remove=!1),t.at=n*this.serverPageLength-this.serverPageLength;var i=this,s=!1;t.success&&(s=t.success),t.silent=!0,t.success=function(t,r){i.totalRecords=r.totalCount,i._loadedPages.push(n),s&&s(t,r),e||t.trigger("reset")};var u=!1;t.error&&(u=t.error),t.error=function(t,n){404==n.status&&(u&&u(t,n),e||t.trigger("reset"))};var l=this.allowPagination?"/page/"+n:"";return t.url=this.url()+l+"?"+this.getUrlParamsAsString(),a.default.Collection.prototype.fetch.call(this,t)},_getNeededPages:function(t,e){for(var n=Math.floor(t/this.serverPageLength),i=[];n*this.serverPageLength<e;)i.push(n+1),n++;var o=this._loadedPages;return r.default.grep(i,(function(t){return r.default.inArray(t,o)<0}))},url:function(){var t=o.default.result(this,"restUrl")||this;return s.default.replaceUrlContextVariables(t)},parse:function(t){return void 0!==t&&void 0!==t.resources&&t.resources},addUrlParam:function(t,e){this.urlParams[t]=e},getUrlParamsAsString:function(){var t=[];return o.default.forIn(this.urlParams,(function(e,n){t.push(n+"="+e)})),t.join("&")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(220));e.default=r.default.extend({urlRoot:"/{api-version}/account/{account-slug}/feature-flag",idAttribute:"id",initialize:function(t){if(r.default.prototype.initialize.call(this,t),!t.accountSlug)throw new Error("Account slug is required.");this.urlRoot=this.urlRoot.replace("{account-slug}",t.accountSlug)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(8)),s=i(n(403)),u=i(n(728)),l=i(n(220)),c=i(n(402)),d=i(n(311)),f=1,h=2,p=3,g=4,m=5,v=6,y=function(t,e){return"/v1/account/"+t+"/account-members/"+e},_=o.default.Collection.extend({model:o.default.Model.extend({idAttribute:"uri"}),_prepareModel:function(t,e){var n=null;r.default.has(t,"account")&&(n=t.account,delete t.account);var i=o.default.Collection.prototype._prepareModel.call(this,t,e);return n&&(i.account=new d.default(n)),i}});e.default=c.default.extend({accountMembers:null,urlRoot:"/rest/{api-version}/current-user",dateFields:["creationDate","inviteAcceptedDate"],url:function(t){return t&&t.core&&(this.urlRoot=c.default.prototype.urlRoot),this.replaceUrlContextVariables(o.default.Model.prototype.url.call(this,arguments))},validate:function(t){var e=[];return t.title||e.push(new s.default("title","Name is required")),r.default.has(t,"password")&&(!t.password||t.password.length<6)&&e.push(new s.default("password","Password must at least 6 characters")),e.length>0?e:null},save:function(t,e,n){return l.default.prototype.save.call(this,t,e,n)},isAccountOwner:function(t){if(this.get("isSuperuser"))return!0;var e=t.substr(t.lastIndexOf("/")+1);return this.isAccountOwnerBySlug(e)},isAccountOwnerBySlug:function(t){if(this.get("isSuperuser"))return!0;var e=this.getAccountMemberModel(t);return!!e&&!!e.get("isOwner")},isAccountMember:function(t){return!!this.get("isSuperuser")||!!this.getAccountMemberModel(t||a.default.accountSlug)},getAccountMemberModel:function(t){if(!r.default.isNull(this.accountMembers)){var e=this.accountMembers.get(y(t,this.get("slug")));if(e)return e}return null},isCurrentAccountOwner:function(){return this.isAccountOwner("/v1/account/"+a.default.accountSlug)},parse:function(t){return r.default.has(t,"accountMembers")&&(this.accountMembers=new _(t.accountMembers),delete t.accountMembers,this.accounts=new u.default(r.default.map(this.accountMembers.models,"account"))),l.default.prototype.parse.call(this,t)},getFirstLoginDate:function(){var t=this.get("inviteAcceptedDate");return t&&!r.default.isEmpty(t)||(t=this.get("creationDate")),t},getRoleName:function(t){var e=t.toString(),n=this.accountMembers.toJSON().find((function(t){return t.accountId.toString()===e}));if(!n)return"unknown";if(n.isOwner)return"Owner";switch(n.projectRoleId){case 1:return"Creator";case 13:return"Editor";case 3:return"Reviewer";case 2:return"Viewer";default:return"unknown"}},getAccounts:function(){return this.accounts||(this.accounts=new u.default),this.accounts},addAccountMembership:function(t,e){this.accountMembers.push(r.default.extend({},e,{uri:y(t.get("slug"),this.get("slug")),slug:this.get("slug")})).account=t},hasAccess:function(t,e){switch(t){case f:case h:return!0;case p:return!!this.get("isSuperuser")||this.isAccountMember(e);case g:return!!this.get("isSuperuser")||this.isAccountOwnerBySlug(e);case m:return!!this.get("isSuperuser");case v:return!!this.get("isSuperadmin");default:return!1}}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(311));e.default=r.default.Collection.extend({model:o.default})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={promises:[],add:function(t){var e=this;e.contains(t)||(e.promises.push(t),t.always((function(){e.remove(t)})))},contains:function(t){return this.promises.indexOf(t)>-1},clear:function(){this.promises=[]},remove:function(t){var e=this.promises.indexOf(t);e>-1&&this.promises.splice(e,1)},isEmpty:function(){return 0===this.size()},size:function(){return this.promises.length},anyPromisesPending:function(){return r.default.some(this.promises,(function(t){return"pending"===t.state()}))},allClearToSwitchVariants:function(){return!this.anyPromisesPending()}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},replaceObjectContentsPreservingReference:function(t,e){return t===e?t:(r.default.forOwn(t,(function(e,n){delete t[n]})),r.default.extend(t,e))}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(732)),a=i(n(734)),s=i(n(735)),u={};r.default.extend(u,o.default,a.default,s.default,{set:function(t,e,n){var i=n&&!!n.ignoreState;return s.default.propHasStateException(t)||i||(t=s.default.set.call(this,t,e,n)),o.default.set.call(this,t,e,n)},get:function(t,e){var n=null,i=e&&!!e.ignoreState,r=o.default.get.call(this,t,e);return s.default.propHasStateException(t)||i||(n=s.default.get.call(this,t,e)),null!==n?n:r}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(405)),s=i(n(110)),u=i(n(733)),l=u.default.ATTR_OVERRIDES,c=u.default.NON_OVERRIDEABLE_ATTRIBUTES,d={};r.default.extend(d,u.default,{setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},nonVariantGet:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.get.call(this,t)},nonVariantSet:function(t,e,n){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.handleSetOverridesChanges(t,e,n),this.ParentModel.prototype.set.call(this,t,e,n)},nonVariantChangedAttributes:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.changedAttributes.call(this,t)},nonVariantPreviousAttributes:function(){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previousAttributes.call(this)},nonVariantPrevious:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.previous.call(this,t)},nonVariantHasChanged:function(t){if(!this.ParentModel)throw new Error("ParentModel not provided to VariantOverrideModelMixin instance");return this.ParentModel.prototype.hasChanged.call(this,t)},get:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantGet(t);var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=c.indexOf(t)>-1,o=this.isSyncedTextComponent()&&r.default.includes(this.getSyncedProperties(),t);return i||this.isForSyncedObject()||o?this.nonVariantGet(t):this.getAttributeForVariant(n,t,e)},set:function(t,e,n){if(r.default.isObject(t)&&(n=e),!this.initialized)return this.initialized=!0,this.initializedSet(t,n);if(t===l||n&&(n.unset||n.remote)||!s.default.adaptiveLayoutsEnabled())return this.nonVariantSet(t,e,n);var i=r.default.isObject(t)?t:a.default.buildPropertyObject(t,e);if(!r.default.isUndefined(i.synced)&&this.initialized){var o={synced:i.synced,overrides:this.buildOverridesWithEmptySyncedProperties()};delete i.synced;var u=this.nonVariantSet(o,n);if(r.default.isEmpty(i))return u}var c=n&&n.variant,d=c?n.variant:s.default.getCurrentVariant();return this.isForSyncedObject(n)&&!c?this.syncedObjectSet(i,n):this.setAttributeForVariant(d,i,n),this},initializedSet:function(t,e){return this.mergeVariantDefaults(t,e),this.ensureVariantOverrideObjects(t),this.nonVariantSet(t,e)},mergeVariantDefaults:function(t,e){if(this.variantDefaults){var n=e&&e.variant?e.variant:s.default.getCurrentVariant(),i=r.default.result(this,"variantDefaults");if("desktop"===n||this.isForSyncedObject(e))r.default.defaults(t,i);else{var o=r.default.omitBy(i,r.default.bind((function(e,n){return r.default.has(t,n)&&null!=t[n]}),this));t[l]=t[l]?t[l]:{},t[l][n]=t[l][n]?t[l][n]:{},r.default.defaults(t[l][n],o)}}return this},has:function(t,e){return null!=this.get(t,e)},hasChanged:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantHasChanged(t);e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1});var n=e.variant?e.variant:s.default.getCurrentVariant();return e.nonVariant||!t||t===l?this.nonVariantHasChanged(t):this.hasChangedForDesktop(t)||"desktop"!==n&&this.hasChangedForVariant(n,t)},previous:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPrevious(t);if(e=e||{},r.default.defaults(e,{variant:null,nonVariant:!1,doNotFallbackToDesktop:!1}),null==t)return null;var n=e.variant?e.variant:s.default.getCurrentVariant();if(e.nonVariant||this.isForSyncedObject())return this.nonVariantPrevious(t);if(e.doNotFallbackToDesktop)return this.previousForVariant(n,t);var i=this.previousForVariant(n,t);return i||this.nonVariantPrevious(t)},previousAttributes:function(t){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantPreviousAttributes();t=t||{},r.default.defaults(t,{variant:null,nonVariant:!1,onlyVariantOverrides:!1});var e=t.variant?t.variant:s.default.getCurrentVariant();if(t.nonVariant)return this.nonVariantPreviousAttributes();if(this.isForSyncedObject()||"desktop"===e)return this.previousAttributesForDesktop();if(t.onlyVariantOverrides)return this.previousAttributesForVariant(e,t);var n=this.previousAttributesForDesktop(),i=this.previousAttributesForVariant(e);return r.default.extend({},n,i)},changedAttributes:function(t,e){if(!s.default.adaptiveLayoutsEnabled())return this.nonVariantChangedAttributes(t);var n=(e=r.default.defaults(e||{},{nonVariant:!1,variant:null,onlyVariantOverrides:!1})).variant?e.variant:s.default.getCurrentVariant();if(e.nonVariant){var i=this.nonVariantChangedAttributes(t);return i.overrides&&(i.overrides=s.default.cloneOverrides(i.overrides)),i}if(this.isForSyncedObject())return this.changedAttributesForDesktop(t);if(e.onlyVariantOverrides)return this.changedAttributesForVariant(n,t);var o=this.changedAttributesForDesktop(t),a=this.changedAttributesForVariant(n,t);return r.default.extend({},o,a)}}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(110)),a=["id","overrides","type"];e.default={ATTR_ID:"id",ATTR_OVERRIDES:"overrides",NON_OVERRIDEABLE_ATTRIBUTES:a,nonVariantGet:function(t){return this.get(t)},nonVariantSet:function(t,e,n){return this.handleSetOverridesChanges(t,e,n),this.set(t,e,n)},nonVariantChangedAttributes:function(t){return this.changedAttributes(t)},nonVariantPreviousAttributes:function(){return this.previousAttributes()},nonVariantPrevious:function(t){return this.previous(t)},nonVariantHasChanged:function(t){return this.hasChanged(t)},getAttributeForVariant:function(t,e,n){if("desktop"===t)return this.nonVariantGet(e);var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},setAttributeForVariant:function(t,e,n){if(!r.default.isObject(e))throw new Error("setAttributeForVariant expects a property object");if(r.default.has(e,"overrides"))throw new Error("setAttributeForVariant does not accept overrides");if("desktop"===t)return this.setAttributeForDesktop(e,n);var i=this.nonVariantGet("overrides"),o=r.default.cloneDeep(i);o[t]=r.default.get(o,t,{});var s=this.isSyncedTextComponent()?a.concat(this.getSyncedProperties()):a,u=r.default.pick(e,s),l=r.default.omit(e,s);r.default.forOwn(l,(function(e,n){o[t][n]=e}));var c={};return r.default.extend(c,u),r.default.set(c,"overrides",o),this.nonVariantSet(c,n)},setAttributeForDesktop:function(t,e){if(!r.default.isObject(t))throw new Error("setAttributeForDesktop expects a property object");if(r.default.has(t,"overrides"))throw new Error("setAttributeForDesktop does not accept overrides");var n=t,i=this.buildOverridesFromOriginalDesktopAttributes(t,e);return i&&((n=r.default.clone(t)).overrides=i),this.nonVariantSet(n,e)},syncedObjectSet:function(t,e){if(!r.default.isObject(t))throw new Error("syncedObjectSet expects a property object");return(e=r.default.isObject(e)?e:{}).syncedObject=!0,this.nonVariantSet(t,e)},ensureVariantOverrideObjects:function(t){o.default.adaptiveLayoutsEnabled()&&(t.overrides||(t.overrides={}),r.default.each(o.default.getExistingVariants(),(function(e){t.overrides[e]||(t.overrides[e]={})})))},buildOverridesFromOriginalDesktopAttributes:function(t,e){if(!r.default.isObject(t))throw new Error("buildOverridesFromOriginalDesktopAttributes expects a property object");var n=this._buildCurrentValueCacheForDesktopProperties(t);if(r.default.isEmpty(n))return!1;var i=!1,o=this.get("overrides"),a=r.default.cloneDeep(o);return r.default.forOwn(a,(function(t){r.default.forOwn(n,(function(e,n){r.default.isUndefined(t[n])&&(t[n]=e,i=!0)}))})),!!i&&a},_buildCurrentValueCacheForDesktopProperties:function(t){var e=this,n={},i=r.default.clone(a);this.isSyncedTextComponent()&&i.push("textSpans");var o=r.default.omit(t,i);return r.default.forOwn(o,(function(t,i){var r=e.getAttributeForVariant("desktop",i);r!==t&&(n[i]=r)})),n},handleSetOverridesChanges:function(t,e,n){if(!this._changing){var i=this.nonVariantGet("overrides");this._previousOverrides=i?r.default.cloneDeep(i):{},this._changedOverrides={}}var o;if("overrides"===t)o=e;else{if(!r.default.isObject(t)||!r.default.has(t,"overrides"))return;o=t.overrides}var a=this._previousOverrides,s=this._changedOverrides;r.default.forOwn(o,(function(t,e){a[e]=a[e]||{},s[e]=s[e]||{},r.default.forOwn(t,(function(t,n){r.default.isEqual(a[e][n],t)?delete s[e][n]:s[e][n]=t}));var n=r.default.difference(r.default.keys(a[e]),r.default.keys(t));r.default.each(n,(function(t){s[e][t]=void 0}))}))},hasValueForVariant:function(t,e){return null!=this.getAttributeForVariant(t,e,{doNotFallbackToDesktop:!0})},changedAttributesForVariant:function(t,e){if("desktop"===t)return this.changedAttributesForDesktop(e);if(!e){var n=r.default.clone(r.default.get(this._changedOverrides||{},t));return!!this.hasChangedForVariant(t)&&n}var i=this._changing?r.default.get(this._previousOverrides,t):r.default.get(this.attributes,["overrides",t]),o={};return r.default.each(e,(function(t,e){r.default.isEqual(i[e],t)||(o[e]=t)})),!!r.default.size(o)&&o},changedAttributesForDesktop:function(t){var e=this.nonVariantChangedAttributes(t);return delete e.overrides,e},previousAttributesForVariant:function(t){if("desktop"===t)return this.previousAttributesForDesktop();var e=this._previousOverrides||{},n=r.default.get(e,t);return n?r.default.clone(n):{}},previousAttributesForDesktop:function(){var t=this.nonVariantPreviousAttributes();return delete t.overrides,t},previousForVariant:function(t,e){if("desktop"===t)return this.nonVariantPrevious(e);var n=this._previousOverrides||{};return r.default.get(n,[t,e],void 0)},hasChangedForVariant:function(t,e){if("desktop"===t)return this.hasChangedForDesktop(e);var n=this._changedOverrides||{};return null==e?!r.default.isEmpty(n[t]):r.default.has(n[t],e)},hasChangedForDesktop:function(t){var e=r.default.omit(this.changed,"overrides");return null==t?!r.default.isEmpty(e):r.default.has(e,t)},isSyncedTextComponent:function(){return!1}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(110));e.default={bindVariantAttributeChangeEvents:function(){this.on("change:overrides",this.triggerVariantAttributeChangeEvents,this)},triggerVariantAttributeChangeEvents:function(t,e,n){var i=o.default.getCurrentVariant();if("desktop"!==i&&!t.isForSyncedObject(n)){var a=t.changedAttributesForVariant(i),s=r.default.extend({},n,{fromOverrides:!0,variant:i});r.default.each(a,(function(e,n){t.trigger("change:"+n,t,e,s)}))}}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(405)),a=n(736),s=n(221),u=i(n(157)),l={};r.default.extend(l,{stateExceptionProps:["states","interactions","userDefinedStates"],isStateExceptionProp:function(t){return!!r.default.find(this.stateExceptionProps,(function(e){return e===t}))},propHasStateException:function(t){var e=this;return r.default.isObject(t)?r.default.some(r.default.keys(t),(function(t){return e.isStateExceptionProp(t)})):e.isStateExceptionProp(t)},set:function(t,e,n){var i=this._filterUnsupportedProps(o.default.buildPropertyObject(t,e));if(s.ObjectStateManager.isNonDefaultState(this.selectedState)){var a=r.default.cloneDeep(this.get("states")||t.states||{}),u=a[this.selectedState]||{},l={};r.default.isNil(i.x)&&r.default.isNil(i.y)&&r.default.isNil(i.x2)&&r.default.isNil(i.y2)||(i=this._setDeltaValuesForCoordinateProperties(i)),r.default.extend(u,i),l[this.selectedState]=u,r.default.extend(a,l),t={states:a},this.triggerChangeEventForStateProps(u,n)}return t},get:function(t,e){var n=this.get("states",e);if(!n)return null;if(s.ObjectStateManager.isNonDefaultState(this.selectedState)&&(n[this.selectedState]&&!r.default.isUndefined(n[this.selectedState][t])))return"x"===t||"y"===t||"x2"===t||"y2"===t?this.get(t,r.default.extend(e,{ignoreState:!0}))+this._getDeltaValueForCoordinateProperty(n,t):n[this.selectedState][t];return null},_setDeltaValuesForCoordinateProperties:function(t){if(!r.default.isNil(t.x)){var e=this.get("x",{ignoreState:!0});t.deltaX=t.x-e,t.x=e}if(!r.default.isNil(t.y)){var n=this.get("y",{ignoreState:!0});t.deltaY=t.y-n,t.y=n}if(!r.default.isNil(t.x2)){var i=this.get("x2",{ignoreState:!0});t.deltaX2=t.x2-i,t.x2=i}if(!r.default.isNil(t.y2)){var o=this.get("y2",{ignoreState:!0});t.deltaY2=t.y2-o,t.y2=o}return t},_getDeltaValueForCoordinateProperty:function(t,e){var n=0;return"x"===e&&(n=t[this.selectedState].deltaX||0),"y"===e&&(n=t[this.selectedState].deltaY||0),"x2"===e&&(n=t[this.selectedState].deltaX2||0),"y2"===e&&(n=t[this.selectedState].deltaY2||0),n},clearAllObjectStates:function(){var t=r.default.keys(this.getStatesClone()),e=this;r.default.each(t,(function(t){e.clearSelectedObjectState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},removeAllObjectStates:function(t){void 0===t&&(t=!1);var e=r.default.keys(this.getStatesClone()),n=this;(this.isGroup()||this.isSmartgroup())&&(this.isSmartgroup()?this.getSmartGroupChildren():this.getAllDescendants()).forEach((function(t){t.removeAllObjectStates()}));r.default.each(e,(function(t){s.ObjectStateManager.isInteractionState(t)?n.removeState(t):n.removeUserDefinedState(t)})),this.setSelectedObjectState(u.default.OBJECT_STATES_DEFAULT)},clearSelectedObjectState:function(t){t=t||this.selectedState;var e=this.getStatesClone(),n=r.default.keys(e[t]),i=this;r.default.each(n,(function(t){i.resetPropertyToDefaultValue(t)})),e[t]={},this.set("states",e),this.save()},clearOrRemoveSelectedObjectState:function(){if(s.ObjectStateManager.isDefaultState(this.selectedState))return!1;var t=this.get("states");s.ObjectStateManager.isUserDefinedState(this.selectedState)&&r.default.isEmpty(t[this.selectedState])&&this.removeUserDefinedState(this.selectedState),this.clearSelectedObjectState()},removeUserDefinedState:function(t,e){t=t||this.selectedState;var n=this.get("userDefinedStates");n=n.filter((function(e){return e.id!==t})),this.set({userDefinedStates:n},{silent:e}),this.removeState(t)},removeState:function(t,e){t=t||this.selectedState;var n=r.default.omit(this.getStatesClone(),t);this.set({states:n},{silent:e})},renameUserDefinedState:function(t,e,n){t=t||this.selectedState;var i=r.default.cloneDeep(this.get("userDefinedStates")),o=r.default.cloneDeep(this.get("states")),s=r.default.cloneDeep(o[t]),u=i.find((function(e){return e.id===t})),l=void 0;if(u){var c=r.default.indexOf(i,u),d=a.UserDefinedState.withNewTitle(u.number,e);-1!==c&&(i[c]=d.toJSON(),l=d.id,delete o[t],o[d.id]=s,this.set({userDefinedStates:i,states:o},{silent:n}),this.save())}return l},hasStates:function(){return!r.default.isEmpty(this.get("states"))},triggerChangeEventForStateProps:function(t,e){var n=this;r.default.each(r.default.keys(t),(function(i){n.trigger("change:"+i,i,t[i],e||{})}))},triggerChangeEventForAllStateProps:function(t){var e=this.getStatesClone();if(e){var n=e[this.selectedState];this.triggerChangeEventForStateProps(n,t)}},resetPropertyToDefaultValue:function(t){var e=this.get(t,{ignoreState:!0});this.set(t,e)},getAttributesWithStateChanges:function(){var t=this.getStatesClone(),e={};return r.default.each(r.default.keys(t),(function(n){r.default.extend(e,t[n])})),r.default.keys(e)},getExistingObjectStates:function(){var t=this.get("states");return r.default.keys(t)},hasActiveStateProperties:function(t,e){var n=this,i=this.getStatesClone();if(!i)return!1;if(t){var o=!this.hasEmptyState(t,i);return o&&e?!r.default.isNil(i[t][e]):this.isGroup()||this.isSmartgroup()?this.hasChildrenWithActiveState(t):o}return r.default.some(r.default.keys(i),(function(t){return n.hasActiveStateProperties(t)}))},addEmptyState:function(t){var e=this.getStatesClone();e[t]||(e[t]={},this.set({states:e}))},getUserDefinedStates:function(){return this.get("userDefinedStates")||[]},getNextUserDefinedStateNumber:function(){var t=this.get("userDefinedStates")||[],e=r.default.maxBy(t,"number");return e?e.number+1:1},addUserDefinedState:function(t){var e=r.default.cloneDeep(this.get("userDefinedStates"))||[],n=new a.UserDefinedState(t);e.push(n.toJSON());var i=this.getStatesClone();return i[n.id]={},this.set({states:i,userDefinedStates:e}),this.save(),n.id},hasActiveUserDefinedStateWithNoChanges:function(){return!!s.ObjectStateManager.isUserDefinedState(this.selectedState)&&this.hasEmptyState(this.selectedState)},hasEmptyState:function(t,e){return e=e||this.get("states"),!r.default.some(r.default.keys(e[t]),(function(n){return!r.default.isNil(e[t][n])}))||r.default.isEmpty(e[t])},stateExists:function(t){var e=this.get("states");return-1!==r.default.keys(e).indexOf(t)},userDefinedStateExist:function(t){return this.getUserDefinedStates().map((function(t){return t.title.toLowerCase()})).includes(t.toLowerCase())},findKeyForUserDefinedState:function(t){var e;return null===(e=this.getUserDefinedStates().find((function(e){return e.title.toLowerCase()===t.toLowerCase()})))||void 0===e?void 0:e.id},_filterUnsupportedProps:function(t){var e={},n=this;return r.default.isObject(t)&&r.default.each(r.default.keys(t),(function(i){n.supportsObjectStatesForProperty(i)&&(e[i]=t[i])})),e},getStatesClone:function(){return r.default.cloneDeep(this.get("states"))}}),e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserDefinedState=void 0;var i=function(){function t(t){this.number=t,this.title="State "+t,this.updateId()}return t.prototype.toJSON=function(){return{id:this.id,number:this.number,title:this.title}},t.withNewTitle=function(e,n){var i=new t(e);return i.updateTitle(n),i},t.prototype.toTextOption=function(){return{title:this.title,value:this.id}},t.prototype.convertTitleToSlug=function(t){return t.toLowerCase().replace(" ","-")},t.prototype.updateTitle=function(t){this.title=t,this.updateId()},t.prototype.updateId=function(){this.id=this.convertTitleToSlug(this.title)},t}();e.UserDefinedState=i},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=n(313),s=i(n(436)),u="change",l="change",c=o.default.Collection.extend({model:a.InteractionModel,initialize:function(t,e){if(e=e||{},!r.default.isFunction(e.saveHandler))throw new Error("Must instantiate InteractionCollection with a save handler");this.saveHandler=e.saveHandler,this.doc=e.shareJsDoc,this.doc&&s.default.addDocListener(this.doc,l,r.default.bind(this.handleSharejsChange,this)),this.setupPersistenceHandlers(),o.default.Collection.prototype.initialize.call(t,e)},setupPersistenceHandlers:function(){var t=this,e=function(e){e.setSaveHandler(t.save,t),e.setDestroyHandler(t.destroyModel,t)};this.on("add",e),this.on("reset",r.default.bind((function(){this.each(e)}),this)),this.each(e)},getAncestorFullHierarchyCollection:function(){throw new Error("Not implemented")},getAncestorScranchorCollection:function(){throw new Error("Not implemented")},getAncestorPageCollection:function(){throw new Error("Not implemented")},save:function(){this.saveHandler()},destroyModel:function(t){this.remove(t),this.save()},hasComponentLevelInteractions:function(){return!1},handleSharejsChange:function(t){r.default.some(t,r.default.bind((function(t){return"interactions"===t.p[0]}),this))&&this.trigger(u)},toJSON:function(){var t=[];return this.each((function(e){t.push(e.toJSON())})),t},getPageNumberAwareInteractions:function(){return this.filter((function(t){return t.isPageNumberAwareInteraction()}))},iterateInteractionsMonitoringForChanges:function(t,e){var n=this,i=!1,o=function(){i=!0};r.default.each(t,(function(t){t.on("change",o),e.call(n,t),t.off("change",o)})),i&&this.save()},updateInteractionPageNumbersOnAdd:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageAdd(t+1)}))},updateInteractionPageNumbersOnMove:function(t,e){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(n){n.getAction().handlePageMove(t+1,e+1)}))},updateInteractionPageNumbersOnDelete:function(t){this.iterateInteractionsMonitoringForChanges(this.getPageNumberAwareInteractions(),(function(e){e.getAction().handlePageDelete(t+1)}))}});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionModelFactory=void 0;var i=n(406),r=n(407),o=n(408),a=n(409),s=n(410),u=n(411),l=n(412),c=n(413),d=n(414),f=n(415),h=n(416),p=n(417),g=n(419),m=n(420),v=n(421),y=n(422),_=n(423),b=n(424),w=n(425),T=n(426),S=n(427),O=n(428),E=n(429),P=n(430),C=n(431),A=n(432),x=n(433),I=n(740),k=n(741),M=n(434),R=n(435),N=function(){function t(){}return t.createModelForActionType=function(e,n,i){var r=t.constructorMap.get(e);return r?new r(n,i):(console.warn("Invalid action type "+e),new k.InvalidActionModel(n,i))},t.constructorArr=[i.ScrollToActionModel,o.NextPageActionModel,a.PrevPageActionModel,s.GotoPageActionModel,u.EnableDisablePageActionModel,l.UrlActionModel,c.ShowCanvasTargetsActionModel,d.ShowCanvasTargetsOnHoverActionModel,f.ShowOnlyActionModel,h.HideOnlyActionModel,p.CycleNextActionModel,g.CyclePreviousActionModel,m.HideCanvasTargetsActionModel,v.ToggleCanvasTargetsActionModel,y.HideAndStayHiddenCanvasTargetsActionModel,_.ShowAndStayVisibleCanvasTargetsActionModel,b.LightboxActionModel,w.ProductActionModel,T.ShoppingCartActionModel,x.FullscreenActionModel,S.EmailActionModel,O.FacebookActionModel,E.TwitterActionModel,P.PinterestActionModel,C.LinkedInActionModel,A.ChangeStateActionModel,r.ScrollToObjectActionModel,I.ToggleReducedMotionActionModel,M.BringToFrontActionModel,R.ResetPositionsActionModel],t.constructorMap=new Map(t.constructorArr.map((function(t){return[t.prototype.actionType,t]}))),t}();e.ActionModelFactory=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PageTargetInteractionUtils=void 0;var i=function(){function t(){}return t.calculateUpdatedPageNumberOnMove=function(t,e,n){return t===n?e:t>=e&&t<n?t+1:t>n&&t<=e?t-1:t},t}();e.PageTargetInteractionUtils=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionActionModel=void 0;var s=a(n(48)),u=n(52),l=n(71),c=n(29),d=n(20),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isHidden=function(){return!s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},e=o([c.ActionModelOptions({actionType:d.ActionTypes.toggleReducedMotion})],e)}(l.AbstractActionModel);e.ToggleReducedMotionActionModel=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidActionModel=void 0;var a=n(71),s=n(29),u=n(20),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!1},e=o([s.ActionModelOptions({actionType:u.ActionTypes.invalid})],e)}(a.AbstractActionModel);e.InvalidActionModel=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(55));e.default={canBypassErrorDialogs:function(){return r.default.hasQueryParam(window.location.href,"bypassErrors")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(744),r=[],o=["ResizeObserver loop limit exceeded"];e.default={registerObserver:function(t){r.push(t)},registerRollbarObserver:function(t){if(t){var e=t;this.registerObserver((function(t,n,r,o,a){a&&a.metadata?i.RollbarUtils.sendError(a):e(t,n,r,o,a)}))}},handleFatalError:function(t,e,n,i,a){if(!o.some((function(e){return e===t})))for(var s=0;s<r.length;s++)r[s](t,e,n,i,a)}}},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RollbarUtils=void 0;var o=r(n(0)),a=r(n(3)),s=function(){function t(){}return t.sendError=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(window.Rollbar){var o=[];try{for(var a=i(n),s=a.next();!s.done;s=a.next()){var u=s.value;if(u instanceof Error){var l=u;o.push(u),l.metadata&&o.push(this.convertMetadata(l.metadata))}else"string"!=typeof u?o.push(this.convertMetadata(u)):o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}window.Rollbar.error.apply(window.Rollbar,o)}},t.configure=function(){this.registerTelemetryListeners()},t.addTelemetry=function(t){window.Rollbar&&("string"==typeof t&&(t={msg:t}),window.Rollbar.captureEvent(t,"info"))},t.registerTelemetryListeners=function(){a.default(document).on("keydown",this.keydownTelemetryListener)},t.unregisterTelemetryListeners=function(){a.default(document).off("keydown",this.keydownTelemetryListener)},t.keydownTelemetryListener=function(e){if(window.Rollbar&&e.key&&!o.default.includes(["control","alt","meta","shift"],e.key.toLowerCase())){var n=e.target.nodeName.toLowerCase();if(-1===["input","textarea"].indexOf(n)){var i=[];e.ctrlKey&&i.push("ctrl"),e.altKey&&i.push("alt"),e.metaKey&&i.push("meta"),e.shiftKey&&i.push("shift"),i.push(e.key);var r="Key Press: "+i.join("+");t.addTelemetry(r)}}},t.convertMetadata=function(t){return o.default.mapValues(t,(function(t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){t="Could not stringify value: "+e.message}return o.default.truncate(t,{length:9e4})}))},t}();e.RollbarUtils=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(61)),a=i(n(746)),s=i(n(437)),u=i(n(747));e.default=a.default.extend({events:r.default.extend({},a.default.prototype.events,{"click #reload":"pageReload","click .modal-overlay":""}),initialize:function(t){a.default.prototype.initialize.call(this,t),this.render()},render:function(){s.default.trigger("offline"),this.$el.html(o.default.render(u.default,{}))},pageReload:function(){window.location.reload()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(239)),a=n(194),s={MODAL_CLOSED:"modal-closed",MODAL_OPENED:"modal-opened"};e.default=a.AbstractView.extend({className:"modal-container",events:{"click .modal-close":"handleHideClick","click .close":"handleHideClick","click .modal-overlay":"handleHideClick"},preventHide:!1,initialize:function(){r.default("body").append(this.$el)},bindCloseOnEsc:function(){r.default(window).on("keydown",r.default.proxy(this.cancelOnEscape,this))},onClose:function(){a.AbstractView.prototype.onClose.apply(this,arguments),r.default(window).off("keydown",r.default.proxy(this.cancelOnEscape,this))},cancelOnEscape:function(t){t.keyCode===o.default.ESC&&this.hide()},show:function(){var t=this;return setTimeout((function(){t.$el.addClass("shown"),r.default("body").css("overflow","hidden"),t.broadcast.trigger(s.MODAL_OPENED)}),0),this},handleHideClick:function(t){t.preventDefault(),this.hide()},hide:function(t){if(!this.preventHide)return this.$el.removeClass("shown"),r.default("body").css("overflow",""),this.trigger(s.MODAL_CLOSED,t),this}},{EVENTS:s,extend:function(t,e){return this.instance=null,a.AbstractView.extend.call(this,t,e)},getInstance:function(t){return this.instance||(this.instance=new this(t)),this.instance}})},function(t,e,n){"use strict";n.r(e),e.default='<div>\n    <div class="modal-overlay"></div>\n    <div id="connection-lost-modal-content" class="studio-modal-content">\n        <div class="studio-modal-body">\n            <h3 class="no-body">Connection lost</h3>\n            <div>\n                <button id="reload" class="confirm-button">Reload now</button>\n            </div>\n        </div>\n    </div>\n</div>'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(t,e,n,i){this.width=t,this.height=e,this.aspectRatio=n,this.centerPosition=i};o.prototype=r.default.extend(o.prototype,{getWidth:function(){return this.width},getHeight:function(){return this.height},getAspectRatio:function(){return this.aspectRatio},getCenterPosition:function(){return this.centerPosition}}),o.createInstance=function(t){return new o(t.getWidth(),t.getHeight(),t.getAspectRatio(),t.getCenterPosition())},e.default=o},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(3)),l=n(750),c=n(441),d=a(n(752)),f=a(n(753)),h=n(195),p=n(754),g=n(85),m=n(183),v=function(){this.apis={},this.setAPI(new l.GoogleFontAPI),this.setAPI(new c.UploadedFontAPI),this.setAPI(new d.default),this.setAPI(new p.UploadedFontPlusAPI)};v.prototype={setAPI:function(t){this.apis[t.ID]=t},getAPIs:function(){return this.apis},getAPI:function(t){return this.apis[t]},buildWebFontConfigForFamilies:function(t){var e=new h.FontCollection(s.default.filter(t.getFontFamilies(),(function(t){return!t.isBuiltIn()&&!t.getWebFontStylesLoaded()}))),n={},i=new h.FontCollection;return s.default.each(e.getFontFamiliesByAPIMap(),s.default.bind((function(t,e){var r=this.apis[e],o=new h.FontCollection(t);this.handleWebLoaderObjectForFamilies(n,r,o),i.add(o)}),this)),new f.default({apiConfigs:n,queuedFontFamilies:i})},handleWebLoaderObjectForFamilies:function(t,e,n){var i,o;if(t[e.FONTLOADER_KEY]){var a=e.buildWebLoaderObjectForFamilies(n);(i=t[e.FONTLOADER_KEY].families).push.apply(i,r(a.families)),(o=t[e.FONTLOADER_KEY].urls).push.apply(o,r(a.urls))}else t[e.FONTLOADER_KEY]=e.buildWebLoaderObjectForFamilies(n)},loadFamiliesByVariantGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=s.default.map(n,s.default.bind((function(t,n){return this.apis[n].loadFamiliesByVariantGuids(t,e)}),this));return u.default.when.apply(u.default,i).then((function(){var t=new h.FontCollection;return s.default.each(arguments,(function(e){t.add(e)})),t}))},loadFamiliesByFamilyGuids:function(t,e){var n=this.segmentGuidsByAPIId(t),i=s.default.map(n,s.default.bind((function(t,n){return this.apis[n].loadFamiliesByFamilyGuids(t,e)}),this));return u.default.when.apply(u.default,i).then((function(){var t=new h.FontCollection;return s.default.each(arguments,(function(e){t.add(e)})),t}))},loadFontPlusCharacterSetsByVariantGuid:function(t){var e,n,i=t.filter((function(t){return t.indexOf(g.FontConstants.GOOGLE_API_ID)>-1})),r=t.filter((function(t){return t.indexOf(g.FontConstants.FONT_PLUS_UPLOADED_API_ID)>-1})),a=[],s=this.loadUploadedFontPlusCharacterSetsByVariantGuid(r);a.push(s);var u=[];try{for(var l=o(i),c=l.next();!c.done;c=l.next()){var d=c.value,f=m.FontUtil.parseGoogleVariantGuid(d);u.push(f)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var h=this.loadGoogleFontPlusCharacterSetsByVariantGuid(u);return a.push(h),Promise.all(a)},loadUploadedFontPlusCharacterSetsByVariantGuid:function(t){return this.apis[g.FontConstants.FONT_PLUS_UPLOADED_API_ID].loadFontPlusCharacterSetsByVariantGuid(t)},loadGoogleFontPlusCharacterSetsByVariantGuid:function(t){return this.apis[g.FontConstants.GOOGLE_API_ID].loadFontPlusCharacterSetsByVariantGuid(t)},getAPIForFamilyOrVariantGuid:function(t){var e=s.default.find(this.apis,(function(e){return e.belongsToAPI(t)}));if(!e)throw"Could not find font api for family/Variant Guid: "+t;return e},segmentGuidsByAPIId:function(t){var e={};return s.default.each(t,s.default.bind((function(t){var n=this.getAPIForFamilyOrVariantGuid(t);e[n.ID]||(e[n.ID]=[]),e[n.ID].push(t)}),this)),e},updateMetrics:function(t){var e=this.segmentGuidsByAPIId(t),n=s.default.map(e,s.default.bind((function(t,e){return this.apis[e].updateMetrics(t)}),this));return u.default.when.apply(u.default,n)}},e.default=v},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoogleFontAPI=void 0;var u=s(n(0)),l=s(n(3)),c=s(n(8)),d=n(193),f=n(195),h=n(315),p=n(183),g=n(85),m=s(n(48)),v=n(52),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=g.FontConstants.GOOGLE_API_ID,e.FONTLOADER_KEY="google",e.FONT_URL="/google-font-list",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.execute=function(t){return m.default.hasFeature(v.FeatureFlagName.NEW_TEXT_TOOL)&&(this.FONT_URL=this.FONT_URL+"?textPlus=true"),h.AbstractFontAPI.prototype.execute.call(this,t)},e.prototype.parseResults=function(t){var e=this,n=[];return u.default.each(t.items,(function(t){if(u.default.includes(t.subsets,"latin")){var i=new d.FontFamily;e.populate(i,t),n.push(i)}})),new f.FontCollection(n)},e.prototype.populate=function(t,e){var n=this;t.api=this.ID,t.family=e.family,t.category=e.category,t.version=e.version,t.lastModified=e.lastModified,t.files=e.files,t.guid=this.buildFontFamilyGuid(e.family),u.default.each(e.variants,(function(i){var r=p.FontUtil.parseGoogleVariantName(i),o=n.buildFontVariantGuid(e.family,r.fontWeight,r.fontStyle);t.addVariant(r.variantName,{familyName:e.family,fontWeight:r.fontWeight,fontStyle:r.fontStyle,guid:o})}))},e.prototype.buildWebLoaderObjectForFamilies=function(t){var e=this;return{families:u.default.chain(t.getFontFamilies()).map((function(t){if(t.api===e.ID)return t.family+":"+t.getVariantNames().join(",")})).filter((function(t){return!!t})).value()}},e.prototype.loadMetrics=function(t){return p.FontUtil.loadMetrics(t)},e.prototype.buildFontFamilyGuid=function(t){return g.FontConstants.GOOGLE_API_ID+"|"+t},e.prototype.buildFontVariantGuid=function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n},e.prototype.updateMetrics=function(t){var e=this;if(0===t.length)return new(l.default.Deferred().resolve);var n=u.default.map(t,(function(t){var n=e.fontCollection.getFontFamilyByFamilyGuid(t);return u.default.pick(n,["family","version","lastModified","files"])}));return l.default.ajax("/rest/v1/font/glyph-metrics",{data:JSON.stringify(n),type:"POST",contentType:"application/json"}).promise()},e.prototype.getFontPlusCharacterSets=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){return t.length>0?[2,l.default.post("/rest/v1/account/"+c.default.accountSlug+"/font-plus-character-set-google",{googleFamilyVariants:t}).then((function(t){return t}))]:[2,new Promise((function(t){t([])}))]}))}))},e}(h.AbstractFontAPI);e.GoogleFontAPI=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isGoogleVariantTuple=void 0,e.isGoogleVariantTuple=function(t){return"string"!=typeof t&&!!t.familyName&&!!t.variant}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=n(193),s=n(195),u=n(315),l=n(183),c=n(85),d=[{familyName:"Arial",variants:["regular","700","italic","700italic"]},{familyName:"Courier New",variants:["regular","700","italic","700italic"]},{familyName:"Georgia",variants:["regular","700","italic","700italic"]},{familyName:"Helvetica",variants:["regular","700","italic","700italic"]},{familyName:"Times New Roman",variants:["regular","700","italic","700italic"]},{familyName:"Trebuchet MS",variants:["regular","700","italic","700italic"]},{familyName:"Verdana",variants:["regular","700","italic","700italic"]}],f=function(){this.fontCollection=new s.FontCollection,r.default.each(d,r.default.bind((function(t){var e=new a.FontFamily({api:this.ID,family:t.familyName,guid:this.buildFontFamilyGuid(t.familyName)});r.default.each(t.variants,r.default.bind((function(n){var i=l.FontUtil.parseGoogleVariantName(n);e.addVariant(i.variantName,{familyName:t.family,fontWeight:i.fontWeight,fontStyle:i.fontStyle,guid:this.buildFontVariantGuid(t.familyName,i.fontWeight,i.fontStyle)})}),this)),this.fontCollection.addFontFamily(e)}),this))};r.default.extend(f.prototype,u.AbstractFontAPI.prototype,{ID:c.FontConstants.BUILTIN_API_ID,execute:function(){return o.default.Deferred().resolve(new s.FontCollection).promise()},loadMetrics:function(t){return l.FontUtil.loadMetrics(t)},isBuiltInFamilyGuid:function(t){return!!this.fontCollection.getFontFamilyByFamilyGuid(t)},getFontCollection:function(){return this.fontCollection},buildFontFamilyGuid:function(t){return c.FontConstants.BUILTIN_API_ID+"|"+t},buildFontVariantGuid:function(t,e,n){return this.buildFontFamilyGuid(t)+"|"+e+"|"+n}}),e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){this.apiConfigs=t.apiConfigs||{},this.queuedFontFamilies=t.queuedFontFamilies||[]}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.UploadedFontPlusAPI=void 0;var u=s(n(3)),l=n(441),c=s(n(8)),d=n(85),f=n(376),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ID=d.FontConstants.FONT_PLUS_UPLOADED_API_ID,e.FONTLOADER_KEY="custom",e.FONT_URL="/rest/v1/account/"+c.default.accountSlug+"/font-plus-upload",e.loadedFontPlusCharacterSets=new Map,e}return r(e,t),e.prototype.parseResults=function(t){return this.createFontCollection(t)},e.prototype.createFamily=function(t,e,n){return new f.FontPlusFamily({api:this.ID,family:t,category:this.ID,guid:e,crossAccount:n})},e.prototype.buildWebLoaderObjectForFamilies=function(e){return t.prototype.buildWebLoaderObjectForFamilies.call(this,e)},e.prototype.loadFamiliesByVariantGuids=function(e,n){return t.prototype.loadFamiliesByVariantGuids.call(this,e,n)},e.prototype.getFontPlusCharacterSets=function(t){return o(this,void 0,Promise,(function(){return a(this,(function(e){switch(e.label){case 0:return t.length>0?[4,u.default.post("/rest/v1/account/"+c.default.accountSlug+"/font-plus-character-set",{variantGuids:t})]:[3,2];case 1:return[2,e.sent()];case 2:return[2,Promise.resolve([])]}}))}))},e}(l.UploadedFontAPI);e.UploadedFontPlusAPI=h},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPopoverView=void 0;var a=o(n(194)),s=o(n(395)),u=o(n(3)),l=o(n(0)),c=o(n(61)),d=o(n(756)),f=o(n(280)),h=function(t){function e(e){var n=t.call(this,e)||this;return n.defaults={top:137,right:0,backgroundColor:s.default.COLORS.LAVA_STONE,anchorElement:null},n}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),this.options=l.default.extend({},this.defaults,this.options),this.appendTo=this.options.appendTo||"body",this.position=this.options.position;var e="#"+this.id+"."+this.className;!!this.id&&u.default(this.appendTo).find(e).length>0&&u.default(this.appendTo).find(e).remove(),u.default(this.appendTo).append(this.$el),this.$el.html(c.default.render(d.default,this)),this.content=this.$(".content"),this.onNonPopoverClose=l.default.bind(this.onNonPopoverClose,this),this.onEscapeKeyPressClose=l.default.bind(this.onEscapeKeyPressClose,this),this.options.title&&this.setTitle(this.options.title),l.default.defer(l.default.bind(this.bindInteractions,this))},e.prototype.onNonPopoverClose=function(t){0===this.$el.has(t.target).length&&this.isVisible()&&this.closePopover(t)},e.prototype.onEscapeKeyPressClose=function(t){f.default.isEscKeyPressed(t)&&this.isVisible()&&this.closePopover(t)},e.prototype.bindInteractions=function(){u.default(window).on("mousedown.popover-view",this.onNonPopoverClose).on("keydown.popover-view",this.onEscapeKeyPressClose)},e.prototype.unbindInteractions=function(){u.default(window).off("mousedown.popover-view",this.onNonPopoverClose).off("keydown.popover-view",this.onEscapeKeyPressClose)},e.prototype.setTitle=function(t){this.$(".titlebar span").html(t)},e.prototype.setContents=function(t){var e;null===(e=this.content)||void 0===e||e.html(t)},e.prototype.isVisible=function(){return this.$el.is(":visible")},e.prototype.closePopover=function(e){var n;e&&e.preventDefault(),(null===(n=this.options)||void 0===n?void 0:n.shouldHideOnClose)?this.hide():(this.unbindInteractions(),t.prototype.close.call(this))},e.prototype.addClass=function(t){this.$el.addClass(t)},e.prototype.setPosition=function(t){var e;if((t=t||(null===(e=this.options)||void 0===e?void 0:e.position))&&t.element){var n=t.isLeft,i=l.default.isNumber(t.padding)?t.padding:10,r=this.getWindowHeight(),o=this.getWindowWidth(),a=t.element.offset(),s=this.$el.height(),u=this.$el.width(),c=null==a?void 0:a.top,d=null==a?void 0:a.left;if(void 0!==c&&void 0!==d&&void 0!==u&&void 0!==s&&void 0!==o&&void 0!==r){var f=d-u-i,h=d+u+i;(d=n?f:h)<0&&(d=h),d+u>o&&(d=f<0?o-u-i:f),c<0&&(c=i),c+s>r&&(c=r-s-i),this.$el.css({position:"absolute",top:c+"px",left:d+"px"})}}},e.prototype.getWindowWidth=function(){return u.default(window).width()},e.prototype.getWindowHeight=function(){return u.default(window).height()},e}(a.default);e.AbstractPopoverView=h,h.prototype.className="popover",h.prototype.events=function(){return{"click .titlebar > a.close":"closePopover"}}},function(t,e,n){"use strict";n.r(e),e.default='<div class="popover-inner">\n    <div class="titlebar">\n        <span></span>\n        <a class="ceros-icon ceros-x-icon close" title="Close"></a>\n    </div>\n    <div class="content"></div>\n    <div class="pointer"></div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusUiOptionsSource=void 0;var a=o(n(0)),s=o(n(48)),u=n(52),l=n(301),c=o(n(110)),d=function(){function t(){}return Object.defineProperty(t.prototype,"linkTypeOptions",{get:function(){var t=[{value:l.InlineLinkType.URL,title:"Go to URL"},{value:l.InlineLinkType.PAGE,title:"Go to page"},{value:l.InlineLinkType.POSITION,title:"Scroll to position"}];return this.hasAccessibilityFeature&&t.push({value:l.InlineLinkType.OBJECT,title:"Scroll to object"}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageOptions",{get:function(){var t=window.designer.designerNav.pages,e=t.getCurrentPageIndex()+1,n=t.map((function(t,e){return{title:t.attributes.name||"Page "+(e+1),value:e+1}}));return e!==t.length&&n.unshift({title:"Next page",value:"next"}),1!==e&&n.unshift({title:"Previous page",value:"prev"}),n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"positionOptions",{get:function(){var t=[{title:"Top of Page",value:"top"}];if(!window.designer.designerNav.inIsolationMode()){var e=window.designer.designerNav.pages.getCurrentPage().getScranchors().map((function(t,e){return{title:"Anchor "+(e+1),value:t.id}}));t.push.apply(t,r(e))}return t.push({title:"Bottom of Page",value:"bottom"}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"objectOptions",{get:function(){var t=c.default.getCurrentVariant();return this.getTargetableLayers().map((function(e){return{title:a.default.get(e.attributes,"overrides."+t+".title",e.attributes.title),value:e.id}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAccessibilityFeature",{get:function(){return s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY)},enumerable:!1,configurable:!0}),t.prototype.getTargetableLayers=function(){var t,e=window.designer.designerNav;t=e.inIsolationMode()?e.getIsolationModeContext().smartgroupInstance.getDefinitionLayers():e.pages.getCurrentPage().layers;var n=[];return t.forEachDescendant((function(t){t.includeInLayerPanel&&!t.isCanvasBackgroundModel()&&n.push(t)})),n},t}();e.LinkPlusUiOptionsSource=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkPlusUiPositionConstraint=void 0;var i=function(){function t(){}return Object.defineProperty(t.prototype,"topMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightMargin",{get:function(){var t=document.getElementById("inspector-panel");return t?t.offsetWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftMargin",{get:function(){return 0},enumerable:!1,configurable:!0}),t}();e.LinkPlusUiPositionConstraint=i},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.syncTextForVariantWithEditor=e.getLineIndices=e.executeCommandViaSelection=e.executeCommandViaRange=e.executeLineBreaks=e.setSelection=e.getRangeFromIndexLength=e.getRangesFromIndexLength=e.removeNewLines=e.prepareTextContentForEditor=e.executeLeading=e.initializeEditorFromTextData=void 0;var c=n(222),d=l(n(117)),f=l(n(4)),h=n(127),p=n(185),g=l(n(48)),m=n(52),v=l(n(760)),y=n(94),_=n(761);function b(t,e,n){void 0===e&&(e=[]);e&&R(n).forEach((function(n,i){var r,o=(r=i,e.find((function(t){var e=t.index,n=t.length;return r===e||r>e&&r<e+n}))||{}).leading;o&&A(t,n,"LineHeight",o)}))}function w(t){return t.replace(/(\r\n|\n|\r|\v)/gm,"")}function T(t,e){var n=e.index,i=e.length,r=new d.default({startPosition:new f.default(t.model.document.getRoot(),[0])});r=h.peekable(r);for(var o=0,a=0,s=n,u=n+i,l=!1,p=!1,g=!1,m=[],v=0,y=function(e){return function(t,e){var n;return t.model.change((function(i){n=i.createPositionFromPath(t.model.document.getRoot(),e)})),n}(t,[v,e])},_=!1;!_;){var b=0,w=0;g=!1;var T=x(r);_=T.finishedIterating;var S=T.text.length;o+=S;var O=T.numNewLines;if(!l&&o>=s&&(b=s-a-O,l=!0,g=!0),!p&&o>=u&&(w=u-a-O,p=!0),l){var E=void 0;if(E=y(g?b:0),p){var P=y(w);return m.push(new c.Range(E,P)),m}P=y(S-O);m.push(new c.Range(E,P))}a+=S,v++}if(m.length>1)return m.pop(),m}function S(t,e){var n=T(t,e);if(n){var i=n[0],r=n[n.length-1];return new c.Range(i.start,r.end)}}function O(t,e){t.model.change((function(t){t.setSelection(e)}))}function E(t,e){var n,i,r=I(e,"\n"),o=I(e,y.SOFTBREAK_CHARACTER),a=s(r,o).sort((function(t,e){return t.index-e.index}));try{for(var l=u(a),c=l.next();!c.done;c=l.next()){var d=c.value;"\n"===d.character?k(t,d):d.character===y.SOFTBREAK_CHARACTER&&M(t,d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}function P(t,e,n,a){return void 0===e&&(e=[]),r(this,void 0,Promise,(function(){var r,s,l,c,d,f,h;return o(this,(function(p){switch(p.label){case 0:r=function(e){var r,s,u,l,c,d;return o(this,(function(o){switch(o.label){case 0:return r=function(n,i){C(t,e,n,i)},s=function(n,i){A(t,e,n,i)},e.underline&&r(y.TextPlusCommandNames.UNDERLINE_PLUS,!0),e.fontSize&&r(y.TextPlusCommandNames.FONT_SIZE,e.fontSize+"px"),e.textCase&&r(y.TextPlusCommandNames.TEXT_CASE,e.textCase),e.variantGuid&&n?(u=r,l=[y.TextPlusCommandNames.FONT_FAMILY],d={},c=[{}],[4,n(e.variantGuid)]):[3,2];case 1:u.apply(void 0,l.concat([(d.value=i.apply(void 0,[i.apply(void 0,c.concat([o.sent()])),{variantGuid:e.variantGuid}]),d)])),o.label=2;case 2:return e.letterSpacing&&r(y.TextPlusCommandNames.LETTER_SPACING,e.letterSpacing),e.fontColor&&r(y.TextPlusCommandNames.FONT_COLOR,e.fontColor),a.textscripts&&(e.superscript&&s(y.TextPlusCommandNames.SUPERSCRIPT,!0),e.subscript&&s(y.TextPlusCommandNames.SUBSCRIPT,!0)),e.hyperlink&&s(y.TextPlusCommandNames.LINK_PLUS,e.hyperlink),[2]}}))},p.label=1;case 1:p.trys.push([1,6,7,8]),s=u(e),l=s.next(),p.label=2;case 2:return l.done?[3,5]:(c=l.value,[5,r(c)]);case 3:p.sent(),p.label=4;case 4:return l=s.next(),[3,2];case 5:return[3,8];case 6:return d=p.sent(),f={error:d},[3,8];case 7:try{l&&!l.done&&(h=s.return)&&h.call(s)}finally{if(f)throw f.error}return[7];case 8:return[2]}}))}))}function C(t,e,n,i){var r=T(t,e);t.execute(n,i,!0,r)}function A(t,e,n,i){var r=T(t,e);return r&&O(t,r),t.execute(n,i,!0,r),r}function x(t){for(var e=function(){return t.next().value},n=e(),i="",r=0,o=!1;;){if("elementStart"===n.type||"elementEnd"===n.type)i+=s=h.parseElementDefinitions(n,0,{text:[],paragraphs:[],headings:[],lists:[],softBreaks:[],lines:[]}).text,r+=s.length;else if("text"===n.type){i+=s=h.parseTextDefinitions(n,0).text}var a=void 0;if(h.isPeekable(t)&&(a=t.peek().value),!a){o=!0;break}if(h.elementIsSoftBreak(a))for(;h.elementIsSoftBreak(a);){var s;i+=s=h.parseElementDefinitions(a,0,{text:[],paragraphs:[],headings:[],lists:[],softBreaks:[],lines:[]}).text,n=e(),n=e(),h.isPeekable(t)&&(a=t.peek().value)}if("elementEnd"===a.type)break;n=e()}return{text:i,numNewLines:r,finishedIterating:o}}function I(t,e){var n=[];return s(t).forEach((function(t,i){t===e&&n.push({index:i,length:0,character:e})})),n}function k(t,e){return A(t,e,"enter")}function M(t,e){return A(t,e,"shiftEnter")}function R(t){var e=[],n=t.split(/\n|\r/g),i=0;return n.forEach((function(t){var n=t.length;e.push({index:i,length:n}),i+=n+1})),e}e.initializeEditorFromTextData=function(t,e,n,a,s,l,c,d,f){return r(this,void 0,Promise,(function(){return o(this,(function(r){switch(r.label){case 0:return E(t,e),[4,P(t,[i(i({},n),{index:0,length:e.length})],d,f)];case 1:return r.sent(),f.list&&function(t,e){var n,i;void 0===e&&(e=[]);var r="",o=!1,a=0,s=function(e){if("li"===e.attributes.listElementType){var n={length:0,index:e.index},i=function(e,i){A(t,i||n,e)},s=e.attributes.listIndent;if(s>0){i("delete"),i("enter",{length:0,index:n.index-1});for(var u=a;u<s;u++)i(y.TextPlusCommandNames.INDENT_LIST);for(var l=s;l<a;l++)i(y.TextPlusCommandNames.OUTDENT_LIST),o=!0}var c=void 0;if("numbered"===e.attributes.listType)c="numberedList";else{if("bulleted"!==e.attributes.listType)return console.error("List of type "+e.attributes.listType+" is not supported."),"continue";c="bulletedList"}s>0&&c===r||o||i(c),r=c,o=!1,a=e.attributes.listIndent||0}};try{for(var l=u(e),c=l.next();!c.done;c=l.next()){var d=c.value;s(d)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}(t,s),[4,P(t,a,d,f)];case 2:return r.sent(),b(t,c,e),g.default.hasFeature(m.FeatureFlagName.TEXT_PLUS_HTML_ELEMENT)&&function(t,e){var n,i;void 0===e&&(e=[]);try{for(var r=u(e),o=r.next();!o.done;o=r.next()){var a=o.value,s=a.attributes.headingElementType;if(p.EHEADING_ATTRIBUTE_MAP[s]){var l={length:0,index:a.index},c=y.TextPlusCommands.HTML_TAG;A(t,l,c,s)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}(t,l),[2]}}))}))},e.executeLeading=b,e.prepareTextContentForEditor=function(t){var e=w(t);return v.default(e)},e.removeNewLines=w,e.getRangesFromIndexLength=T,e.getRangeFromIndexLength=S,e.setSelection=O,e.executeLineBreaks=E,e.executeCommandViaRange=C,e.executeCommandViaSelection=A,e.getLineIndices=R,e.syncTextForVariantWithEditor=function t(e,n,i,r,o,s){var l,c,d=_.patienceDiff(i.split(""),r.split(""));if(0!==d.lineCountDeleted||0!==d.lineCountInserted){var f=-1,p=d.lines.find((function(t,e){return(-1===t.aIndex||-1===t.bIndex)&&(f=e,!0)}));if(-1===(null==p?void 0:p.aIndex)){for(var g="",m=!0,v=f;v<d.lines.length;v++){var y=d.lines[v];m&&-1===y.aIndex?g+=y.line:m=!1}if(x=T(n,{index:f,length:0})){e.setSelection(x);var b={};try{for(var w=u(n.model.document.selection.getAttributes()),O=w.next();!O.done;O=w.next()){var E=a(O.value,2),P=E[0],C=E[1];b[P]=C}}catch(t){l={error:t}}finally{try{O&&!O.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}e.insertText(g,b,n.model.document.selection.getFirstPosition())}}else if(-1===(null==p?void 0:p.bIndex)){var A=f;for(m=!0,v=f;v<d.lines.length;v++){y=d.lines[v];m&&-1===y.bIndex?A=v:m=!1}var x;(x=S(n,{index:f,length:A-f+1}))&&(e.setSelection(x),n.model.deleteContent(n.model.document.selection))}var I=h.getTextPlusDataFromEditor(n,s).textContent;I!==r&&t(e,n,I,r,o,s)}}},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i(t){return((t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||t.includes("<br>"))&&(t=`<p>${t}</p>`),t}n.r(e),n.d(e,"default",(function(){return i}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patienceDiff=void 0,e.patienceDiff=function(t,e){function n(t,e,n){for(var i=new Map,r=e;r<=n;r++){var o=t[r];i.has(o)?(i.get(o).count++,i.get(o).index=r):i.set(o,{count:1,index:r})}return i.forEach((function(t,e,n){1!==t.count?n.delete(e):n.set(e,t.index)})),i}function i(t,e,i,r,o,a){var s=n(t,e,i),u=n(r,o,a);return s.forEach((function(t,e,n){u.has(e)?n.set(e,{indexA:t,indexB:u.get(e)}):n.delete(e)})),s}var r=[],o=0,a=0,s=[],u=[],l=[],c=[];function d(n,i){i<0?(s.push(t[n]),u.push(r.length),o++):n<0&&(l.push(e[i]),c.push(r.length),a++),r.push({line:0<=n?t[n]:e[i],aIndex:n,bIndex:i})}function f(n,r,o,a){for(;n<=r&&o<=a&&t[n]===e[o];)d(n++,o++);for(var s=r;n<=r&&o<=a&&t[r]===e[a];)r--,a--;var u=i(t,n,r,e,o,a);if(0===u.size){for(;n<=r;)d(n++,-1);for(;o<=a;)d(-1,o++)}else h(n,r,o,a,u);for(;r<s;)d(++r,++a)}function h(n,r,o,a,s){var u=function(t){var e=[];t.forEach((function(t){for(var n=0;e[n]&&e[n][e[n].length-1].indexB<t.indexB;)n++;e[n]||(e[n]=[]),0<n&&(t.prev=e[n-1][e[n-1].length-1]),e[n].push(t)}));var n=[];if(0<e.length){var i=e.length-1;for(n=[e[i][e[i].length-1]];n[n.length-1].prev;)n.push(n[n.length-1].prev)}return n.reverse()}(s||i(t,n,r,e,o,a));if(0===u.length)f(n,r,o,a);else{(n<u[0].indexA||o<u[0].indexB)&&f(n,u[0].indexA-1,o,u[0].indexB-1);var l=void 0;for(l=0;l<u.length-1;l++)f(u[l].indexA,u[l+1].indexA-1,u[l].indexB,u[l+1].indexB-1);(u[l].indexA<=r||u[l].indexB<=a)&&f(u[l].indexA,r,u[l].indexB,a)}}return h(0,t.length-1,0,e.length-1),{lines:r,lineCountDeleted:o,lineCountInserted:a}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextCasePlus=void 0;var s=a(n(45)),u=n(94),l=n(763),c=function(t){function e(n){var i=t.call(this,n)||this;return n.model.schema.setAttributeProperties(u.TextPlusCommands.TEXT_CASE,{isFormatting:!0,copyOnEnter:!0}),n.commands.add(u.TextPlusCommands.TEXT_CASE,new l.TextCasePlusCommand(n,u.TextPlusCommands.TEXT_CASE)),n.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"text-transform":/.*/}},model:{key:u.TextPlusCommands.TEXT_CASE,value:function(t,e){var n=t.getStyle("text-transform");return{textTransform:n,textCase:t.getStyle("--data-text-case")||n}}}}),n.conversion.for("downcast").attributeToElement({model:u.TextPlusCommands.TEXT_CASE,view:function(t,e){return e.writer.createAttributeElement("span",{style:"text-transform: "+(null==t?void 0:t.textTransform)+";"+("capitalize"===(null==t?void 0:t.textCase)?" --data-text-case: 'capitalize';":"")},{priority:7})}}),n.model.document.registerPostFixer((function(t){var i=n.model.document.differ.getChanges();e.applyTitleCasing(i,t)})),n.model.schema.extend("$text",{allowAttributes:u.TextPlusCommands.TEXT_CASE}),i}return r(e,t),e.applyTitleCasing=function(t,n){var i,r,a,s,l=function(t){var i,r;if(t&&t.parent){var a=e.getCharacterRangeInfoFromElement(t,n),s=e.getRangesThatNeedCaseChange(a);try{for(var l=o(s),c=l.next();!c.done;c=l.next()){var d=c.value;n.setAttribute(u.TextPlusCommands.TEXT_CASE,d.attribute,d.range)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}};try{for(var c=o(t),d=c.next();!d.done;d=c.next()){var f=d.value;if("attribute"===f.type&&f.attributeKey===u.TextPlusCommands.TEXT_CASE)l(null===(s=null===(a=null==f?void 0:f.range)||void 0===a?void 0:a.start)||void 0===s?void 0:s.parent);else if("insert"===f.type||"remove"===f.type){var h=null==f?void 0:f.position;l(null==h?void 0:h.parent),1===(null==h?void 0:h.path.length)&&(null==h?void 0:h.nodeAfter)&&l(h.nodeAfter)}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}},e.getCharacterRangeInfoFromElement=function(t,e){var n,i,r,a,s=[];if(t)try{for(var l=o(t.getChildren()),c=l.next();!c.done;c=l.next()){var d=c.value,f=d.startOffset,h=d.data,p=void 0,g="function"==typeof d.getAttributes?d.getAttributes():[];try{for(var m=(r=void 0,o(g)),v=m.next();!v.done;v=m.next()){var y=v.value;if(2===y.length&&y[0]===u.TextPlusCommands.TEXT_CASE){p=y[1];break}}}catch(t){r={error:t}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}var _=function(n){var i=e.createPositionAt(t,n),r=e.createPositionAt(t,n+1);return e.createRange(i,r)};if(d&&"softBreak"===d.name){var b="",w=_(f);s.push({range:w,char:b,caseValue:p,isSoftBreak:!0})}else if(h)for(var T=0;T<h.length;T++){b=h[T],w=_(f+T);s.push({range:w,char:b,caseValue:p,isSoftBreak:!1})}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s},e.getRangesThatNeedCaseChange=function(t){for(var e,n,i,r=[],o=0;o<t.length;o++){var a=t[o],s=o>0?t[o-1]:void 0,u=a.char.toLowerCase()!==a.char||a.char.toUpperCase()!==a.char,l=void 0===s,c=s&&/\s/.test(s.char),d=s&&s.isSoftBreak,f="capitalize"===(null===(e=a.caseValue)||void 0===e?void 0:e.textCase),h=u&&(l||c||d)&&f,p=u&&!h&&f;h&&"uppercase"!==(null===(n=a.caseValue)||void 0===n?void 0:n.textTransform)?r.push({range:a.range,attribute:{textTransform:"uppercase",textCase:"capitalize"}}):p&&"lowercase"!==(null===(i=a.caseValue)||void 0===i?void 0:i.textTransform)&&r.push({range:a.range,attribute:{textTransform:"lowercase",textCase:"capitalize"}})}return r},Object.defineProperty(e,"pluginName",{get:function(){return"TextCasePlus"},enumerable:!1,configurable:!0}),e}(s.default);e.TextCasePlus=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextCasePlusCommand=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.execute=function(e,n,i){if(e){var r={textTransform:"capitalize"===e?"lowercase":e,textCase:e};t.prototype.execute.call(this,r,n,i)}else t.prototype.execute.call(this,void 0,n,i)},e}(o(n(109)).default);e.TextCasePlusCommand=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(45)),s=n(94),u=n(317),l=n(765),c=n(766),d=n(388),f=s.TextPlusCommands.LINE_HEIGHT,h=function(t){return"string"==typeof t?JSON.parse(t):t},p=function(t){function e(e){var n=t.call(this,e)||this;e.model.schema.setAttributeProperties(f,{isFormatting:!0,copyOnEnter:!0});return e.conversion.for("downcast").attributeToAttribute({model:f,view:function(t){return{key:"style",value:t&&(n=h(t),i=n.lineHeight,r=n.baseOffset,o=e.model.document.selection,a=function(t){var e,n;try{n=null===(e=t.focus)||void 0===e?void 0:e.parent}catch(t){}return n&&n.is("element")&&!n.index}(o),{"line-height":i+"px",top:"auto"===r||o.isCollapsed&&!1===a?"auto":r+"px",position:"relative"})};var n,i,r,o,a}}),e.conversion.for("upcast").attributeToAttribute({view:"style",model:{key:f,value:function(t){var e=t.getAttribute("style");if(e){var n=d.styleStringToObject(e),i=n.lineHeight,r=n.top;if(i&&r)return{lineHeight:parseInt(i),baseOffset:parseInt(r)}}}}}),e.commands.add("LineHeight",new u.LineHeightCommand(e,f)),e.commands.add(s.TextPlusCommands.LINE_HEIGHT_INCREMENT,new c.LineHeightIncrementCommand(e)),e.commands.add(s.TextPlusCommands.LINE_HEIGHT_REFRESH,new l.LineHeightRefreshCommand(e,f)),e.model.schema.extend("$text",{allowAttributes:f}),e.model.schema.extend("$block",{allowAttributes:f}),n}return r(e,t),Object.defineProperty(e,"pluginName",{get:function(){return"LineHeight"},enumerable:!1,configurable:!0}),e}(a.default);e.default=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightRefreshCommand=void 0;var o=n(317),a=n(127),s=function(t){var e,n=null===(e=t.getAttribute("lineHeight"))||void 0===e?void 0:e.lineHeight;return n?String(n):void 0},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.applyAttributeForRange=function(t,e){var n=this;a.getInlineElementsFromRanges(e).forEach((function(e){return n.applyAttribute(t,e,s(e))}))},e.prototype.applyAttributeForSelection=function(t,e){var n,i,r=null===(i=null===(n=e.getFirstRange())||void 0===n?void 0:n.start)||void 0===i?void 0:i.parent;r&&this.applyAttribute(t,r,s(r))},e}(o.LineHeightCommand);e.LineHeightRefreshCommand=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHeightIncrementCommand=void 0;var o=n(94),a=n(127),s=n(317),u=function(t){function e(e){var n=t.call(this,e,o.TextPlusCommands.LINE_HEIGHT)||this;return n.applyAttribute=function(e,i,r){var o=n.getCurrentLineHeight(i),a=parseInt(r);t.prototype.applyAttribute.call(n,e,i,""+(o+a))},n}return r(e,t),e.prototype.getCurrentLineHeight=function(t){var e=(t.getAttribute(this.attributeKey)||{}).lineHeight;return void 0!==e?e:Math.round(1.2*s.getBiggestFontSize(t))},e.prototype.applyAttributeForRange=function(t,e,n){var i=this;a.getInlineElementsFromRanges(e).forEach((function(e){i.applyAttribute(t,e,n)}))},e}(s.LineHeightCommand);e.LineHeightIncrementCommand=u},function(t,e,n){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function r(t){var n=function(t){return!!t&&(!(!t.id||!t.id.startsWith(e.TEXT_ID_START))||n(t.parentNode))};return!(!t||!t.target)&&n(t.target)}function o(t){return"text-component"===t.type||"text-plus-component"===t.type}function a(t,e){return t.type===e}Object.defineProperty(e,"__esModule",{value:!0}),e.textPlusIsEnabled=e.isSupportedText=e.isText=e.smartgroupHasUnsupportedText=e.isCkEditorSelected=e.isSomeSortOfTextElement=e.TEXT_ID_START=void 0,e.TEXT_ID_START="ceros-ckeditor",e.isSomeSortOfTextElement=function(t,e){return void 0===e&&(e=["SELECT","INPUT","TEXTAREA"]),!!t.target&&e.includes(t.target.tagName)||r(t)},e.isCkEditorSelected=r,e.smartgroupHasUnsupportedText=function(t,e){var n,r;try{for(var s=i(Object.values(t.layerDictionary)),u=s.next();!u.done;u=s.next()){var l=u.value;if(o(l)&&!a(l,e))return!0}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!1},e.isText=o,e.isSupportedText=a,e.textPlusIsEnabled=function(t){return"text-plus-component"===t}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageComponentView=void 0;var s=a(n(0)),u=n(155),l=n(294),c=n(144),d=a(n(769)),f=a(n(140)),h=a(n(143)),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRenderedGradient=!1,e.children=[],e}return r(e,t),e.prototype._applyBackground=function(t,e){var n,i;void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var r=this.getCerosGradientElement(),a=this.getCerosGradientStopElements(),s=0;t.color&&(t={gradient:f.default.colorToGradient(t.color)});try{for(var u=o(this.children),c=u.next();!c.done;c=u.next()){c.value.setFill(r,t)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}t.gradient&&(a.first().css("stop-color",t.gradient.stops[0].color),a.last().css("stop-color",t.gradient.stops[1].color),s=t.gradient.angle||0),l.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getCerosGradientElement(),s,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyImageFlip=function(t){if(!this.isMaskImage()){s.default.isEmpty(t)&&(t={});var e=h.default.getScaleValueFromFlip(t),n=e.scaleXValue,i=e.scaleYValue;u.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:n,y:i}})}},e.prototype.getSVGElement=function(){return this.$el.children("svg")},e.prototype.getCerosGradientStopElements=function(){return this.getCerosGradientElement().find("stop")},e.prototype.getGradientElement=function(){return this.$innerElement.find("linearGradient")},e.prototype.getCerosGradientElement=function(){return this.$innerElement.find("linearGradient.cerosgradient")},e.prototype.callObjectStateInvoker=function(t,e){c.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e,!0)},e.prototype.applyTransitionToTarget=function(e,n){t.prototype.applyTransitionToTarget.call(this,e,n),this.getSVGElement().css("transition",e),this.getSVGElement().css("transition-property",n||"none"),this.getSvgChildren().css("transition",e),this.getSvgChildren().css("transition-property",n||"none"),this.getCerosGradientStopElements().css("transition",e),this.getCerosGradientStopElements().css("transition-property",n||"none")},e}(d.default);e.VectorImageComponentView=p},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(n(24)),s=o(n(3)),u=o(n(0)),l=n(367),c=n(770),d=o(n(143));e.default=l.AbstractImageComponentView.extend({initialize:function(){l.AbstractImageComponentView.prototype.initialize.call(this),this.loadImage=u.default.once(this.loadImage,this),this.vectorImageReady=new s.default.Deferred},attachMedia:function(){if(this.imageLoader){var t=this.imageLoader.getCurrentResource();u.default.isNull(t)?a.default.warn("Image should have been added to resource loader during preload"):t.loadNow().done(u.default.bind((function(t){this.loadImage(t,this.vectorImageReady,this.options.background,this.options.altText)}),this)).fail(u.default.bind((function(){this.vectorImageReady.reject()}),this))}return this.vectorImageReady.promise()},loadImage:function(t,e,n,r){n.backgroundHasBeenSet=this.options.backgroundHasBeenSet;var o=this.options.interactions&&this.options.interactions.length>0,a=t&&"function"==typeof t.createXMLDoc&&t.createXMLDoc(n,r,o),l=s.default(a).children();if(l[0]){var c=this.$innerElement.attr("width"),d=this.$innerElement.attr("height"),f=this.getApplyShadowTarget(),h={};if(!u.default.isNil(f[0])){var p=f[0].style.webkitFilter;h={filter:f[0].style.filter,"-webkit-filter":p}}var g=s.default(l[0]);this.isMaskImage()||(g.css(i({width:c,height:d},h)),this.setDimensionsAsAttributes(g,c,d));var m=parseInt(g.attr("width"),10),v=parseInt(g.attr("height"),10);if(!g.attr("viewBox")){var y=t.getOriginalAspectRatio();!y||isNaN(y.width)||isNaN(y.height)?isNaN(m)||isNaN(v)||g.attr("viewBox","0 0 "+m+" "+v):g.attr("viewBox","0 0 "+y.width+" "+y.height)}this.isMaskImage()?this.renderAsMask(g[0]):(g.css("display","block"),this.replaceInnerElement(g),this.setChildren(),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.applyTransition()),e.resolve()}else e.reject(new Error("An unexpected error occurred"))},replaceInnerElement:function(t){if(this.getAnimateElements(t).length>0){var e=s.default("<div>");e.append(t),this.$innerElement.replaceWith(e),this.$innerElement=e,this.$innerElement.html(this.$innerElement.html())}else this.$innerElement.replaceWith(t),this.$innerElement=t},setChildren:function(){var t,e,n=this.getSvgChildren();try{for(var i=r(n),o=i.next();!o.done;o=i.next()){var a=o.value;this.children.push(new c.VectorImageChildView({element:a}))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},renderAsMask:function(t){this._configureAllWidthAllHeight();var e=this.options,n=e.width,i=e.height,r=e.rotation,o=e.opacity,a=this.options,s=a.allWidth,u=a.allHeight;if(t.setAttribute("width",""+s),t.setAttribute("height",""+u),0!==r){var l="rotate("+r+"deg)";t.style.transformOrigin="50% 50%";var c=t.style.transform;t.style.transform=c+" "+l}var f=d.default.getScaleValueFromFlip(this.options),h=f.scaleXValue,p=f.scaleYValue,g=t.style.transform;0!==r&&(h*=n/s,p*=i/u),t.style.transform=g+" scale("+h+", "+p+")",t.style.opacity=o;var m=t.outerHTML,v=d.default.encodedSvgStringAsBase64(m),y={"-webkit-mask-image":v,"mask-image":v,"-webkit-mask-repeat":"no-repeat"};this.$el.css(y),this._applyPosition(),this._applyDimensions()}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageChildView=void 0;var a=o(n(0)),s=o(n(3)),u=function(t){function e(n){void 0===n&&(n=e.DEFAULT_OPTIONS);var i=t.call(this,a.default.defaults(n,e.DEFAULT_OPTIONS))||this;return i.hasClasses=!1,i.defaultFill="",i.defaultCssFill="",i.options=n,i.options.element&&(i.options.element instanceof jQuery?i.$el=i.options.element:i.$el=s.default(i.options.element),i.setProperties()),i}return r(e,t),e.prototype.setProperties=function(){this.hasClasses=!!this.$el.attr("class")},e.prototype.setFill=function(t,e){var n,i=!(!e||!e.backgroundHasBeenSet&&!e.color&&!e.gradient),r=this.$el.attr("fill")||"",o=this.$el.css("fill"),a="url(#"+(null===(n=t[0])||void 0===n?void 0:n.id)+")",s=!!e.gradient||!r&&!o;if(this.hasClasses||(!this.defaultFill&&r.length>0&&(this.defaultFill=r),!this.defaultCssFill&&o&&(this.defaultCssFill=o)),r&&r.length>0){var u=s?a:this.defaultFill;this.$el.css("fill",""),this.$el.attr("fill",u)}if(o){o=i&&e.color?e.color:this.defaultCssFill;u=s?a:o;this.$el.removeAttr("fill"),this.hasClasses&&u===this.defaultCssFill?this.$el.css("fill",""):this.$el.css("fill",u)}},e.DEFAULT_OPTIONS={element:s.default()},e}(n(194).AbstractView);e.VectorImageChildView=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MaskGroupView=void 0;var a=o(n(371)),s=o(n(0)),u=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n.$el.addClass("mask-group"),n}return r(e,t),e.prototype.isMaskGroup=function(){return!0},e.prototype.isAlphaMask=function(){var t=s.default.uniq(this.childViews.map((function(t){return t.options.type})));return 1===t.length&&t.includes("image-component")},e.prototype.getMaskView=function(){return this.maskView||(this.maskView=this.childViews.find((function(t){return t.options.maskInfo&&!t.options.maskInfo.isBaseMaskObject}))),this.maskView},e.prototype.getWrappedView=function(){return this.wrappedView||(this.wrappedView=this.childViews.find((function(t){return t.options.maskInfo&&t.options.maskInfo.isBaseMaskObject}))),this.wrappedView},e.prototype.bindClickInteraction=function(){},e.prototype.bindMouseDownInteraction=function(){},e.prototype.bindMouseOverInteraction=function(){},e.prototype.assignCursor=function(){},e.prototype._configureInteractions=function(){t.prototype._configureInteractions.call(this),this.bindClickSelectInteraction()},e.prototype.unbindInteractions=function(){t.prototype.unbindInteractions.call(this),this.getInteractionTarget().off("keydown",this.handleKeydown)},e.prototype.bindClickSelectInteraction=function(){this.getInteractionTarget().on("keydown",this.handleKeydown.bind(this))},e.prototype.addPointerEventsToChildren=function(){this.isMaskGroup()&&this.isAlphaMask()&&s.default.each(this.childViews,(function(t){t.isBaseMaskObject()&&t.getPointerEventsTarget().css("pointer-events","auto")}))},e}(a.default);e.MaskGroupView=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(443)),a=n(773);e.default={createPreRenderList:function(t){var e=t.model.get("layers"),n=a.Scranchor.scranchorsForPage(t);if(!e)return n;var i=function(t,e){t&&r.default.each(t,(function(t){var r=new o.default(e,t);n.push(r),t.smartgroupId?i(t.layers,r):function(t){return"folder"===t.type||"group"===t.type||"mask-group"===t.type}(t)&&i(t.items,r)}))},s=new o.default(null,null);return s.childViews=t.childViews,i(e,s),n.reverse()}}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scranchor=void 0;var a=o(n(3)),s=o(n(0)),u=function(t){function e(e){var n=t.call(this,void 0,void 0)||this;return n.x=0,n.y=0,n.model={type:"scranchor"},n.childViews=[],n.y=e.top||0,n.$el=a.default("<a>",{class:"scranchor",id:e.id,tabindex:-1}).css({position:"absolute",top:n.y,left:n.x,height:0,width:e.width}),e.id.match(/^page-[0-9]+-top$/)&&n.$el.on("focus",(function(){n.$el.attr("tabindex",1)})).on("blur",(function(){n.$el.attr("tabindex",-1)})),n}return r(e,t),e.prototype.adjustYCoordinateWithinGroup=function(){var t=this;this.$el.parents(".group, .smart-group").each((function(e,n){t.y-=parseInt(n.style.top||"0"),t.$el.css("top",t.y)}))},e.scranchorsForPage=function(t){var n=[],i=t.model.getPageWidth(t.documentVersion),r=t.model.getPageHeight(t.documentVersion);return n.push(new e({width:i,id:"page-"+(t.model.pageIndex+1)+"-top"})),s.default.forEach(t.model.getScranchorsForCurrentVariant(),(function(t,r){n.push(new e({top:t,id:r,width:i}))})),n.push(new e({top:r-1,width:i,id:"page-"+(t.model.pageIndex+1)+"-bottom"})),n},e}(o(n(443)).default);e.Scranchor=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o={},a=function(t){if(!t)return Number.POSITIVE_INFINITY;var e=parseInt(t.style.top);return r.default(t).parents(".group, .smart-group").each((function(t,n){e+=parseInt(n.style.top)})),e},s={insert:function(t,e,n,i,o){var a=this.getChildNodeToInsertBefore(t,n,i,o);a?r.default(e).insertBefore(a,t):t.appendChild(e)},getChildNodeToInsertBefore:function(t,e,n,i,o,s){for(var u,l,c=0,d=t.children||t.childNodes,f=d.length-1;c<=f;){u=Math.floor((c+f)/2);var h=this.determineEffectivePositionOf(r.default(d[u])),p=h.x,g=h.y;p+=o||0;var m=(g+=s||0)===n?p-e:g-n;if(0===m)return d[u];if(m<0){if(i&&r.default(d[u]).is(".group, .smart-group")){var v=parseInt(d[u].style.left)+(o||0),y=parseInt(d[u].style.top)+(s||0),_=this.getChildNodeToInsertBefore(d[u],e,n,i,v,y);_&&(!l||parseInt(_.style.top)<a(l))&&(l=_)}c=u+1}else{f=u-1,(!l||!i||parseInt(d[u].style.top)<a(l))&&(l=d[u])}}return l},determineEffectivePositionOf:function(t){var e=this,n=t[0];if(o[n.id])return o[n.id];var i={x:parseInt(n.style.left)||0,y:parseInt(n.style.top)||0};if(!t.hasClass("group"))return i;var a={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY};return t.children().each((function(t,n){var i=r.default(n);if("none"!==n.style.display&&!i.hasClass("sr-only")){var o=i.hasClass("group")?e.determineEffectivePositionOf(i):{x:parseInt(n.style.left),y:parseInt(n.style.top)};(o.y<a.y||o.y===a.y&&o.x<a.x)&&(a=o)}})),a.y===Number.POSITIVE_INFINITY?o[n.id]=i:o[n.id]={x:i.x+a.x,y:i.y+a.y},o[n.id]}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrerenderAccessibilityOverride=void 0;var l=u(n(0)),c=n(20);var d=function(){function t(t){this.initialOverrides={},this.layersToHideSet=new Set,this.pageView=t}return t.prototype.applyOverrides=function(){var t,e,n,i,a,s,u,l,c,d,f,h,p,g,m,v,y,_,b,w;return r(this,(function(r){switch(r.label){case 0:t=this.finalizeOverrides(),e=new Set,r.label=1;case 1:r.trys.push([1,6,7,8]),n=o(Object.keys(t)),i=n.next(),r.label=2;case 2:return i.done?[3,5]:(a=i.value,[4]);case 3:r.sent(),s=t[a],u=s.layersToMove,l=s.layersToAria,c=s.layersToHide,d=s.carouselSlideLayers,f=s.triggerEl,h=s.hasBothShowAndHideTargetInteractions;try{for(b=void 0,p=o(u),g=p.next();!g.done;g=p.next())m=g.value,e.has(m.id)||(f.parentElement.insertBefore(m,f.nextSibling),e.add(m.id))}catch(t){b={error:t}}finally{try{g&&!g.done&&(w=p.return)&&w.call(p)}finally{if(b)throw b.error}}h&&(f.className+=" ceros-no-return-focus"),l.length&&this.updateARIAProperties(f,l),c.length&&this.addHideClass(c),d.length&&this.applyCarouselAttributes(d),r.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return v=r.sent(),y={error:v},[3,8];case 7:try{i&&!i.done&&(_=n.return)&&_.call(n)}finally{if(y)throw y.error}return[7];case 8:return[2]}}))},t.prototype.updateARIAProperties=function(t,e){var n=this;if(t.setAttribute("aria-controls",e.join(" ")),l.default.some(e,(function(t){var e;return null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.isCarouselSlide}))){l.default.some(e,(function(t){var e;return"none"!==(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}))&&t.setAttribute("aria-current","true")}else{var i=l.default.some(e,(function(t){var e;return"none"===(null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}));t.setAttribute("aria-expanded",i?"false":"true")}},t.prototype.applyCarouselAttributes=function(t){var e,n,i,r;try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var u=s.value,l=this.pageView.findChildView(u);try{for(var c=(i=void 0,o((null==l?void 0:l.childViews)||[])),d=c.next();!d.done;d=c.next()){var f=d.value;"group"===f.options.type&&(f.el.setAttribute("role","group"),f.isCarouselSlide=!0)}}catch(t){i={error:t}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.addHideClass=function(t){var e=this;l.default.each(t,(function(t){var n;if(!e.layersToHideSet.has(t)){var i=null===(n=e.pageView.findChildView(t))||void 0===n?void 0:n.el;i&&(i.className+=" ceros-hideable"),e.layersToHideSet.add(t)}}))},t.layerTargetsReducer=function(e,n){var i,r,o,a,u=e.hasBothShowAndHideTargetInteractions?t.interactionTypesRequiringOrderOverride:t.interactionTypesRequiringAriaOverride;return n.layerTargets?(l.default.includes(t.interactionTriggersRequiringOrderOverride,n.trigger)&&l.default.includes(t.interactionTypesRequiringOrderOverride,n.action)&&(i=e.layersToMove).push.apply(i,s(n.layerTargets)),"click"===n.trigger&&l.default.includes(u,n.action)&&(r=e.layersToAria).push.apply(r,s(n.layerTargets)),"click"!==n.trigger||n.action!==c.ActionTypes.toggleCanvasTargets&&!l.default.includes(t.interactionTypesThatHide,n.action)||(o=e.layersToHide).push.apply(o,s(n.layerTargets)),t.interactionTypesForCarousels.includes(n.action)&&(a=e.carouselSlideLayers).push.apply(a,s(n.layerTargets)),e):e},t.prototype.hasBothShowAndHideTargetInteractions=function(e){var n=!1,i=!1;return l.default.some(e,(function(e){return!("click"!==e.trigger||!l.default.includes(t.interactionTypesThatShouldNotShiftFocus,e.action))||(!i&&"click"===e.trigger&&l.default.includes(t.interactionTypesThatHide,e.action)&&(i=!0),!n&&"click"===e.trigger&&l.default.includes(t.interactionTypesRequiringOrderOverride,e.action)&&(n=!0),i&&n)}))},t.prototype.analyzeLayerForOverrides=function(e){var n;if(!function(t){return"folder"===t.type}(e.model)&&(null===(n=e.model.interactions)||void 0===n?void 0:n.length)){var i=this.hasBothShowAndHideTargetInteractions(e.model.interactions),r=e.model.interactions.reduce(t.layerTargetsReducer,{layersToMove:[],layersToAria:[],layersToHide:[],carouselSlideLayers:[],hasBothShowAndHideTargetInteractions:i});(r.layersToMove.length||r.layersToAria.length||r.carouselSlideLayers.length||i)&&(this.initialOverrides[e.model.id]={layersToMove:l.default.uniq(r.layersToMove),layersToAria:l.default.uniq(r.layersToAria),layersToHide:l.default.uniq(r.layersToHide),carouselSlideLayers:l.default.uniq(r.carouselSlideLayers),hasBothShowAndHideTargetInteractions:i,triggerEl:e.view.el})}},t.prototype.finalizeOverrides=function(){var t,e,n=this,r=l.default.entries(this.initialOverrides),s={};try{for(var u=o(r),c=u.next();!c.done;c=u.next()){var d=a(c.value,2),f=d[0],h=d[1],p=h.layersToMove.map((function(t){var e;return null===(e=n.pageView.findChildView(t))||void 0===e?void 0:e.el})),g=this.filterSiblings(h.triggerEl,p);s[f]=i(i({},h),{layersToMove:this.sortLayersByPosition(g)})}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return s},t.prototype.filterSiblings=function(t,e){var n=t.dataset.containerId;if(!n)return[];var i=this.pageView.model.findLayerById(n.split(",").shift());return"group"!==(null==i?void 0:i.type)?[]:e.filter((function(t){return(null==t?void 0:t.dataset.containerId)===n}))},t.prototype.sortLayersByPosition=function(t){var e=this;return t.sort((function(t,n){var i=e.getPositionOf(t),r=e.getPositionOf(n);return r.top-i.top||r.left-i.left}))},t.prototype.getPositionOf=function(t){return{left:parseFloat(t.style.left)||0,top:parseFloat(t.style.top)||0}},t.interactionTriggersRequiringOrderOverride=["click","hover"],t.interactionTypesRequiringOrderOverride=[c.ActionTypes.toggleCanvasTargets,c.ActionTypes.showAndStayVisibleCanvasTargets,c.ActionTypes.showCanvasTargets,c.ActionTypes.showCanvasTargetsOnHover,c.ActionTypes.showOnly],t.interactionTypesThatHide=[c.ActionTypes.hideOnly,c.ActionTypes.hideCanvasTargets,c.ActionTypes.hideAndStayHiddenCanvasTargets],t.interactionTypesRequiringAriaOverride=s(t.interactionTypesRequiringOrderOverride,t.interactionTypesThatHide),t.interactionTypesForCarousels=[c.ActionTypes.cycleNext,c.ActionTypes.cyclePrevious],t.interactionTypesThatShouldNotShiftFocus=s(t.interactionTypesForCarousels,[c.ActionTypes.showOnly,c.ActionTypes.hideOnly]),t}();e.PrerenderAccessibilityOverride=d},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(444)),s=n(292);function u(t){t&&(t.visible=!0,t.runningExitAnimations&&(t.cancelHide=!0,t.isComponent()&&t.resetTimers()),t.isComponent()&&t.show(),o.default.isEmpty(t.childViews)||o.default.each(t.childViews,(function(t){t.visible&&u(t)})))}function l(t){if(t){if(t.cancelHide)return void function t(e){e.cancelHide=!1,o.default.each(e.childViews,(function(e){t(e)}))}(t);t.visible=!1,t.hide(),function t(e){e.isComponent()&&e.resetTimers();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t)}}function c(t){t&&(t.visible=!1,t.hide(),function t(e){e.isComponent()&&(e.resetTimers(),e instanceof s.VideoComponentView&&e.disableVideoTrackingAndAutoPlayingVideo());e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))}function d(){}d.prototype={activateAndRunEntryAnimationsForAllVisible:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(i||t.isOutsideOfPage())&&t.activateAndRunEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},createTimedTriggers:function(t,e){o.default.each(t,(function(t){t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers()}))},whenVisibleBoundariesChange:function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.getComponentBoundaries(),o=i.isAnyPartOfComponentWithinBoundaries(e,r),a=i.getWasInsideVisibleBoundaries(),s=!a&&o;if(a&&!o?(i.setWasInsideVisibleBoundaries(!1),i.whenLeavingVisibleBoundaries()):s&&(i.setWasInsideVisibleBoundaries(!0),i.createTimedTriggers()),o){if(!i.visible||i.areAnyParentsNotVisible())continue;i.isAnyPartOfComponentWithinEntryAnimationBoundaries(e,r)&&!i.isOutsideOfPage()&&i.activateAndRunEntryAnimations()}}},resetHoverInteractionViewsToInitialVisibility:function(t,e,n){for(var i=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var s=t[r];if(!s.isAnyPartOfComponentWithinBoundaries(n)){var u=o.default.flatMap(s.getResettableHoverInteractions(),l);u.length>0&&(i.push(s),i=i.concat(u))}}function l(t){if(!t.resetWhenScrolledOffscreen)return[];var n=o.default.map(t.layerTargets,(function(t){return a.default.find(e,t)}));return o.default.every(n,c)?n:[]}function c(t){var e=[];return function t(n){n.isComponent()?e.push(n):o.default.each(n.childViews,(function(e){t(e)}))}(t),o.default.every(e,(function(t){return!(t&&t.isAnyPartOfComponentWithinBoundaries(n))}))}return i}(t,e,n),r=0;r<i.length;r++){var s=i[r];o.default.isUndefined(s.initiallyVisible)||s.initiallyVisible?u(s):c(s)}},resetAnimationsAndInitialVisibility:function(t){var e=function(t){o.default.each(t,(function(t){t.childViews&&e(t.childViews),o.default.isUndefined(t.initiallyVisible)||t.initiallyVisible?u(t):l(t),t.reset()}))};e(t)},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(t,e){var n=function(t){o.default.each(t,(function(t){if(t.isComponent()&&(o.default.isUndefined(t.visible)||t.visible)&&t.shouldRestartEntryAnimations){var i=t.isAnyPartOfComponentWithinBoundaries(e);i&&t.setWasInsideVisibleBoundaries(!0),(!i&&!t.options.animationsReplayOnScroll||i||t.isOutsideOfPage())&&t.restartRepeatEntryAnimations()}t.childViews&&t.visible&&n(t.childViews)}))};n(t)},showChildViewIfAllParentsVisible:function(t,e){t.areAllParentsVisible()&&(u(t),function t(e,n){e.isComponent()&&e.isAnyPartOfComponentWithinBoundaries(n)&&e.createTimedTriggers();e.childViews&&o.default.each(e.childViews,(function(e){t(e,n)}))}(t,e),function t(e){if(null===e||!1===e.visible)return;e.reset(),e.isComponent()&&e.activateAndRunEntryAnimations();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))},hideAllChildViewsAndRunExitAnimations:function(t){o.default.each(t,(function(t){if(!t.runningExitAnimations){var e=t.runAllChildViewExitAnimations();r.default.when.apply(r.default,e).done((function(){l(t),function(t){t.reset(),t.childViews&&o.default.each(t.childViews,(function(t){t.reset()}))}(t)}))}}))}},e.default=d},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateFactory=void 0;var r=n(363),o=function(){function t(){}return t.initializeStates=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){var n=i(i({},t[e]),{state:e});return new r.ObjectState(n)}))},t}();e.ObjectStateFactory=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AutomaticHoverInteractionCollection=e.AutomaticHoverInteractionHandler=void 0;var r=i(n(3)),o=i(n(0)),a=i(n(245)),s=i(n(48)),u=n(52),l=function(){function t(t,e,n){this.hasChanges=!0,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.targets=[],this.abstractComponentView=t,this.hoverInteractions=e,this.pageView=n}return Object.defineProperty(t.prototype,"trigger",{get:function(){return this.abstractComponentView.$el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTargets",{get:function(){return this.targets.length>0},enumerable:!1,configurable:!0}),t.isHover=function(t){return t.is(":hover")},t.prototype.isInteractive=function(t){if(t.is(":disabled"))return!1;var e=t.attr("tabindex")||-1;return t===this.trigger||e>-1||t.is(":input, a[href], area[href], iframe")},t.prototype.isFocusable=function(t){return"text-component"===t.options.type&&t.containsHyperlinks()||this.isInteractive(t.$el)},t.prototype.isNavItem=function(t){var e=t.attr("id")||t.attr("data-container-id");return!!e&&!!this.navItems[e]},t.prototype.bindFocusEvent=function(e){var n=this,i=function(){t.isHover(e)||(n.invokeShowAction(),n.invokeHideAction(),n.invokeNonShowHideInteraction(),e.attr("id")===n.trigger.attr("id")&&n.abstractComponentView.sendPublishedHoverEvents())};this.isInteractive(e)&&e.on(t.FOCUS_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.FOCUS_EVENT,i)},t.prototype.bindBlurEvent=function(e){var n=this,i=function(i){if(!t.isHover(e)){var o=i.relatedTarget&&r.default(i.relatedTarget);o&&n.isNavItem(o)||(n.hideTemporaryShowing(),n.showTemporaryHiding(),n.uninvokeNonShowHideInteraction())}};this.isInteractive(e)&&e.on(t.BLUR_EVENT,i),e.find(t.INLINE_LINK_SELECTOR).on(t.BLUR_EVENT,i)},t.prototype.hideTemporaryShowing=function(){var t=this.targets.filter((function(t){return t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeHideAction(t),this.isShowing=!1)},t.prototype.showTemporaryHiding=function(){var t=this.targets.filter((function(t){return!t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeShowAction(t),this.isHiding=!1)},t.prototype.invokeShowAction=function(){if(!this.isShowing){var t=this.targets.filter((function(t){return t.isShowing&&t.isVisibilityInteraction}));t.length>0&&(this.pageView.invokeShowAction(t.map((function(t){return t.id})),(function(){t.forEach((function(t){t.view.wasShownByFocusInteraction=!0}))})),this.isShowing=!0)}},t.prototype.invokeHideAction=function(){if(!this.isHiding){var t=this.targets.filter((function(t){return!t.isShowing&&t.isVisibilityInteraction}));t.forEach((function(t){t.view.wasShownByFocusInteraction=!1})),t.length>0&&(this.pageView.invokeHideAction(t.map((function(t){return t.id}))),this.isHiding=!0)}},t.prototype.invokeNonShowHideInteraction=function(){var t=this;this.hoverInteractions.forEach((function(e){if(!a.default.hasCustomFiringHoverAction(e)&&e.shouldTriggerOnKeyboardNavigation()){var n=t.abstractComponentView.getEventInteractionData();e.triggerAction(n)}}))},t.prototype.uninvokeNonShowHideInteraction=function(){this.hoverInteractions.forEach((function(t){!a.default.hasCustomFiringHoverAction(t)&&t.hasOutTrigger&&t.shouldTriggerOnKeyboardNavigation()&&t.triggerOutAction()}))},t.prototype.handleTargets=function(t,e,n){var i,r=this;e&&n&&this.isFocusable(t)&&(this.addNavItem(t.$el),this.bindFocusEvent(t.getPointerEventsTarget()),this.bindBlurEvent(t.getPointerEventsTarget())),null===(i=t.childViews)||void 0===i||i.forEach((function(t){return r.handleTargets(t,e,n)}))},t.prototype.setAccessibilityHoverTarget=function(t){var e,n=this;t.setAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.setAccessibilityHoverTarget(t)}))},t.prototype.unsetAccessibilityHoverTarget=function(t){var e,n=this;t&&(t.unsetAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return n.unsetAccessibilityHoverTarget(t)})))},t.prototype.addNavItem=function(e){var n=e.attr("id");e.find(t.INLINE_LINK_SELECTOR).attr("data-container-id",n),this.navItems[n]=e},t.prototype.unbindEvents=function(){Object.values(this.navItems).forEach((function(e){e.off(t.FOCUS_EVENT).off(t.BLUR_EVENT).find(t.INLINE_LINK_SELECTOR).off(t.FOCUS_EVENT).off(t.BLUR_EVENT)}))},t.prototype.configureInteractions=function(){var t=this;this.hasChanges=!1,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.hasTargets&&(this.targets.forEach((function(e){t.handleTargets(e.view,e.isShowing,e.isTemporary)})),this.addNavItem(this.trigger),this.bindFocusEvent(this.abstractComponentView.getPointerEventsTarget()),this.bindBlurEvent(this.abstractComponentView.getPointerEventsTarget()))},t.prototype.update=function(t,e){var n=this;o.default.isEqual(this.hoverInteractions,e)&&this.trigger[0]===t.$el[0]||(this.abstractComponentView=t,this.hoverInteractions=e,this.unbindEvents(),this.targets.forEach((function(t){return n.unsetAccessibilityHoverTarget(t.view)})),this.hasChanges=!0)},t.prototype.prepareHoverTargets=function(){var t=this;this.targets=[],this.hoverInteractions.forEach((function(e){var n=e.getHoverTargets();if(n){var i=a.default.isHoverInteractionShowingLayers(e),r=a.default.isTemporaryHoverInteractionShowingOrHidingLayers(e),o=a.default.hasCustomFiringHoverAction(e);n.forEach((function(e){var n=t.pageView.findChildView(e);n&&(t.setAccessibilityHoverTarget(n),t.targets.push({id:e,view:n,isShowing:i,isTemporary:r,isVisibilityInteraction:o}))}))}}))},t.prototype.refreshInteractions=function(){this.hasChanges&&(this.prepareHoverTargets(),this.configureInteractions())},t.BLUR_EVENT="blur.automaticHoverInteraction",t.FOCUS_EVENT="focus.automaticHoverInteraction",t.INLINE_LINK_SELECTOR=".inline-link",t}();e.AutomaticHoverInteractionHandler=l;var c=function(){function t(){this.handlers={}}return t.prototype.add=function(t,e,n){if(s.default.hasFeature(u.FeatureFlagName.ACCESSIBILITY))if(0!==e.length){var i=t.$el.attr("id");this.handlers[i]?this.handlers[i].update(t,e):this.handlers[i]=new l(t,e,n)}else this.remove(t.$el)},t.prototype.prepareAccessibleHoverTargets=function(){Object.values(this.handlers).forEach((function(t){return t.prepareHoverTargets()}))},t.prototype.initInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.configureInteractions()}))},t.prototype.refreshInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.refreshInteractions()}))},t.prototype.remove=function(t){var e=t.attr("id");this.handlers[e]&&(this.handlers[e].unbindEvents(),delete this.handlers[e])},t}();e.AutomaticHoverInteractionCollection=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentFactory=void 0;var i=n(445),r=n(780),o=n(781),a=n(782),s=n(783),u=function(){function t(){}return t.createHoverAreaComponent=function(t){switch(t.options.type){case"shape-component":switch(t.options.shape){case"circle":return new r.CircleHoverAreaComponentView({component:t});case"triangle":case"right-triangle":return new s.TriangleHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}case"line-component":return new a.LineHoverAreaComponentView({component:t});case"custom-shape-component":return new o.CustomShapeHoverAreaComponentView({component:t});default:return new i.HoverAreaComponentView({component:t})}},t}();e.HoverAreaComponentFactory=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getCircleDimensions(),e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttributeNS(null,"cx",t.cx.toString()),e.setAttributeNS(null,"cy",t.cy.toString()),e.setAttributeNS(null,"rx",t.rx.toString()),e.setAttributeNS(null,"ry",t.ry.toString()),e},e}(n(250).AbstractCustomPathHoverAreaComponentView);e.CircleHoverAreaComponentView=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeHoverAreaComponentView=void 0;var o=n(250),a=n(217),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=a.CustomPathSVGUtil.generateCurveCoords(this.options.component.options.path,this.options.component.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e},e}(o.AbstractCustomPathHoverAreaComponentView);e.CustomShapeHoverAreaComponentView=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHoverAreaComponentView=void 0;var o=n(250),a=n(217),s=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=a.CustomPathSVGUtil.generateCurveCoords(t,!1),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n},e.prototype.renderStroke=function(){this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",this.options.component.options.lineWidth||0)},e}(o.AbstractCustomPathHoverAreaComponentView);e.LineHoverAreaComponentView=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleHoverAreaComponentView=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.options=e,n}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"points",this.options.component.coodinatesToPointsString(t)),e},e}(n(250).AbstractCustomPathHoverAreaComponentView);e.TriangleHoverAreaComponentView=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(354)),u=i(n(288)),l=i(n(14)),c=i(n(181)),d=i(n(84)),f=i(n(286)),h=function(t){this.initialize(t)};h.prototype={documentVersion:null,marginTopCallback:null,module:null,cachedScale:{},initialize:function(t){this.documentVersion=t.documentVersion,this.marginTopCallback=t.marginTopCallback,this.module=t.module},getCurrentWindowScaleContext:function(){var t=r.default(window),e=c.default.getExperienceContainerDimensions(t);return this._calculateScaleInternal(e.width,e.height)},isPreviewFullScreenMode:function(){return a.default.previewMode&&c.default.fullScreenMode},_calculateScaleInternal:function(t,e){var n=this.documentVersion.getExperienceWidth(),i=a.default.heightOverride||this.documentVersion.getExperienceHeight(),s=this.documentVersion.getScaleExperience(),h=r.default(window),p=c.default.getExperienceContainerDimensions(h),g=t+"x"+e+"-"+p.width+"x"+p.height+"-"+d.default.getVariant()+"-"+f.default.getInstance().getCurrentZoom();if(!o.default.has(this.cachedScale,g)){var m={width:t,height:e,marginTop:this.marginTopCallback(),windowWidth:t,windowHeight:e,ratio:1,constrainedByHeight:!1,constrainedByWidth:!1,originalWindowWidth:p.width,originalWindowHeight:p.height},v=m.windowHeight+l.default.getSlackHeight(m.windowHeight)-m.marginTop;m.height=v;var y=this.documentVersion.getScaleExperienceType()===u.default.SCALE_EXPERIENCE_TYPE.FULL_WIDTH;this.calculateDoScaling(m,n,i,v,s,y),m.adjustedRatio=m.ratio*l.default.pixelRatio(),this.cachedScale[g]=m}return this.cachedScale[g]},calculateDoScaling:function(t,e,n,i,r,o){if(r){var a=n/e>i/t.windowWidth,s=f.default.getInstance().getCurrentZoom();o||!a?(t.constrainedByWidth=!0,t.width=t.windowWidth,t.ratio=t.width/e):(t.constrainedByHeight=!0,t.ratio=t.height/n,t.width=e*t.ratio*s),t.ratio*=s}},getPageScaleContext:function(t){var e=this.getCurrentWindowScaleContext();if(this.documentVersion.getScaleExperience()){var n=t.getPageHeight(this.documentVersion),i=this.documentVersion.getExperienceWidth(),r=n<=Math.round(e.height/e.ratio);e.constrainedByWidth&&!r&&(e=this.calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit(e,i,n))}return e},calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit:function(t,e,n){for(var i=s.default.getScrollbarWidth()*t.ratio,r=i;r>=0;r--){var o=(t.width-i+r)/e;if(!0===n<=Math.round(t.height/o)){i-=r;break}}var a=t.originalWindowWidth-i;return t=this._calculateScaleInternal(a,t.originalWindowHeight)},useZoom:function(t){var e=l.default.isIpad();return(!e||!l.default.isIosGreaterThanOrEqualTo(13))&&(e||this.doBlurryFontFix(t))},doBlurryFontFix:function(t){return(l.default.isBrowserChrome()&&l.default.desktop()||l.default.isDesktopSafari())&&t>=.8}},e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAGES:"&#xe001;",FACEBOOK:"&#xe002;",EMAIL:"&#xe003;",CART:"&#xe004;",LINK:"&#xe005;",TWITTER:"&#xe006;",LEFT_ARROW:"&#xe007;",PINTEREST:"&#xe008;",RIGHT_ARROW:"&#xe009;",SHARE:"&#xe000;"}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(24)),a=i(n(3)),s=i(n(0)),u=i(n(180)),l=i(n(142)),c=i(n(116)),d=i(n(14)),f=i(n(787)),h=i(n(8)),p={"click .close":"_close",click:"_backgroundClick"},g={"touchstart .close":"_close",touchstart:"_backgroundClick"};e.default=c.default.extend({id:"lightbox",attributes:{"aria-modal":"true","aria-hidden":"true"},events:(r={},d.default.desktop()&&s.default.extend(r,p),d.default.touch()&&s.default.extend(r,g),r),lightboxWidth:null,lightboxHeight:null,opened:!1,initialize:function(){c.default.prototype.initialize.apply(this,arguments),this._render(),h.default.previewMode&&a.default(window).on("resize",s.default.debounce(s.default.bind(this._handleSizeChangesDueToZoom,this),1))},setSizeAndPosition:function(){if(this.opened){var t=l.default.getInstance();if(t.isActive()){var e=this.$el,n=this.$(".container"),i=t.getVerticalCenterOfVisibleArea(e.height())-this.lightboxHeight/2,r=Math.max(window.innerWidth-this.lightboxWidth,0)/2;e.css({padding:0}),n.css({transform:"none",top:i+"px",left:r+"px"})}if(d.default.smallWindow()){var o=this.lightboxHeight/this.lightboxWidth,a=Math.min(window.innerWidth,this.lightboxWidth);this.$el.addClass("fullscreen-lightbox"),this.$(".container").css({"max-height":o*a})}else this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight});h.default.previewMode&&this._handleSizeChangesDueToZoom()}},_handleSizeChangesDueToZoom:function(){if(this.opened){var t=a.default(".adaptive-layouts-frame #main").get(0).getBoundingClientRect(),e=window.innerWidth/window.outerWidth;this.lightboxWidth=e*this.originalWidth,this.lightboxWidth=Math.min(t.width-2,this.lightboxWidth);var n=0;this.usesCloseButton&&(n=2*e*42),this.lightboxHeight=e*this.originalHeight,this.lightboxHeight=Math.min(t.height-n,this.lightboxHeight),this.usesCloseButton&&this.resizeCloseButton(e),this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight}),this._adjustCenter()}},resizeCloseButton:function(t){var e=16*t,n=40*t;a.default(".ceros-lightbox .close").css({"font-size":e+"px","line-height":n+"px",height:n+"px",width:n+"px",top:"-"+n+"px"})},_adjustCenter:function(){var t=a.default(".adaptive-layouts-frame"),e=t.get(0).getBoundingClientRect().height/2-this.lightboxHeight/2,n=t.css("top"),i=this.$el.css("padding-top"),r=0;i&&n&&(n=s.default.trimEnd(n,"px"),i=s.default.trimEnd(i,"px"),r=s.default.toNumber(i)-s.default.toNumber(n),this.$(".container").css({top:e-r,transform:"translate(-50%,0)","-webkit-transform":"translate(-50%, 0%)"}))},_close:function(t){t&&t.preventDefault(),this.deactivate()},_backgroundClick:function(t){t.target==this.$el[0]&&this._close(t)},onKeypress:function(t){"Esc"!==t.key&&"Escape"!==t.key||this.deactivate()},_render:function(){this.$el.html(f.default)},openLightbox:function(t){s.default.isEmpty(t)?o.default.warn("missing options for lightbox"):s.default.isEmpty(t.url)?o.default.warn("missing URL for lightbox"):t.width?t.height?(t.showCloseButton?(this.$el.removeClass("without-close-button"),this.$el.addClass("with-close-button")):(this.$el.removeClass("with-close-button"),this.$el.addClass("without-close-button")),this.lightboxWidth=t.width,this.lightboxHeight=t.height,this.originalWidth=s.default.clone(t.width),this.originalHeight=s.default.clone(t.height),this.usesCloseButton=t.showCloseButton,this.$(".close").css("background-color",t.closeButtonBgColor),this.$(".close").css("color",t.closeButtonFgColor),this.$("iframe").attr("src",t.url),this.show(),this.focusLightbox(),this.setSizeAndPosition(),u.default.pause()):o.default.warn("missing height for lightbox"):o.default.warn("missing width for lightbox")},focusLightbox:function(){var t=this.$("iframe");t.on("load.focus",(function(){t[0].contentWindow.focus(),t.off("load.focus")}))},deactivate:function(){u.default.resume(),this.$("iframe").attr("src","about:blank"),this.hide()},hide:function(){this.$el.hide(),this.opened=!1,a.default(document).off("keyup.lightbox"),this.$el.attr("aria-hidden","true")},show:function(){this.$el.show(),this.opened=!0,a.default(document).on("keyup.lightbox",this.onKeypress.bind(this)),this.$el.attr("aria-hidden","false")}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="container ceros-lightbox">\n    <button class="close"><span class="sr-only">Close modal</span></span>&#xE00B;</button>\n    <div class="scrolling">\n        <iframe src="about:blank" frameborder="0" allowfullscreen></iframe>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(140)),o=i(n(789)),a=i(n(790));e.default={create:function(t,e){return r.default.isVectorBased(t.contentType)?new o.default(t,e):new a.default(t,e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(55)),a=i(n(448)),s=i(n(180)),u=function(t,e){a.default.call(this,t,e)};r.default.extend(u.prototype,a.default.prototype,{loadLowRes:function(t){this.load(t)},load:function(t){if(!this.currentResource){var e=o.default.replaceProtocolIfHttpsRequest(this.url);this.currentResource=s.default.addVectorImage(e,t.shouldRenameCssClassesAndIds),this.currentResource.getPromise().done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))}},getCurrentUrl:function(){return this.url}}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(180)),a=i(n(143)),s=i(n(238)),u=i(n(448)),l=function(t,e){u.default.call(this,t,e),this.imageId=e.id,s.default.isValidCropObject(t.crop)?(this.cropDimensions=t.crop,this.originalWidth=this.cropDimensions.width,this.originalHeight=this.cropDimensions.height):(this.originalWidth=r.default.get(e,["original","width"],null),this.originalHeight=r.default.get(e,["original","height"],null))};r.default.extend(l.prototype,u.default.prototype,{imageId:null,originalWidth:null,originalHeight:null,currentUrl:null,currentWidth:-1,cropDimensions:null,loadLowRes:function(t){var e=this.componentWidth*t.adjustedRatio,n=this.componentHeight*t.adjustedRatio,i=this._calculateLowResDimensions(e,n);i.width<=50&&i.height<=50?this.load(t):this._loadLowResWidth(i.width,t)},load:function(t){var e=Math.round(this.componentWidth*t.ratio),n=a.default.calculateWidthForDevicePixelRatio(e);this.loadWidth(n).done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))},getCurrentUrl:function(){return this.currentUrl},loadWidth:function(t){if(this.currentResource){if(t<=this.currentWidth)return this.currentResource.getPromise();this.currentResource.cancel()}return this.currentResource=o.default.addRasterImage(this.imageId,t,this.cropDimensions),this.currentResource.getPromise().done(r.default.bind((function(t){this.currentUrl=t.getSrc(),this.currentWidth=t.getWidth()}),this))},_loadLowResWidth:function(t,e){this.loadWidth(t).done(r.default.bind((function(){this.trigger(this.LOW_RES_IMAGE_LOADED_EVENT),this.loadNow(e)}),this))},_calculateLowResDimensions:function(t,e){var n,i,r=Math.min(t,this.originalWidth),o=Math.min(e,this.originalHeight),a=r/this.originalWidth,s=o/this.originalHeight,u=this.originalWidth/this.originalHeight;return a<s?(n=Math.ceil(.25*r),i=Math.ceil(r*u*.25)):(n=Math.ceil(o*u*.25),i=Math.ceil(.25*o)),{width:n,height:i}}}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(8)),s=i(n(14)),u=i(n(233)),l=i(n(140)),c=function(t,e){this.documentVersion=t,this.layers=e,this.visibleMedia=[],this.hiddenMedia=[],this.visibleImages=[],this.hiddenImages=[],this.sortMediaForLayers(this.layers,!1,0),this.visibleMedia=o.default.orderBy(this.visibleMedia,"absoluteY"),this.hiddenMedia=o.default.orderBy(this.hiddenMedia,"absoluteY")};c.prototype={lazyPreloadAllMedia:function(t,e){var n;this.lazyLoadingVerticalBreakpoint=this.getHighPriorityMediaLoadVerticalBreakpoint(t);var i=null,r=0;for(n=0;n<this.visibleMedia.length&&(r=n,(i=this.visibleMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);var o=0;for(n=0;n<this.hiddenMedia.length&&(o=n,(i=this.hiddenMedia[n]).absoluteY<=this.lazyLoadingVerticalBreakpoint);n++)i.layer.isInInitialViewport=!0,this.loadMediaItem(i,t,e);for(n=r;n<this.visibleMedia.length;n++)i=this.visibleMedia[n],this.loadMediaItem(i,t,e);for(n=o;n<this.hiddenMedia.length;n++)i=this.hiddenMedia[n],this.loadMediaItem(i,t,e)},preloadVisibleMedia:function(t,e){this.loadMediaItems(this.visibleMedia,t,e)},preloadImages:function(t){this.loadMediaItems(this.visibleImages,t,!1),this.loadMediaItems(this.hiddenImages,t,!1)},preloadHiddenMedia:function(t){this.loadMediaItems(this.hiddenMedia,t,!1)},getlazyLoadingVerticalBreakpoint:function(){return this.lazyLoadingVerticalBreakpoint},sortMediaForLayers:function(t,e,n){n||(n=0),o.default.each(t,o.default.bind((function(t){if(this.isContainerLayer(t)){var i=e||!t.visible;this.sortMediaForLayers(this.getChildLayers(t),i,this.isSmartGroupOrGroup(t)?n+t.y:n)}else this.sortMediaForLayer(t,e,n)}),this))},sortMediaForLayer:function(t,e,n){if(this.getLoader(t)){var i={layer:t,absoluteY:t.y+n};e||!t.visible?(this.hiddenMedia.push(i),this.isImage(t)&&this.hiddenImages.push(i)):(this.visibleMedia.push(i),this.isImage(t)&&this.visibleImages.push(i))}},getHighPriorityMediaLoadVerticalBreakpoint:function(t){var e=r.default(window).height()/t.ratio;if(a.default.isEmbedded&&a.default.heightOverride){var n=u.default.getDimensions();if(s.default.desktop())e=Math.min(e,n.height/t.ratio);else{var i=n.height/n.width;s.default.landscape()&&i>1&&(i=1/i),e=this.documentVersion.getExperienceWidth()*i}}return e},isSmartGroupOrGroup:function(t){return!(!t.smartgroupId&&"group"!==t.type&&"mask-group"!==t.type)},getChildLayers:function(t){return t.smartgroupId?t.layers:t.items},isContainerLayer:function(t){return!(!t.smartgroupId&&"folder"!==t.type&&"group"!==t.type&&"mask-group"!==t.type)},getLoader:function(t){return t.imageLoader||t.posterLoader||t.fontLoader},isImage:function(t){return!(!t.imageLoader&&!t.posterLoader)},shouldLoadLowRes:function(t){return o.default.isFunction(this.getLoader(t).loadLowRes)&&!t.posterLoader&&this.documentVersion.shouldLoadLowRes()},loadMediaItems:function(t,e,n){o.default.each(t,o.default.bind((function(t){this.loadMediaItem(t,e,n)}),this))},loadMediaItem:function(t,e,n){t&&t.layer&&(e.shouldRenameCssClassesAndIds=!l.default.hasCurrentConvertedVectorImageUri(l.default.VECTOR_IMAGE_CONVERSION_VERSION,t.layer.convertedVectorImage));var i=this.getLoader(t.layer);this.shouldLoadLowRes(t.layer)?n?i.loadLowResNow(e):i.loadLowRes(e):n?i.loadNow(e):i.load(e)}},e.default=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerOpBuilder=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(793)).default);e.EditorLayerOpBuilder=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(452)),a=i(n(794)),s=function(t,e){this.setDoc(t,e)};s.prototype={setDoc:function(t,e){this.doc=t,this.pathPrefix=e||[]},getOpsForModelChangeSet:function(t,e){var n=t.getChanges(),i=this.pathPrefix,s=["layerDictionary",t.model.id],u=r.default.keys(n),l=this.doc.snapshot;return r.default.map(u,(function(t){var r=s.concat(t),u=i.concat(r),c=n[t],d={p:e?r:u},f=a.default.traverse(u,l);return o.default.setOpValues(d,f,c),d}))},prefixPath:function(t){var e=this.pathPrefix;return 0===e.length?t:r.default.map(t,(function(t){return t.p=e.concat(t.p),t}))}},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(795));e.default={traverse:function(t,e){var n,i,s,u,l=r.default.cloneDeep(t),c="data",d={data:e},f="smartgroups"===l[0],h=!f,p=l.indexOf("layerDictionary")>-1,g=l.indexOf("layerHierarchies")>-1;return p?(h?(n=e.layers,i=e,s=l[1],c=l[2]):(n=(i=e.smartgroups.at&&e.smartgroups.at(l[1])||e.smartgroups[l[1]]).layers,s=l[3],c=l[4]),u=n&&n instanceof a.default?n.findDescendant((function(t){return t.id===s})):i.layerDictionary[s],{key:c,element:u}):(h&&g?(d=e.layers,l.splice(0,2),c=l.shift()):f&&g&&this.transformPathForSmartgroupHierarchyChange(l),r.default.each(l,(function(t,n){if(d=r.default.isNumber(c)&&r.default.isFunction(d.at)?d.at(c):d[c],r.default.isUndefined(d)){var i=new Error("Tried to access path that doesn't exist");throw i.metadata={path:l,key:c,treeId:e.id},e instanceof o.default.Model||(i.metadata.tree=e),i}c=t})),{key:c,element:d})},transformPathForSmartgroupHierarchyChange:function(t){var e=t.indexOf("layerHierarchies");t.splice(e,1,"layers");var n=t.indexOf("desktop");t.splice(n,1)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(453)),s=i(n(400)),u=i(n(219)),l=i(n(800)),c=i(n(801)),d=i(n(823)),f=i(n(320)),h=i(n(110)),p=i(n(824)),g=n(828),m=i(n(154)),v=i(n(829)),y=["show-layers","show-layers-on-hover","hide-layers","toggle-layers","show-and-stay-visible","hide-and-stay-hidden","show-only","hide-only","cycle-next","cycle-previous","scroll-to-object"],_={TEXT_COMPONENT_REMOVED:"text-component:remove",TEXT_COMPONENT_ADDED:"text-component:add",TEXT_PLUS_COMPONENT_REMOVED:"text-plus-component:remove",TEXT_PLUS_COMPONENT_ADDED:"text-plus-component:add",CHANGE:"change",CHANGE_HIERARCHY_ADD:"change-hierarchy-add",CHANGE_HIERARCHY_REMOVE:"change-hierarchy-remove"},b=["x","x2","y","y2","rotation","path","width","height","maskInfo"];e.default=o.default.Collection.extend({initialize:function(t,e){e=e||{},this.page=e.page,this.parentComponent=e.parent,this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.on("add",r.default.bind((function(t){t.registerSaveHandler(this._saveModelChanges,this)}),this)),this.on("remove",r.default.bind((function(t){t.removeSaveHandler(),t.parent=null,t.deselect(),this.trigger(_.CHANGE_HIERARCHY_REMOVE,t)}),this))},reset:function(){o.default.Collection.prototype.reset.apply(this,arguments)},newGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!1),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l),s},createNewGroup:function(t,e,n,i,o,a,s){if(0!==(i=r.default.filter(i,(function(t){return t.isGroupable()}))).length){var u=m.default.getSmallestContainingRectangle.apply(m.default,i),l="group";s&&(l="mask-group");var d=c.default.createModel({type:l,x:u.x1,y:u.y1,width:u.x2-u.x1,height:u.y2-u.y1},{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});(d=this.add(d,{at:n})).setNumberedTitle(o),r.default.isEmpty(a)||d.translateToParentCoordinateSpace(a),d.roundTransformableAttributes();var f=t.concat([n]),h=d.toDictionaryJSON(),p=[{p:["layerDictionary"].concat(h.id),oi:h},{p:f,li:{id:h.id,items:[]}}];return Array.prototype.push.apply(e,p),this.unpinObjects(i,!0),{group:d,pendingOps:e,groupHierarchyPath:f,objectItemsToGroup:i}}},newMaskGroup:function(t,e,n,i,r,o){var a=this.createNewGroup(t,e,n,i,r,o,!0),s=a.group,u=a.pendingOps,l=a.objectItemsToGroup,c=a.groupHierarchyPath;return s.populateNewGroupWithItems(c,u,l,!0),s},unpinObjects:function(t,e){r.default.each(t,(function(t){var n=t.get("fixedPosition");void 0!==n&&!1!==n&&t.set("fixedPosition",!1,{silent:!!e})}))},newFolder:function(t,e,n,i,o,a){var s=c.default.createFolderModel(null,{layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService,inSmartgroup:a});s.setNumberedTitle(o),this.add(s,{at:n});var u=t.concat(n),l=s.toDictionaryJSON(),d=[{p:["layerDictionary"].concat(l.id),oi:l},{p:u,li:{id:l.id,items:[]}}];return Array.prototype.push.apply(e,d),i=r.default.filter(i,(function(t){return t.isGroupable()})),s.populateNewFolderWithItems(u,e,i),s},moveLayers:function(t,e,n,i,o){var a,s=(i=p.default.normalizeSubjects(i)).slice(0).reverse();return o&&(a=v.default.getMaskingPropertiesMap(s)),r.default.each(s,r.default.bind((function(i){var s=r.default.cloneDeep(i.toDictionaryJSON());this.parentComponent&&this.parentComponent.isGroup()&&i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(this.parentComponent.getSelfAndAllParents()),o&&a&&this.parentComponent&&this.parentComponent.isMaskGroup()&&(i.set({maskInfo:a.get(i.get("id"))},{silent:!0}),i.removeIncompatiblePropertiesWhenMasking(!0)),this.add(i,{at:n});var u=i.toDictionaryJSON();e.push({p:t.concat(n),li:i.toHierarchyJSON()}),this.parentComponent&&this.parentComponent.isGroup()&&e.push({p:["layerDictionary"].concat([u.id]),oi:u,od:s})}),this)),i},addGroup:function(t,e,n,i,o,a,s,u){var l=this.add(i,{inSmartgroup:h.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService});r.default.isEmpty(s)||l.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(s),l.roundTransformableAttributes();var c=t.concat([n]),d=l.toDictionaryJSON(),f=[{p:["layerDictionary"].concat(d.id),oi:r.default.omit(d,["items"])},{p:c,li:l.toHierarchyJSON()}];return Array.prototype.push.apply(e,f),l.items.addLayers(c.concat([l.getPathPart()]),e,0,o,a,void 0,u),l.open(),l},addFolder:function(t,e,n,i,r,o,a){var s=this.add(i,{inSmartgroup:h.default.isInIsolationMode(),at:n,layerDictionaryAndHierarchyService:this.layerDictionaryAndHierarchyService}),u=s.toDictionaryJSON(),l=[{p:["layerDictionary"].concat(u.id),oi:u},{p:t.concat(n),li:{id:u.id,items:[]}}];return Array.prototype.push.apply(e,l),s.addItems(t.concat(n),e,r,o,a),s},addLayers:function(t,e,n,i,o,a,u){i=p.default.normalizeSubjects(i);var l=[];if(r.default.isEmpty(i))return l;var d=i.slice(0).reverse();return r.default.each(d,r.default.bind((function(i){if(r.default.isString(i.id)||(i.id=f.default()),i instanceof s.default||(i=JSON.parse(JSON.stringify(i))),"folder"===i.type){var d=i.items;i.items=[];var p=this.addFolder(t,e,n,i,d,o,u);l.unshift(p)}else if("group"===i.type||"mask-group"===i.type){var g=i.items;i.items=[];var m=this.addGroup(t,e,n,i,g,o,a,u);l.unshift(m)}else{i instanceof s.default||(i=c.default.createModel(i,{inSmartgroup:h.default.isInIsolationMode(),copiedFromClipboard:u})),r.default.isEmpty(a)||i.transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation(a),i.roundTransformableAttributes(),this._cleanInteractions(i,o),this.add(i,{at:n}),i.registerSaveHandler(this._saveModelChanges,this);var v,y=i.toDictionaryJSON();(i.isTextComponent()||i.isTextPlusComponent())&&(i.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService),v=i.isTextComponent()||i.isTextPlusComponent()?this.buildOpForSyncedTextComponentPaste(y):{p:["layerDictionary"].concat(y.id),oi:y},e.push(v),e.push({p:t.concat([n]),li:{id:y.id}}),l.unshift(i)}}),this)),l},buildOpForSyncedTextComponentPaste:function(t){var e={p:["layerDictionary"].concat(t.id),oi:t},n=this.layerDictionaryAndHierarchyService.layerDictionary.findLayerById(t.id);return n&&(e.od=n),e},filter:function(t){return(t=t||new l.default).filter(this.models)},findItem:function(t,e,n){var i={},o=this;return this.each((function(a,s){var u=t.concat(s);return a.id===e.id?(i.parentFolder=n,i.parentLayerCollection=o,i.path=u,!1):(a.hasChildren()&&(i=a.findItem(u,e)),!!r.default.isEmpty(i)&&void 0)})),i},forEachDescendant:function(t){d.default.forEachDescendant(this.models,t)},forEachDescendantIncludingSmartGroupObjects:function(t){d.default.forEachDescendantIncludingSmartGroupObjects(this.models,t)},forEachDescendantWhile:function(t,e){d.default.forEachDescendantWhile(this.models,t,e)},forSomeDescendant:function(t){return d.default.forSomeDescendant(this.models,t)},forSomeDescendantWithParents:function(t){d.default.forSomeDescendantWithParents(this.models,t)},forEachDescendantWithParentsWhile:function(t,e){d.default.forEachDescendantWithParentsWhile(this.models,t,e)},findDescendant:function(t){return d.default.findDescendant(this.models,t)},removeItems:function(t,e,n){var i={},o=this,a=[];r.default.each(n,(function(n){if(n.isDeletable()){var s=o.findItem(t,n);r.default.isEmpty(s)||(n.isUploading()&&n.cancelUpload("component-deleted"),s.parentLayerCollection.remove(n,i),e.push({p:s.path,ld:n.toHierarchyJSON()}),a.push(n),n.hasChildren()&&n.getCollection().forEachDescendant((function(t){a.push(t)})))}})),this.removeLayersFromDictionaryIfOnASingleVariant(a,e)},removeLayersFromDictionaryIfOnASingleVariant:function(t,e){var n=r.default.map(t,"id"),i=this.layerDictionaryAndHierarchyService.determineWhichLayerIdsAreInMultipleHierarchies(n);r.default.each(t,(function(t){var n=i[t.id];n.inAtLeastOneHierarchy&&!n.inMultipleHierarchies&&e.push({p:["layerDictionary"].concat([t.id]),od:t.toDictionaryJSON()})}))},updateRelativeAttributesForObject:function(t,e,n){var i=this;if(t.isFolder())r.default.each(t.getChildren(),(function(t,r){i.updateRelativeAttributesForObject(t,e,n.items[r])}));else{var o=t.toDictionaryJSON();t.set(r.default.pick(n,b),{silent:!0});var a=t.toDictionaryJSON();r.default.isEqual(o,a)||e.push({p:["layerDictionary"].concat([t.id]),oi:a,od:o})}},removeMaskInfoFromJson:function(t){return t&&(t.maskInfo=void 0),t},removeItemsForMoving:function(t,e,n,i){var o=this;r.default.each(n,(function(n){if(n.isDeletable()){var a,s=o.findItem(t,n);if(!r.default.isEmpty(s))a=n.toPageCoordinateSpaceJsonMaintainingPositionAndOrientation(),i&&(a=o.removeMaskInfoFromJson(a)),s.parentLayerCollection.remove(n,{moving:!0}),o.updateRelativeAttributesForObject(n,e,a),e.push({p:s.path,ld:n.toHierarchyJSON()})}}))},removeReferencesToDescendant:function(t,e){var n=this.layerDictionaryAndHierarchyService.layerOpBuilder;d.default.forEachDescendant(this.models,(function(i){if(i.isObject()){i.removeReferencesToDescendant(e);var o=i.flushPendingChanges(),a=n.getOpsForModelChangeSet(o,!0);r.default.each(a,(function(e){t.push(e)}))}}))},_cleanInteractions:function(t,e){var n=t.get("interactions"),i=[];r.default.each(n,(function(t){if(r.default.includes(["click","view","hover"],t.trigger)&&r.default.includes(y,t.action)){var n=[];r.default.each(t.layerTargets,(function(t){r.default.includes(e,t)&&n.push(t)})),t.layerTargets=n,t.layerTargets.length>0&&i.push(t)}else i.push(t)})),t.set("interactions",i)},_saveModelChanges:function(t,e){this.layerDictionaryAndHierarchyService.layerSaveHandler(t,e)},_prepareModel:function(t,e){var n=t;return!!(n instanceof u.default||(n=this.prepareModelFromJSON(t,e)))&&(n instanceof a.default&&n.setPage(this.page),n.parent=this.parentComponent,o.default.Collection.prototype._prepareModel.call(this,n,e))},prepareModelFromJSON:function(t,e){var n=t;if(g.MediaUploadTracker.containsCachedModel(t.id))n=g.MediaUploadTracker.getCachedModel(t.id);else{if(n instanceof o.default.Model)n=n.toJSON();else{var i=r.default.clone(this.layerDictionaryAndHierarchyService.findLayerById(n.id));i&&(i=r.default.extend(i,t)),n=i||n,t.items&&(n.items=t.items)}if(!n||!n.type)throw new Error("Model could not be found or does not have a type. ID: "+t.id);e.layerDictionaryAndHierarchyService=this.layerDictionaryAndHierarchyService,n=c.default.createModel(n,e)}return n}},{EVENTS:_,LAYER_INTERACTIONS:y})},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LogoutReason=void 0;var s=a(n(0)),u=a(n(797)),l=a(n(345)),c=a(n(350)),d=a(n(346)),f=a(n(799)),h=a(n(8)),p=a(n(401)),g=n(348),m=a(n(247)),v=a(n(48));e.LogoutReason={USER_LOGGED_OUT:"user logged out",SESSION_EXPIRED:"session expired",CONCURRENT_LOGIN:"concurrent login",SERVER_ERROR:"server error"};var y={CREATE_SMARTGROUP:{INTERCOM:"Create SmartGroup"},CUSTOM_CANVAS_SIZE:{CEROS:"studio.experience.canvas.size.custom"},EMBED_CODE_COPY:{CEROS:"studio.experience.embed-code-copy"},OPEN_SUPPORT:{INTERCOM:"Open Support"},OPTIMIZE_LOADING:{INTERCOM:"Optimize Loading"},PAGE_OVER_HEIGHT:{CEROS:"studio.experience.page.overheight.custom"},PUBLISH_EXPERIENCE:{INTERCOM:"Publish Experience",CEROS:"studio.experience.publish"},STUDIO_DWELL:{CEROS:"studio.experience.dwell"},STUDIO_OPEN:{CEROS:"studio.experience.open"},PERFORMANCE_MARKER:{CEROS:"studio.performance.marker"}},_=new l.default({enabled:!0,envPropertyList:["browser","browser_version","os","os_version","referrer","referring_domain","screen_height","screen_width","user_agent"]}),b=new c.default;b.on(b.EVENTS.PERFORMANCE_MARK,(function(t){_.track(y.PERFORMANCE_MARKER.CEROS,t),S(y.PERFORMANCE_MARKER.CEROS,i(i({},t),{experience_title:h.default.experienceName}))}),this);var w=!!h.default.zendeskKey;function T(t,e,n){if(t){if(e=s.default.extend({},e||{},{event_slug:d.default.generate()}),s.default.has(t,"CEROS")&&(_.track(t.CEROS,e),S(t.CEROS,i(i({},e),n))),!w&&s.default.has(t,"INTERCOM")){var r=p.default.getActiveAccount();u.default.track(t.INTERCOM,e,{slug:r.get("slug"),title:r.get("title")})}}else console.warn("unregistered event")}function S(t,e){window.dataLayer&&window.dataLayer.push(i(i({},e),{event:"ceros-user-analytics",event_category:"ceros-user-analytics",event_action:t}))}e.default={init:function(t,e){var n=t.email,i=t.title,r=t.slug,o=t.isSuperuser,a=t.isSuperadmin,l=t.contactInformation,c=t.inviteAcceptedDate,d=t.creationDate;if(!w){var h=c;h&&!s.default.isEmpty(h)||(h=d);var g=p.default.getActiveAccount();u.default.init(n,i,o,a,l,h,g)}_.setUser(n,i,r),e||(this.studioPageViewTracker=new f.default,this.studioPageViewTracker.on(this.studioPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.trackStudioDwell,this))},trackUser:function(t,e){return r(this,void 0,void 0,(function(){var n,i,r,a;return o(this,(function(o){switch(o.label){case 0:return n=this.getUserEventData(t,e.get("id")),[4,this.getAccountEventData(e)];case 1:return i=o.sent(),r=g.DataUtils.keysToSnakeCase(n),a=g.DataUtils.keysToSnakeCase(i),S("user.info",{app:"studio",user:r,account:a}),[2]}}))}))},trackLogout:function(t){S("studio.user.logout",{logout_reason:t})},getUserEventData:function(t,e){var n=s.default.cloneDeep(s.default.pick(t.toJSON(),["email","title","isSuperadmin","isSuperuser"])),i=t.getFirstLoginDate();n.firstLoginDate=m.default(i).unix();var r=t.getRoleName(e);return n.userRole=r.toLowerCase(),n},getAccountEventData:function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:return e=s.default.cloneDeep(t.toJSON()),n=e,[4,this.getFeatureFlagStatuses(t.get("slug"))];case 1:return n.featureFlags=i.sent(),e.startDate=e.startDate?m.default(e.startDate).unix():null,e.endDate=e.endDate?m.default(e.endDate).unix():null,e.gracePeriodEndDate=e.gracePeriodEndDate?m.default(e.gracePeriodEndDate).unix():null,e.contractStartDate=e.contractStartDate?m.default(e.contractStartDate).unix():null,e.contractEndDate=e.contractEndDate?m.default(e.contractEndDate).unix():null,e.initialSubscriptionContractStartDate=e.initialSubscriptionContractStartDate?m.default(e.initialSubscriptionContractStartDate).unix():null,e.latePaymentNotificationLastUpdated=e.latePaymentNotificationLastUpdated?m.default(e.latePaymentNotificationLastUpdated).unix():null,[2,e]}}))}))},getFeatureFlagStatuses:function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:return e=[],[4,v.default.getFeatureFlagsForAccount(t)];case 1:return(n=i.sent()).enabled.forEach((function(t){e.push({name:t.get("label"),enabled:!0})})),n.disabled.forEach((function(t){e.push({name:t.get("label"),enabled:!1})})),[2,e]}}))}))},getPerformanceTracker:function(){return b},registerStudioPageSwitch:function(t){this.studioPageViewTracker&&this.studioPageViewTracker.activatePage(t)},registerUserActivity:function(){this.studioPageViewTracker&&this.studioPageViewTracker.registerUserActivityIfNotPaused()},setActiveUsers:function(t){this.studioPageViewTracker&&this.studioPageViewTracker.setActiveUsers(t)},trackCreateSmartgroup:function(){T(y.CREATE_SMARTGROUP)},trackCustomCanvasSize:function(t){T(y.CUSTOM_CANVAS_SIZE,{},t)},trackEmbedCodeCopy:function(t,e,n,i,r,o){T(y.EMBED_CODE_COPY,{experience_slug:t,experience_alias:e,has_mixed_page_heights:!!n,has_overheight_option:!!i,overheight_embed:!!r},o)},trackOpenSupport:function(){T(y.OPEN_SUPPORT)},trackOptimizeLoading:function(){T(y.OPTIMIZE_LOADING)},trackOverHeight:function(t){T(y.PAGE_OVER_HEIGHT,{},t)},trackPublishExperience:function(t,e,n,i,r){T(y.PUBLISH_EXPERIENCE,{experience_slug:t,experience_alias:e,experience_title:n,experience_url:i,first_publish:!!r})},trackStudioDwell:function(t){t.concurrent_users>0&&T(y.STUDIO_DWELL,t,{experience_title:h.default.experienceName})},trackStudioOpen:function(t,e){T(y.STUDIO_OPEN,t,e)}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=i(n(798)),s=i(n(312)),u=["otto@ceros.com","otto@cerosdev.com","superotto@ceros.com","superotto2@ceros.com","superotto3@ceros.com","superotto4@ceros.com","superotto5@ceros.com","superotto6@ceros.com","superotto7@ceros.com","superotto8@ceros.com","superotto9@ceros.com","superotto10@ceros.com"],l={id:{sourceAttribute:"id",superUserDefault:"9",dataType:"ATTRIBUTE_TYPE_STRING"},name:{sourceAttribute:"title",superUserDefault:"Ceros",dataType:"ATTRIBUTE_TYPE_STRING"},is_pilot:{sourceAttribute:"trial",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},initial_contract_start:{sourceAttribute:"initialSubscriptionContractStartDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},current_contract_start:{sourceAttribute:"contractStartDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},current_contract_end:{sourceAttribute:"contractEndDate",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_DATE"},account_manager:{sourceAttribute:"accountManagerMemberTitle",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_STRING"},current_arr:{sourceAttribute:"currentArr",superUserDefault:null,dataType:"INTERCOM_TYPE_MONIES"},account_tier:{sourceAttribute:"accountTier",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},monthly_experience_goals:{sourceAttribute:"monthlyExperienceGoals",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"},opens_threshold:{sourceAttribute:"publishedExperienceOpensThreshold",superUserDefault:null,dataType:"ATTRIBUTE_TYPE_INT"}};e.default={init:function(t,e,n,i,r,a,s){if(window.Intercom)if(u.includes(t))console.warn("Disabling intercom widget for current user");else{var l={app_id:o.default.intercomKey,email:t,name:e,user_id:t,is_super_user:!!n,is_super_admin:!!i,contact_info:r};"studio"===o.default.analyticsApplicationKey&&(l.vertical_padding=35),s&&(l.company=this.compileCompanyData(s,n)),a&&(l.created_at=a.unix()),window.Intercom("boot",l)}else console.warn("Intercom global object was not found")},track:function(t,e,n){window.Intercom&&window.Intercom("trackEvent",t,r.default.extend({accountID:n.slug,accountName:n.title},e))},compileCompanyData:function(t,e){var n={};if(r.default.forEach(l,(function(i,o){var a=e?i.superUserDefault:t.get(i.sourceAttribute),u=null;if(void 0!==a)if("ATTRIBUTE_TYPE_DATE"===i.dataType){var l=new s.default(a);l&&"function"==typeof l.unix&&(u=l.unix())}else u="ATTRIBUTE_TYPE_INT"===i.dataType?r.default.toInteger(a):"INTERCOM_TYPE_MONIES"===i.dataType?r.default.toNumber(a):r.default.toString(a);null!==u&&(n[o]=u)})),!e&&t.get("hubspotId")?n.hubspot_link=a.default.buildHubspotUrlForCerosAccount(t.get("hubspotId")):n.hubspot_link=null,!e&&t.get("slug")){var i=location.protocol+"//"+location.hostname;n.account_settings_url=i+"/manage/accounts/edit/"+encodeURIComponent(t.get("slug"))+"/#0"}else n.account_settings_url=null;return e||(n.plan=t.get("pricingPlan")),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={buildHubspotUrlForCerosAccount:function(t){return"https://app.hubspot.com/sales/403603/company/"+t}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(8)),a=i(n(351)),s=function(){a.default.call(this)};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{PAGE_PING_INTERVAL_MILLIS:6e4,USER_INACTIVITY_TIMEOUT_MILLIS:6e5,MINIMUM_DWELL_TIME:5e3,activatePage:function(t){this.timerId&&Date.now()-this.timerStartTime>this.MINIMUM_DWELL_TIME&&(this.logDebug("Spent longer than minimum dwell time on previous page, sending dwell event."),this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.logDebug("Clearing existing page ping timer"),clearTimeout(this.timerId),this.timerId=null),this.pageNumber=t,this.pageActivated=!0,this.registerUserActivity()},getDwellTimeEventData:function(){return{concurrent_users:this.activeUsers.models.length,page_num:this.pageNumber,dwell_time:Math.round((Date.now()-this.timerStartTime)/1e3),experience_slug:o.default.issueSlug,experience_alias:o.default.experienceAlias,project_slug:o.default.projectSlug}},setActiveUsers:function(t){this.activeUsers=t}}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=function(){this.filters={}};r.default.extend(o.prototype,{addFilter:function(t,e){return this.filters[t]=e,this},removeFilter:function(t){delete this.filters[t]},hasFilter:function(t){return this.filters.hasOwnProperty(t)},clearFilters:function(){this.filters={}},getFilters:function(){return this.filters},hasFilters:function(){return r.default.size(this.filters)>0},filter:function(t){var e=this,n=!1;return r.default.each(t,(function(t){var i=!!t.hasChildren()&&e.filter(t.getChildren()),r=e.testModelMatch(t);t.includeInLayerPanel=r||i,n=n||t.isIncludedInLayerPanel()})),n},testModelMatch:function(t){return!this.hasFilters()||r.default.some(this.getFilters(),(function(e){return e.test(t)}))},shouldExpandOnChildMatch:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldExpandOnChildMatch()}))},shouldDisableDragDrop:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableDragDrop()}))},shouldDisableLastSelected:function(){return r.default.some(this.getFilters(),(function(t){return t.shouldDisableLastSelected()}))}}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(320)),a=i(n(802)),s=i(n(803)),u=i(n(807)),l=i(n(808)),c=i(n(809)),d=i(n(810)),f=i(n(812)),h=n(813),p=i(n(815)),g=i(n(816)),m=i(n(817)),v=i(n(820)),y=i(n(821)),_=i(n(453)),b=n(822),w=n(396),T={group:null,folder:null,smartgroup:null,"mask-group":null,"image-component":s.default,"line-component":u.default,"shape-component":l.default,"html-component":c.default,"hubspot-form-component":d.default,"hotspot-component":f.default,"hotspot-path-component":h.HotspotPathModel,"marketo-form-component":p.default,"chartblocks-chart-component":g.default,"text-component":m.default,"video-widget":v.default,"placeholder-component":y.default,"canvas-background-component":_.default,"custom-shape-component":b.CustomShapeModel,"text-plus-component":w.TextPlusModel};var S=function(t,e){if(r.default.isUndefined(t.type))throw new Error("page object model must have type attribute");return T[t.type]?(r.default.isUndefined(t.id)&&(t.id=o.default()),t=new T[t.type](t,e)):t=new a.default(t,e),t};e.default={registerFolderModel:function(t){T.folder=t},registerSmartgroupModel:function(t){T.smartgroup=t},registerGroupModel:function(t){T.group=t},registerMaskGroupModel:function(t){T["mask-group"]=t},createFolderModel:function(t,e){return S(t=t||{type:"folder"},e)},createSmartgroupModel:function(t,e){return S(t=t||{type:"smartgroup"},e)},createModel:S}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(99));e.default=o.default.extend({defaults:r.default.UnsupportedComponentModel.defaults,getSupported:function(){return r.default.UnsupportedComponentModel.supported},getSupportedInteractionTriggers:function(){return[]}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(3)),a=i(n(278)),s=i(n(277)),u=i(n(234)),l=i(n(237)),c=i(n(67)),d=i(n(321)),f=i(n(804)),h=i(n(219)),p=i(n(805)),g=i(n(140)),m=i(n(806)),v=i(n(143)),y=i(n(154)),_=i(n(99)),b="opening",w="cropping",T="saving";e.default=d.default.extend({uploadedImageResource:null,uploadedVectorImageResourceFactory:null,cropSelectionModel:null,cropState:null,nonCroppedImage:null,originalDimensions:null,dimensionsBeforeCrop:null,extentsChangeCallbacks:null,flaggedForBackgroundRemoval:!1,objectStatesEnabled:!0,nonConvertedVersionAlreadyLoaded:!0,defaults:c.default.ImageModel.defaults,initialize:function(t,e){d.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:contentType",this.onContentTypeChanged),this.on("change:width",this.onSizeChange,this),this.on("change:height",this.onSizeChange,this),this.on("change:image",this.updateRenderedImage,this),this.on("change:crop",this.updateRenderedImage,this),this.on("change:background",this.updateRenderedImage,this),this.on("change:backgroundHasBeenSet",this.updateRenderedImage,this),this.on("selectItem",this.fixSepiaAndInvertForOldExperiences,this)},fixSepiaAndInvertForOldExperiences:function(){var t=this.get("effects");r.default.isNil(t.sepia)&&r.default.isNil(t.invert)&&(this.set("effects",r.default.merge({},this.defaults.effects,t)),this.save())},onContentTypeChanged:function(t,e){var n=t.previous("contentType");g.default.isVectorBased(n)!==g.default.isVectorBased(e)&&t.trigger(h.default.EVENTS.CHANGE_SELECTED)},getSupported:function(){return this.isInMaskGroup()?this.parent.isShapeMask()?c.default.ImageModel.supportedShapeMaskImageBase:c.default.ImageModel.supportedAlphaMaskImage:this.isVectorBased()?c.default.ImageModel.supportedVector:c.default.ImageModel.supported},getValidClickInteractions:function(){return c.default.ImageModel.maskedImageClickOptions},getValidHoverInteractions:function(){return c.default.ImageModel.maskedImageHoverOptions},getValidViewInteractions:function(){return c.default.ImageModel.maskedImageViewOptions},isImageComponent:function(){return!0},isCopiable:function(){return!r.default.isEmpty(this.getImageUri())&&!this.isInAnyCropState()},getDisplayLabel:function(){return"Image"},mustBeConstrained:function(){return this.isVectorBased()},isVectorBased:function(){return g.default.isVectorBased(this.get("contentType"))},isGif:function(){return m.default.isGifContentType(this.get("contentType"))},isEditableComponent:function(){return!this.isSyncedObject()},backgroundNeverRemoved:function(){return!this.get("backgroundRemovedUri")},backgroundPreviouslyRemoved:function(){var t=this.get("backgroundRemovedUri"),e=t!==this.get("image");return!r.default.isNull(t)&&e},backgroundCurrentlyRemoved:function(){var t=this.get("backgroundRemovedUri");return t===this.get("image")&&!r.default.isNull(t)&&this.isReadyForBackgroundRemoval()},isReadyForBackgroundRemoval:function(){return!this.isUploading()&&!this.flaggedForBackgroundRemoval},resetAttributes:function(t){var e=t.meta.width,n=t.meta.height;e&&n||(e=v.default.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE,n=v.default.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE);var i=v.default.calculateDimensions(t.mimetype,e,n,!1);this.flaggedForBackgroundRemoval?(i.width=this.get("width"),i.height=this.get("height"),i.backgroundRemovedUri=t.uri,i.backgroundRemovedDimensions={width:e,height:n},this.flaggedForBackgroundRemoval=!1,r.default.isEmpty(this.get("crop"))||(i.crop=p.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),i.backgroundRemovedDimensions))):(i.crop=null,i.gettyImageId=null,i.originalUri=null,i.originalDimensions=null,i.backgroundRemovedUri=null,i.backgroundRemovedDimensions=null),g.default.isVectorBased(t.mimetype)&&(i.shadow={},i.border={}),i.background={},i.backgroundHasBeenSet=!1,i.nounProjectIconId=null,i.title=t.basename,i.contentType=t.mimetype,i.image=t.uri,i.convertedVectorImageVersion=null,i.convertedVectorImage=null,this.set(i)},setExtentsChangeCallbacks:function(t){this.extentsChangeCallbacks=t},updateRenderedRasterImage:function(){this.isCropping()||d.default.prototype.updateRenderedRasterImage.call(this)},onSizeChange:function(t,e,n){!this.isVectorBased()&&this.get("width")>this.previous("width")&&this.updateRenderedImage(),n.remote||this.isVectorBased()||this.isGif()},setUploadedImage:function(t){var e;if(g.default.isVectorDataURL(t)){var n=!this.hasCurrentConvertedVectorImageUri(),i=null===(e=this.options.page)||void 0===e?void 0:e.getSvgLoadQueue();this.uploadedVectorImageResourceFactory=new a.default(t,i,n,this.get("id")),this.uploadedImageResource=this.uploadedVectorImageResourceFactory.getOrCreateImageResource(this.get("background"))}else this.uploadedImageResource=new s.default(t);return this.uploadedImageResource},attachUploadedImageToUri:function(t){this.uploadedVectorImageResourceFactory?u.default.primeCacheWithVectorImageResourceFactory(t,this.uploadedVectorImageResourceFactory):u.default.primeCachesWithOriginalImageResource(t,this.uploadedImageResource),this.clearUploadedImage()},clearUploadedImage:function(){this.uploadedVectorImageResourceFactory=null,this.uploadedImageResource=null},isUploading:function(){return Boolean(this.uploadedImageResource||this.uploadedVectorImageResourceFactory)},isImageModel:function(){return!0},getImageResourceToRender:function(){return this.uploadedImageResource?this.uploadedImageResource:this.nonCroppedImage&&this.nonCroppedImage.ready()?this.nonCroppedImage:d.default.prototype.getImageResourceToRender.call(this)},getImageUri:function(){return this.get("image")},isLargerThan1x1:function(){return this.getWidth()+this.getHeight()>2},testForCropping:function(){this.cropState=b;var t=this,e=l.default.getOriginalDimensions(this.getImageUri()).then((function(e){t.originalDimensions=e})),n=p.default.testSimpleCropRequest(this.getImageUri());return o.default.when(e,n)},prepareForBackgroundRemoval:function(){var t=new o.default.Deferred,e=this;if(r.default.isEmpty(e.get("originalDimensions"))){var n=l.default.getOriginalDimensions(e.getImageUri());n.then((function(n){e.set("originalDimensions",n),t.resolve()})),n.catch((function(e){t.reject(e)}))}else t.resolve();return t},getScaledCropDimensions:function(t){return t=t||this.get("crop"),p.default.createScaledCropDimensions(t,this.getWidth(),this.getHeight())},initCrop:function(){if(this.cropState=b,this.cropSelectionModel=this.createCropSelectionModel(),!r.default.isObject(this.get("crop")))return this.cropState=w,o.default.Deferred().resolve().promise();this.dimensionsBeforeCrop={x:this.get("x"),y:this.get("y"),width:this.getWidth(),height:this.getHeight()};var t=p.default.calculateDimensionsToShowNonCroppedImage(this);return this.loadNonCroppedImage(t.width).then(r.default.bind((function(){this.set(t),this.cropState=w,this.select(),this.cropSelectionModel.select(),this.forceRedraw()}),this))},getExtents:function(){if(this.dimensionsBeforeCrop){var t=this.getExtentsDimensionData();return y.default.getExtentsFromDimensions(this.dimensionsBeforeCrop.x,this.dimensionsBeforeCrop.y,this.dimensionsBeforeCrop.width,this.dimensionsBeforeCrop.height,t.rotation,t.borderWidth)}return d.default.prototype.getExtents.call(this)},loadNonCroppedImage:function(t){var e=this.getImageUri(),n=v.default.calculateWidthForDevicePixelRatio(t*this.zoom),i=this;return u.default.getOrCreateRasterImageResource(e,n,null).then((function(t){i.nonCroppedImage=t}))},createCropSelectionModel:function(){var t=this.get("crop"),e=t?p.default.applyImageFlipToCropSelection(this.originalDimensions,t,this.get("flipHorizontal"),this.get("flipVertical")):t,n=this.getScaledCropDimensions(e);return n.imageModel=this,new f.default(n).select()},getCropSelectionModel:function(){return this.cropSelectionModel},getOriginalDimensions:function(){return this.originalDimensions},clearCropState:function(){this.cropState=null,this.nonCroppedImage=null,this.cropSelectionModel=null,this.dimensionsBeforeCrop=null,this.extentsChangeCallbacks=null},cancelCrop:function(){this.dimensionsBeforeCrop&&this.set(this.dimensionsBeforeCrop),this.clearCropState()},isCropping:function(){return this.cropState===w},isSavingCrop:function(){return this.cropState===T},isOpeningCrop:function(){return this.cropState===b},isInAnyCropState:function(){return!r.default.isNull(this.cropState)},saveCrop:function(){this.cropState=T;var t=this.getImageUri(),e=this.getCropSelectionModel(),n=p.default.calculateCropDimensionsForSave(this,e);n.width===this.originalDimensions.width&&n.height===this.originalDimensions.height&&(n=null);var i=e.get("width")*this.zoom,a=v.default.calculateWidthForDevicePixelRatio(i);return u.default.getOrCreateRasterImageResource(t,a,n).then(r.default.bind((function(t){if(!this.didCropSucceed(t,n))return o.default.Deferred().reject().promise();this.dimensionsBeforeCrop=null;var i=p.default.calculateDimensionsForNewCropValue(this,e);this.set(i),n=n?p.default.applyImageFlipToCropSelection(this.originalDimensions,n,this.get("flipHorizontal"),this.get("flipVertical")):null,this.set("crop",n),this.extentsChangeCallbacks&&r.default.each(this.extentsChangeCallbacks,(function(t){t()})),this.save(),this.forceRedraw(),this.clearCropState()}),this))},didCropSucceed:function(t,e){return!!t&&(!e||this.didCropWidthSucceed(t,e)&&this.didCropHeightSucceed(t,e))},didCropWidthSucceed:function(t,e){var n=e.width===this.originalDimensions.width,i=t.getWidth()!==this.originalDimensions.width;return n||i},didCropHeightSucceed:function(t,e){var n=e.height===this.originalDimensions.height,i=t.getHeight()!==this.originalDimensions.height;return n||i},getOriginalWidthToWidthRatio:function(){return this.originalDimensions.width/this.get("width")},getOriginalHeightToHeightRatio:function(){return this.originalDimensions.height/this.get("height")},getWidthToCropWidthRatio:function(){return this.get("width")/this.get("crop").width},getHeightToCropHeightRatio:function(){return this.get("height")/this.get("crop").height},setOriginalImage:function(){this.set({image:this.get("originalUri"),backgroundRemovedUri:this.get("image"),crop:this.get("crop")?p.default.createResizedCropRegion(this.get("crop"),this.get("backgroundRemovedDimensions"),this.get("originalDimensions")):null}).save()},setPreviouslyRemovedBackgroundImage:function(){this.set({image:this.get("backgroundRemovedUri"),originalUri:this.get("image"),crop:this.get("crop")?p.default.createResizedCropRegion(this.get("crop"),this.get("originalDimensions"),this.get("backgroundRemovedDimensions")):null}).save()},setFlipHorizontal:function(){this.set({flipHorizontal:!this.get("flipHorizontal")}).save()},setFlipVertical:function(){this.set({flipVertical:!this.get("flipVertical")}).save()},getObjectStateSupportedProperties:function(){if(this.isInMaskGroup())return c.default.ImageModel.objectStateSupportedPropertiesForImageMaskBase;var t=c.default.ImageModel.objectStateSupportedProperties;return this.isVectorBased()&&(t=r.default.without(r.default.union(t,["background"]),"border","shadow")),t},supportsObjectStates:function(){return _.default.prototype.supportsObjectStates.call(this)},isBaseMaskObject:function(){var t;return this.isInMaskGroup()&&this.isImageModel()&&!(!this.attributes.maskInfo||!(null===(t=this.attributes.maskInfo)||void 0===t?void 0:t.isBaseMaskObject))},isMask:function(){return this.isInAlphaMaskGroup()&&!this.isBaseMaskObject()}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=o(n(93)),l=a(n(99)),c=["x","y","width","height","imageModel"];e.default=l.default.extend({initialize:function(t,e){s.default.each(c,(function(e){if(!s.default.has(t,e))throw"ImageCropSelectionModel was not initialized with the required attribute "+e})),l.default.prototype.initialize.call(this,t,e)},getAllParents:function(){return this.getImageModel().getAllParents()},getTotalRotation:function(){return this.getImageModel().getTotalRotation()},getTotalParentRotation:function(){return this.getImageModel().getTotalRotation()},toGroupCoords:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().toCanvasCoords(new u.Point(e,n))},fromGroupCoords:function(t){var e=this.getImageModel().fromCanvasCoords(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},translatePointToPageCoordinateSpace:function(t){var e=this.getImageModel().get("x")+t.getX(),n=this.getImageModel().get("y")+t.getY();return this.getImageModel().translatePointToPageCoordinateSpace(new u.Point(e,n))},translatePointFromPageCoordinateSpace:function(t){var e=this.getImageModel().translatePointFromPageCoordinateSpace(t),n=e.getX()-this.getImageModel().get("x"),i=e.getY()-this.getImageModel().get("y");return new u.Point(n,i)},transformPointToRotatedPageCoordinateSpace:function(t){var e=this.toGroupCoords(t);return this.getImageModel().transformPointToRotatedPageCoordinateSpace(e)},transformPointFromRotatedPageCoordinateSpace:function(t){var e=this.getImageModel().transformPointFromRotatedPageCoordinateSpace(t);return this.fromGroupCoords(e)},getImageModel:function(){return this.get("imageModel")}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=a(n(3)),l=o(n(93)),c=a(n(234)),d=n(221),f={isImageModel:function(t){return t&&"image-component"===t.get("type")},canCropModel:function(t){return f.isImageModel(t)&&!t.isVectorBased()},canCropCurrentSelection:function(t){var e=t.getSelection(),n=d.ObjectStateManager.isDefaultStateSelected(),i=e.onlyOneComponentOfTypeSelected("image-component"),r=f.canCropModel(e.getFirstLayer());return n&&i&&r},isInCropMode:function(t){return!!f.canCropCurrentSelection(t)&&t.getSelection().getFirstLayer().isCropping()},testSimpleCropRequest:function(t){var e=u.default.Deferred();return c.default.getOrCreateRasterImageResource(t,1,{x:0,y:0,width:1,height:1}).then((function(t){t&&1===t.getWidth()&&1===t.getHeight()?e.resolve(!0):e.reject()})).fail(e.reject),e.promise()},createScaledCropDimensions:function(t,e,n){if(!t)return{x:0,y:0,width:e,height:n};var i=e/t.width,r=n/t.height;return t=s.default.clone(t),{x:Math.round(t.x*i),y:Math.round(t.y*r),width:Math.round(t.width*i),height:Math.round(t.height*r)}},createResizedCropRegion:function(t,e,n){var i=e.width/n.width,r=e.height/n.height;return{x:Math.round(t.x/i),y:Math.round(t.y/r),width:Math.round(t.width/i),height:Math.round(t.height/r)}},calculateDimensionsToShowNonCroppedImage:function(t){var e=Math.toRad(t.get("rotation")),n=t.getOriginalDimensions(),i=t.getScaledCropDimensions(),r={width:n.width*t.getWidthToCropWidthRatio(),height:n.height*t.getHeightToCropHeightRatio()},o=f.applyImageFlipToCropSelection(r,i,t.get("flipHorizontal"),t.get("flipVertical")),a=new l.Point(r.width,r.height),s=Math.rotateCoord(o.x,o.y,0,0,-e),u=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-e),c=new l.Point(u.getX()-s.getX(),u.getY()-s.getY()),d=Math.rotateCoord(a,l.Point.ORIGIN,-e),h=new l.Point(c.getX()+d.getX()/2,c.getY()+d.getY()/2),p=Math.rotateCoord(c,h,e);return{x:Math.round(p.getX()),y:Math.round(p.getY()),width:Math.round(a.getX()),height:Math.round(a.getY())}},calculateCropDimensionsForSave:function(t,e){var n=e.get("x")*t.getOriginalWidthToWidthRatio(),i=e.get("y")*t.getOriginalHeightToHeightRatio(),r=e.get("width")*t.getOriginalWidthToWidthRatio(),o=e.get("height")*t.getOriginalHeightToHeightRatio();return{x:Math.round(n),y:Math.round(i),width:Math.round(r),height:Math.round(o)}},applyImageFlipToCropSelection:function(t,e,n,i){var r=e.width,o=e.height,a=e.x,s=e.y,u=t.width,l=t.height;return{x:n?u-a-r:a,y:i?l-s-o:s,width:r,height:o}},calculateDimensionsForNewCropValue:function(t,e){var n=Math.toRad(t.get("rotation")),i=new l.Point(e.get("width"),e.get("height")),r=Math.rotateCoord(e.getTopLeft(),l.Point.ORIGIN,-n),o=Math.rotateCoord(i,l.Point.ORIGIN,-n),a=Math.rotateCoord(t.getTopLeft(),t.getCenterPosition(),-n),s=l.Point.sum(a,r),u=new l.Point(s.getX()+o.getX()/2,s.getY()+o.getY()/2),c=Math.rotateCoord(s,u,n);return{x:Math.round(c.getX()),y:Math.round(c.getY()),width:Math.round(i.getX()),height:Math.round(i.getY())}}};e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};i.determineIfFileIsAnimatedGif=function(t,e){var n=new FileReader;n.onload=function(t){var n,i,r=new Uint8Array(t.target.result),o=r.length,a=0;if(71!==r[0]||73!==r[1]||70!==r[2]||56!==r[3])return e(!1);for(n=0,i=o-3;n<i&&a<2;++n)if(0===r[n]&&33===r[n+1]&&249===r[n+2]){var s=n+4+r[n+3];s+1<o&&0===r[s]&&(44===r[s+1]||33===r[s+1])&&a++}return e(a>1)},n.readAsArrayBuffer(t)},i.isGifContentType=function(t){return t&&"image/gif"===t.toLowerCase()},e.default=i},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(0)),u=o(n(93)),l=a(n(67)),c=a(n(99));e.default=c.default.extend({defaults:l.default.LineModel.defaults,objectStatesEnabled:!0,getSupported:function(){return l.default.LineModel.supported},getExtents:function(){return{x1:Math.min(this.get("x"),this.get("x2")),y1:Math.min(this.get("y"),this.get("y2")),x2:Math.max(this.get("x"),this.get("x2")),y2:Math.max(this.get("y"),this.get("y2"))}},getExtentsInPageCoords:function(){var t=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y"))),e=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y"))),n=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y2"))),i=this.transformPointToRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")));return{x1:Math.round(Math.min(t.x,e.x,n.x,i.x)),y1:Math.round(Math.min(t.y,e.y,n.y,i.y)),x2:Math.round(Math.max(t.x,e.x,n.x,i.x)),y2:Math.round(Math.max(t.y,e.y,n.y,i.y))}},getExtentsInPageCoordsWithoutBorder:function(){return this.getExtentsInPageCoords()},getLeft:function(){return Math.min(this.get("x"),this.get("x2"))},getRight:function(){return Math.max(this.get("x"),this.get("x2"))},getTop:function(){return Math.min(this.get("y"),this.get("y2"))},getBottom:function(){return Math.max(this.get("y"),this.get("y2"))},getDisplayLabel:function(){return"Line"},getWidth:function(){return Math.abs(this.get("x")-this.get("x2"))},getHeight:function(){return Math.abs(this.get("y")-this.get("y2"))},getCenterPosition:function(){var t=this.getLeft()+this.getWidth()/2,e=this.getTop()+this.getHeight()/2;return new u.Point(t,e)},getXPointNamesByPosition:function(){return this.get("x")<=this.get("x2")?{leftX:"x",rightX:"x2"}:{leftX:"x2",rightX:"x"}},getYPointNamesByPosition:function(){return this.get("y")<=this.get("y2")?{topY:"y",bottomY:"y2"}:{topY:"y2",bottomY:"y"}},setLeft:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.leftX,t),this.set(n.rightX,t+e)},setRight:function(t){var e=this.getWidth(),n=this.getXPointNamesByPosition();this.set(n.rightX,t),this.set(n.leftX,t-e)},setTop:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.topY,t),this.set(n.bottomY,t+e)},setBottom:function(t){var e=this.getHeight(),n=this.getYPointNamesByPosition();this.set(n.bottomY,t),this.set(n.topY,t-e)},setCenterX:function(t){var e=this.getCenterPosition().x,n=this.get("x"),i=this.get("x2"),r=e-t;this.set("x",n-r),this.set("x2",i-r)},setCenterY:function(t){var e=this.getCenterPosition().y,n=this.get("y"),i=this.get("y2"),r=e-t;this.set("y",n-r),this.set("y2",i-r)},toPageCoordinateSpaceJsonMaintainingPositionAndOrientation:function(){var t=this.getAllParents(),e=this.reconcileJSONForCurrentVariant(!0),n=new u.Point(this.get("x"),this.get("y")),i=this.transformPointToRotatedPageCoordinateSpace(n,t),r=new u.Point(this.get("x2"),this.get("y2")),o=this.transformPointToRotatedPageCoordinateSpace(r,t);return e.x=i.getX(),e.y=i.getY(),e.x2=o.getX(),e.y2=o.getY(),e},translateToParentCoordinateSpace:function(t){s.default.isEmpty(t)||c.default.prototype.translateToParentCoordinateSpace.call(this,t);var e=new u.Point(this.get("x2"),this.get("y2")),n=this.translatePointFromPageCoordinateSpace(e,t);this.set("x2",n.getX()),this.set("y2",n.getY())},transformPositionFromPageCoordinateSpaceMaintainingPositionAndOrientation:function(t){var e=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x"),this.get("y")),t),n=this.transformPointFromRotatedPageCoordinateSpace(new u.Point(this.get("x2"),this.get("y2")),t);this.set({x:e.getX(),y:e.getY(),x2:n.getX(),y2:n.getY()},{silent:!0})},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.set("x2",Math.round(this.get("x2"))),this.set("y2",Math.round(this.get("y2")))},resizeAttributes:function(t){this.set({x2:Math.round(this.get("x2")*t),y2:Math.round(this.get("y2")*t)})},getObjectStateSupportedProperties:function(){return l.default.LineModel.objectStateSupportedProperties}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(99));e.default=o.default.extend({defaults:r.default.ShapeModel.defaults,objectStatesEnabled:!0,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e)},getSupported:function(){return this.isInMaskGroup()?"custom-shape-component"===this.get("type")?r.default.CustomShapeModel.supportedMaskGroupCustomShape:"square"===this.get("shape")?r.default.ShapeModel.supportedMaskGroupSquareShape:r.default.ShapeModel.supportedMaskGroupShape:"square"===this.get("shape")?r.default.ShapeModel.supportedSquare:r.default.ShapeModel.supported},getObjectStateSupportedProperties:function(){return this.isInMaskGroup()?r.default.ShapeModel.objectStateSupportedPropertiesForMaskGroupShape:r.default.ShapeModel.objectStateSupportedProperties},supportsObjectStates:function(){return!this.isInMaskGroup()&&o.default.prototype.supportsObjectStates.call(this)},getDisplayLabel:function(){return"Shape"},isShapeComponent:function(){return!0},isMask:function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(99));e.default=o.default.extend({defaults:r.default.HtmlModel.defaults,getSupported:function(){return r.default.HtmlModel.supported},getSupportedInteractionTriggers:function(){return[]},getDisplayLabel:function(){return"Embedded Object"},getThumbnailUrl:function(){return this.get("thumbnailUrl")}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(61)),a=i(n(67)),s=i(n(454)),u=i(n(811)),l=function(t){return o.default.render(u.default,{containerClassName:t})},c=function(t){return"hubspot-"+t};e.default=s.default.extend({defaults:a.default.HubspotFormModel.defaults,initialize:function(t,e){r.default.has(t,"css")||this.set("css",l(this.getPlayerContainerClassName()),{silent:!0}),s.default.prototype.initialize.call(this,t,e)},getPlayerContainerClassName:function(){return c(this.id)},getSupported:function(){return a.default.HubspotFormModel.supported},getDisplayLabel:function(){return"Hubspot Form"}},{getDefaultCss:l,getDefaultCssForId:function(t){var e=c(t);return l(e)},replaceClassNamesInCss:function(t,e,n){var i=new RegExp("\\."+c(e),"g"),r="."+c(n);return t.replace(i,r)}})},function(t,e,n){"use strict";n.r(e),e.default='{{! This is the default CSS for hubspot form components.\n    It comes from here: https://designers.hubspot.com/docs/cos/hubspot-form-markup#styling-forms\n   ========================================================================== }}\n.{{containerClassName}} .hs-button-reset,\n.{{containerClassName}} .hs-form .hs-button {\n    border: none;\n    font-family: Helvetica, Arial, sans-serif;\n    line-height: 1;\n    margin: 0;\n    outline: 0;\n    padding: 0\n}\n\n.{{containerClassName}} .base-hs-button-styles,\n.{{containerClassName}} .hs-form .hs-button {\n    text-decoration: none;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    line-height: 12px;\n    padding: 7px 18px 7px;\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .base-hs-button-styles:hover,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    text-decoration: none\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    cursor: pointer\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input,\n.{{containerClassName}} select.hs-input {\n    display: inline-block;\n    width: 210px;\n    height: 18px;\n    padding: 4px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 13px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #666;\n    border: 1px solid #ccc;\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    -ms-border-radius: 3px;\n    border-radius: 3px\n}\n\n.{{containerClassName}} textarea.hs-input {\n    padding-top: 5px\n}\n\n.{{containerClassName}} html.webkit textarea.hs-input {\n    padding-top: 6px;\n    padding-left: 5px\n}\n\n.{{containerClassName}} input.hs-input[type=checkbox],\n.{{containerClassName}} input.hs-input[type=radio] {\n    width: auto;\n    height: auto;\n    padding: 0;\n    margin: 3px 0;\n    line-height: normal;\n    border: none\n}\n\n.{{containerClassName}} input.hs-input[type=file] {\n    background-color: #fff;\n    padding: initial;\n    border: initial;\n    line-height: initial;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none\n}\n\n.{{containerClassName}} input.hs-input[type=button],\n.{{containerClassName}} input.hs-input[type=reset],\n.{{containerClassName}} input.hs-input[type=submit] {\n    width: auto;\n    height: auto\n}\n\n.{{containerClassName}} input.hs-input[type=search] {\n    -webkit-border-radius: 16px;\n    -moz-border-radius: 16px;\n    -ms-border-radius: 16px;\n    border-radius: 16px;\n    background-image: url("/common_assets/static-2.158/img/form/search.png");\n    background-repeat: no-repeat;\n    padding-left: 26px;\n    padding-right: 6px;\n    padding-top: 5px;\n    padding-bottom: 3px;\n    background-position: 8px 8px\n}\n\n.{{containerClassName}} html.firefox input.hs-input[type=search] {\n    position: relative;\n    top: 1px\n}\n\n.{{containerClassName}} input.hs-input[type=search].transparent-image {\n    background-image: url("/common_assets/static-2.158/img/form/search-transparent.png")\n}\n\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-decoration,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-cancel-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-button,\n.{{containerClassName}} input.hs-input[type="search"]::-webkit-search-results-decoration {\n    display: none\n}\n\n.{{containerClassName}} select.hs-input,\n.{{containerClassName}} input.hs-input[type=file] {\n    height: 27px\n}\n\n.{{containerClassName}} select[multiple].hs-input {\n    height: inherit\n}\n\n.{{containerClassName}} textarea.hs-input {\n    height: auto\n}\n\n.{{containerClassName}} .hs-input:-moz-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} .hs-input::-webkit-input-placeholder {\n    color: #bfbfbf\n}\n\n.{{containerClassName}} input.hs-input,\n.{{containerClassName}} textarea.hs-input {\n    -webkit-transition: border 0.2s linear, box-shadow 0.2s linear;\n    -moz-transition: border 0.2s linear, box-shadow 0.2s linear;\n    transition: border 0.2s linear, box-shadow 0.2s linear;\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1)\n}\n\n.{{containerClassName}} input.hs-input:focus,\n.{{containerClassName}} textarea.hs-input:focus {\n    outline: none;\n    border-color: rgba(82, 168, 236, 0.8);\n    -webkit-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    -moz-box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6);\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 8px rgba(82, 168, 236, 0.6)\n}\n\n.{{containerClassName}} input.hs-input.error,\n.{{containerClassName}} .hs-form div.field.error input,\n.{{containerClassName}} .hs-form div.field.error textarea,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices,\n.{{containerClassName}} textarea.hs-input.error {\n    border-color: #c87872;\n    -webkit-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    -moz-box-shadow: 0 0 3px rgba(171, 41, 32, 0.25);\n    box-shadow: 0 0 3px rgba(171, 41, 32, 0.25)\n}\n\n.{{containerClassName}} input.hs-input.error:focus,\n.{{containerClassName}} .hs-form div.field.error input:focus,\n.{{containerClassName}} .hs-form div.field.error textarea:focus,\n.{{containerClassName}} .hs-form div.field.error .chzn-choices:focus,\n.{{containerClassName}} textarea.hs-input.error:focus {\n    border-color: #b9554d;\n    -webkit-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    -moz-box-shadow: 0 0 6px rgba(171, 41, 32, 0.5);\n    box-shadow: 0 0 6px rgba(171, 41, 32, 0.5)\n}\n\n.{{containerClassName}} .input-mini.hs-input,\n.{{containerClassName}} input.mini.hs-input,\n.{{containerClassName}} textarea.mini.hs-input,\n.{{containerClassName}} select.mini.hs-input {\n    width: 60px\n}\n\n.{{containerClassName}} .input-small.hs-input,\n.{{containerClassName}} input.small.hs-input,\n.{{containerClassName}} textarea.small.hs-input,\n.{{containerClassName}} select.small.hs-input {\n    width: 90px\n}\n\n.{{containerClassName}} .input-medium.hs-input,\n.{{containerClassName}} input.medium.hs-input,\n.{{containerClassName}} textarea.medium.hs-input,\n.{{containerClassName}} select.medium.hs-input {\n    width: 150px\n}\n\n.{{containerClassName}} .input-large.hs-input,\n.{{containerClassName}} input.large.hs-input,\n.{{containerClassName}} textarea.large.hs-input,\n.{{containerClassName}} select.large.hs-input {\n    width: 210px\n}\n\n.{{containerClassName}} .input-xlarge.hs-input,\n.{{containerClassName}} input.xlarge.hs-input,\n.{{containerClassName}} textarea.xlarge.hs-input,\n.{{containerClassName}} select.xlarge.hs-input {\n    width: 270px\n}\n\n.{{containerClassName}} .input-xxlarge.hs-input,\n.{{containerClassName}} input.xxlarge.hs-input,\n.{{containerClassName}} textarea.xxlarge.hs-input,\n.{{containerClassName}} select.xxlarge.hs-input {\n    width: 530px\n}\n\n.{{containerClassName}} .input-stretch.hs-input,\n.{{containerClassName}} input.stretch.hs-input,\n.{{containerClassName}} textarea.stretch.hs-input,\n.{{containerClassName}} select.stretch.hs-input {\n    box-sizing: border-box;\n    width: 100%\n}\n\n.{{containerClassName}} textarea.hs-input.xxlarge {\n    overflow-y: auto\n}\n\n.{{containerClassName}} input.hs-input.span1,\n.{{containerClassName}} textarea.hs-input.span1,\n.{{containerClassName}} select.hs-input.span1 {\n    display: inline-block;\n    float: none;\n    width: 30px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span2,\n.{{containerClassName}} textarea.hs-input.span2,\n.{{containerClassName}} select.hs-input.span2 {\n    display: inline-block;\n    float: none;\n    width: 90px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span3,\n.{{containerClassName}} textarea.hs-input.span3,\n.{{containerClassName}} select.hs-input.span3 {\n    display: inline-block;\n    float: none;\n    width: 150px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span4,\n.{{containerClassName}} textarea.hs-input.span4,\n.{{containerClassName}} select.hs-input.span4 {\n    display: inline-block;\n    float: none;\n    width: 210px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span5,\n.{{containerClassName}} textarea.hs-input.span5,\n.{{containerClassName}} select.hs-input.span5 {\n    display: inline-block;\n    float: none;\n    width: 270px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span6,\n.{{containerClassName}} textarea.hs-input.span6,\n.{{containerClassName}} select.hs-input.span6 {\n    display: inline-block;\n    float: none;\n    width: 330px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span7,\n.{{containerClassName}} textarea.hs-input.span7,\n.{{containerClassName}} select.hs-input.span7 {\n    display: inline-block;\n    float: none;\n    width: 390px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span8,\n.{{containerClassName}} textarea.hs-input.span8,\n.{{containerClassName}} select.hs-input.span8 {\n    display: inline-block;\n    float: none;\n    width: 450px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span9,\n.{{containerClassName}} textarea.hs-input.span9,\n.{{containerClassName}} select.hs-input.span9 {\n    display: inline-block;\n    float: none;\n    width: 510px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span10,\n.{{containerClassName}} textarea.hs-input.span10,\n.{{containerClassName}} select.hs-input.span10 {\n    display: inline-block;\n    float: none;\n    width: 570px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span11,\n.{{containerClassName}} textarea.hs-input.span11,\n.{{containerClassName}} select.hs-input.span11 {\n    display: inline-block;\n    float: none;\n    width: 630px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span12,\n.{{containerClassName}} textarea.hs-input.span12,\n.{{containerClassName}} select.hs-input.span12 {\n    display: inline-block;\n    float: none;\n    width: 690px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span13,\n.{{containerClassName}} textarea.hs-input.span13,\n.{{containerClassName}} select.hs-input.span13 {\n    display: inline-block;\n    float: none;\n    width: 750px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span14,\n.{{containerClassName}} textarea.hs-input.span14,\n.{{containerClassName}} select.hs-input.span14 {\n    display: inline-block;\n    float: none;\n    width: 810px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span15,\n.{{containerClassName}} textarea.hs-input.span15,\n.{{containerClassName}} select.hs-input.span15 {\n    display: inline-block;\n    float: none;\n    width: 870px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input.span16,\n.{{containerClassName}} textarea.hs-input.span16,\n.{{containerClassName}} select.hs-input.span16 {\n    display: inline-block;\n    float: none;\n    width: 930px;\n    margin-left: 0\n}\n\n.{{containerClassName}} input.hs-input[disabled],\n.{{containerClassName}} select.hs-input[disabled],\n.{{containerClassName}} textarea.hs-input[disabled] {\n    background-color: #f5f5f5;\n    border-color: #ddd;\n    cursor: not-allowed\n}\n\n.{{containerClassName}} .help-inline,\n.{{containerClassName}} .help-block {\n    font-size: 11px;\n    line-height: 18px;\n    color: #818181\n}\n\n.{{containerClassName}} .help-inline {\n    padding-left: 5px\n}\n\n.{{containerClassName}} .help-block {\n    display: block;\n    max-width: 600px\n}\n\n.{{containerClassName}} .inline-inputs {\n    color: #818181\n}\n\n.{{containerClassName}} .inline-inputs span,\n.{{containerClassName}} .inline-inputs input {\n    display: inline-block\n}\n\n.{{containerClassName}} .inline-inputs input.mini {\n    width: 60px\n}\n\n.{{containerClassName}} .inline-inputs input.small {\n    width: 90px\n}\n\n.{{containerClassName}} .inline-inputs span {\n    padding: 0 2px 0 1px\n}\n\n.{{containerClassName}} .input-prepend input,\n.{{containerClassName}} .input-append input {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0\n}\n\n.{{containerClassName}} .input-prepend .add-on,\n.{{containerClassName}} .input-append .add-on {\n    position: relative;\n    background: #f5f5f5;\n    border: 1px solid #ccc;\n    z-index: 2;\n    float: left;\n    display: block;\n    width: auto;\n    min-width: 16px;\n    height: 18px;\n    padding: 4px 4px 4px 5px;\n    margin-right: -1px;\n    font-weight: normal;\n    line-height: 18px;\n    color: #bfbfbf;\n    text-align: center;\n    text-shadow: 0 1px 0 #fff;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-prepend .active,\n.{{containerClassName}} .input-append .active {\n    background: #bfe0bf;\n    border-color: #59ad59\n}\n\n.{{containerClassName}} .input-append input {\n    float: left;\n    -webkit-border-radius: 3px 0 0 3px;\n    -moz-border-radius: 3px 0 0 3px;\n    -ms-border-radius: 3px 0 0 3px;\n    border-radius: 3px 0 0 3px\n}\n\n.{{containerClassName}} .input-append .add-on {\n    -webkit-border-radius: 0 3px 3px 0;\n    -moz-border-radius: 0 3px 3px 0;\n    -ms-border-radius: 0 3px 3px 0;\n    border-radius: 0 3px 3px 0;\n    margin-right: 0;\n    margin-left: -1px\n}\n\n.{{containerClassName}} .hs-form {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    margin-bottom: 18px;\n    padding-top: 18px\n}\n\n.{{containerClassName}} .hs-form fieldset legend {\n    display: block;\n    margin-left: 150px;\n    font-size: 19.5px;\n    line-height: 1;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .clearfix,\n.{{containerClassName}} .hs-form .field,\n.{{containerClassName}} .hs-form .hs-form-field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form .clearfix:after,\n.{{containerClassName}} .hs-form .field:after,\n.{{containerClassName}} .hs-form .hs-form-field:after {\n    content: "";\n    display: table;\n    clear: both\n}\n\n.{{containerClassName}} .hs-form label {\n    padding-top: 5px;\n    font-size: 13px;\n    line-height: 18px;\n    font-weight: bold;\n    float: left;\n    width: 130px;\n    text-align: right;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .input {\n    margin-left: 150px\n}\n\n.{{containerClassName}} .hs-form div.field.error {\n    background: #fae5e3;\n    padding: 6px 0;\n    margin-bottom: 18px;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    border-radius: 4px\n}\n\n.{{containerClassName}} .hs-form div.field.error>label,\n.{{containerClassName}} .hs-form div.field.error span.help-inline,\n.{{containerClassName}} .hs-form div.field.error span.help-block {\n    color: #9d261d\n}\n\n.{{containerClassName}} .hs-form div.field.error .input-prepend span.add-on,\n.{{containerClassName}} .hs-form div.field.error .input-append span.add-on {\n    background: #f4c8c5;\n    border-color: #c87872;\n    color: #b9554d\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul {\n    margin-top: 6px;\n    margin-bottom: 0px;\n    margin-left: 7px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer ul li {\n    font-size: 12px;\n    color: #a44e47\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message {\n    min-width: 200px;\n    width: 200px\n}\n\n.{{containerClassName}} .hs-form .hsErrMsgContainer .hs-block-message ul {\n    margin-top: 0px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: #f5f5f5;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 150px;\n    border-top: 1px solid #ddd;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    margin: 0 0 5px;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li {\n    display: block;\n    padding: 0;\n    width: 100%\n}\n\n.{{containerClassName}} .hs-form .inputs-list label {\n    display: block;\n    float: none;\n    width: auto;\n    padding: 0;\n    line-height: 18px;\n    text-align: left;\n    white-space: normal;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list label strong {\n    color: #818181\n}\n\n.{{containerClassName}} .hs-form .inputs-list label small {\n    font-size: 11px;\n    font-weight: normal\n}\n\n.{{containerClassName}} .hs-form .inputs-list .inputs-list {\n    margin-left: 25px;\n    margin-bottom: 10px;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form .inputs-list:first-child {\n    padding-top: 6px\n}\n\n.{{containerClassName}} .hs-form .inputs-list>li+li {\n    padding-top: 2px\n}\n\n.{{containerClassName}} .hs-form .inputs-list input[type=radio],\n.{{containerClassName}} .hs-form .inputs-list input[type=checkbox] {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding-top: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked legend {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked label {\n    display: block;\n    float: none;\n    width: auto;\n    font-weight: bold;\n    text-align: left;\n    line-height: 20px;\n    padding-top: 0;\n    margin-bottom: 4px\n}\n\n.{{containerClassName}} .hs-form.stacked .field {\n    margin-bottom: 18px\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input {\n    margin-left: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .field div.input>input+a,\n.{{containerClassName}} .hs-form.stacked .field div.input select+a,\n.{{containerClassName}} .hs-form.stacked .field div.input textarea+a {\n    margin-top: 4px;\n    display: block\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list {\n    margin-bottom: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li {\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked .inputs-list>li label {\n    font-weight: normal;\n    padding-top: 0\n}\n\n.{{containerClassName}} .hs-form.stacked div.error {\n    padding: 3px 10px 6px;\n    margin-top: 0;\n    margin-left: -10px;\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form.stacked .actions {\n    margin-left: -20px;\n    padding-left: 20px\n}\n\n.{{containerClassName}} .hs-form {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked {\n    padding-left: 0px\n}\n\n.{{containerClassName}} .hs-form.stacked fieldset {\n    padding: 0\n}\n\n.{{containerClassName}} .hs-form .hs-button {\n    color: #fff;\n    text-shadow: 0 -1px 0 #3574e3;\n    background-color: #3574e3;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #7ec8f4), color-stop(100%, #3574e3));\n    background-image: -webkit-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: -moz-linear-gradient(top, #7ec8f4, #3574e3);\n    background-image: linear-gradient(top, #7ec8f4, #3574e3);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5);\n    border-top: 1px solid #64baf0;\n    border-bottom: 1px solid #1c4ed5;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6;\n    border-radius: 4px;\n    -webkit-transition: opacity 0.15s linear;\n    -moz-transition: opacity 0.15s linear;\n    transition: opacity 0.15s linear;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none\n}\n\n.{{containerClassName}} .hs-form .hs-button:visited,\n.{{containerClassName}} .hs-form .hs-button:hover {\n    color: #fff\n}\n\n.{{containerClassName}} .hs-form .hs-button:hover:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button:focus:not(.inactive),\n.{{containerClassName}} .hs-form .hs-button.hovered:not(.inactive) {\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0.5), 0 0 5px #3574e3;\n    border-top: 1px solid #4db0ee;\n    border-bottom: 1px solid #1946be;\n    border-right: 1px solid #3080e3;\n    border-left: 1px solid #3080e3\n}\n\n.{{containerClassName}} .hs-form .hs-button:active:not(.inactive):not(.link),\n.{{containerClassName}} .hs-form .hs-button.depressed:not(.inactive):not(.link),\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    background-color: #599eeb;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #3574e3), color-stop(100%, #599eeb));\n    background-image: -webkit-linear-gradient(top, #3574e3, #599eeb);\n    background-image: -moz-linear-gradient(top, #3574e3, #599eeb);\n    background-image: linear-gradient(top, #3574e3, #599eeb);\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3), inset 0px -1px 0px rgba(255, 255, 255, 0.3);\n    border-top: 1px solid #1c4ed5;\n    border-bottom: 1px solid #4084e2;\n    border-right: 1px solid #468ee6;\n    border-left: 1px solid #468ee6\n}\n\n.{{containerClassName}} .dropdown-open>.hs-form .hs-button:not(.inactive):not(.link) {\n    box-shadow: inset 0px 1px 2px rgba(0, 0, 0, 0.3)\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled] {\n    background-color: #6387c5;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #88b1ce), color-stop(100%, #6387c5));\n    background-image: -webkit-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: -moz-linear-gradient(top, #88b1ce, #6387c5);\n    background-image: linear-gradient(top, #88b1ce, #6387c5);\n    box-shadow: inset 0px 1px 0px rgba(255, 255, 255, 0);\n    border-top: 1px solid #7baacc;\n    border-bottom: 1px solid #5774be;\n    border-right: 1px solid #6c94c7;\n    border-left: 1px solid #6c94c7;\n    cursor: default;\n    color: #ededed;\n    text-shadow: none;\n    opacity: 0.6\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.next:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].next:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.disabled.disabled.disabled.disabled.previous:before,\n.{{containerClassName}} .hs-form .hs-button[disabled][disabled][disabled].previous:before {\n    opacity: 0.5\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before,\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background: url(/style_guide/static-8.319/img/hs-button-arrows.png) center 0 no-repeat;\n    display: block;\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    top: 5px;\n    content: " ";\n    z-index: 99\n}\n\n.{{containerClassName}} .hs-form .hs-button.next {\n    padding-right: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.next:before {\n    right: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous {\n    padding-left: 32px\n}\n\n.{{containerClassName}} .hs-form .hs-button.previous:before {\n    background-position: center -16px;\n    left: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-button.inactive {\n    cursor: default\n}\n\n.{{containerClassName}} .hs-form ul {\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form label {\n    display: block;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form label.hidden {\n    display: none\n}\n\n.{{containerClassName}} .hs-form .hs-field-desc {\n    color: #aaa;\n    margin: 0px 0px 5px 150px;\n    font-size: 11px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .hs-form-required {\n    color: red\n}\n\n.{{containerClassName}} .hs-form .field {\n    margin-bottom: 9px\n}\n\n.{{containerClassName}} .hs-form .hs-richtext {\n    margin-bottom: 3px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    line-height: 18px;\n    font-size: 14px;\n    color: #414141\n}\n\n.{{containerClassName}} .hs-form .hs-richtext hr {\n    text-align: left;\n    margin-left: 0;\n    width: 91%\n}\n\n.{{containerClassName}} .hs-form .email-correction,\n.{{containerClassName}} .hs-form .email-validation {\n    padding-top: 3px;\n    font-size: 12px;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .hs-form .email-correction a,\n.{{containerClassName}} .hs-form .email-validation a {\n    cursor: pointer\n}\n\n.{{containerClassName}} .hs-form .inputs-list {\n    padding-left: 5px;\n    list-style: none\n}\n\n.{{containerClassName}} .hs-form .inputs-list li input {\n    margin: 3px 5px 3px 0px\n}\n\n.{{containerClassName}} .hs-form input[type=checkbox],\n.{{containerClassName}} .hs-form input[type=radio] {\n    margin-right: 5px\n}\n\n.{{containerClassName}} .hs-form input:not([type="image"]),\n.{{containerClassName}} .hs-form textarea {\n    box-sizing: content-box\n}\n\n.{{containerClassName}} .hs-form.stacked .hs-field-desc {\n    margin: 0px 0px 2px 0px\n}\n\n.{{containerClassName}} .hs-form .hs-input,\n.{{containerClassName}} .hs-form textarea.hs-input {\n    box-sizing: border-box;\n    max-width: 500px;\n    width: 90%\n}\n\n.{{containerClassName}} .hs-form .hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form .hs-input:not[type=radio],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=checkbox],\n.{{containerClassName}} .hs-form textarea.hs-input:not[type=radio] {\n    min-height: 18px;\n    min-width: 100px\n}\n\n.{{containerClassName}} .hs-form .actions {\n    background: transparent;\n    margin-top: 18px;\n    margin-bottom: 18px;\n    padding: 17px 20px 18px 0px;\n    border-top: none;\n    -webkit-border-radius: 0 0 3px 3px;\n    -moz-border-radius: 0 0 3px 3px;\n    -ms-border-radius: 0 0 3px 3px;\n    border-radius: 0 0 3px 3px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action {\n    float: right\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a {\n    line-height: 30px\n}\n\n.{{containerClassName}} .hs-form .actions .secondary-action a:hover {\n    text-decoration: underline\n}\n\n.{{containerClassName}} .pika-single {\n    z-index: 9999;\n    display: block;\n    position: relative;\n    color: #333;\n    background: #fff;\n    border: 1px solid #ccc;\n    border-bottom-color: #bbb;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif\n}\n\n.{{containerClassName}} .pika-single.is-hidden {\n    display: none\n}\n\n.{{containerClassName}} .pika-single.is-bound {\n    position: absolute;\n    box-shadow: 0 5px 15px -5px rgba(0, 0, 0, 0.5)\n}\n\n.{{containerClassName}} .pika-single {\n    *zoom: 1\n}\n\n.{{containerClassName}} .pika-single:before,\n.{{containerClassName}} .pika-single:after {\n    content: " ";\n    display: table\n}\n\n.{{containerClassName}} .pika-single:after {\n    clear: both\n}\n\n.{{containerClassName}} .pika-lendar {\n    float: left;\n    width: 240px;\n    margin: 8px\n}\n\n.{{containerClassName}} .pika-title {\n    position: relative;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-title select {\n    cursor: pointer;\n    position: absolute;\n    z-index: 9998;\n    margin: 0;\n    left: 0;\n    top: 5px;\n    filter: alpha(opacity=0);\n    opacity: 0\n}\n\n.{{containerClassName}} .pika-label {\n    display: inline-block;\n    *display: inline;\n    position: relative;\n    z-index: 9999;\n    overflow: hidden;\n    margin: 0;\n    padding: 5px 3px;\n    font-size: 14px;\n    line-height: 20px;\n    font-weight: bold;\n    background-color: #fff\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .pika-next {\n    display: block;\n    cursor: pointer;\n    position: relative;\n    outline: none;\n    border: 0;\n    padding: 0;\n    width: 20px;\n    height: 30px;\n    text-indent: 20px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 75% 75%;\n    opacity: 0.5;\n    *position: absolute;\n    *top: 0\n}\n\n.{{containerClassName}} .pika-prev:hover,\n.{{containerClassName}} .pika-next:hover {\n    opacity: 1\n}\n\n.{{containerClassName}} .pika-prev.is-disabled,\n.{{containerClassName}} .pika-next.is-disabled {\n    cursor: default;\n    opacity: 0.2\n}\n\n.{{containerClassName}} .pika-prev,\n.{{containerClassName}} .is-rtl .pika-next {\n    float: left;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");\n    *left: 0\n}\n\n.{{containerClassName}} .pika-next,\n.{{containerClassName}} .is-rtl .pika-prev {\n    float: right;\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");\n    *right: 0\n}\n\n.{{containerClassName}} .pika-select {\n    display: inline-block;\n    *display: inline\n}\n\n.{{containerClassName}} .pika-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0;\n    border: 0\n}\n\n.{{containerClassName}} .pika-table th,\n.{{containerClassName}} .pika-table td {\n    width: 14.28571%;\n    padding: 0\n}\n\n.{{containerClassName}} .pika-table th {\n    color: #999;\n    font-size: 12px;\n    line-height: 25px;\n    font-weight: bold;\n    text-align: center\n}\n\n.{{containerClassName}} .pika-table abbr {\n    border-bottom: none;\n    cursor: help\n}\n\n.{{containerClassName}} .pika-button {\n    cursor: pointer;\n    display: block;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    outline: none;\n    border: 0;\n    margin: 0;\n    width: 100%;\n    padding: 5px;\n    color: #666;\n    font-size: 12px;\n    line-height: 15px;\n    text-align: right;\n    background: #f5f5f5\n}\n\n.{{containerClassName}} .is-today .pika-button {\n    color: #3af;\n    font-weight: bold\n}\n\n.{{containerClassName}} .is-selected .pika-button {\n    color: #fff;\n    font-weight: bold;\n    background: #3af;\n    box-shadow: inset 0 1px 3px #178fe5;\n    border-radius: 3px\n}\n\n.{{containerClassName}} .is-disabled .pika-button {\n    pointer-events: none;\n    cursor: default;\n    color: #999;\n    opacity: 0.3\n}\n\n.{{containerClassName}} .pika-button:hover {\n    color: #fff !important;\n    background: #ff8000 !important;\n    box-shadow: none !important;\n    border-radius: 3px !important\n}\n\n.{{containerClassName}} .pika-week {\n    font-size: 11px;\n    color: #999\n}\n\n.{{containerClassName}} .hs-form fieldset {\n    border: 0;\n    padding: 0;\n    margin: 0;\n    max-width: 500px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .hs-input {\n    width: 95%\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="checkbox"],\n.{{containerClassName}} .hs-form fieldset.form-columns-1 input[type="radio"] {\n    width: auto\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .hs-form-field {\n    width: 50%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-2 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .hs-form-field {\n    width: 32.7%;\n    float: left\n}\n\n.{{containerClassName}} .hs-form fieldset.form-columns-3 .input {\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hs-form fieldset .hs-form-field.hidden-label {\n    margin-top: 24px\n}\n\n.{{containerClassName}} .hs-form .hs-social-login {\n    border-radius: 3px;\n    box-sizing: content-box;\n    width: 95%;\n    max-width: 480px;\n    height: 90px\n}\n\n.{{containerClassName}} .hsformerror {\n    margin: 0 0 2px;\n    padding: 2px 6px;\n    height: auto;\n    background-color: #fdd2d0;\n    font-size: 11px;\n    border: 1px solid #fcb3af;\n    padding: 4px 16px 4px 10px;\n    color: #000;\n    display: none;\n    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #fefefe), color-stop(100%, #fdd2d0));\n    background-image: -webkit-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -moz-linear-gradient(#fefefe, #fdd2d0);\n    background-image: -o-linear-gradient(#fefefe, #fdd2d0);\n    background-image: linear-gradient(#fefefe, #fdd2d0);\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    -ms-border-radius: 4px;\n    -o-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 6px #ddd;\n    -moz-box-shadow: 0 0 6px #ddd;\n    box-shadow: 0 0 6px #ddd;\n    z-index: 99999\n}\n\n.{{containerClassName}} .hsformerror em {\n    border: 10px solid;\n    border-color: #fdd2d0 transparent transparent;\n    bottom: -17px;\n    display: block;\n    height: 0;\n    left: 60px;\n    position: absolute;\n    width: 0\n}\n\n.{{containerClassName}} .hsformerror p {\n    font-family: Lucida Grande, Lucida Sans Unicode, bitstream vera sans, trebuchet ms, verdana, sans-serif;\n    margin: 0;\n    float: left;\n    margin-right: 8px\n}\n\n.{{containerClassName}} .hsformerror:hover {\n    cursor: default\n}\n\n.{{containerClassName}} .hsformerror .close-form-error {\n    float: right;\n    display: inline;\n    top: 3px;\n    position: absolute;\n    font-family: Verdana !important;\n    color: #b17c79 !important;\n    cursor: pointer !important;\n    font-size: 11px !important;\n    font-weight: normal !important\n}\n\n.{{containerClassName}} .hsformerror .close-form-error:hover {\n    color: #cc8884\n}\n\n@media (max-width: 400px),\n(min-device-width: 320px) and (max-device-width: 480px) {\n    form.hs-form .form-columns-2 .hs-form-field,\n    form.hs-form .form-columns-3 .hs-form-field {\n        float: none;\n        width: 100%\n    }\n    form.hs-form .form-columns-2 .hs-form-field .hs-input,\n    form.hs-form .form-columns-3 .hs-form-field .hs-input {\n        width: 95%\n    }\n}\n\n@media (max-width: 422px) {\n    .all-social-types {\n        height: 100px\n    }\n}\n\n@media (max-width: 342px) {\n    .hs-social-login {\n        height: 72px\n    }\n}\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(99));e.default=o.default.extend({defaults:r.default.HotspotModel.defaults,getSupported:function(){return r.default.HotspotModel.supported},getDisplayLabel:function(){return"Hotspot"}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathModel=void 0;var a=n(455),s=o(n(67)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.HotspotPathModel.defaults,e.objectStatesEnabled=!1,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n),this.set({isClosedPath:!0})},e.prototype.getDisplayLabel=function(){return"Hotspot"},e.prototype.getPreviewSegmentStartingPointIndex=function(t){return t.length-1},e.prototype.getPreviewSegmentEndingPointIndex=function(){return 0},e.prototype.getUpdatedControlPointForNewEndpoint=function(t,e,n,i,r){return t.cx1=e-i,t.cy1=n-r,t.cx2=e+i,t.cy2=n+r,t},e.prototype.addPoint=function(t){var e=this.get("path").slice(),n=e.length;return e.push({x:t.x,y:t.y}),this.set({path:e}),n},e.prototype.getSupported=function(){return s.default.HotspotPathModel.supported},e}(a.AbstractCustomPathModel);e.HotspotPathModel=u},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathUtils=void 0;var s=o(n(93)),u=a(n(0)),l=function(){function t(){}return t.calculateBoundingBox=function(e,n,i){var r=function(i){return t.makePointAbsolute(i.x,i.y,e,n)},o=[],a=[],s=r(i[0]);o.push(s.x),a.push(s.y);for(var l=1;l<i.length;l++){var c=r(i[l]);if(t.hasControlPoints(i[l-1])||t.hasControlPoints(i[l])){var d=r(i[l-1]),f=t.getAbsoluteControlPoints(i[l-1],e,n),h=t.getAbsoluteControlPoints(i[l],e,n),p=this.findNewPotentialPointForBounds(d,c,f,h);o=o.concat(p.x),a=a.concat(p.y)}o.push(c.x),a.push(c.y)}if(t.hasControlPoints(i[i.length-1])||t.hasControlPoints(i[0])){var g=r(i[i.length-1]),m=t.getAbsoluteControlPoints(i[i.length-1],e,n),v=t.getAbsoluteControlPoints(i[0],e,n);p=this.findNewPotentialPointForBounds(g,s,m,v);o=o.concat(p.x),a=a.concat(p.y)}return{minX:u.default.min(o)||0,minY:u.default.min(a)||0,maxX:u.default.max(o)||0,maxY:u.default.max(a)||0}},t.findNewPotentialPointForBounds=function(t,e,n,i){return{x:s.cubicBezierCurveFirstDerivativeRoots(t.x,n.cx2||0,i.cx1||0,e.x),y:s.cubicBezierCurveFirstDerivativeRoots(t.y,n.cy2||0,i.cy1||0,e.y)}},t.makePointAbsolute=function(t,e,n,i){return t=t||0,e=e||0,{x:t+=n,y:e+=i}},t.getAbsoluteControlPoints=function(e,n,i){var r=t.getControlPoints(e),o=t.makePointAbsolute(r.cx1,r.cy1,n,i),a=t.makePointAbsolute(r.cx2,r.cy2,n,i);return{cx1:o.x,cy1:o.y,cx2:a.x,cy2:a.y}},t.convertEdgePointToPath=function(t){return{x:t.x,y:t.y,cx1:t.cx1,cy1:t.cy1,cx2:t.cx2,cy2:t.cy2}},t.hasControlPoints=function(t){return!(u.default.isUndefined(t.cx1)||u.default.isUndefined(t.cy1)||u.default.isUndefined(t.cx2)||u.default.isUndefined(t.cy2))},t.getControlPoints=function(e){return t.hasControlPoints(e)?{cx1:e.cx1||0,cy1:e.cy1||0,cx2:e.cx2||0,cy2:e.cy2||0}:{cx1:e.x,cy1:e.y,cx2:e.x,cy2:e.y}},t.prototype.getHeightAndWidth=function(e){var n=[],i=[],r=e[0];n.push(r.x),i.push(r.y);for(var o=1;o<e.length;o++){var a=e[o];if(t.hasControlPoints(e[o-1])||t.hasControlPoints(e[o])){var l=e[o-1],c=t.getControlPoints(e[o-1]),d=t.getControlPoints(e[o]),f=t.findNewPotentialPointForBounds(l,a,c,d);n=n.concat(f.x),i=i.concat(f.y)}n.push(a.x),i.push(a.y)}if(t.hasControlPoints(e[e.length-1])||t.hasControlPoints(e[0])){var h=e[e.length-1],p=t.getControlPoints(e[e.length-1]),g=t.getControlPoints(e[0]);n=n.concat(s.cubicBezierCurveFirstDerivativeRoots(h.x,p.cx2||0,g.cx1||0,r.x)),i=i.concat(s.cubicBezierCurveFirstDerivativeRoots(h.y,p.cy2||0,g.cy1||0,r.y))}var m=u.default.min(n)||0,v=u.default.min(i)||0,y=u.default.max(n)||0;return{height:(u.default.max(i)||0)-v,width:y-m}},t.makeControlPointDefinitive=function(t){return{cx1:t.cx1||0,cy1:t.cy1||0,cx2:t.cx2||0,cy2:t.cy2||0}},t}();e.CustomPathUtils=l},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(454));e.default=o.default.extend({defaults:r.default.MarketoFormModel.defaults,getSupported:function(){return r.default.MarketoFormModel.supported},getDisplayLabel:function(){return"Marketo Form"}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(67)),o=i(n(321));e.default=o.default.extend({defaults:r.default.ChartblocksModel.defaults,initialize:function(t,e){o.default.prototype.initialize.call(this,t,e),this.on("change:svgUrl",this.updateRenderedImage,this)},getSupported:function(){return r.default.ChartblocksModel.supported},getDisplayLabel:function(){return"ChartBlocks"},getThumbnailUrl:function(){return"https://"+this.get("svgUrl")},getImageUri:function(){return this.getThumbnailUrl()},isVectorBased:function(){return!0},mustBeConstrained:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(n(3)),u=a(n(0)),l=a(n(67)),c=a(n(99)),d=a(n(219)),f=a(n(440)),h=a(n(130)),p=a(n(438)),g=a(n(110)),m=a(n(818)),v=a(n(819)),y=o(n(126)),_=o(n(301)),b=y.VIEW_DEFAULTS,w=b.MIN_FONT_SIZE,T=b.MAX_FONT_SIZE,S=b.MIN_LEADING,O=b.MAX_LEADING,E=b.MIN_COLUMN_GAP,P=b.MAX_COLUMN_GAP,C=b.MIN_PADDING,A=b.MAX_PADDING;e.default=c.default.extend({defaults:l.default.TextModel.defaults,variantDefaults:l.default.TextModel.variantDefaults,objectStatesEnabled:!0,pendingStyles:{},justDeletedStylesPerVariant:null,constructor:function(t,e){u.default.isNil(t)||u.default.isNil(e)||!e.inSmartgroup||(t.synced=!1);var n=arguments.length>0&&arguments[0].defaultSpan&&!u.default.isNil(e)&&e.copiedFromClipboard,i=this.defaults;n&&(this.defaults=null),c.default.apply(this,arguments),n&&(this.defaults=i)},buildOverridesWithEmptySyncedProperties:function(){return this.buildOverridesWithEmptyProperties(this.getSyncedProperties())},activated:!1,initialize:function(t,e){this.layerDictionaryAndHierarchyService=e.layerDictionaryAndHierarchyService,this.justDeletedStylesPerVariant={},this.setPotentiallyMissingModelData(t),"desktop"!==g.default.getCurrentVariant()&&t.textSpans&&u.default.isNil(this.get("textSpans",{doNotFallbackToDesktop:!0}))&&this.set("textSpans",t.textSpans),u.default.has(this.get("defaultSpan"),"letterSpacing")||this.set("defaultSpan",u.default.extend({letterSpacing:0},this.get("defaultSpan"))),this.on("change:synced",this.handleSyncedToggle),c.default.prototype.initialize.call(this,t,e)},setPotentiallyMissingModelData:function(t){var e=g.default.getCurrentVariant(),n=t.overrides?t.overrides[e]:null,i=this;u.default.each(["paddingTop","paddingLeft","paddingRight","paddingBottom"],(function(e){t[e]||(n?i.set(e,n[e]?n[e]:0):i.set(e,0))}))},getTextLength:function(){return this.get("textContent").length},getFontSize:function(){return(this.get("defaultSpan")||this.options.defaultSpan).fontSize},getHiddenFromScreenReaders:function(){return this.get(y.properties.HIDDEN_FROM_SCREEN_READERS)},setFontSize:function(t){t=u.default.clamp(t,w,T);var e=this.get("defaultSpan")||this.options.defaultSpan;return(e=u.default.clone(e)).fontSize=t,this.set("defaultSpan",e)},setLeading:function(t){this.set("leading",u.default.clamp(t,S,O))},setColumnGap:function(t){this.set("columnGap",u.default.clamp(t,E,P))},setPaddingTop:function(t){this.set("paddingTop",u.default.clamp(t,C,A))},setPaddingBottom:function(t){this.set("paddingBottom",u.default.clamp(t,C,A))},setPaddingLeft:function(t){this.set("paddingLeft",u.default.clamp(t,C,A))},setPaddingRight:function(t){this.set("paddingRight",u.default.clamp(t,C,A))},setHiddenFromScreenReaders:function(t){this.set(y.properties.HIDDEN_FROM_SCREEN_READERS,t)},isActivated:function(){return this.activated},activate:function(){this.activated=!0,this.trigger("editor:activate")},deactivate:function(){this.activated=!1,this.trigger("editor:deactivate")},insertTextAt:function(t,e){var n=this.get("textContent"),i=n.substr(0,e)+t+n.substr(e);this.set("textContent",i),this.adjustTextSpansForTextInsert(t,e),this.updateTitle(i,n)},adjustTextSpansForTextInsert:function(t,e){var n=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextInsertForVariant,this),t,e);this.applyToTextSpans(n)},adjustTextSpansForTextInsertForVariant:function(t,e,n){var i=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),r=e.length,o=n-1;o<0&&(o=0);var a=m.default.getSpanAtIndex(i,o),l=!!e.match(/^\s+$/)&&a&&a[y.properties.HYPERLINK]&&a.index+a.length===n;if(l||!u.default.isEmpty(this.pendingStyles)||this.inJustDeletedModeForVariant(t)){var c={index:n,length:r},d=this.getSupportedStyles();if(l){var f=m.default.getSpanAtIndex(i,n),h=u.default.pick(f,d);c=u.default.extend(c,h)}else if(a&&!this.inJustDeletedModeForVariant(t)){var p=u.default.pick(a,d);c=u.default.extend(c,p)}c=u.default.extend(c,this.pendingStyles,this.getJustDeletedStylesForVariant(t)),i=this.justDeletedFromStyledSpanForVariant(t)?this._shiftSpansAroundNew(i,n,r):m.default.shiftSpansAfter(i,n-1,r),i=m.default.spliceSpan(i,c),i=this._cleanupSpans(i),i=m.default.clearEmptySpans(i),this.clearJustDeletedModeForVariant(t)}else i=m.default.growSpan(i,o,r);this.setAttributeForVariant(t,{textSpans:i})},updateTitle:function(t,e){var n=this.formatStringAsTitle(e);"Text"!==this.get("title")&&this.get("title")!==n||(""===t&&(t="Text"),this.set("title",this.formatStringAsTitle(t)),this.trigger(d.default.EVENTS.CHANGE_TITLE))},formatStringAsTitle:function(t){return t.slice(0,y.MAX_TITLE_LENGTH).replace(/\n/g," ")},replaceTextAt:function(t,e,n){var i=this.get("textContent"),r=i.substr(0,e)+t+i.substr(n);this.adjustTextSpansForTextReplace(t,e,n),this.set("textContent",r),this.updateTitle(r,i)},adjustTextSpansForTextReplace:function(t,e,n){var i=u.default.partialRight(u.default.bind(this.adjustTextSpansForTextReplaceForVariant,this),t,e,n);this.applyToTextSpans(i)},adjustTextSpansForTextReplaceForVariant:function(t,e,n,i){var r=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),o=e.length,a=i-n,l=m.default.getSpanAtIndex(r,n)!==m.default.getSpanAtIndex(r,i-1),c=null===m.default.getSpanAtIndex(r,i)||m.default.getSpanAtIndex(r,i).index===i,d=l||c,f=u.default.clone(m.default.getSpanAtIndex(r,n));if(r=this._shrinkSpan(r,n,a),f){var h=f.index===n&&c;r=m.default.growSpan(r,n,o,d,h)}else r=m.default.shiftSpansAfter(r,n-1,o);this.setAttributeForVariant(t,{textSpans:r})},applyToTextSpans:function(t){var e;this.isSyncedTextComponent()?e=g.default.getAllExistingLayouts():e=[g.default.getCurrentVariant()];var n=u.default.bind((function(e){this.hasValueForVariant(e,"textSpans")&&t(e)}),this);u.default.each(e,n)},getVariantGuidsInUse:function(){return u.default.chain(this.getLayoutVariants()).flatMap(this.getLayoutVariantSpans.bind(this)).map("variantGuid").uniq().filter().value()},getLayoutVariants:function(){return["desktop"].concat(g.default.getExistingVariants())},getLayoutVariantSpans:function(t){return u.default.concat(this.get("defaultSpan",{variant:t})||[],this.get("textSpans",{variant:t})||[])},updateFontFamily:function(t){if(t){var e=u.default.extend({},this.get("defaultSpan")),n=s.default.extend(!0,[],this.get("textSpans"));return f.default.loadFamiliesByVariantGuids(this.getVariantGuidsInUse()).then(u.default.bind((function(i){var r=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(r).getGuid(),u.default.each(n,u.default.bind((function(e){if(e.variantGuid){var n=i.getFontVariantByVariantGuid(e.variantGuid);e.variantGuid=t.findBestMatchVariant(n).getGuid()}}),this)),n=this._cleanupSpans(n),this.set({defaultSpan:e,textSpans:n})}),this))}},_updatePendingStyles:function(t){this.pendingStyles=u.default.extend(this.pendingStyles,t),this.trigger("change:pendingStyles",t)},applyStylesToRange:function(t,e,n,i){var r=n-e;if(0!==r){var o=u.default.extend({},this._pickStyles(t),{index:e,length:r}),a=s.default.extend(!0,[],this.get("textSpans",{variant:i}));a=m.default.spliceSpan(a,o),a=this._cleanupSpans(a),this.set("textSpans",a,{variant:i})}else this._updatePendingStyles(t)},applyStylesToDefaultSpan:function(t,e){var n=u.default.cloneDeep(this.get("defaultSpan"));t=this._pickStyles(t);for(var i=function(e){u.default.each(u.default.keys(t),(function(t){u.default.has(e,t)&&delete e[t]}))},r=s.default.extend(!0,[],this.get("textSpans")),o=0;o<r.length;o++)i(r[o]);r=this._cleanupSpans(r),u.default.each(t,(function(t,i){n[i]=p.default.getValidValueForOptions(n[i],t,e)})),this.set({defaultSpan:n,textSpans:r})},getStylesForRange:function(t,e){u.default.isUndefined(e)&&(e=t),t===e&&(0===t?e++:t--);var n=this.getSupportedStyles(),i=u.default.extend({},this.get("defaultSpan")),r={},o=u.default.pick(i,n);u.default.each(n,(function(t){r[t]=[]}));for(var a=function(t){u.default.each(n,(function(e){u.default.isUndefined(t[e])?r[e].push(i[e]):r[e].push(t[e]),r[e]=u.default.uniq(r[e])}))},s=this.get("textSpans"),l=t;l<e;l++){a(u.default.extend({},m.default.getSpanAtIndex(s,l)))}return u.default.each(n,(function(t){1===r[t].length?o[t]=r[t][0]:r[t].length>1&&(o[t]=r[t])})),o},getSpanWithAllStyles:function(t){return u.default.extend({},this.get("defaultSpan"),t)},_shrinkSpan:function(t,e,n){if(n<=0)return t;for(var i=n;i-- >0;){var r=m.default.getSpanAtIndex(t,e+i);r&&(r.length--,0===r.length&&0!==i&&(t=m.default.removeSpan(t,r))),t=m.default.shiftSpansAfter(t,e+i,-1)}return t},setJustDeletedMode:function(t){var e=u.default.partialRight(u.default.bind(this.setJustDeletedModeForVariant,this),t);this.applyToTextSpans(e)},setJustDeletedModeForVariant:function(t,e){var n=u.default.pick(m.default.getSpanAtIndex(this.getAttributeForVariant(t,"textSpans"),e),this.getSupportedStyles());u.default.set(this.justDeletedStylesPerVariant,t,n)},justDeletedFromStyledSpan:function(){var t=g.default.getCurrentVariant();return this.justDeletedFromStyledSpanForVariant(t)},justDeletedFromStyledSpanForVariant:function(t){return this.inJustDeletedModeForVariant(t)&&u.default.size(this.getJustDeletedStylesForVariant(t))>0},inJustDeletedMode:function(){var t=g.default.getCurrentVariant();return this.inJustDeletedModeForVariant(t)},inJustDeletedModeForVariant:function(t){return!1!==u.default.get(this.justDeletedStylesPerVariant,t,!1)},getJustDeletedStyles:function(){var t=g.default.getCurrentVariant();return this.getJustDeletedStylesForVariant(t)},getJustDeletedStylesForVariant:function(t){return u.default.get(this.justDeletedStylesPerVariant,t,{})},clearJustDeletedMode:function(){this.justDeletedStylesPerVariant={}},clearJustDeletedModeForVariant:function(t){u.default.unset(this.justDeletedStylesPerVariant,t)},clearEmptySpans:function(){var t=g.default.getCurrentVariant();this._clearEmptySpansForVariant(t)},_clearEmptySpansForVariant:function(t){var e=s.default.extend(!0,[],this.getAttributeForVariant(t,"textSpans")),n=e.length,i=m.default.clearEmptySpans(e);i.length!==n&&this.setAttributeForVariant(t,{textSpans:i})},_shiftSpansAroundNew:function(t,e,n){for(var i,r=0;r<t.length;r++){var o=t[r];if(o.index<=e&&e<o.index+o.length){var a=e-o.index,s=o.length-a;o.length=a+1,(i=this._pickStyles(o)).length=s,i.index=e+n}else o.index>e&&(o.index+=n)}return i&&(t=m.default.spliceSpan(t,i)),t},removeDefaultStyles:function(t,e){var n=this._pickStyles(this.get("defaultSpan",{variant:e}));return u.default.transform(t,(function(t,e,i){n[i]===e||"fontColor"===i&&h.default.isEqual(e,n[i])||(t[i]=e)}),{})},removeHyperlink:function(t,e,n){var i=this.get("defaultSpan",{variant:n}),r={};r[y.properties.FONT_COLOR]=i[y.properties.FONT_COLOR],r[y.properties.UNDERLINE]=i[y.properties.UNDERLINE]||!1,r[y.properties.HYPERLINK]=void 0,this.applyStylesToRange(r,t,e,n)},canCombineSpans:function(t,e){return!(!t||!e)&&(this._spansAdjacent(e,t)&&u.default.isEqual(this._pickStyles(t),this._pickStyles(e)))},_cleanupSpans:function(t,e){var n=[];return u.default.forEach(t,u.default.bind((function(t){t=this.removeDefaultStyles(t,e);var i=this._pickStyles(t);if(!u.default.isEmpty(i)){var r=u.default.last(n);this.canCombineSpans(t,r)?r.length+=t.length:n.push(t)}}),this)),n},_spansAdjacent:function(t,e){return t.index+t.length===e.index},_pickStyles:function(t){return u.default.pick(t,this.getSupportedStyles())},getSupported:function(){return l.default.TextModel.supported},getSupportedStyles:function(){return["variantGuid","fontColor","underline","letterSpacing","variantName","familyGuid","fontSize",y.properties.HYPERLINK]},clearPendingStyles:function(){this.pendingStyles={}},getDisplayLabel:function(){return this.title},roundTransformableAttributes:function(){c.default.prototype.roundTransformableAttributes.call(this),this.setFontSize(Math.round(this.getFontSize())),this.setLeading(Math.round(this.get("leading"))),this.setColumnGap(Math.round(this.get("columnGap"))),this.setPaddingTop(Math.round(this.get("paddingTop"))),this.setPaddingBottom(Math.round(this.get("paddingBottom"))),this.setPaddingRight(Math.round(this.get("paddingRight"))),this.setPaddingLeft(Math.round(this.get("paddingLeft")))},resizeAttributes:function(t){this.setFontSize(this.getFontSize()*t),this.setLeading(this.get("leading")*t),this.setColumnGap(this.get("columnGap")*t),this.setPaddingTop(this.get("paddingTop")*t),this.setPaddingBottom(this.get("paddingBottom")*t),this.setPaddingRight(this.get("paddingRight")*t),this.setPaddingLeft(this.get("paddingLeft")*t)},getNewFontColorPreservingOpacity:function(t,e){return t.fontColor?e.cloneWithAlphaFromColorString(t.fontColor).toString():e.toString()},applyFontRgbaPropertyToSpans:function(t,e,n,i){var r=this.get("defaultSpan");if(n.start===n.end){var o=h.default.fromString(r.fontColor?r.fontColor:h.default.Black(1).toString());return o[t]=p.default.getValidValueForOptions(o[t],e,i),void this._updatePendingStyles({fontColor:o.toString()})}this.applyNewFontColorToSpans(n,u.default.bind((function(n){var o=h.default.fromString(n.fontColor?n.fontColor:r.fontColor);return o[t]=p.default.getValidValueForOptions(o[t],e,i),o.toString()}),this))},applyFontColorToSpansPreservingOpacity:function(t,e){if(e.start!==e.end)this.applyNewFontColorToSpans(e,u.default.bind((function(e){return this.getNewFontColorPreservingOpacity(e,t)}),this));else{var n=this.getNewFontColorPreservingOpacity(this.get("defaultSpan"),t),i=this.getNewFontColorPreservingOpacity(this.pendingStyles,h.default.fromString(n));this._updatePendingStyles({fontColor:i})}},applyFontColorOpacityToSpans:function(t,e,n){var i=h.default.fromString(this.get("defaultSpan").fontColor);i.a=p.default.getValidOpacityValueForOptions(i.a,t,n),e.start!==e.end?this.applyNewFontColorToSpans(e,(function(e){if(!e.fontColor)return i.toString();var r=h.default.fromString(e.fontColor);return r.a=p.default.getValidOpacityValueForOptions(r.a,t,n),r.toString()})):this._updatePendingStyles({fontColor:i.toString()})},applyNewFontColorToSpans:function(t,e){for(var n=t.start,i=t.end-1,r=u.default.cloneDeep(this.get("textSpans"));n<=i;){var o,a=m.default.getSpanAtIndex(r,n);if(a){var s=a.index+a.length-1;a.index===n&&s<=i?(a.fontColor=e(a),n=s+1):((o=u.default.clone(a)).index=a.index<n?n:o.index,o.length=s<i?s-n+1:i-n+1,o.fontColor=e(o),r.push(o),this.resizeSpanToFitNewSpan(r,a,o),n+=o.length)}else{o={index:n,fontColor:e(this.get("defaultSpan"))};var l=this.findNextSpanBetween(r,n,i);l?(o.length=l.index-n,n+=o.length):(o.length=i-n+1,n=i+1),r.push(o)}}r.sort((function(t,e){return t.index-e.index})),r=this._cleanupSpans(r),this.set("textSpans",r)},findNextSpanBetween:function(t,e,n){if(e>n)return null;var i=this.findNextSpan(t,e);return i?i.index>n?null:i:null},findNextSpan:function(t,e){return u.default.find(t,(function(t){return t.index>e}))},resizeSpanToFitNewSpan:function(t,e,n){var i=e.index+e.length-1,r=n.index+n.length-1;if(e.index<n.index&&i>r){e.length=n.index-e.index;var o=u.default.clone(e);o.index=n.index+n.length,o.length=i-r,t.push(o)}else e.index<n.index?e.length=n.index-e.index:i>r&&(e.index=n.index+n.length,e.length=i-e.index+1);return t},copyCurrentTextContentToMasterVariant:function(){var t=this.get("textContent");this.setAttributeForVariant("desktop",{textContent:t})},copyMasterVariantTextContentToExistingTextContentOverrides:function(){var t=this.getAttributeForVariant("desktop","textContent"),e=g.default.cloneOverrides(this.nonVariantGet("overrides"));u.default.each(e,(function(e,n){e.textContent&&(e.textContent=t)})),this.nonVariantSet("overrides",e)},isSyncedTextComponent:function(){return!0===this.nonVariantGet("synced")},isTextComponent:function(){return!0},isEditableComponent:function(){return!this.isSyncedObject()},isSyncing:function(){return this.isSyncedTextComponent()&&this.existsOnMultipleVariants()},existsOnMultipleVariants:function(){return this.layerDictionaryAndHierarchyService.isComponentUsedInMultipleVariants(this.id)},getContentLength:function(){return this.get("textContent").length},hasTextOutsideTextSpans:function(){var t=0,e=this.getContentLength(),n=this.get("textSpans");if(!n||0===e)return!0;for(var i=0;t<e;){var r=n[i];if(!r||!(t>=r.index&&t<r.index+r.length))return!0;i+=1,t=r.index+r.length}return!1},handleSyncedToggle:function(t,e){e?this.handleSyncedEnabled():this.handleSyncedDisabled()},handleSyncedEnabled:function(){this.copyCurrentTextContentToMasterVariant(),this.syncEditableAttribute(),v.default.copyCurrentVariantCacheToSyncedCache(this)},handleSyncedDisabled:function(){this.copyMasterVariantTextContentToExistingTextContentOverrides(),v.default.copySyncedCacheToCurrentVariantCache(this)},syncEditableAttribute:function(){var t=this.get("editable");this.setAttributeForVariant("desktop",{editable:t})},getObjectStateSupportedProperties:function(){return l.default.TextModel.objectStateSupportedProperties},getHyperlinksReferencingScranchors:function(){return(u.default.get(this.attributes,"overrides."+g.default.getCurrentVariant()+".textSpans")||this.attributes.textSpans||[]).filter((function(t){var e=t[y.properties.HYPERLINK];return e&&e.type===_.InlineLinkType.POSITION&&!u.default.includes(["next","prev"],e.location)}))},getReferencedScranchorIds:function(){return c.default.prototype.getReferencedScranchorIds.apply(this).concat(this.getHyperlinksReferencingScranchors().map((function(t){return t[y.properties.HYPERLINK].location})))},removeInteractionsReferencingScranchor:function(t){c.default.prototype.removeInteractionsReferencingScranchor.apply(this,arguments),this.getHyperlinksReferencingScranchors().forEach(function(t){this.removeHyperlink(t.index,t.index+t.length)}.bind(this))}},{MIN_FONT_SIZE:w,MAX_FONT_SIZE:T,MIN_LEADING:S,MAX_LEADING:O,MIN_COLUMN_GAP:E,MAX_COLUMN_GAP:P,MIN_PADDING:C,MAX_PADDING:A})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0));e.default={isSpanIntersection:function(t,e){if(!t||!e)return!1;var n=t.index,i=t.index+t.length-1,r=e.index,o=e.index+e.length-1;return n>=r&&n<=o||i>=r&&i<=o||r>=n&&r<=i||o>=n&&o<=i},getSpanContaining:function(t,e){for(var n=0;n<t.length;n++)if(this.isSpanIntersection(e,t[n]))return t[n];return null},getSpanAtIndex:function(t,e){return this.getSpanContaining(t,{index:e,length:1})},shiftSpansAfter:function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];r.index>e&&(r.index+=n)}return t},spliceSpan:function(t,e){for(var n=[],i=this.getSplicePoints(t,e),o=0;o<i.length-1;o++){var a={index:i[o],length:i[o+1]-i[o]},s=this.getSpanContaining(t,a),u=s&&s.length>0?s:{},l=this.isSpanIntersection(e,a)?e:{};n.push(r.default.extend({},u,l,a))}return n},getSplicePoints:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i].index),n.push(t[i].index+t[i].length);return n.push(e.index),n.push(e.index+e.length),r.default.uniq(n.sort((function(t,e){return t-e})),!0)},growSpan:function(t,e,n,i,r){if(n<=0)return t;var o,a=e;return(o=i&&!r?this.getSpanAtIndex(t,e-1):this.getSpanAtIndex(t,e))&&(o.length+=n,a=o.index),r?(t.splice(t.indexOf(o),1),t=this.spliceSpan(this.shiftSpansAfter(t,a-1,n),o)):t=this.shiftSpansAfter(t,a,n),t},removeSpan:function(t,e){for(var n=0;n<t.length;n++)if(this.areSpansEqual(e,t[n]))return t.splice(n,1),t;return t},areSpansEqual:function(t,e){return t.index===e.index&&t.length===e.length},clearEmptySpans:function(t){for(var e=t.length-1;e>=0;e--){var n=t[e];0===n.length&&(t=this.removeSpan(t,n))}return t}}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(n(110)),a=i(n(0)),s=(r={desktop:{}},o.default.on(o.default.EVENTS.VARIANT_CHANGED,(function(){a.default.unset(r,["tempSyncedCache"])})),o.default.on(o.default.EVENTS.VARIANT_DELETED,(function(t){s.clearVariant(t.variantName)})),{copySyncedCacheToCurrentVariantCache:function(t){var e=a.default.get(r,["tempSyncedCache",t.id]);a.default.set(r,[o.default.getCurrentVariant(),t.id],e)},copyCurrentVariantCacheToSyncedCache:function(t){var e=o.default.getCurrentVariant(),n=a.default.get(r,[e,t.id],void 0);this.clearItemFromAllVariantCaches(t),a.default.set(r,["tempSyncedCache",t.id],n)},get:function(t){if(a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent())return a.default.get(r,["tempSyncedCache",t.id]);var e=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant();return a.default.get(r,[e,t.id],void 0)},set:function(t,e,n){var i=a.default.isFunction(t.isSyncedObject)&&t.isSyncedObject()?"desktop":o.default.getCurrentVariant(),s=n||i,u=t.id;t.synced||a.default.isFunction(t.isSyncedTextComponent)&&t.isSyncedTextComponent()?a.default.set(r,["tempSyncedCache",u],e):a.default.isUndefined(e)?a.default.unset(r,[s,u]):a.default.set(r,[s,u],e)},clearVariant:function(t){a.default.unset(r,[t])},clearItemFromAllVariantCaches:function(t){a.default.unset(r,["desktop",t.id]),a.default.unset(r,["tablet",t.id]),a.default.unset(r,["mobile",t.id])}});e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(67)),a=i(n(321));e.default=a.default.extend({defaults:o.default.VideoModel.defaults,initialize:function(t,e){a.default.prototype.initialize.call(this,t,e),this.get("createDate")||this.set("createDate",Date.now()),this.on("change:width",this.onWidthChange,this),this.on("change:poster",this.updateRenderedImage,this)},getSupported:function(){return o.default.VideoModel.supported},getSupportedInteractionTriggers:function(){return[]},mustBeConstrained:function(){return!0},isCopiable:function(){return!r.default.isEmpty(this.get("video"))},getDisplayLabel:function(){return"Video"},getImageUri:function(){return this.get("poster")},onWidthChange:function(t,e,n){e>this.previous("width")&&this.updateRenderedImage()},isVideoModel:function(){return!0}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(99));e.default=r.default.extend({initialize:function(t,e){r.default.prototype.initialize.call(this,t,e)}})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeModel=void 0;var a=n(455),s=o(n(67)),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults=s.default.CustomShapeModel.defaults,e}return r(e,t),e.prototype.initialize=function(e,n){t.prototype.initialize.call(this,e,n)},e.prototype.getDisplayLabel=function(){return"Custom Shape"},e.prototype.supportsObjectStates=function(){return!this.isInMaskGroup()&&t.prototype.supportsObjectStates.call(this)},e.prototype.getSupported=function(){return this.isInMaskGroup()?s.default.ShapeModel.supportedMaskGroupShape:s.default.CustomShapeModel.supported},e.prototype.isCustomShapeComponent=function(){return!0},e.prototype.isMask=function(){return this.isInMaskGroup()&&"image-component"!==this.get("type")},e}(a.AbstractCustomPathModel);e.CustomShapeModel=u},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o={forEachDescendant:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];e(i),i.hasChildren()&&o.forEachDescendant(i.getChildren(),e)}},forEachDescendantIncludingSmartGroupObjects:function(t,e){this.forEachDescendant(t,(function(t){e(t),t.isSmartgroup()&&t.getDefinitionLayers().forEachDescendantIncludingSmartGroupObjects(e)}))},forEachDescendantWithParentsWhile:function(t,e,n,i){i=i||[],r.default.each(t,(function(t){if(e(t,i),n(t,i)&&t.hasChildren()){var r=i.concat(t);o.forEachDescendantWithParentsWhile(t.getChildren(),e,n,r)}}))},forSomeDescendantWithParents:function(t,e,n){return n=n||[],r.default.some(t,(function(t){if(e(t,n))return!0;if(t.hasChildren()){var i=n.concat(t);return o.forSomeDescendantWithParents(t.getChildren(),e,i)}}))},forSomeDescendant:function(t,e){return r.default.some(t,(function(t){return!!e(t)||(t.hasChildren()?o.forSomeDescendant(t.getChildren(),e):void 0)}))},findDescendant:function(t,e){var n;return r.default.each(t,(function(t){return e(t)?(n=t,!1):(!t.hasChildren()||!(n=o.findDescendant(t.getChildren(),e)))&&void 0})),n},forEachDescendantWhile:function(t,e,n){r.default.each(t,(function(t){e(t),t.hasChildren()&&n(t)&&o.forEachDescendantWhile(t.getChildren(),e,n)}))},forEachDescendantWithPath:function(t,e,n){r.default.each(e,(function(e,i){var r=t.concat(i);if(n(r,e),e.hasChildren()){var a=r.concat(e.getPathPart());o.forEachDescendantWithPath(a,e.getChildren(),n)}}))},forSomeDescendantWithPath:function(t,e,n){return r.default.some(e,(function(e,i){var r=t.concat(i);if(n(r,e))return!0;if(e.hasChildren()){var a=r.concat(e.getPathPart());return o.forSomeDescendantWithPath(a,e.getChildren(),n)}return!1}))},forEachCollectionDescendant:function(t,e){e(t),t.each((function(t){t.hasChildren()&&o.forEachCollectionDescendant(t.getCollection(),e)}))},forSomeLayerCollectionDescendantWithPath:function(t,e,n){return!!n(t,e)||e.some((function(e,i){var r=t.concat(i);if(e.isFolderOrGroup()){var a=r.concat(e.getPathPart());return o.forSomeLayerCollectionDescendantWithPath(a,e.getCollection(),n)}}))}};e.default=o},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(825));e.default={normalizeSubjects:function(t){return!r.default.isObject(t)&&r.default.isEmpty(t)&&(t=[]),r.default.isArray(t)||(t=[t]),t},filterCollection:function(t,e,n,i){if(e=e.toArray?e.toArray():e,!t||!e.length)return e;var a,s="";return i?(a=e[0][i].attributes,s=i+"."):a=e[0].attributes,function(t,e,n){var i=[];return r.default.each(t,(function(t){var a=t.obj,s=t.obj;n&&(s=s[n]);var u=s.attributes;r.default.each(t,r.default.bind((function(t,n){var i=e[n];if(t){var r="_"+i+"_";u?s.set(r,o.default.highlight(t)):s[r]=o.default.highlight(t)}}),this)),i.push(a)})),i}(o.default.go(t,e,{allowTypo:!1,threshold:-1e4,keys:a?r.default.map(n,(function(t){return s+"attributes."+t})):n}),n,i)}}},function(t,e,n){"use strict";(function(n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){var t="undefined"==typeof window,e=new Map,i=new Map,r=[];r.total=0;var o=[],a=[];function s(){e.clear(),i.clear(),o=[],a=[]}function u(t){for(var e=-9007199254740991,n=t.length-1;n>=0;--n){var i=t[n];if(null!==i){var r=i.score;r>e&&(e=r)}}return-9007199254740991===e?null:e}function l(t,e){var n=t[e];if(void 0!==n)return n;var i=e;Array.isArray(e)||(i=e.split("."));for(var r=i.length,o=-1;t&&++o<r;)t=t[i[o]];return t}function c(t){return"object"==typeof t}var d=function(){var t=[],e=0,n={};function i(){for(var n=0,i=t[n],r=1;r<e;){var o=r+1;n=r,o<e&&t[o].score<t[r].score&&(n=o),t[n-1>>1]=t[n],r=1+(n<<1)}for(var a=n-1>>1;n>0&&i.score<t[a].score;a=(n=a)-1>>1)t[n]=t[a];t[n]=i}return n.add=function(n){var i=e;t[e++]=n;for(var r=i-1>>1;i>0&&n.score<t[r].score;r=(i=r)-1>>1)t[i]=t[r];t[i]=n},n.poll=function(){if(0!==e){var n=t[0];return t[0]=t[--e],i(),n}},n.peek=function(n){if(0!==e)return t[0]},n.replaceTop=function(e){t[0]=e,i()},n},f=d();return function h(p){var g={single:function(t,e,n){return t?(c(t)||(t=g.getPreparedSearch(t)),e?(c(e)||(e=g.getPrepared(e)),((n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo)(t,e,t[0])):null):null},go:function(t,e,n){if(!t)return r;var i=(t=g.prepareSearch(t))[0],o=n&&n.threshold||p&&p.threshold||-9007199254740991,a=n&&n.limit||p&&p.limit||9007199254740991,s=(n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,d=0,h=0,m=e.length;if(n&&n.keys)for(var v=n.scoreFn||u,y=n.keys,_=y.length,b=m-1;b>=0;--b){for(var w=e[b],T=new Array(_),S=_-1;S>=0;--S)(P=l(w,E=y[S]))?(c(P)||(P=g.getPrepared(P)),T[S]=s(t,P,i)):T[S]=null;T.obj=w;var O=v(T);null!==O&&(O<o||(T.score=O,d<a?(f.add(T),++d):(++h,O>f.peek().score&&f.replaceTop(T))))}else if(n&&n.key){var E=n.key;for(b=m-1;b>=0;--b)(P=l(w=e[b],E))&&(c(P)||(P=g.getPrepared(P)),null!==(C=s(t,P,i))&&(C.score<o||(C={target:C.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:C.score,indexes:C.indexes,obj:w},d<a?(f.add(C),++d):(++h,C.score>f.peek().score&&f.replaceTop(C)))))}else for(b=m-1;b>=0;--b){var P,C;(P=e[b])&&(c(P)||(P=g.getPrepared(P)),null!==(C=s(t,P,i))&&(C.score<o||(d<a?(f.add(C),++d):(++h,C.score>f.peek().score&&f.replaceTop(C)))))}if(0===d)return r;var A=new Array(d);for(b=d-1;b>=0;--b)A[b]=f.poll();return A.total=d+h,A},goAsync:function(e,i,o){var a=!1,s=new Promise((function(s,f){if(!e)return s(r);var h=(e=g.prepareSearch(e))[0],m=d(),v=i.length-1,y=o&&o.threshold||p&&p.threshold||-9007199254740991,_=o&&o.limit||p&&p.limit||9007199254740991,b=(o&&void 0!==o.allowTypo?o.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,w=0,T=0;function S(){if(a)return f("canceled");var d=Date.now();if(o&&o.keys)for(var p=o.scoreFn||u,O=o.keys,E=O.length;v>=0;--v){for(var P=i[v],C=new Array(E),A=E-1;A>=0;--A)(k=l(P,I=O[A]))?(c(k)||(k=g.getPrepared(k)),C[A]=b(e,k,h)):C[A]=null;C.obj=P;var x=p(C);if(null!==x&&!(x<y)&&(C.score=x,w<_?(m.add(C),++w):(++T,x>m.peek().score&&m.replaceTop(C)),v%1e3==0&&Date.now()-d>=10))return void(t?n(S):setTimeout(S))}else if(o&&o.key){for(var I=o.key;v>=0;--v)if((k=l(P=i[v],I))&&(c(k)||(k=g.getPrepared(k)),null!==(M=b(e,k,h))&&!(M.score<y)&&(M={target:M.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:M.score,indexes:M.indexes,obj:P},w<_?(m.add(M),++w):(++T,M.score>m.peek().score&&m.replaceTop(M)),v%1e3==0&&Date.now()-d>=10)))return void(t?n(S):setTimeout(S))}else for(;v>=0;--v){var k,M;if((k=i[v])&&(c(k)||(k=g.getPrepared(k)),null!==(M=b(e,k,h))&&!(M.score<y)&&(w<_?(m.add(M),++w):(++T,M.score>m.peek().score&&m.replaceTop(M)),v%1e3==0&&Date.now()-d>=10)))return void(t?n(S):setTimeout(S))}if(0===w)return s(r);for(var R=new Array(w),N=w-1;N>=0;--N)R[N]=m.poll();R.total=w+T,s(R)}t?n(S):S()}));return s.cancel=function(){a=!0},s},highlight:function(t,e,n){if(null===t)return null;void 0===e&&(e="<b>"),void 0===n&&(n="</b>");for(var i="",r=0,o=!1,a=t.target,s=a.length,u=t.indexes,l=0;l<s;++l){var c=a[l];if(u[r]===l){if(o||(o=!0,i+=e),++r===u.length){i+=c+n+a.substr(l+1);break}}else o&&(o=!1,i+=n);i+=c}return i},prepare:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:g.prepareNextBeginningIndexes(t),score:null,indexes:null,obj:null}},prepareSearch:function(t){if(t)return g.prepareLowerCodes(t)},getPrepared:function(t){if(t.length>999)return g.prepare(t);var n=e.get(t);return void 0!==n||(n=g.prepare(t),e.set(t,n)),n},getPreparedSearch:function(t){if(t.length>999)return g.prepareSearch(t);var e=i.get(t);return void 0!==e||(e=g.prepareSearch(t),i.set(t,e)),e},algorithm:function(t,e,n){for(var i=e._targetLowerCodes,r=t.length,s=i.length,u=0,l=0,c=0,d=0;;){if(n===i[l]){if(o[d++]=l,++u===r)break;n=t[0===c?u:c===u?u+1:c===u-1?u-1:u]}if(++l>=s)for(;;){if(u<=1)return null;if(0===c){if(n===t[--u])continue;c=u}else{if(1===c)return null;if((n=t[1+(u=--c)])===t[u])continue}l=o[(d=u)-1]+1;break}}u=0;var f=0,h=!1,p=0,m=e._nextBeginningIndexes;null===m&&(m=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target));var v=l=0===o[0]?0:m[o[0]-1];if(l!==s)for(;;)if(l>=s){if(u<=0){if(++f>r-2)break;if(t[f]===t[f+1])continue;l=v;continue}--u,l=m[a[--p]]}else if(t[0===f?u:f===u?u+1:f===u-1?u-1:u]===i[l]){if(a[p++]=l,++u===r){h=!0;break}++l}else l=m[l];if(h)var y=a,_=p;else y=o,_=d;for(var b=0,w=-1,T=0;T<r;++T)w!==(l=y[T])-1&&(b-=l),w=l;for(h?0!==f&&(b+=-20):(b*=1e3,0!==c&&(b+=-20)),b-=s-r,e.score=b,e.indexes=new Array(_),T=_-1;T>=0;--T)e.indexes[T]=y[T];return e},algorithmNoTypo:function(t,e,n){for(var i=e._targetLowerCodes,r=t.length,s=i.length,u=0,l=0,c=0;;){if(n===i[l]){if(o[c++]=l,++u===r)break;n=t[u]}if(++l>=s)return null}u=0;var d=!1,f=0,h=e._nextBeginningIndexes;if(null===h&&(h=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target)),(l=0===o[0]?0:h[o[0]-1])!==s)for(;;)if(l>=s){if(u<=0)break;--u,l=h[a[--f]]}else if(t[u]===i[l]){if(a[f++]=l,++u===r){d=!0;break}++l}else l=h[l];if(d)var p=a,m=f;else p=o,m=c;for(var v=0,y=-1,_=0;_<r;++_)y!==(l=p[_])-1&&(v-=l),y=l;for(d||(v*=1e3),v-=s-r,e.score=v,e.indexes=new Array(m),_=m-1;_>=0;--_)e.indexes[_]=p[_];return e},prepareLowerCodes:function(t){for(var e=t.length,n=[],i=t.toLowerCase(),r=0;r<e;++r)n[r]=i.charCodeAt(r);return n},prepareBeginningIndexes:function(t){for(var e=t.length,n=[],i=0,r=!1,o=!1,a=0;a<e;++a){var s=t.charCodeAt(a),u=s>=65&&s<=90,l=u||s>=97&&s<=122||s>=48&&s<=57,c=u&&!r||!o||!l;r=u,o=l,c&&(n[i++]=a)}return n},prepareNextBeginningIndexes:function(t){for(var e=t.length,n=g.prepareBeginningIndexes(t),i=[],r=n[0],o=0,a=0;a<e;++a)r>a?i[a]=r:(r=n[++o],i[a]=void 0===r?e:r);return i},cleanup:s,new:h};return g}()})?i.apply(e,r):i)||(t.exports=o)}).call(this,n(826).setImmediate)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(827),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(129))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,a,s,u=1,l={},c=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return l[u]=r,i(u),u++},f.clearImmediate=h}function h(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(129),n(338))},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MediaUploadTracker=void 0;var r=i(n(0)),o=i(n(13)),a=function(){function t(){this.modelCache={},r.default.extend(this,o.default.Events),this.count=0}return t.prototype.on=function(t,e,n){},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.getInstance=function(){return t.mediaUploadTrackerInstance||(t.mediaUploadTrackerInstance=new t),t.mediaUploadTrackerInstance},t.on=function(e,n,i){return t.getInstance().on(e,n,i)},t.track=function(e){t.getInstance().count++,e.always(t.decrement)},t.decrement=function(){t.getInstance().count--,0===t.getInstance().count&&t.getInstance().trigger(t.EVENTS.MEDIA_UPLOAD_COMPLETE)},t.isUploading=function(){return t.getInstance().count>0},t.containsCachedModel=function(e){return r.default.has(t.getInstance().modelCache,e)},t.getCachedModel=function(e){return r.default.get(t.getInstance().modelCache,e)},t.addCacheDeleteToUploadPromise=function(e){e.uploadPromise.always((function(){delete t.getInstance().modelCache[e.get("id")]}))},t.setCachedModel=function(e){t.containsCachedModel(e.get("id"))||(t.getInstance().modelCache[e.get("id")]=e,e.uploadPromise&&t.addCacheDeleteToUploadPromise(e))},t.EVENTS={MEDIA_UPLOAD_COMPLETE:"COMPLETE"},t}();e.MediaUploadTracker=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getSwapInfoMap=function(t){var e=t.getChildren(),n=e[0],i=e[1],r=n.get("maskInfo"),o=new Map,a=n.get("id"),s=i.get("id");return r.isBaseMaskObject?(o.set(a,{maskInfo:{maskedObjectId:s}}),o.set(s,{maskInfo:{isBaseMaskObject:!0,maskIds:[a]}})):(o.set(s,{maskInfo:{maskedObjectId:a}}),o.set(a,{maskInfo:{isBaseMaskObject:!0,maskIds:[s]}})),o},t.getMaskingPropertiesMap=function(t){var e=new Map,n=1===new Set(t.map((function(t){return t.get("type")}))).size;return t.some((function(t){return t.isAnyShapeComponent()}))?e=this.getShapeMaskMapInfo(t):n&&(e=this.getAlphaMasksMapInfo(t)),e},t.getShapeMaskMapInfo=function(t){for(var e,n=[],i=!0,r=[],o=new Map,a=t.length-1;a>=0;a--){var s={};if("image-component"===(l=t[a]).get("type")&&i)s.isBaseMaskObject=i,i=!1,s.maskIds=n,e=l.get("id");else{var u=l.get("id");n.unshift(u)}r.unshift(s)}for(a=0;a<t.length;a++){var l=t[a];r[a].isBaseMaskObject||(r[a].maskedObjectId=e),o.set(l.get("id"),r[a])}return o},t.getAlphaMasksMapInfo=function(t){var e=new Map,n=t[0].get("id"),i=t[1].get("id"),r={isBaseMaskObject:!0,maskIds:[i]},o={maskedObjectId:n};return e.set(i,o),e.set(n,r),e},t}();e.default=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EditorLayerDocPersister=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o(n(831)).default);e.EditorLayerDocPersister=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(436)),a=function(t,e){this.doc=t,this.opBuilder=e,this.bufferedOps=[],this.bufferedDefer=null,this.originalDocSubmitOp=null,this.wrapDocSubmitOp()};a.prototype={wrapDocSubmitOp:function(){var t=this.doc;this.originalDocSubmitOp=r.default.bind(t.submitOp,t),t.submitOp=r.default.bind(this.flushBufferedOpsAndSubmitOps,this)},saveModelChanges:function(t){var e=this.opBuilder.getOpsForModelChangeSet(t);t.canBuffer()?this.bufferOps(e):this.submitOps(e)},submitLayerOps:function(t,e){t=this.opBuilder.prefixPath(t),this.submitOps(t,e)},submitOps:function(t,e){r.default.isEmpty(t)||this.flushBufferedOpsAndSubmitOps(t,e)},bufferLayerOps:function(t){t=this.opBuilder.prefixPath(t),this.bufferOps(t)},bufferOps:function(t){this.bufferedOps=this.bufferedOps.concat(t),this.deferBufferSubmit()},flushBufferedOpsAndSubmitOps:function(t,e){this.hasBufferedOpsPending()&&(t=this.flushBufferedOps().concat(t));var n=o.default.wrapCallback(e,{snapshot:this.doc.snapshot,docName:this.doc.name,ops:t});this.originalDocSubmitOp(t,n)},deferBufferSubmit:function(){null===this.bufferedDefer&&this.hasBufferedOpsPending()&&(this.bufferedDefer=r.default.defer(r.default.bind(this.submitBufferedOps,this)))},submitBufferedOps:function(){var t=this.flushBufferedOps();r.default.isEmpty(t)||this.originalDocSubmitOp(t)},flushBufferedOps:function(){var t=this.bufferedOps;return this.bufferedOps=[],clearTimeout(this.bufferedDefer),this.bufferedDefer=null,t},hasBufferedOpsPending:function(){return!r.default.isEmpty(this.bufferedOps)}},e.default=a},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(833)),s=function(t){r.default.extend(this,o.default.Events),this.layerDictionary=t.layerDictionary,this.layerHierarchies=t.layerHierarchies,this.layerSaveHandler=t.layerSaveHandler,this.layerOpBuilder=t.layerOpBuilder};s.prototype.findLayerById=function(t){return this.layerDictionary.findLayerById(t)},s.prototype.layerHierarchiesContainSmartgroup=function(t){var e=this,n=this.layerHierarchies.getLayerHierarchies(),i=!1;if(r.default.isEmpty(t))return!1;var o=function(n){var a=e.layerDictionary.findLayerById(n.id);return a&&a.smartgroupId===t?i=!0:n.items&&n.items.length>0&&r.default.each(n.items,o),!i};return r.default.each(n,(function(t,e){return r.default.each(t,o),!i})),i},s.prototype.addVariantToOverrides=function(t){return this.layerDictionary.addVariantToOverrides(t)},s.prototype.deleteVariantOverrides=function(t){return this.layerDictionary.deleteVariantOverrides(t)},s.prototype.handleSmartgroupMetricChange=function(t){var e=this,n=this.layerDictionary.getLayerDictionary(),i=r.default.cloneDeep(r.default.pickBy(n,(function(e,n){return e.smartgroupId===t})));r.default.each(i,(function(n,i){var o=a.default.getExtentsForSmartgroup(t),s=n.width/100,u=n.height/100,l=s*o.x1,c=u*o.y1,d=n.rotation;if(d){var f=Math.rotateCoord(l,c,0,0,-Math.toRad(d));l=f.x,c=f.y}var h=n.x,p=n.y,g=h+l,m=p+c;e.layerDictionary.setLayerDictionaryProperty(i,"x",g),e.layerDictionary.setLayerDictionaryProperty(i,"y",m),r.default.each(n.overrides,(function(t,e){var n=t.width?t.width/100:s,i=t.height?t.height/100:u,r=t.rotation||d,a=n*o.x1,l=i*o.y1;if(r){var c=Math.rotateCoord(a,l,0,0,-Math.toRad(r));a=c.x,l=c.y}var f=t.x||h,g=t.y||p;t.x=f+a,t.y=g+l})),e.layerDictionary.setLayerDictionaryProperty(i,"overrides",n.overrides)}))},s.prototype.determineWhichLayerIdsAreInMultipleHierarchies=function(t){return this.layerHierarchies.determineWhichLayerIdsAreInMultipleHierarchies(t)},s.prototype.isComponentUsedInMultipleVariants=function(t){return this.layerHierarchies.determineWhichLayerIdsAreInMultipleHierarchies([t])[t].inMultipleHierarchies},s.prototype.createNewVariantHierarchy=function(t){this.layerHierarchies.createNewVariantHierarchy(t)},s.prototype.deleteVariantHierarchy=function(t){this.layerHierarchies.deleteVariantHierarchy(t)},s.prototype.getIdArrayForHierarchy=function(t){var e=this.layerHierarchies.getLayerHierarchies()[t],n=[];return r.default.each(e,(function t(e){n.push(e.id),e.items&&r.default.each(e.items,t)})),n},s.prototype.findAllSmartgroupDefinitionIdsOnPage=function(){var t=this,e=this.layerHierarchies.getLayerHierarchies(),n=[],i=function(e){var o=t.layerDictionary.findLayerById(e.id);o&&o.smartgroupId?n.push(o.smartgroupId):e.items&&e.items.length>0&&r.default.each(e.items,i)};return r.default.each(e,(function(t){r.default.each(t,i)})),n},s.prototype.isComponentIdInVariant=function(t,e,n){var i=this,r=this.layerHierarchies.getLayerHierarchies();if(r[e]){var o=function(n){return n.id===t||(n.items?!!i.isComponentIdInVariant(t,e,n.items):void 0)};return n?!!n.find(o):!!r[e].find(o)}return!1},s.prototype.getLayerIdsNotInVariant=function(t){return this.layerHierarchies.getLayerIdsNotInVariant(t)},s.prototype.setEditableValueOnLayersById=function(t,e){return this.layerDictionary.setEditableValueOnLayersById(t,e)},e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=null,a=null,s={initialize:function(t,e){o=t,a=e},getObjectViewsForSmartgroup:function(t){return r.default.has(a,t)?a[t]:[]},setObjectViewsForSmartgroup:function(t,e){this.closeObjectViewsForSmartgroup(t),a[t]=e},closeObjectViews:function(){a&&r.default.each(a,(function(t){r.default.each(t,(function(t){t.close()}))}))},closeObjectViewsForSmartgroup:function(t){if(r.default.has(a,t)){var e=a[t];r.default.each(e,(function(t){t.close()})),delete a[t]}},getExtentsForSmartgroup:function(t){return o.getSmartgroupDefinition(t).getExtents()},getLayersForSmartgroup:function(t){return o.getSmartgroupDefinition(t).layers},getSmartgroupDefinition:function(t){return o.getSmartgroupDefinition(t)}};e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(452)),s=n(835);e.default=o.default.Model.extend({initialize:function(t){this.doc=t.doc,this.index=t.index,this.isSmartgroupDictionary=t.isSmartgroupDictionary},getLayerDictionary:function(){return this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at("layerDictionary").get():this.doc.at("layerDictionary").get()},setLayerDictionary:function(t){this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at("layerDictionary").set(t):this.doc.at("layerDictionary").set(t)},setEditableValueOnLayersById:function(t,e){var n=this,i=t.map((function(t){return n.findLayerById(t)})),o=[];r.default.forOwn(i,(function(t,n){if(s.layerObjectCanBeEditable(t)){var i=r.default.cloneDeep(t.overrides),a=t.id;r.default.forEach(i,(function(e,n){if(t.overrides[n]&&!r.default.isUndefined(t.overrides[n].editable)){var i={p:["layerDictionary",a,"overrides",n,"editable"],oi:void 0,od:t.overrides[n].editable};o.push(i)}})),o.push({p:["layerDictionary",a,"editable"],oi:e,od:t.editable})}})),a.default.submitOpsInBatches(this.doc,o)},setLayerDictionaryProperty:function(t,e,n){this.isSmartgroupDictionary?this.doc.at("smartgroups").at(this.index).at("layerDictionary").at(t).at(e).set(n):this.doc.at("layerDictionary").at(t).at(e).set(n)},findLayerById:function(t){var e=this.getLayerDictionary();return e?e[t]:null},addVariantToOverrides:function(t){var e=t.newVariantName,n=t.sourceVariantName,i=this.getLayerDictionary(),o=this,s=[];return r.default.forOwn(i,(function(t,i){r.default.isUndefined(t.overrides)&&(t.overrides={});var a=r.default.cloneDeep(t.overrides),u="desktop"===n?{}:a[n];t.overrides[e]=u,o.isSmartgroupDictionary||s.push({p:["layerDictionary",i,"overrides"],oi:t.overrides,od:a})})),a.default.submitOpsInBatches(this.doc,s)},deleteVariantOverrides:function(t){var e=this.getLayerDictionary(),n=this,i=[];return r.default.forOwn(e,(function(e,o){var a=r.default.cloneDeep(e.overrides);e.overrides[t]={},n.isSmartgroupDictionary||i.push({p:["layerDictionary",o,"overrides"],oi:e.overrides,od:a})})),a.default.submitOpsInBatches(this.doc,i)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.layerObjectCanBeEditable=void 0,e.layerObjectCanBeEditable=function(t){return"text-component"===t.type||"text-plus-component"===t.type||"image-component"===t.type}},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13));e.default=o.default.Model.extend({initialize:function(t){this.doc=t.doc,this.index=t.index,this.isSmartgroupHierarchy=t.isSmartgroupHierarchy},getLayerHierarchies:function(){var t;return t=this.isSmartgroupHierarchy?this.doc.at("smartgroups").at(this.index).at("layerHierarchies").get():this.doc.at("layerHierarchies").get(),r.default.cloneDeep(t)},setLayerHierarchies:function(t){this.isSmartgroupHierarchy?this.doc.at("smartgroups").at(this.index).at("layerHierarchies").set(t):this.doc.at("layerHierarchies").set(t)},determineWhichLayerIdsAreInMultipleHierarchies:function(t){var e={};if(r.default.isEmpty(t))return e;var n={},i=!1;function o(t){return t.id in n&&(e[t.id].inAtLeastOneHierarchy=!0,n[t.id]++,n[t.id]>1&&(e[t.id].inMultipleHierarchies=!0,delete n[t.id],0===r.default.size(n)))?(i=!0,!1):(t.items&&r.default.each(t.items,o),!i&&void 0)}r.default.each(t,(function(t){e[t]={inAtLeastOneHierarchy:!1,inMultipleHierarchies:!1},n[t]=0}));var a=this.getLayerHierarchies();return r.default.each(a,(function(t){if(r.default.each(t,o),i)return!1})),e},createNewVariantHierarchy:function(t){var e=this.getLayerHierarchies();e[t.newVariantName]=r.default.cloneDeep(e[t.sourceVariantName]),this.setLayerHierarchies(e)},deleteVariantHierarchy:function(t){var e=this.getLayerHierarchies();delete e[t],this.setLayerHierarchies(e)},getLayerIdsNotInVariant:function(t){var e=this.getLayerHierarchies(),n=r.default.omit(e,[t]),i=new Set,o=new Set;function a(t,e,n){void 0===n&&(n=function(t){return!0}),r.default.forEach(e,(function(e){n(e.id)&&t.add(e.id),e.items&&a(t,e.items,n)}))}return a(o,e[t]),r.default.forEach(n,(function(t){a(i,t,(function(t){return!o.has(t)}))})),Array.from(i)}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(3)),o=i(n(0)),a=i(n(61)),s=i(n(142)),u=i(n(116)),l=i(n(130)),c=i(n(838));e.default=u.default.extend({className:"splash-screen loading",lastAnimationId:null,initialize:function(){u.default.prototype.initialize.call(this),this.options=o.default.extend({autoContrastForegroundColor:"#FFFFFF",foregroundColor:"white",backgroundColor:"#161616",previewLabelBackgroundColor:"none",borderRadius:5,revolutionsPerSecond:1.2,fadeOutSpeed:"fast",whiteLabeling:!0,showPreviewLabel:!1,showEditorLabel:!1},this.options),this.options.degreesPerTick=360/(60*this.options.revolutionsPerSecond)},render:function(){this.$el.empty(),this.$el.html(a.default.render(c.default,{whiteLabeling:this.options.whiteLabeling&&!this.options.showPreviewLabel,showPreviewLabel:this.options.showPreviewLabel,showEditorLabel:this.options.showEditorLabel})).show(),this.$spinner=this.$el.find(".spinner");var t=this.$el.find(".branding-logo"),e=this.$el.find(".notice");this.options.overlayed&&this.$spinner.addClass("overlayed"),this.$spinner.css({borderRadius:this.options.borderRadius,backgroundColor:this.options.backgroundColor}),this.renderSpinnerCanvas(),t.css({color:this.options.autoContrastForegroundColor}),e.css({backgroundColor:this.options.previewLabelBackgroundColor,color:this.options.foregroundColor}),this.scale(),s.default.getInstance().on("change",this.repositionForEmbed,this),this.repositionForEmbed()},start:function(){o.default.isNull(this.lastAnimationId)&&(this.lastAnimationId=requestAnimationFrame(this._draw))},stop:function(){o.default.isNull(this.lastAnimationId)||(cancelAnimationFrame(this.lastAnimationId),this.lastAnimationId=null)},scale:function(){this.$el.width()<100||this.$el.height()<100?this.$el.find("div.loading-container").addClass("small"):this.$el.find("div.loading-container").removeClass("small")},repositionForEmbed:function(){var t=s.default.getInstance();if(t.isActive()){var e=Math.max(0,t.getTop()),n=Math.min(r.default(window).height(),t.getBottom());this.$el.css({top:e+"px",height:n-e+"px"}),this.scale()}},renderSpinnerCanvas:function(){var t=Math.round(64/12),e=r.default('<canvas width="64" height="64"></canvas>');this.$spinner.append(e);var n=e[0].getContext("2d"),i=0,o=!1,a=this,s=32-t-1;this._draw=function(){var e,r,u=-.5*Math.PI;n.save(),n.fillStyle=a.options.backgroundColor,n.fillRect(0,0,64,64),n.lineWidth=t;var c=l.default.fromHex(a.options.autoContrastForegroundColor);c.a=.1,n.strokeStyle=c.toString(),n.beginPath(),n.arc(32,32,s,0,2*Math.PI,!0),n.stroke(),0===i&&o?(e=u,r=u+2*Math.PI):(e=o?u+Math.PI/180*i:u,r=o?u:u+Math.PI/180*i),n.strokeStyle=a.options.autoContrastForegroundColor,n.beginPath(),n.arc(32,32,s,e,r,!1),n.stroke(),n.restore(),(i+=a.options.degreesPerTick)>359&&(i=0,o=!o),a.lastAnimationId=requestAnimationFrame(a._draw)}},_remove:function(){this.$el.remove()},destroy:function(){this.stop(),this._remove(),s.default.getInstance().off("change",this.repositionForEmbed,this)}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="loading-container">\n    <div class="spinner"></div>\n    {{^whiteLabeling}}\n    <div class="branding-logo"></div>\n    {{/whiteLabeling}}\n    {{#showPreviewLabel}}\n    <div class="notice">REAL-TIME PREVIEW</div>\n    {{/showPreviewLabel}}\n    {{#showEditorLabel}}\n    <div class="notice editor">EDITOR</div>\n    {{/showEditorLabel}}\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(55)),o=i(n(116)),a=i(n(8)),s=i(n(61)),u=i(n(840)),l=i(n(841));e.default=o.default.extend({className:"splash-screen unavailable",events:{"click button.contact":"handleContactClick"},initialize:function(){o.default.prototype.initialize.call(this),this.render()},render:function(){var t=a.default.previewMode?u.default:l.default;this.$el.html(s.default.render(t))},handleContactClick:function(t){t.preventDefault();var e=r.default.appendQueryParams("http://www3.ceros.com/expiredaccount",{account:a.default.accountSlug});window.open(e)}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal unavailable modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">Your Ceros subscription expired</span>\n        <span class="notice">Get in touch with our helpful team who will rectify this in no time</span>\n        <button class="submit contact">Get in touch</button>\n    <div>\n</div>\n'},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon no-entry-icon"></span>\n        <span class="notice important">This experience has been removed by the publisher</span>\n    <div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(843));e.default=r.default.extend({className:"deleted-page-warning",importantText:"Page not available",descriptiveText:"This page is no longer available.<br/>Please try reloading.",buttonText:"Reload",initialize:function(){r.default.prototype.initialize.call(this)},onDismissHandler:function(){window.location.reload()}})},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(116)),a=i(n(61)),s=i(n(844));e.default=o.default.extend({className:"warning",module:null,showBranding:!1,importantText:"",descriptiveText:"",buttonText:"Dismiss",initialize:function(){o.default.prototype.initialize.call(this),this.module=this.options.module},render:function(){this.$el.html(a.default.render(s.default,{showBranding:this.showBranding,importantText:this.importantText,descriptiveText:this.descriptiveText,buttonText:this.buttonText})),this.bindEvents()},bindEvents:function(){this.bindInteraction(this.$el.find("button.dismiss"),r.default.bind((function(t){t.preventDefault(),this.onDismissHandler()}),this))},onDismissHandler:function(){}})},function(t,e,n){"use strict";n.r(e),e.default='<div class="warning-modal embedded-previewer overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n</div>\n<div class="warning-modal embedded-previewer modal">\n    <div>\n        {{#showBranding}}<div class="branding-logo"></div>{{/showBranding}}\n        <span class="notice important">{{importantText}}</span>\n        <span class="notice">{{{descriptiveText}}}</span>\n        <button class="submit dismiss">{{buttonText}}</button>\n    </div>\n</div>\n'},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(13)),o=i(n(0)),a=i(n(846)),s=r.default.Model.extend({getSlug:function(){var t=r.default.Model.prototype.get.call(this,"uri");return o.default.last(t.split("/"))}});o.default.extend(s.prototype,a.default),e.default=s},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(13)),a=i(n(84));e.default={setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},get:function(t,e){var n=e&&e.variant?e.variant:a.default.getVariant();return"overrides"===t||"desktop"===n?this.nonVariantGet(t):this.getVariantAttribute(n,t,e)},getVariantAttribute:function(t,e,n){var i=!n||!n.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&i?this.nonVariantGet(e):a},nonVariantGet:function(t){return(this.ParentModel?this.ParentModel:o.default.Model).prototype.get.call(this,t)}}},function(t,e,n){"use strict";
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/!function(t){var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var n=t.document;if(n.querySelector){var i,r,o,a,s=n.querySelector("meta[name=viewport]"),u=s&&s.getAttribute("content"),l=u+",maximum-scale=1",c=u+",maximum-scale=10",d=!0;s&&(t.addEventListener("orientationchange",f,!1),t.addEventListener("devicemotion",(function(e){a=e.accelerationIncludingGravity,i=Math.abs(a.x),r=Math.abs(a.y),o=Math.abs(a.z),t.orientation&&180!==t.orientation||!(i>7||(o>6&&r<8||o<8&&r>6)&&i>5)?d||f():d&&(s.setAttribute("content",l),d=!1)}),!1))}}function f(){s.setAttribute("content",c),d=!0}}(window)},function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SecurityUtils=void 0;var r=i(n(8)),o=i(n(48)),a=n(52),s=function(){function t(){}return t.removeWindowEval=function(){o.default.hasFeature(a.FeatureFlagName.REMOVE_WINDOW_EVAL)&&r.default.useOptimizedJs&&window.eval&&(window.eval=function(){})},t}();e.SecurityUtils=s},function(t,e,n){},function(t,e,n){"use strict";
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function i({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",(t,r)=>{if(!e())return;const o="function"==typeof r.composedPath?r.composedPath():[];for(const t of i)if(t.contains(r.target)||o.includes(t))return;n()})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function r(t){t.set("_isCssTransitionsDisabled",!1),t.disableCssTransitions=()=>{t._isCssTransitionsDisabled=!0},t.enableCssTransitions=()=>{t._isCssTransitionsDisabled=!1},t.extendTemplate({attributes:{class:[t.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function o({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}n.r(e),n.d(e,"clickOutsideHandler",(function(){return i})),n.d(e,"injectCssTransitionDisabler",(function(){return r})),n.d(e,"submitHandler",(function(){return o})),n.d(e,"BodyCollection",(function(){return V})),n.d(e,"ButtonView",(function(){return W})),n.d(e,"SwitchButtonView",(function(){return z})),n.d(e,"getLocalizedColorOptions",(function(){return $})),n.d(e,"normalizeColorOptions",(function(){return q})),n.d(e,"normalizeSingleColorDefinition",(function(){return Y})),n.d(e,"ColorGridView",(function(){return nt})),n.d(e,"ColorTileView",(function(){return X})),n.d(e,"DropdownButtonView",(function(){return it})),n.d(e,"SplitButtonView",(function(){return rt})),n.d(e,"createDropdown",(function(){return Pt})),n.d(e,"addToolbarToDropdown",(function(){return Ct})),n.d(e,"addListToDropdown",(function(){return At})),n.d(e,"EditorUIView",(function(){return xt})),n.d(e,"BoxedEditorUIView",(function(){return kt})),n.d(e,"InlineEditableUIView",(function(){return Rt})),n.d(e,"FormHeaderView",(function(){return Nt})),n.d(e,"FocusCycler",(function(){return Q})),n.d(e,"IconView",(function(){return B})),n.d(e,"InputTextView",(function(){return Dt})),n.d(e,"IframeView",(function(){return Lt})),n.d(e,"LabelView",(function(){return It})),n.d(e,"LabeledFieldView",(function(){return jt})),n.d(e,"createLabeledInputText",(function(){return Ft})),n.d(e,"createLabeledDropdown",(function(){return Vt})),n.d(e,"ListItemView",(function(){return Ot})),n.d(e,"ListView",(function(){return St})),n.d(e,"Notification",(function(){return Bt})),n.d(e,"Model",(function(){return Ht})),n.d(e,"BalloonPanelView",(function(){return Yt})),n.d(e,"ContextualBalloon",(function(){return Qt})),n.d(e,"StickyPanelView",(function(){return ie})),n.d(e,"TooltipView",(function(){return U})),n.d(e,"Template",(function(){return _})),n.d(e,"ToolbarView",(function(){return _t})),n.d(e,"ToolbarSeparatorView",(function(){return pt})),n.d(e,"enableToolbarKeyboardFocus",(function(){return re})),n.d(e,"normalizeToolbarConfig",(function(){return vt})),n.d(e,"BalloonToolbar",(function(){return se})),n.d(e,"BlockToolbar",(function(){return fe})),n.d(e,"View",(function(){return p})),n.d(e,"ViewCollection",(function(){return c}));var a=n(1),s=n(9),u=n(15),l=n(100);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class c extends l.default{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(t,e,n)=>{this._renderViewIntoCollectionParent(e,n)}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...t){if(!t.length||!t.every(t=>"string"==typeof t))throw new a.default("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",(n,i)=>{for(const n of t)i.delegate(n).to(e)}),this.on("remove",(n,i)=>{for(const n of t)i.stopDelegating(n,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}var d=n(118),f=n(35),h=n(53);n(56);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class p{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new l.default,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=_.bind(this,this)}createCollection(t){const e=new c(t);return this._viewCollections.add(e),e}registerChild(t){Object(h.a)(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){Object(h.a)(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new _(t)}extendTemplate(t){_.extend(this.template,t)}render(){if(this.isRendered)throw new a.default("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Object(s.default)(p,d.a),Object(s.default)(p,f.default);var g=n(150),m=n(16),v=n(226),y=n(76);class _{constructor(t){Object.assign(this,x(A(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new a.default("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)N(n)?yield n:D(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new w({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,r)=>new T({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:r})}}static extend(t,e){if(t._isRendered)throw new a.default("template-extend-render",[this,t]);!function t(e,n){n.attributes&&(e.attributes||(e.attributes={}),M(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),M(e.eventListeners,n.eventListeners));n.text&&e.text.push(...n.text);if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new a.default("ui-template-extend-children-mismatch",e);let i=0;for(const r of n.children)t(e.children[i++],r)}}(t,x(A(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new a.default("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),S(this.text)?this._bindToObservable({schema:this.text,updater:E(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,r;if(!this.attributes)return;const o=t.node,a=t.revertData;for(e in this.attributes)if(i=o.getAttribute(e),n=this.attributes[e],a&&(a.attributes[e]=i),r=Object(m.a)(n[0])&&n[0].ns?n[0].ns:null,S(n)){const s=r?n[0].value:n;a&&j(e)&&s.unshift(i),this._bindToObservable({schema:s,updater:P(o,e,r),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(a&&i&&j(e)&&n.unshift(i),n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(k,""),R(n)||o.setAttributeNS(r,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const r=t[i];S(r)?this._bindToObservable({schema:[r],updater:C(n,i),data:e}):n.style[i]=r}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let r=0;for(const o of this.children)if(L(o)){if(!i){o.setParent(e);for(const t of o)n.appendChild(t.element)}}else if(N(o))i||(o.isRendered||o.render(),n.appendChild(o.element));else if(Object(g.a)(o))n.appendChild(o);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),o._renderNode({node:n.childNodes[r++],isApplying:!0,revertData:e})}else n.appendChild(o.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,r]=e.split("@");return n.activateDomEventListener(i,r,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;O(t,e,n);const r=t.filter(t=>!R(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(r)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Object(s.default)(_,u.default);class b{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>O(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class w extends b{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class T extends b{getValue(t){return!R(super.getValue(t))&&(this.valueIfTrue||!0)}}function S(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(S):t instanceof b)}function O(t,e,{node:n}){let i=function(t,e){return t.map(t=>t instanceof b?t.getValue(e):t)}(t,n);i=1==t.length&&t[0]instanceof T?i[0]:i.reduce(k,""),R(i)?e.remove():e.set(i)}function E(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function P(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function C(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function A(t){return Object(v.a)(t,t=>{if(t&&(t instanceof b||D(t)||N(t)||L(t)))return t})}function x(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=Object(y.default)(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)I(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=Object(y.default)(t[e].value)),I(t,e)}(t.attributes);const e=[];if(t.children)if(L(t.children))e.push(t.children);else for(const n of t.children)D(n)||N(n)||Object(g.a)(n)?e.push(n):e.push(new _(n));t.children=e}return t}function I(t,e){t[e]=Object(y.default)(t[e])}function k(t,e){return R(e)?t:R(t)?e:`${t} ${e}`}function M(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function R(t){return!t&&0!==t}function N(t){return t instanceof p}function D(t){return t instanceof _}function L(t){return t instanceof c}function j(t){return"class"==t||"style"==t}var F=n(254);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class V extends c{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new _({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=Object(F.a)(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class B extends p{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class U extends p{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}var H=n(80),G=n(26);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class W extends p{constructor(t){super(t);const e=this.bindTemplate,n=Object(H.a)();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new B,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+n,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.to("isOn",t=>!!this.isToggleable&&String(t))},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new U;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new p,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new p;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>Object(G.b)(t))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=Object(G.b)(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class z extends W{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new p;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function $(t,e){const n=t.t,i={Black:n("Black"),"Dim grey":n("Dim grey"),Grey:n("Grey"),"Light grey":n("Light grey"),White:n("White"),Red:n("Red"),Orange:n("Orange"),Yellow:n("Yellow"),"Light green":n("Light green"),Green:n("Green"),Aquamarine:n("Aquamarine"),Turquoise:n("Turquoise"),"Light blue":n("Light blue"),Blue:n("Blue"),Purple:n("Purple")};return e.map(t=>{const e=i[t.label];return e&&e!=t.label&&(t.label=e),t})}function q(t){return t.map(Y).filter(t=>!!t)}function Y(t){return"string"==typeof t?{model:t,label:t,hasBorder:!1,view:{name:"span",styles:{color:t}}}:{model:t.color,label:t.label||t.color,hasBorder:void 0!==t.hasBorder&&t.hasBorder,view:{name:"span",styles:{color:""+t.color}}}}var K=n(12);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class X extends W{constructor(t){super(t);const e=this.bindTemplate;this.set("color"),this.set("hasBorder"),this.icon=K.default,this.extendTemplate({attributes:{style:{backgroundColor:e.to("color")},class:["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-table__color-tile_bordered")]}})}render(){super.render(),this.iconView.fillColor="hsl(0, 0%, 100%)"}}var J=n(79),Z=n(38);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Q{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(tt)||null}get last(){return this.focusables.filter(tt).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(tt(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function tt(t){return!(!t.focus||"none"==Z.a.window.getComputedStyle(t.element).display)}var et=n(112);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class nt extends p{constructor(t,e){super(t);const n=e&&e.colorDefinitions||[],i={};e&&e.columns&&(i.gridTemplateColumns=`repeat( ${e.columns}, 1fr)`),this.set("selectedColor"),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new et.default,this._focusCycler=new Q({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowleft",focusNext:"arrowright"}}),this.items.on("add",(t,e)=>{e.isOn=e.color===this.selectedColor}),n.forEach(t=>{const e=new X;e.set({color:t.color,label:t.label,tooltip:!0,hasBorder:t.options.hasBorder}),e.on("execute",()=>{this.fire("execute",{value:t.color,hasBorder:t.options.hasBorder,label:t.label})}),this.items.add(e)}),this.setTemplate({tag:"div",children:this.items,attributes:{class:["ck","ck-color-grid"],style:i}}),this.on("change:selectedColor",(t,e,n)=>{for(const t of this.items)t.isOn=t.color===n})}focus(){this.items.length&&this.items.first.focus()}focusLast(){this.items.length&&this.items.last.focus()}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class it extends W{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new B;return t.content=K.default,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class rt extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new et.default,this.focusTracker=new J.default,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",t=>!t),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}focus(){this.actionView.focus()}_createActionView(){const t=new W;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new W,e=t.bindTemplate;return t.icon=K.default,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",t=>String(t))}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ot extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>"ck-dropdown__panel_"+t),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}var at=n(39);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */var st=n(272),ut=n(62);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function lt({element:t,target:e,positions:n,limiter:i,fitInViewport:r}){Object(ut.a)(e)&&(e=e()),Object(ut.a)(i)&&(i=i());const o=function(t){return t&&t.parentNode?t.offsetParent===Z.a.document.body?null:t.offsetParent:null}(t),a=new at.a(t),s=new at.a(e);let u,l;if(i||r){const t=function(t,e){const{elementRect:n,viewportRect:i}=e,r=n.getArea(),o=function(t,{targetRect:e,elementRect:n,limiterRect:i,viewportRect:r}){const o=[],a=n.getArea();for(const s of t){const t=ct(s,e,n);if(!t)continue;const[u,l]=t;let c=0,d=0;if(i)if(r){const t=i.getIntersection(r);t&&(c=t.getIntersectionArea(l))}else c=i.getIntersectionArea(l);r&&(d=r.getIntersectionArea(l));const f={positionName:u,positionRect:l,limiterIntersectArea:c,viewportIntersectArea:d};if(c===a)return[f];o.push(f)}return o}(t,e);if(i){const t=dt(o.filter(({viewportIntersectArea:t})=>t===r),r);if(t)return t}return dt(o,r)}(n,{targetRect:s,elementRect:a,limiterRect:i&&new at.a(i).getVisible(),viewportRect:r&&new at.a(Z.a.window)});[l,u]=t||ct(n[0],s,a)}else[l,u]=ct(n[0],s,a);let c=ft(u);return o&&(c=function({left:t,top:e},n){const i=ft(new at.a(n)),r=Object(st.a)(n);return t-=i.left,e-=i.top,t+=n.scrollLeft,e+=n.scrollTop,t-=r.left,e-=r.top,{left:t,top:e}}(c,o)),{left:c.left,top:c.top,name:l}}function ct(t,e,n){const i=t(e,n);if(!i)return null;const{left:r,top:o,name:a}=i;return[a,n.clone().moveTo(r,o)]}function dt(t,e){let n,i,r=0;for(const{positionName:o,positionRect:a,limiterIntersectArea:s,viewportIntersectArea:u}of t){if(s===e)return[o,a];const t=u**2+s**2;t>r&&(r=t,n=a,i=o)}return n?[i,n]:null}function ft({left:t,top:e}){const{scrollX:n,scrollY:i}=Z.a.window;return{left:t+n,top:e+i}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class ht extends p{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new et.default,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&("auto"===this.panelPosition?this.panelView.position=ht._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:i,northEast:r,northWest:o,southMiddleEast:a,southMiddleWest:s,northMiddleEast:u,northMiddleWest:l}=ht.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,i,a,s,t,r,o,u,l,e]:[i,n,s,a,t,o,r,l,u,e]}}ht.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},ht._getOptimalPosition=lt;
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class pt extends p{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class gt extends p{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var mt=n(162);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function vt(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}var yt=n(10);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class _t extends p{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;this.options=e||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new et.default,this.set("class"),this.set("isCompact",!1),this.itemsView=new bt(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const r="rtl"===t.uiLanguageDirection;this._focusCycler=new Q({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[r?"arrowright":"arrowleft","arrowup"],focusNext:[r?"arrowleft":"arrowright","arrowdown"]}});const o=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var a;this.options.shouldGroupWhenFull&&this.options.isFloating&&o.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:o,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(a=this,a.bindTemplate.to(t=>{t.target===a.element&&t.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Tt(this):new wt(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){const n=vt(t),i=n.items.filter((t,i,r)=>"|"===t||-1===n.removeItems.indexOf(t)&&("-"===t?!this.options.shouldGroupWhenFull||(Object(a.logWarning)("toolbarview-line-break-ignored-when-grouping-items",r),!1):!!e.has(t)||(Object(a.logWarning)("toolbarview-item-unavailable",{name:t}),!1))),r=this._cleanSeparators(i).map(t=>"|"===t?new pt:"-"===t?new gt:e.create(t));this.items.addMany(r)}_cleanSeparators(t){const e=t=>"-"!==t&&"|"!==t,n=t.length,i=t.findIndex(e),r=n-t.slice().reverse().findIndex(e);return t.slice(i,r).filter((t,n,i)=>{if(e(t))return!0;return!(n>0&&i[n-1]===t)})}}class bt extends p{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class wt{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(t=>t),t.focusables.bindTo(t.items).using(t=>t),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Tt{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(t,e)=>{const n=e.index;for(const t of e.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(t):this.ungroupedItems.remove(t);for(let t=n;t<n+e.added.length;t++){const i=e.added[t-n];t>this.ungroupedItems.length?this.groupedItems.add(i,t-this.ungroupedItems.length):this.ungroupedItems.add(i,t)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new at.a(t.lastChild),i=new at.a(t);if(!this.cachedPadding){const n=Z.a.window.getComputedStyle(t),i="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}return"ltr"===e?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new mt.a(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new pt),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=Pt(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Ct(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:yt.icons.threeVerticalDots}),n.toolbarView.items.bindTo(this.groupedItems).using(t=>t),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class St extends p{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new J.default,this.keystrokes=new et.default,this._focusCycler=new Q({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ot extends p{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Et extends p{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(653);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Pt(t,e=it){const n=new e(t),r=new ot(t),o=new ht(t,n,r);return n.bind("isEnabled").to(o),n instanceof it?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",()=>{i({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof z||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(o),o}function Ct(t,e){const n=t.locale,i=n.t,r=t.toolbarView=new _t(n);r.set("ariaLabel",i("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(t=>r.items.add(t)),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function At(t,e){const n=t.locale,i=t.listView=new St(n);i.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new Et(n);if("button"===t||"switchbutton"===t){const i=new Ot(n);let r;return r="button"===t?new W(n):new z(n),r.bind(...Object.keys(e)).to(e),r.delegate("execute").to(i),i.children.add(r),i}}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(654);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class xt extends p{constructor(t){super(t),this.body=new V(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class It extends p{constructor(t){super(t),this.set("text"),this.set("for"),this.id="ck-editor__label_"+Object(H.a)();const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class kt extends xt{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new It;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Mt extends p{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",(t,r,o)=>{o?n(i):e(i)})}(this):e(this)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Rt extends Mt{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("Rich Text Editor, %0",this.name),i)})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Nt extends p{constructor(t,e={}){super(t);const n=this.bindTemplate;this.set("label",e.label||""),this.set("class",e.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children});const i=new p(t);i.setTemplate({tag:"span",attributes:{class:["ck","ck-form__header__label"]},children:[{text:n.to("label")}]}),this.children.add(i)}}n(655);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Dt extends p{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new J.default,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input"),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class Lt extends p{constructor(t){super(t);const e=this.bindTemplate;this.setTemplate({tag:"iframe",attributes:{class:["ck","ck-reset_all"],sandbox:"allow-same-origin allow-scripts"},on:{load:e.to("loaded")}})}render(){return new Promise(t=>{this.on("loaded",t),super.render()})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class jt extends p{constructor(t,e){super(t);const n="ck-labeled-field-view-"+Object(H.a)(),i="ck-labeled-field-view-status-"+Object(H.a)();this.fieldView=e(this,n,i),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const r=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",r.to("class"),r.if("isEnabled","ck-disabled",t=>!t),r.if("isEmpty","ck-labeled-field-view_empty"),r.if("isFocused","ck-labeled-field-view_focused"),r.if("placeholder","ck-labeled-field-view_placeholder"),r.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(t){const e=new It(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new p(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ft(t,e,n){const i=new Dt(t.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isReadOnly").to(t,"isEnabled",t=>!t),i.bind("hasError").to(t,"errorText",t=>!!t),i.on("input",()=>{t.errorText=null}),t.bind("isEmpty","isFocused","placeholder").to(i),i}function Vt(t,e,n){const i=Pt(t.locale);return i.set({id:e,ariaDescribedById:n}),i.bind("isEnabled").to(t),i}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Bt extends yt.ContextPlugin{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e="show:"+t.type+(t.namespace?":"+t.namespace:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}var Ut=n(174);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class Ht{constructor(t,e){e&&Object(Ut.a)(this,e),t&&this.set(t)}}Object(s.default)(Ht,f.default);var Gt=n(190),Wt=n(102),zt=n(188);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
const $t=Object(Wt.a)("px"),qt=Z.a.document.body;class Yt extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>"ck-balloon-panel_"+t),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",$t),left:e.to("left",$t)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Yt.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:qt,fitInViewport:!0},t),i=Yt._getOptimalPosition(n),r=parseInt(i.left),o=parseInt(i.top),a=i.name;Object.assign(this,{top:o,left:r,position:a})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Kt(t.target),n=t.limiter?Kt(t.limiter):qt;this.listenTo(Z.a.document,"scroll",(i,r)=>{const o=r.target,a=e&&o.contains(e),s=n&&o.contains(n);!a&&!s&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Z.a.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Z.a.document,"scroll"),this.stopListening(Z.a.window,"resize")}}function Kt(t){return Object(zt.a)(t)?t:Object(Gt.a)(t)?t.commonAncestorContainer:"function"==typeof t?Kt(t()):null}function Xt(t,e){return t.top-e.height-Yt.arrowVerticalOffset}function Jt(t){return t.bottom+Yt.arrowVerticalOffset}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */Yt.arrowHorizontalOffset=25,Yt.arrowVerticalOffset=10,Yt._getOptimalPosition=lt,Yt.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.left-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.left-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:Xt(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.left-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.left-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.left+t.width/2-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:Xt(t,e),left:t.right-Yt.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:Xt(t,e),left:t.right-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:Xt(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:Xt(t,e),left:t.right-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:Xt(t,e),left:t.right-e.width+Yt.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:Jt(t),left:t.left-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.left-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:Jt(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.left-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:Jt(t),left:t.left-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Jt(t),left:t.left+t.width/2-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.left+t.width/2-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:Jt(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.left+t.width/2-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:Jt(t),left:t.left+t.width/2-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Jt(t),left:t.right-Yt.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:Jt(t),left:t.right-.25*e.width-Yt.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:Jt(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:Jt(t),left:t.right-.75*e.width+Yt.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:Jt(t),left:t.right-e.width+Yt.arrowHorizontalOffset,name:"arrow_ne"})};const Zt=Object(Wt.a)("px");class Qt extends yt.Plugin{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new Yt(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new a.default("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new a.default("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new a.default("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new te(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[i,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new ee(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>=2?Math.min(t-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class te extends p{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new J.default,this.buttonPrevView=this._createButtonView(e("Previous"),K.default),this.buttonNextView=this._createButtonView(e("Next"),K.default),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new W(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class ee extends p{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:n.to("top",Zt),left:n.to("left",Zt),width:n.to("width",Zt),height:n.to("height",Zt)}},children:this.content}),this.on("change:numberOfPanels",(t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()})}_addPanels(t){for(;t--;){const t=new p;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new at.a(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ne=Object(Wt.a)("px");class ie extends p{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new _({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?ne(this._panelRect.height):null)}}}).render(),this._contentPanel=new _({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?ne(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?ne(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?ne(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Z.a.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ne(-Z.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function re({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:r,afterBlur:o}){n.add(i.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(r&&r(),i.focus(),e())}),i.keystrokes.set("Esc",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),o&&o(),n())})}var oe=n(196);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const ae=Object(Wt.a)("px");class se extends yt.Plugin{static get pluginName(){return"BalloonToolbar"}static get requires(){return[Qt]}constructor(t){super(t),this._balloonConfig=vt(t.config.get("balloonToolbar")),this.toolbarView=this._createToolbarView(),this.focusTracker=new J.default,t.ui.once("ready",()=>{this.focusTracker.add(t.ui.getEditableElement()),this.focusTracker.add(this.toolbarView.element)}),this._resizeObserver=null,this._balloon=t.plugins.get(Qt),this._fireSelectionChangeDebounced=Object(oe.a)(()=>this.fire("_selectionChangeDebounced"),200),this.decorate("show")}init(){const t=this.editor,e=t.model.document.selection;this.listenTo(this.focusTracker,"change:isFocused",(t,e,n)=>{const i=this._balloon.visibleView===this.toolbarView;!n&&i?this.hide():n&&this.show()}),this.listenTo(e,"change:range",(t,n)=>{(n.directChange||e.isCollapsed)&&this.hide(),this._fireSelectionChangeDebounced()}),this.listenTo(this,"_selectionChangeDebounced",()=>{this.editor.editing.view.document.isFocused&&this.show()}),this._balloonConfig.shouldNotGroupWhenFull||this.listenTo(t,"ready",()=>{const e=t.ui.view.editable.element;this._resizeObserver=new mt.a(e,()=>{this.toolbarView.maxWidth=ae(.9*new at.a(e).width)})}),this.listenTo(this.toolbarView,"groupedItemsUpdate",()=>{this._updatePosition()})}afterInit(){const t=this.editor.ui.componentFactory;this.toolbarView.fillFromConfig(this._balloonConfig,t)}_createToolbarView(){const t=!this._balloonConfig.shouldNotGroupWhenFull,e=new _t(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return e.render(),e}show(){const t=this.editor,e=t.model.document.selection,n=t.model.schema;this._balloon.hasView(this.toolbarView)||e.isCollapsed||function(t,e){if(1===t.rangeCount)return!1;return[...t.getRanges()].every(t=>{const n=t.getContainedElement();return n&&e.isSelectable(n)})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(e,n)||Array.from(this.toolbarView.items).every(t=>void 0!==t.isEnabled&&!t.isEnabled)||(this.listenTo(this.editor.ui,"update",()=>{this._updatePosition()}),this._balloon.add({view:this.toolbarView,position:this._getBalloonPositionData(),balloonClassName:"ck-toolbar-container"}))}hide(){this._balloon.hasView(this.toolbarView)&&(this.stopListening(this.editor.ui,"update"),this._balloon.remove(this.toolbarView))}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=e.selection,i=e.selection.isBackward;return{target:()=>{const e=i?n.getFirstRange():n.getLastRange(),r=at.a.getDomRangeRects(t.domConverter.viewRangeToDom(e));return i?r[0]:(r.length>1&&0===r[r.length-1].width&&r.pop(),r[r.length-1])},positions:ue(i)}}_updatePosition(){this._balloon.updatePosition(this._getBalloonPositionData())}destroy(){super.destroy(),this.stopListening(),this._fireSelectionChangeDebounced.cancel(),this.toolbarView.destroy(),this.focusTracker.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}}function ue(t){const e=Yt.defaultPositions;return t?[e.northWestArrowSouth,e.northWestArrowSouthWest,e.northWestArrowSouthEast,e.northWestArrowSouthMiddleEast,e.northWestArrowSouthMiddleWest,e.southWestArrowNorth,e.southWestArrowNorthWest,e.southWestArrowNorthEast,e.southWestArrowNorthMiddleWest,e.southWestArrowNorthMiddleEast]:[e.southEastArrowNorth,e.southEastArrowNorthEast,e.southEastArrowNorthWest,e.southEastArrowNorthMiddleEast,e.southEastArrowNorthMiddleWest,e.northEastArrowSouth,e.northEastArrowSouthEast,e.northEastArrowSouthWest,e.northEastArrowSouthMiddleEast,e.northEastArrowSouthMiddleWest]}const le=Object(Wt.a)("px");class ce extends W{constructor(t){super(t);const e=this.bindTemplate;this.isVisible=!1,this.isToggleable=!0,this.set("top",0),this.set("left",0),this.extendTemplate({attributes:{class:"ck-block-toolbar-button",style:{top:e.to("top",t=>le(t)),left:e.to("left",t=>le(t))}}})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const de=Object(Wt.a)("px");class fe extends yt.Plugin{static get pluginName(){return"BlockToolbar"}constructor(t){super(t),this._blockToolbarConfig=vt(this.editor.config.get("blockToolbar")),this.toolbarView=this._createToolbarView(),this.panelView=this._createPanelView(),this.buttonView=this._createButtonView(),this._resizeObserver=null,i({emitter:this.panelView,contextElements:[this.panelView.element,this.buttonView.element],activator:()=>this.panelView.isVisible,callback:()=>this._hidePanel()})}init(){const t=this.editor;this.listenTo(t.model.document.selection,"change:range",(t,e)=>{e.directChange&&this._hidePanel()}),this.listenTo(t.ui,"update",()=>this._updateButton()),this.listenTo(t,"change:isReadOnly",()=>this._updateButton(),{priority:"low"}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>this._updateButton()),this.listenTo(this.buttonView,"change:isVisible",(t,e,n)=>{n?this.buttonView.listenTo(window,"resize",()=>this._updateButton()):(this.buttonView.stopListening(window,"resize"),this._hidePanel())})}afterInit(){const t=this.editor.ui.componentFactory,e=this._blockToolbarConfig;this.toolbarView.fillFromConfig(e,t);for(const t of this.toolbarView.items)t.on("execute",()=>this._hidePanel(!0),{priority:"high"});e.shouldNotGroupWhenFull||this.listenTo(this.editor,"ready",()=>{const t=this.editor.ui.view.editable.element;this._resizeObserver=new mt.a(t,()=>{this.toolbarView.maxWidth=this._getToolbarMaxWidth()})})}destroy(){super.destroy(),this.panelView.destroy(),this.buttonView.destroy(),this.toolbarView.destroy(),this._resizeObserver&&this._resizeObserver.destroy()}_createToolbarView(){const t=!this._blockToolbarConfig.shouldNotGroupWhenFull,e=new _t(this.editor.locale,{shouldGroupWhenFull:t,isFloating:!0});return e.focusTracker.on("change:isFocused",(t,e,n)=>{n||this._hidePanel()}),e}_createPanelView(){const t=this.editor,e=new Yt(t.locale);return e.content.add(this.toolbarView),e.class="ck-toolbar-container",t.ui.view.body.add(e),t.ui.focusTracker.add(e.element),this.toolbarView.keystrokes.set("Esc",(t,e)=>{this._hidePanel(!0),e()}),e}_createButtonView(){const t=this.editor,e=t.t,n=new ce(t.locale);return n.set({label:e("Edit block"),icon:yt.icons.pilcrow,withText:!1}),n.bind("isOn").to(this.panelView,"isVisible"),n.bind("tooltip").to(this.panelView,"isVisible",t=>!t),this.listenTo(n,"execute",()=>{this.panelView.isVisible?this._hidePanel(!0):this._showPanel()}),t.ui.view.body.add(n),t.ui.focusTracker.add(n.element),n}_updateButton(){const t=this.editor,e=t.model,n=t.editing.view;if(!t.ui.focusTracker.isFocused)return void this._hideButton();if(t.isReadOnly)return void this._hideButton();const i=Array.from(e.document.selection.getSelectedBlocks())[0];if(!i||Array.from(this.toolbarView.items).every(t=>!t.isEnabled))return void this._hideButton();const r=n.domConverter.mapViewToDom(t.editing.mapper.toViewElement(i));this.buttonView.isVisible=!0,this._attachButtonToElement(r),this.panelView.isVisible&&this._showPanel()}_hideButton(){this.buttonView.isVisible=!1}_showPanel(){const t=this.panelView.isVisible;this.panelView.show(),this.toolbarView.maxWidth=this._getToolbarMaxWidth(),this.panelView.pin({target:this.buttonView.element,limiter:this.editor.ui.getEditableElement()}),t||this.toolbarView.items.get(0).focus()}_hidePanel(t){this.panelView.isVisible=!1,t&&this.editor.editing.view.focus()}_attachButtonToElement(t){const e=window.getComputedStyle(t),n=new at.a(this.editor.ui.getEditableElement()),i=parseInt(e.paddingTop,10),r=parseInt(e.lineHeight,10)||1.2*parseInt(e.fontSize,10),o=lt({element:this.buttonView.element,target:t,positions:[(t,e)=>{let o;return o="ltr"===this.editor.locale.uiLanguageDirection?n.left-e.width:n.right,{top:t.top+i+(r-e.height)/2,left:o}}]});this.buttonView.top=o.top,this.buttonView.left=o.left}_getToolbarMaxWidth(){const t=this.editor.ui.view.editable.element,e=new at.a(t),n=new at.a(this.buttonView.element),i="rtl"===this.editor.locale.uiLanguageDirection?n.left-e.right+n.width:e.left-n.left;return de(e.width+i)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},function(t,e,n){"use strict";n.r(e),n.d(e,"Font",(function(){return F})),n.d(e,"FontBackgroundColor",(function(){return j})),n.d(e,"FontColor",(function(){return R})),n.d(e,"FontFamily",(function(){return _})),n.d(e,"FontSize",(function(){return A})),n.d(e,"FontBackgroundColorEditing",(function(){return D})),n.d(e,"FontBackgroundColorUI",(function(){return L})),n.d(e,"FontColorEditing",(function(){return I})),n.d(e,"FontColorUI",(function(){return M})),n.d(e,"FontFamilyEditing",(function(){return m})),n.d(e,"FontFamilyUI",(function(){return y})),n.d(e,"FontSizeEditing",(function(){return P})),n.d(e,"FontSizeUI",(function(){return C}));var i=n(10);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class r extends i.Command{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute(this.attributeKey),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=t.value;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,i):t.removeSelectionAttribute(this.attributeKey);else{const r=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of r)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}}var o=n(40),a=n(44);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s extends a.Collection{constructor(t){super(t),this.set("isEmpty",!0),this.on("change",()=>{this.set("isEmpty",0===this.length)})}add(t,e){this.find(e=>e.color===t.color)||super.add(t,e)}hasColor(t){return!!this.find(e=>e.color===t)}}Object(a.mix)(s,a.ObservableMixin);n(56);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class u extends o.View{constructor(t,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:u}){super(t),this.items=this.createCollection(),this.colorDefinitions=e,this.focusTracker=new a.FocusTracker,this.keystrokes=new a.KeystrokeHandler,this.set("selectedColor"),this.removeButtonLabel=i,this.columns=n,this.documentColors=new s,this.documentColorsCount=u,this._focusCycler=new o.FocusCycler({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this._documentColorsLabel=r,this.setTemplate({tag:"div",attributes:{class:["ck","ck-color-table"]},children:this.items}),this.items.add(this._removeColorButton())}updateDocumentColors(t,e){const n=t.document,i=this.documentColorsCount;this.documentColors.clear();for(const r of n.getRootNames()){const o=n.getRoot(r),a=t.createRangeIn(o);for(const t of a.getItems())if(t.is("$textProxy")&&t.hasAttribute(e)&&(this._addColorToDocumentColors(t.getAttribute(e)),this.documentColors.length>=i))return}}updateSelectedColors(){const t=this.documentColorsGrid,e=this.staticColorsGrid,n=this.selectedColor;e.selectedColor=n,t&&(t.selectedColor=n)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}appendGrids(){if(!this.staticColorsGrid&&(this.staticColorsGrid=this._createStaticColorsGrid(),this.items.add(this.staticColorsGrid),this.documentColorsCount)){const t=o.Template.bind(this.documentColors,this.documentColors),e=new o.LabelView(this.locale);e.text=this._documentColorsLabel,e.extendTemplate({attributes:{class:["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}),this.items.add(e),this.documentColorsGrid=this._createDocumentColorsGrid(),this.items.add(this.documentColorsGrid)}}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_removeColorButton(){const t=new o.ButtonView;return t.set({withText:!0,icon:i.icons.eraser,tooltip:!0,label:this.removeButtonLabel}),t.class="ck-color-table__remove-color",t.on("execute",()=>{this.fire("execute",{value:null})}),t}_createStaticColorsGrid(){const t=new o.ColorGridView(this.locale,{colorDefinitions:this.colorDefinitions,columns:this.columns});return t.delegate("execute").to(this),t}_createDocumentColorsGrid(){const t=o.Template.bind(this.documentColors,this.documentColors),e=new o.ColorGridView(this.locale,{columns:this.columns});return e.delegate("execute").to(this),e.extendTemplate({attributes:{class:t.if("isEmpty","ck-hidden")}}),e.items.bindTo(this.documentColors).using(t=>{const e=new o.ColorTileView;return e.set({color:t.color,hasBorder:t.options&&t.options.hasBorder}),t.label&&e.set({label:t.label,tooltip:!0}),e.on("execute",()=>{this.fire("execute",{value:t.color})}),e}),this.documentColors.on("change:isEmpty",(t,n,i)=>{i&&(e.selectedColor=null)}),e}_addColorToDocumentColors(t){const e=this.colorDefinitions.find(e=>e.color===t);e?this.documentColors.add(Object.assign({},e)):this.documentColors.add({color:t,label:t,options:{hasBorder:!1}})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function l(t,e){const n={model:{key:t,values:[]},view:{},upcastAlso:{}};for(const t of e)n.model.values.push(t.model),n.view[t.model]=t.view,t.upcastAlso&&(n.upcastAlso[t.model]=t.upcastAlso);return n}function c(t){return e=>e.getStyle(t).replace(/\s/g,"")}function d(t){return(e,{writer:n})=>n.createAttributeElement("span",{style:`${t}:${e}`},{priority:7})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class f extends r{constructor(t){super(t,"fontFamily")}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function h(t){return t.map(p).filter(t=>!!t)}function p(t){return"object"==typeof t?t:"default"===t?{title:"Default",model:void 0}:"string"==typeof t?function(t){const e=t.replace(/"|'/g,"").split(","),n=e[0],i=e.map(g).join(", ");return{title:n,model:i,view:{name:"span",styles:{"font-family":i},priority:7}}}(t):void 0}function g(t){return(t=t.trim()).indexOf(" ")>0&&(t=`'${t}'`),t}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class m extends i.Plugin{static get pluginName(){return"FontFamilyEditing"}constructor(t){super(t),t.config.define("fontFamily",{options:["default","Arial, Helvetica, sans-serif","Courier New, Courier, monospace","Georgia, serif","Lucida Sans Unicode, Lucida Grande, sans-serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"fontFamily"}),t.model.schema.setAttributeProperties("fontFamily",{isFormatting:!0,copyOnEnter:!0});const e=l("fontFamily",h(t.config.get("fontFamily.options")).filter(t=>t.model));t.config.get("fontFamily.supportAllValues")?(this._prepareAnyValueConverters(),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(e),t.commands.add("fontFamily",new f(t))}_prepareAnyValueConverters(){const t=this.editor;t.conversion.for("downcast").attributeToElement({model:"fontFamily",view:(t,{writer:e})=>e.createAttributeElement("span",{style:"font-family:"+t},{priority:7})}),t.conversion.for("upcast").elementToAttribute({model:{key:"fontFamily",value:t=>t.getStyle("font-family")},view:{name:"span",styles:{"font-family":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{face:/.*/}},model:{key:"fontFamily",value:t=>t.getAttribute("face")}})}}var v=n(12);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class y extends i.Plugin{static get pluginName(){return"FontFamilyUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get("fontFamily");t.ui.componentFactory.add("fontFamily",r=>{const s=Object(o.createDropdown)(r);return Object(o.addListToDropdown)(s,function(t,e){const n=new a.Collection;for(const i of t){const t={type:"button",model:new o.Model({commandName:"fontFamily",commandParam:i.model,label:i.title,withText:!0})};t.model.bind("isOn").to(e,"value",t=>t===i.model||!(!t||!i.model)&&t.split(",")[0].replace(/'/g,"").toLowerCase()===i.model.toLowerCase()),i.view&&i.view.styles&&t.model.set("labelStyle","font-family: "+i.view.styles["font-family"]),n.add(t)}return n}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(n,i)),s.buttonView.set({label:e("Font Family"),icon:v.default,tooltip:!0}),s.extendTemplate({attributes:{class:"ck-font-family-dropdown"}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t;return h(t.config.get("fontFamily").options).map(t=>("Default"===t.title&&(t.title=e("Default")),t))}}class _ extends i.Plugin{static get requires(){return[m,y]}static get pluginName(){return"FontFamily"}}var b=n(123);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class w extends r{constructor(t){super(t,"fontSize")}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function T(t){return t.map(t=>function(t){if(e=t,"object"==typeof e&&e.title&&e.model&&e.view)return O(t);var e;const n=function(t){return S[t]||S[t.model]}(t);if(n)return O(n);if("default"===t)return{model:void 0,title:"Default"};if(function(t){let e;if("object"==typeof t){if(!t.model)throw new a.CKEditorError("font-size-invalid-definition",null,t);e=parseFloat(t.model)}else e=parseFloat(t);return isNaN(e)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t))return;return function(t){"number"!=typeof t&&"string"!=typeof t||(t={title:String(t),model:parseFloat(t)+"px"});return t.view={name:"span",styles:{"font-size":t.model}},O(t)}(t)}(t)).filter(t=>!!t)}const S={get tiny(){return{title:"Tiny",model:"tiny",view:{name:"span",classes:"text-tiny",priority:7}}},get small(){return{title:"Small",model:"small",view:{name:"span",classes:"text-small",priority:7}}},get big(){return{title:"Big",model:"big",view:{name:"span",classes:"text-big",priority:7}}},get huge(){return{title:"Huge",model:"huge",view:{name:"span",classes:"text-huge",priority:7}}}};function O(t){return t.view.priority||(t.view.priority=7),t}const E=["x-small","x-small","small","medium","large","x-large","xx-large","xxx-large"];class P extends i.Plugin{static get pluginName(){return"FontSizeEditing"}constructor(t){super(t),t.config.define("fontSize",{options:["tiny","small","default","big","huge"],supportAllValues:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"fontSize"}),t.model.schema.setAttributeProperties("fontSize",{isFormatting:!0,copyOnEnter:!0});const e=t.config.get("fontSize.supportAllValues"),n=l("fontSize",T(this.editor.config.get("fontSize.options")).filter(t=>t.model));e?(this._prepareAnyValueConverters(n),this._prepareCompatibilityConverter()):t.conversion.attributeToElement(n),t.commands.add("fontSize",new w(t))}_prepareAnyValueConverters(t){const e=this.editor,n=t.model.values.filter(t=>!Object(b.isLength)(String(t))&&!Object(b.isPercentage)(String(t)));if(n.length)throw new a.CKEditorError("font-size-invalid-use-of-named-presets",null,{presets:n});e.conversion.for("downcast").attributeToElement({model:"fontSize",view:(t,{writer:e})=>{if(t)return e.createAttributeElement("span",{style:"font-size:"+t},{priority:7})}}),e.conversion.for("upcast").elementToAttribute({model:{key:"fontSize",value:t=>t.getStyle("font-size")},view:{name:"span",styles:{"font-size":/.*/}}})}_prepareCompatibilityConverter(){this.editor.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{size:/^[+-]?\d{1,3}$/}},model:{key:"fontSize",value:t=>{const e=t.getAttribute("size"),n="-"===e[0]||"+"===e[0];let i=parseInt(e,10);n&&(i=3+i);const r=E.length-1,o=Math.min(Math.max(i,0),r);return E[o]}}})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class C extends i.Plugin{static get pluginName(){return"FontSizeUI"}init(){const t=this.editor,e=t.t,n=this._getLocalizedOptions(),i=t.commands.get("fontSize");t.ui.componentFactory.add("fontSize",r=>{const s=Object(o.createDropdown)(r);return Object(o.addListToDropdown)(s,function(t,e){const n=new a.Collection;for(const i of t){const t={type:"button",model:new o.Model({commandName:"fontSize",commandParam:i.model,label:i.title,class:"ck-fontsize-option",withText:!0})};i.view&&i.view.styles&&t.model.set("labelStyle","font-size:"+i.view.styles["font-size"]),i.view&&i.view.classes&&t.model.set("class",`${t.model.class} ${i.view.classes}`),t.model.bind("isOn").to(e,"value",t=>t===i.model),n.add(t)}return n}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(n,i)),s.buttonView.set({label:e("Font Size"),icon:v.default,tooltip:!0}),s.extendTemplate({attributes:{class:["ck-font-size-dropdown"]}}),s.bind("isEnabled").to(i),this.listenTo(s,"execute",e=>{t.execute(e.source.commandName,{value:e.source.commandParam}),t.editing.view.focus()}),s})}_getLocalizedOptions(){const t=this.editor,e=t.t,n={Default:e("Default"),Tiny:e("Tiny"),Small:e("Small"),Big:e("Big"),Huge:e("Huge")};return T(t.config.get("fontSize").options).map(t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}}class A extends i.Plugin{static get requires(){return[P,C]}static get pluginName(){return"FontSize"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class x extends r{constructor(t){super(t,"fontColor")}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class I extends i.Plugin{static get pluginName(){return"FontColorEditing"}constructor(t){super(t),t.config.define("fontColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{color:/[\s\S]+/}},model:{key:"fontColor",value:c("color")}}),t.conversion.for("upcast").elementToAttribute({view:{name:"font",attributes:{color:/^#?\w+$/}},model:{key:"fontColor",value:t=>t.getAttribute("color")}}),t.conversion.for("downcast").attributeToElement({model:"fontColor",view:d("color")}),t.commands.add("fontColor",new x(t)),t.model.schema.extend("$text",{allowAttributes:"fontColor"}),t.model.schema.setAttributeProperties("fontColor",{isFormatting:!0,copyOnEnter:!0})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class k extends i.Plugin{constructor(t,{commandName:e,icon:n,componentName:i,dropdownLabel:r}){super(t),this.commandName=e,this.componentName=i,this.icon=n,this.dropdownLabel=r,this.columns=t.config.get(this.componentName+".columns"),this.colorTableView=void 0}init(){const t=this.editor,e=t.locale,n=e.t,i=t.commands.get(this.commandName),r=Object(o.normalizeColorOptions)(t.config.get(this.componentName).colors),a=Object(o.getLocalizedColorOptions)(e,r),s=t.config.get(this.componentName+".documentColors");t.ui.componentFactory.add(this.componentName,e=>{const r=Object(o.createDropdown)(e);return this.colorTableView=function({dropdownView:t,colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o}){const a=t.locale,s=new u(a,{colors:e,columns:n,removeButtonLabel:i,documentColorsLabel:r,documentColorsCount:o});return t.colorTableView=s,t.panelView.children.add(s),s.delegate("execute").to(t,"execute"),s}({dropdownView:r,colors:a.map(t=>({label:t.label,color:t.model,options:{hasBorder:t.hasBorder}})),columns:this.columns,removeButtonLabel:n("Remove color"),documentColorsLabel:0!==s?n("Document colors"):void 0,documentColorsCount:void 0===s?this.columns:s}),this.colorTableView.bind("selectedColor").to(i,"value"),r.buttonView.set({label:this.dropdownLabel,icon:this.icon,tooltip:!0}),r.extendTemplate({attributes:{class:"ck-color-ui-dropdown"}}),r.bind("isEnabled").to(i),r.on("execute",(e,n)=>{t.execute(this.commandName,n),t.editing.view.focus()}),r.on("change:isOpen",(e,n,i)=>{r.colorTableView.appendGrids(),i&&(0!==s&&this.colorTableView.updateDocumentColors(t.model,this.componentName),this.colorTableView.updateSelectedColors())}),r})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class M extends k{constructor(t){const e=t.locale.t;super(t,{commandName:"fontColor",componentName:"fontColor",icon:v.default,dropdownLabel:e("Font Color")})}static get pluginName(){return"FontColorUI"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class R extends i.Plugin{static get requires(){return[I,M]}static get pluginName(){return"FontColor"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class N extends r{constructor(t){super(t,"fontBackgroundColor")}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class D extends i.Plugin{static get pluginName(){return"FontBackgroundColorEditing"}constructor(t){super(t),t.config.define("fontBackgroundColor",{colors:[{color:"hsl(0, 0%, 0%)",label:"Black"},{color:"hsl(0, 0%, 30%)",label:"Dim grey"},{color:"hsl(0, 0%, 60%)",label:"Grey"},{color:"hsl(0, 0%, 90%)",label:"Light grey"},{color:"hsl(0, 0%, 100%)",label:"White",hasBorder:!0},{color:"hsl(0, 75%, 60%)",label:"Red"},{color:"hsl(30, 75%, 60%)",label:"Orange"},{color:"hsl(60, 75%, 60%)",label:"Yellow"},{color:"hsl(90, 75%, 60%)",label:"Light green"},{color:"hsl(120, 75%, 60%)",label:"Green"},{color:"hsl(150, 75%, 60%)",label:"Aquamarine"},{color:"hsl(180, 75%, 60%)",label:"Turquoise"},{color:"hsl(210, 75%, 60%)",label:"Light blue"},{color:"hsl(240, 75%, 60%)",label:"Blue"},{color:"hsl(270, 75%, 60%)",label:"Purple"}],columns:5}),t.data.addStyleProcessorRules(b.addBackgroundRules),t.conversion.for("upcast").elementToAttribute({view:{name:"span",styles:{"background-color":/[\s\S]+/}},model:{key:"fontBackgroundColor",value:c("background-color")}}),t.conversion.for("downcast").attributeToElement({model:"fontBackgroundColor",view:d("background-color")}),t.commands.add("fontBackgroundColor",new N(t)),t.model.schema.extend("$text",{allowAttributes:"fontBackgroundColor"}),t.model.schema.setAttributeProperties("fontBackgroundColor",{isFormatting:!0,copyOnEnter:!0})}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class L extends k{constructor(t){const e=t.locale.t;super(t,{commandName:"fontBackgroundColor",componentName:"fontBackgroundColor",icon:v.default,dropdownLabel:e("Font Background Color")})}static get pluginName(){return"FontBackgroundColorUI"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class j extends i.Plugin{static get requires(){return[D,L]}static get pluginName(){return"FontBackgroundColor"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class F extends i.Plugin{static get requires(){return[_,A,R,j]}static get pluginName(){return"Font"}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},function(t,e,n){"use strict";n.r(e),n.d(e,"Typing",(function(){return A})),n.d(e,"Input",(function(){return b})),n.d(e,"Delete",(function(){return C})),n.d(e,"TextWatcher",(function(){return M})),n.d(e,"TwoStepCaretMovement",(function(){return R})),n.d(e,"TextTransformation",(function(){return H})),n.d(e,"inlineHighlight",(function(){return K})),n.d(e,"findAttributeRange",(function(){return q})),n.d(e,"getLastTextLine",(function(){return k})),n.d(e,"isNonTypingKeystroke",(function(){return f}));var i=n(45),r=n.n(i),o=n(113),a=n.n(o);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class s{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class u extends a.a{constructor(t,e){super(t),this._buffer=new s(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",r=i.length,o=t.range?e.createSelection(t.range):n.selection,a=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{this._buffer.lock(),this._batches.add(this._buffer.batch),e.deleteContent(o),i&&e.insertContent(t.createText(i,n.selection.getAttributes()),o),a?t.setSelection(a):o.is("documentSelection")||t.setSelection(o),this._buffer.unlock(),this._buffer.input(r)})}}var l=n(26),c=n(89);const d=[Object(l.a)("arrowUp"),Object(l.a)("arrowRight"),Object(l.a)("arrowDown"),Object(l.a)("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let t=112;t<=135;t++)d.push(t);function f(t){return!(!t.ctrlKey&&!t.metaKey)||d.includes(t.keyCode)}var h=n(128),p=n(163);function g(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(t,e){const n=[];let i,r=0;return t.forEach(t=>{"equal"==t?(o(),r++):"insert"==t?(a("insert")?i.values.push(e[r]):(o(),i={type:"insert",index:r,values:[e[r]]}),r++):a("delete")?i.howMany++:(o(),i={type:"delete",index:r,howMany:1})}),o(),n;function o(){i&&(n.push(i),i=null)}function a(t){return i&&i.type==t}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(Object(h.a)(t.oldChildren,t.newChildren,m),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("$text")?n:void 0}function m(t,e){return t&&t.is("$text")&&e&&e.is("$text")?t.data===e.data:t===e}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class v{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!g(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(!e)return;return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),r=new p.a(this.editor.editing.view.document),o=this.editor.data.toModel(r.domToView(i)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(!a)return;const s=Array.from(o.getChildren()),u=Array.from(a.getChildren()),l=s[s.length-1],c=u[u.length-1],d=l&&l.is("element","softBreak"),f=c&&!c.is("element","softBreak");d&&f&&s.pop();const g=this.editor.model.schema;if(!y(s,g)||!y(u,g))return;const m=s.map(t=>t.is("$text")?t.data:"@").join("").replace(/\u00A0/g," "),v=u.map(t=>t.is("$text")?t.data:"@").join("").replace(/\u00A0/g," ");if(v===m)return;const b=Object(h.a)(v,m),{firstChangeAt:w,insertions:T,deletions:S}=_(b);let O=null;e&&(O=this.editing.mapper.toModelRange(e.getFirstRange()));const E=m.substr(w,T),P=this.editor.model.createRange(this.editor.model.createPositionAt(a,w),this.editor.model.createPositionAt(a,w+S));this.editor.execute("input",{text:E,range:P,resultRange:O})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const r=Object(h.a)(i,n),{firstChangeAt:o,insertions:a,deletions:s}=_(r);let u=null;e&&(u=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,o),c=this.editing.mapper.toModelPosition(l),d=this.editor.model.createRange(c,c.getShiftedBy(s)),f=n.substr(o,a);this.editor.execute("input",{text:f,range:d,resultRange:u})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=g(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),r=e.values[0].data;this.editor.execute("input",{text:r.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function y(t,e){return t.every(t=>e.isInline(t))}function _(t){let e=null,n=null;for(let i=0;i<t.length;i++){"equal"!=t[i]&&(e=null===e?i:e,n=i)}let i=0,r=0;for(let o=e;o<=n;o++)"insert"!=t[o]&&i++,"delete"!=t[o]&&r++;return{insertions:r,deletions:i,firstChangeAt:e}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class b extends r.a{static get pluginName(){return"Input"}init(){const t=this.editor,e=new u(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function(t){let e=null;const n=t.model,i=t.editing.view,r=t.commands.get("input");function o(t){const o=n.document,s=i.document.isComposing,u=e&&e.isEqual(o.selection);e=null,r.isEnabled&&(f(t)||o.selection.isCollapsed||s&&229===t.keyCode||!s&&229===t.keyCode&&u||a())}function a(){const t=r.buffer;t.lock();const e=t.batch;r._batches.add(e),n.enqueueChange(e,()=>{n.deleteContent(n.document.selection)}),t.unlock()}c.a.isAndroid?i.document.on("beforeinput",(t,e)=>o(e),{priority:"lowest"}):i.document.on("keydown",(t,e)=>o(e),{priority:"lowest"}),i.document.on("compositionstart",(function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;if(t.selection.isCollapsed||e)return;a()}),{priority:"lowest"}),i.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",(e,n,i)=>{new v(t).handle(n,i)})}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}var w=n(230);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class T extends a.a{constructor(t,e){super(t),this.direction=e,this._buffer=new s(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const r=i.createSelection(t.selection||n.selection),o=t.sequence||1,a=r.isCollapsed;if(r.isCollapsed&&e.modifySelection(r,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(o))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(r,o))return void this.editor.execute("paragraph",{selection:r});if(r.isCollapsed)return;let s=0;r.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=Object(w.a)(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(r,{doNotResetEntireContent:a,direction:this.direction}),this._buffer.input(s),i.setSelection(r),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i)))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const r=i.getChild(0);return!r||"paragraph"!==r.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),r=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(r,i),t.setSelection(r,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;const i=t.getFirstPosition(),r=n.schema.getLimitElement(i),o=r.getChild(0);return i.parent==o&&(!!t.containsEntireContent(o)&&(!!n.schema.checkChild(r,"paragraph")&&"paragraph"!=o.name))}}var S=n(86),O=n(161),E=n(169);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class P extends S.a{constructor(t){super(t);const e=t.document;let n=0;function i(t,n,i){const r=new E.a(e,"delete",e.selection.getFirstRange());e.fire(r,new O.a(e,n,i)),r.stop.called&&t.stop()}e.on("keyup",(t,e)=>{e.keyCode!=l.f.delete&&e.keyCode!=l.f.backspace||(n=0)}),e.on("keydown",(t,e)=>{const r={};if(e.keyCode==l.f.delete)r.direction="forward",r.unit="character";else{if(e.keyCode!=l.f.backspace)return;r.direction="backward",r.unit="codePoint"}const o=c.a.isMac?e.altKey:e.ctrlKey;r.unit=o?"word":r.unit,r.sequence=++n,i(t,e.domEvent,r)}),c.a.isAndroid&&e.on("beforeinput",(e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const r={unit:"codepoint",direction:"backward",sequence:1},o=n.domTarget.ownerDocument.defaultView.getSelection();o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset&&(r.selectionToRemove=t.domConverter.domSelectionToView(o)),i(e,n.domEvent,r)})}observe(){}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class C extends r.a{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(P);const i=new T(t,"forward");if(t.commands.add("deleteForward",i),t.commands.add("forwardDelete",i),t.commands.add("delete",new T(t,"backward")),this.listenTo(n,"delete",(n,i)=>{const r={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const e=t.model.createSelection(),n=[];for(const e of i.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(e));e.setTo(n),r.selection=e}t.execute("forward"==i.direction?"deleteForward":"delete",r),i.preventDefault(),e.scrollToTheSelection()},{priority:"low"}),c.a.isAndroid){let t=null;this.listenTo(n,"delete",(e,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}})}}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class A extends r.a{static get requires(){return[b,C]}static get pluginName(){return"Typing"}}var x=n(9),I=n(35);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function k(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,i)=>i.is("$text")||i.is("$textProxy")?t+i.data:(n=e.createPositionAfter(i),""),""),range:e.createRange(n,t.end)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class M{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(t,"change:data",(t,e)=>{"transparent"!=e.type&&this._evaluateTextBeforeSelection("data",{batch:e})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,r=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:o,range:a}=k(r,n),s=this.testCallback(o);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){const n=Object.assign(e,{text:o,range:a});"object"==typeof s&&Object.assign(n,s),this.fire("matched:"+t,n)}}}Object(x.default)(M,I.default);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class R extends r.a{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,e=t.model,n=t.editing.view,i=t.locale,r=e.document.selection;this.listenTo(n.document,"arrowKey",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==l.f.arrowright,o=e.keyCode==l.f.arrowleft;if(!n&&!o)return;const a=i.contentLanguageDirection;let s=!1;s="ltr"===a&&n||"rtl"===a&&o?this._handleForwardMovement(e):this._handleBackwardMovement(e),!0===s&&t.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(r,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&j(r.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,i=n.getFirstPosition();return!this._isGravityOverridden&&((!i.isAtStart||!N(n,e))&&(j(i,e)?(L(t),this._overrideGravity(),!0):void 0))}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,i=n.document.selection,r=i.getFirstPosition();return this._isGravityOverridden?(L(t),this._restoreGravity(),D(n,e,r),!0):r.isAtStart?!!N(i,e)&&(L(t),D(n,e,r),!0):function(t,e){return j(t.getShiftedBy(-1),e)}(r,e)?r.isAtEnd&&!N(i,e)&&j(r,e)?(L(t),D(n,e,r),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function N(t,e){for(const n of e)if(t.hasAttribute(n))return!0;return!1}function D(t,e,n){const i=n.nodeBefore;t.change(t=>{i?t.setSelectionAttribute(i.getAttributes()):t.removeSelectionAttribute(e)})}function L(t){t.preventDefault()}function j(t,e){const{nodeBefore:n,nodeAfter:i}=t;for(const t of e){const e=n?n.getAttribute(t):void 0;if((i?i.getAttribute(t):void 0)!==e)return!0}return!1}var F=n(252);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const V={copyright:{from:"(c)",to:"©"},registeredTrademark:{from:"(r)",to:"®"},trademark:{from:"(tm)",to:"™"},oneHalf:{from:"1/2",to:"½"},oneThird:{from:"1/3",to:"⅓"},twoThirds:{from:"2/3",to:"⅔"},oneForth:{from:"1/4",to:"¼"},threeQuarters:{from:"3/4",to:"¾"},lessThanOrEqual:{from:"<=",to:"≤"},greaterThanOrEqual:{from:">=",to:"≥"},notEqual:{from:"!=",to:"≠"},arrowLeft:{from:"<-",to:"←"},arrowRight:{from:"->",to:"→"},horizontalEllipsis:{from:"...",to:"…"},enDash:{from:/(^| )(--)( )$/,to:[null,"–",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"—",null]},quotesPrimary:{from:$('"'),to:[null,"“",null,"”"]},quotesSecondary:{from:$("'"),to:[null,"‘",null,"’"]},quotesPrimaryEnGb:{from:$("'"),to:[null,"‘",null,"’"]},quotesSecondaryEnGb:{from:$('"'),to:[null,"“",null,"”"]},quotesPrimaryPl:{from:$('"'),to:[null,"„",null,"”"]},quotesSecondaryPl:{from:$("'"),to:[null,"‚",null,"’"]}},B={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},U=["symbols","mathematical","typography","quotes"];class H extends r.a{static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:U}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Input"),i=function(t){const e=t.extra||[],n=t.remove||[],i=t=>!n.includes(t);return function(t){const e=new Set;for(const n of t)if(B[n])for(const t of B[n])e.add(t);else e.add(n);return Array.from(e)}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(t.include.concat(e).filter(i)).filter(i).map(t=>V[t]||t).map(t=>({from:G(t.from),to:W(t.to)}))}(t.config.get("typing.transformations")),r=new M(t.model,t=>{for(const e of i){if(e.from.test(t))return{normalizedTransformation:e}}});r.on("matched:data",(t,i)=>{if(!n.isInput(i.batch))return;const{from:r,to:o}=i.normalizedTransformation,a=r.exec(i.text),s=o(a.slice(1)),u=i.range;let l=a.index;e.enqueueChange(t=>{for(let n=1;n<a.length;n++){const i=a[n],r=s[n-1];if(null==r){l+=i.length;continue}const o=u.start.getShiftedBy(l),c=e.createRange(o,o.getShiftedBy(i.length)),d=z(o);e.insertContent(t.createText(r,d),c),l+=r.length}})}),r.bind("isEnabled").to(this)}}function G(t){return"string"==typeof t?new RegExp(`(${Object(F.a)(t)})$`):t}function W(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function z(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function $(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}function q(t,e,n,i){return i.createRange(Y(t,e,n,!0,i),Y(t,e,n,!1,i))}function Y(t,e,n,i,r){let o=t.textNode||(i?t.nodeBefore:t.nodeAfter),a=null;for(;o&&o.getAttribute(e)==n;)a=o,o=i?o.previousSibling:o.nextSibling;return a?r.createPositionAt(a,i?"before":"after"):t}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function K(t,e,n,i){const r=t.editing.view,o=new Set;r.document.registerPostFixer(r=>{const a=t.model.document.selection;let s=!1;if(a.hasAttribute(e)){const u=q(a.getFirstPosition(),e,a.getAttribute(e),t.model),l=t.editing.mapper.toViewRange(u);for(const t of l.getItems())t.is("element",n)&&!t.hasClass(i)&&(r.addClass(i,t),o.add(t),s=!0)}return s}),t.conversion.for("editingDowncast").add(t=>{function e(){r.change(t=>{for(const e of o.values())t.removeClass(i,e),o.delete(e)})}t.on("insert",e,{priority:"highest"}),t.on("remove",e,{priority:"highest"}),t.on("attribute",e,{priority:"highest"}),t.on("selection",e,{priority:"highest"})})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return _}));var i=n(4),r=n(2),o=n.n(r);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class a{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=o.a._createOn(t);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=o.a._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const r=this._changedMarkers.get(t);r?(r.newRange=n,r.affectsData=i,null==r.oldRange&&null==r.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),r=this._elementSnapshots.get(t),a=s(t.getChildren()),l=u(r.length,n);let c=0,d=0;for(const n of l)if("i"===n)e.push(this._getInsertDiff(t,c,a[c].name)),c++;else if("r"===n)e.push(this._getRemoveDiff(t,c,r[d].name)),d++;else if("a"===n){const n=a[c].attributes,s=r[d].attributes;let u;if("$text"==a[c].name)u=new o.a(i.default._createAt(t,c),i.default._createAt(t,c+1));else{const e=t.offsetToIndex(c);u=new o.a(i.default._createAt(t,c),i.default._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(u,s,n)),c++,d++}else c++,d++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let t=1,n=0;t<e.length;t++){const i=e[n],r=e[t],o="remove"==i.type&&"remove"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.isEqual(r.position),a="insert"==i.type&&"insert"==r.type&&"$text"==i.name&&"$text"==r.name&&i.position.parent==r.position.parent&&i.position.offset+i.length==r.position.offset,s="attribute"==i.type&&"attribute"==r.type&&i.position.parent==r.position.parent&&i.range.isFlat&&r.range.isFlat&&i.position.offset+i.length==r.position.offset&&i.attributeKey==r.attributeKey&&i.attributeOldValue==r.attributeOldValue&&i.attributeNewValue==r.attributeNewValue;o||a||s?(i.length++,s&&(i.range.end=i.range.end.getShiftedBy(1)),e[t]=null):n=t}e=e.filter(t=>t);for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.filter(l),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,s(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,r=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<r&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<r){const r=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:r-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=r)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<r){const e=r-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<r)if(i<=r){const i=n.howMany;n.howMany=t.offset-n.offset;const r=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:r,count:this._changeCount++})}else n.howMany-=r-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>r){const t={type:"attribute",offset:r,howMany:i-r,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<r&&(i>r?(t.nodesToHandle=i-r,t.offset=r):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const r={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(r,e),e.push(r),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=r?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=r&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:i.default._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:i.default._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[r,o]of e){const e=n.has(r)?n.get(r):null;e!==o&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:r,attributeOldValue:o,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(r)}for(const[e,r]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const r=new o.a(i.default._createAt(t,e),i.default._createAt(t,e+n));for(const t of r.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function s(t){const e=[];for(const n of t)if(n.is("$text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function u(t,e){const n=[];let i=0,r=0;for(const t of e){if(t.offset>i){for(let e=0;e<t.offset-i;e++)n.push("e");r+=t.offset-i}if("insert"==t.type){for(let e=0;e<t.howMany;e++)n.push("i");i=t.offset+t.howMany}else if("remove"==t.type){for(let e=0;e<t.howMany;e++)n.push("r");i=t.offset,r+=t.howMany}else n.push(..."a".repeat(t.howMany).split("")),i=t.offset+t.howMany,r+=t.howMany}if(r<t)for(let e=0;e<t-r-i;e++)n.push("e");return n}function l(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}var c=n(231);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class d{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY){const n=[];for(const i of this._operations)i.baseVersion>=t&&i.baseVersion<e&&n.push(i);return n}getOperation(t){for(const e of this._operations)if(e.baseVersion==t)return e}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}var f=n(75),h=n(100),p=n(15),g=n(1),m=n(9),v=n(213),y=n(228);class _{constructor(t){this.model=t,this.version=0,this.history=new d(this),this.selection=new f.a(this),this.roots=new h.default({idProperty:"rootName"}),this.differ=new a(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new g.default("model-document-applyoperation-wrong-version",this,{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new g.default("model-document-createroot-name-exists",this,{name:e});const n=new c.a(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>"$graveyard"!=t)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Object(y.a)(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return b(t.start)&&b(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function b(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!Object(v.b)(n,i)&&!Object(v.a)(n,i)}return!0}Object(m.default)(_,p.default)},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var i=n(10),r=n(123),o=n(44);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
function a(t,e,n,i){let a,s=null;"function"==typeof i?a=i:(s=t.commands.get(i),a=()=>{t.execute(i)}),t.model.document.on("change:data",(u,l)=>{if(s&&!s.isEnabled||!e.isEnabled)return;const c=Object(o.first)(t.model.document.selection.getRanges());if(!c.isCollapsed)return;if("transparent"==l.type)return;const d=Array.from(t.model.document.differ.getChanges()),f=d[0];if(1!=d.length||"insert"!==f.type||"$text"!=f.name||1!=f.length)return;const h=f.position.parent;if(h.is("element","codeBlock"))return;if(h.is("element","listItem")&&"function"!=typeof i&&!["numberedList","bulletedList","todoList"].includes(i))return;if(s&&!0===s.value)return;const p=h.getChild(0),g=t.model.createRangeOn(p);if(!g.containsRange(c)&&!c.end.isEqual(g.end))return;const m=n.exec(p.data.substr(0,c.end.offset));m&&t.model.enqueueChange(e=>{const n=e.createPositionAt(h,0),i=e.createPositionAt(h,m[0].length),o=new r.LiveRange(n,i);if(!1!==a({match:m})){e.remove(o);const n=t.model.document.selection.getFirstRange(),i=e.createRangeIn(h);!h.isEmpty||i.isEqual(n)||i.containsRange(n,!0)||e.remove(h)}o.detach()})})}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function s(t,e,n,i){let r,o;n instanceof RegExp?r=n:o=n,o=o||(t=>{let e;const n=[],i=[];for(;null!==(e=r.exec(t))&&!(e&&e.length<4);){let{index:t,1:r,2:o,3:a}=e;const s=r+o+a;t+=e[0].length-s.length;const u=[t,t+r.length],l=[t+r.length+o.length,t+r.length+o.length+a.length];n.push(u),n.push(l),i.push([t+r.length,t+r.length+o.length])}return{remove:n,format:i}}),t.model.document.on("change:data",(n,r)=>{if("transparent"==r.type||!e.isEnabled)return;const a=t.model,s=a.document.selection;if(!s.isCollapsed)return;const l=Array.from(a.document.differ.getChanges()),c=l[0];if(1!=l.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const d=s.focus,f=d.parent,{text:h,range:p}=function(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,i)=>!i.is("$text")&&!i.is("$textProxy")||i.getAttribute("code")?(n=e.createPositionAfter(i),""):t+i.data,""),range:e.createRange(n,t.end)}}
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */(a.createRange(a.createPositionAt(f,0),d),a),g=o(h),m=u(p.start,g.format,a),v=u(p.start,g.remove,a);m.length&&v.length&&a.enqueueChange(t=>{if(!1!==i(t,m))for(const e of v.reverse())t.remove(e)})})}function u(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}class l extends i.Plugin{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&a(this.editor,this,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&a(this.editor,this,/^1[.|)]\s$/,"numberedList"),t.get("todoList")&&a(this.editor,this,/^\[\s?\]\s$/,"todoList"),t.get("checkTodoList")&&a(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=c(this.editor,"bold");s(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),s(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=c(this.editor,"italic");s(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),s(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=c(this.editor,"code");s(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(t.get("strikethrough")){const t=c(this.editor,"strikethrough");s(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);a(this.editor,this,i,()=>{if(!t.isEnabled||t.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&a(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&a(this.editor,this,/^```$/,"codeBlock")}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&a(this.editor,this,/^---$/,"horizontalLine")}}function c(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const r=t.model.schema.getValidRanges(i,e);for(const t of r)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var i=n(66),r=n(54),o=n(2),a=n.n(o),s=n(91),u=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class l extends r.a{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new u.default("detach-operation-on-document-node",this)}_execute(){Object(s.d)(a.a._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}var c=n(65),d=n(98),f=n(28),h=n(115),p=n(178),g=n(34),m=n(51),v=n(153),y=n(27),_=n(25),b=n(231),w=n(4),T=n(75),S=n(114);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class O{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new y.default(t,e)}createElement(t,e){return new _.default(t,e)}createDocumentFragment(){return new v.a}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof y.default&&""==t.data)return;const i=w.default._createAt(e,n);if(t.parent){if(x(t.root,i.root))return void this.move(a.a._createOn(t),i);if(t.root.document)throw new u.default("model-writer-insert-forbidden-move",this);this.remove(t)}const r=i.root.document?i.root.document.version:null,o=new c.a(i,t,r);if(t instanceof y.default&&(o.shouldReceiveAttributes=!0),this.batch.addOperation(o),this.model.applyOperation(o),t instanceof v.a)for(const[e,n]of t.markers){const t=w.default._createAt(n.root,0),r={range:new a.a(n.start._getCombined(t,i),n.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(e)?this.updateMarker(e,r):this.addMarker(e,r)}}insertText(t,e,n,i){e instanceof v.a||e instanceof _.default||e instanceof w.default?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof v.a||e instanceof _.default||e instanceof w.default?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof v.a||e instanceof _.default?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof v.a||e instanceof _.default?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof a.a){const i=n.getMinimalFlatRanges();for(const n of i)E(this,t,e,n)}else P(this,t,e,n)}setAttributes(t,e){for(const[n,i]of Object(S.a)(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof a.a){const n=e.getMinimalFlatRanges();for(const e of n)E(this,t,null,e)}else P(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof a.a)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof a.a))throw new u.default("writer-move-invalid-range",this);if(!t.isFlat)throw new u.default("writer-move-range-not-flat",this);const i=w.default._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!x(t.root,i.root))throw new u.default("writer-move-different-document",this);const r=t.root.document?t.root.document.version:null,o=new f.a(t.start,t.end.offset-t.start.offset,i,r);this.batch.addOperation(o),this.model.applyOperation(o)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof a.a?t:a.a._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),A(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof _.default))throw new u.default("writer-merge-no-element-before",this);if(!(n instanceof _.default))throw new u.default("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(a.a._createIn(n),w.default._createAt(e,"end")),this.remove(n)}_merge(t){const e=w.default._createAt(t.nodeBefore,"end"),n=w.default._createAt(t.nodeAfter,0),i=t.root.document.graveyard,r=new w.default(i,[0]),o=t.root.document.version,a=new m.a(n,t.nodeAfter.maxOffset,e,r,o);this.batch.addOperation(a),this.model.applyOperation(a)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof _.default))throw new u.default("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,i=new h.a(w.default._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,r=t.parent;if(!r.parent)throw new u.default("writer-split-element-no-parent",this);if(e||(e=r.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new u.default("writer-split-invalid-limit-element",this);do{const e=r.root.document?r.root.document.version:null,o=r.maxOffset-t.offset,a=g.a.getInsertionPosition(t),s=new g.a(t,o,a,null,e);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=r,i=t.parent.nextSibling),r=(t=this.createPositionAfter(t.parent)).parent}while(r!==e);return{position:t,range:new a.a(w.default._createAt(n,"end"),w.default._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new u.default("writer-wrap-range-not-flat",this);const n=e instanceof _.default?e:new _.default(e);if(n.childCount>0)throw new u.default("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new u.default("writer-wrap-element-attached",this);this.insert(n,t.start);const i=new a.a(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,w.default._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new u.default("writer-unwrap-element-no-parent",this);this.move(a.a._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new u.default("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,i=e.range,r=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new u.default("writer-addmarker-marker-exists",this);if(!i)throw new u.default("writer-addmarker-no-range",this);return n?(C(this,t,null,i,r),this.model.markers.get(t)):this.model.markers._set(t,i,n,r)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new u.default("writer-updatemarker-marker-not-exists",this);if(!e)return void this.model.markers._refresh(i);const r="boolean"==typeof e.usingOperation,o="boolean"==typeof e.affectsData,a=o?e.affectsData:i.affectsData;if(!r&&!e.range&&!o)throw new u.default("writer-updatemarker-wrong-options",this);const s=i.getRange(),l=e.range?e.range:s;r&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?C(this,n,null,l,a):(C(this,n,s,null,a),this.model.markers._set(n,l,void 0,a)):i.managedUsingOperations?C(this,n,s,l,a):this.model.markers._set(n,l,void 0,a)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new u.default("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);if(!n.managedUsingOperations)return void this.model.markers._remove(e);C(this,e,n.getRange(),null,n.affectsData)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of Object(S.a)(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=T.a._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=T.a._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new u.default("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let r=!1;if("move"===t)r=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeBefore,n=e.nodeAfter,o=i.start.parent==t&&i.start.isAtEnd,a=i.end.parent==n&&0==i.end.offset,s=i.end.nodeAfter==n,u=i.start.nodeAfter==n;r=o||a||s||u}r&&this.updateMarker(n.name,{range:i})}}}function E(t,e,n,r){const o=t.model,s=o.document;let u,l,c,d=r.start;for(const t of r.getWalker({shallow:!0}))c=t.item.getAttribute(e),u&&l!=c&&(l!=n&&f(),d=u),u=t.nextPosition,l=c;function f(){const r=new a.a(d,u),c=r.root.document?s.version:null,f=new i.a(r,e,l,n,c);t.batch.addOperation(f),o.applyOperation(f)}u instanceof w.default&&u!=d&&l!=n&&f()}function P(t,e,n,r){const o=t.model,s=o.document,u=r.getAttribute(e);let l,c;if(u!=n){if(r.root===r){const t=r.document?s.version:null;c=new p.a(r,e,u,n,t)}else{l=new a.a(w.default._createBefore(r),t.createPositionAfter(r));const o=l.root.document?s.version:null;c=new i.a(l,e,u,n,o)}t.batch.addOperation(c),o.applyOperation(c)}}function C(t,e,n,i,r){const o=t.model,a=o.document,s=new d.a(e,n,i,o.markers,r,a.version);t.batch.addOperation(s),o.applyOperation(s)}function A(t,e,n,i){let r;if(t.root.document){const n=i.document,o=new w.default(n.graveyard,[0]);r=new f.a(t,e,o,n.version)}else r=new l(t,e);n.addOperation(r),i.applyOperation(r)}function x(t,e){return t===e||t instanceof b.a&&e instanceof b.a}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return p}));var i=n(5),r=n(1);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class o{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new a(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const r=t.getStyleNames();for(const t of r)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new o(t)),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,o.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=o.createFrom(n,e);return e}}class a{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=Object(i.a)(e)?e:[e],o=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new r.default("viewconsumable-invalid-attribute",this);if(o.set(e,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))o.set(t,!0)}}_test(t,e){const n=Object(i.a)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=r.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=Object(i.a)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){if(r.set(e,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(e))r.set(t,!1)}else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=Object(i.a)(e)?e:[e],r=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){!1===r.get(e)&&r.set(e,!0)}else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}var s=n(2),u=n.n(s),l=n(4),c=n(251),d=n(170),f=n(15),h=n(9);
/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */
class p{constructor(t={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new c.SchemaContext(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const r=e.createElement(i.name,t);n&&e.append(r,n),n=l.default._createAt(r,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=o.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),r=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,r);r.markers=function(t,e){const n=new Set,i=new Map,r=u.a._createIn(t).getItems();for(const t of r)"$marker"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),r=e.createPositionBefore(t);i.has(n)?i.get(n).end=r.clone():i.set(n,new u.a(r.clone())),e.remove(t)}return i}(r,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof u.a))throw new r.default("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:l.default._createAt(e,0);const i=new u.a(n);for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,n);t.modelRange instanceof u.a&&(i.end=t.modelRange.end,n=t.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),i=this.conversionApi.writer;e.modelRange||(e.modelRange=i.createRange(i.createPositionBefore(t),i.createPositionAfter(n[n.length-1])));const r=this._cursorParents.get(t);e.modelCursor=r?i.createPositionAt(r,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:i}=this.conversionApi;let r=n.findAllowedParent(e,t);if(r){if(r===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(r)&&(r=null)}if(!r)return Object(d.isParagraphable)(e,t,n)?{position:Object(d.wrapInParagraph)(e,i)}:null;const o=this.conversionApi.writer.split(e,r),a=[];for(const t of o.range.getWalker())if("elementEnd"==t.type)a.push(t.item);else{const e=a.pop(),n=t.item;this._registerSplitPair(e,n)}const s=o.range.end.parent;return this._cursorParents.set(t,s),{position:o.position,cursorParent:s}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}Object(h.default)(p,f.default)}]);